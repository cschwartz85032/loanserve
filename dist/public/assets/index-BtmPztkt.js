var Al=Object.defineProperty;var xo=j=>{throw TypeError(j)};var Tl=(j,_,$)=>_ in j?Al(j,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):j[_]=$;var Gr=(j,_,$)=>Tl(j,typeof _!="symbol"?_+"":_,$),Ns=(j,_,$)=>_.has(j)||xo("Cannot "+$);var _t=(j,_,$)=>(Ns(j,_,"read from private field"),$?$.call(j):_.get(j)),nr=(j,_,$)=>_.has(j)?xo("Cannot add the same private member more than once"):_ instanceof WeakSet?_.add(j):_.set(j,$),tr=(j,_,$,_e)=>(Ns(j,_,"write to private field"),_e?_e.call(j,$):_.set(j,$),$),er=(j,_,$)=>(Ns(j,_,"access private method"),$);var jn=(j,_,$,_e)=>({set _(et){tr(j,_,et,$)},get _(){return _t(j,_,_e)}});function _mergeNamespaces(j,_){for(var $=0;$<_.length;$++){const _e=_[$];if(typeof _e!="string"&&!Array.isArray(_e)){for(const et in _e)if(et!=="default"&&!(et in j)){const tt=Object.getOwnPropertyDescriptor(_e,et);tt&&Object.defineProperty(j,et,tt.get?tt:{enumerable:!0,get:()=>_e[et]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))_e(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const rt of tt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&_e(rt)}).observe(document,{childList:!0,subtree:!0});function $(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function _e(et){if(et.ep)return;et.ep=!0;const tt=$(et);fetch(et.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}function getAugmentedNamespace(j){if(j.__esModule)return j;var _=j.default;if(typeof _=="function"){var $=function _e(){return this instanceof _e?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};$.prototype=_.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(j).forEach(function(_e){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1(j){return j===null||typeof j!="object"?null:(j=z$2&&j[z$2]||j["@@iterator"],typeof j=="function"?j:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(j,_,$){this.props=j,this.context=_,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(j,_){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,_,"setState")};E$1.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(j,_,$){this.props=j,this.context=_,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(j,_,$){var _e,et={},tt=null,rt=null;if(_!=null)for(_e in _.ref!==void 0&&(rt=_.ref),_.key!==void 0&&(tt=""+_.key),_)J.call(_,_e)&&!L$1.hasOwnProperty(_e)&&(et[_e]=_[_e]);var nt=arguments.length-2;if(nt===1)et.children=$;else if(1<nt){for(var st=Array(nt),it=0;it<nt;it++)st[it]=arguments[it+2];et.children=st}if(j&&j.defaultProps)for(_e in nt=j.defaultProps,nt)et[_e]===void 0&&(et[_e]=nt[_e]);return{$$typeof:l$3,type:j,key:tt,ref:rt,props:et,_owner:K$1.current}}function N$1(j,_){return{$$typeof:l$3,type:j.type,key:_,ref:j.ref,props:j.props,_owner:j._owner}}function O$1(j){return typeof j=="object"&&j!==null&&j.$$typeof===l$3}function escape$1(j){var _={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function($){return _[$]})}var P$2=/\/+/g;function Q$1(j,_){return typeof j=="object"&&j!==null&&j.key!=null?escape$1(""+j.key):_.toString(36)}function R$1(j,_,$,_e,et){var tt=typeof j;(tt==="undefined"||tt==="boolean")&&(j=null);var rt=!1;if(j===null)rt=!0;else switch(tt){case"string":case"number":rt=!0;break;case"object":switch(j.$$typeof){case l$3:case n$4:rt=!0}}if(rt)return rt=j,et=et(rt),j=_e===""?"."+Q$1(rt,0):_e,I$1(et)?($="",j!=null&&($=j.replace(P$2,"$&/")+"/"),R$1(et,_,$,"",function(it){return it})):et!=null&&(O$1(et)&&(et=N$1(et,$+(!et.key||rt&&rt.key===et.key?"":(""+et.key).replace(P$2,"$&/")+"/")+j)),_.push(et)),1;if(rt=0,_e=_e===""?".":_e+":",I$1(j))for(var nt=0;nt<j.length;nt++){tt=j[nt];var st=_e+Q$1(tt,nt);rt+=R$1(tt,_,$,st,et)}else if(st=A$1(j),typeof st=="function")for(j=st.call(j),nt=0;!(tt=j.next()).done;)tt=tt.value,st=_e+Q$1(tt,nt++),rt+=R$1(tt,_,$,st,et);else if(tt==="object")throw _=String(j),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(j,_,$){if(j==null)return j;var _e=[],et=0;return R$1(j,_e,"","",function(tt){return _.call($,tt,et++)}),_e}function T$1(j){if(j._status===-1){var _=j._result;_=_(),_.then(function($){(j._status===0||j._status===-1)&&(j._status=1,j._result=$)},function($){(j._status===0||j._status===-1)&&(j._status=2,j._result=$)}),j._status===-1&&(j._status=0,j._result=_)}if(j._status===1)return j._result.default;throw j._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(j,_,$){S$1(j,function(){_.apply(this,arguments)},$)},count:function(j){var _=0;return S$1(j,function(){_++}),_},toArray:function(j){return S$1(j,function(_){return _})||[]},only:function(j){if(!O$1(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(j,_,$){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var _e=C$1({},j.props),et=j.key,tt=j.ref,rt=j._owner;if(_!=null){if(_.ref!==void 0&&(tt=_.ref,rt=K$1.current),_.key!==void 0&&(et=""+_.key),j.type&&j.type.defaultProps)var nt=j.type.defaultProps;for(st in _)J.call(_,st)&&!L$1.hasOwnProperty(st)&&(_e[st]=_[st]===void 0&&nt!==void 0?nt[st]:_[st])}var st=arguments.length-2;if(st===1)_e.children=$;else if(1<st){nt=Array(st);for(var it=0;it<st;it++)nt[it]=arguments[it+2];_e.children=nt}return{$$typeof:l$3,type:j.type,key:et,ref:tt,props:_e,_owner:rt}};react_production_min.createContext=function(j){return j={$$typeof:u$2,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:t$3,_context:j},j.Consumer=j};react_production_min.createElement=M$1;react_production_min.createFactory=function(j){var _=M$1.bind(null,j);return _.type=j,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(j){return{$$typeof:v$2,render:j}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(j){return{$$typeof:y$1,_payload:{_status:-1,_result:j},_init:T$1}};react_production_min.memo=function(j,_){return{$$typeof:x$1,type:j,compare:_===void 0?null:_}};react_production_min.startTransition=function(j){var _=V$1.transition;V$1.transition={};try{j()}finally{V$1.transition=_}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(j,_){return U$1.current.useCallback(j,_)};react_production_min.useContext=function(j){return U$1.current.useContext(j)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(j){return U$1.current.useDeferredValue(j)};react_production_min.useEffect=function(j,_){return U$1.current.useEffect(j,_)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(j,_,$){return U$1.current.useImperativeHandle(j,_,$)};react_production_min.useInsertionEffect=function(j,_){return U$1.current.useInsertionEffect(j,_)};react_production_min.useLayoutEffect=function(j,_){return U$1.current.useLayoutEffect(j,_)};react_production_min.useMemo=function(j,_){return U$1.current.useMemo(j,_)};react_production_min.useReducer=function(j,_,$){return U$1.current.useReducer(j,_,$)};react_production_min.useRef=function(j){return U$1.current.useRef(j)};react_production_min.useState=function(j){return U$1.current.useState(j)};react_production_min.useSyncExternalStore=function(j,_,$){return U$1.current.useSyncExternalStore(j,_,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(j,_,$){var _e,et={},tt=null,rt=null;$!==void 0&&(tt=""+$),_.key!==void 0&&(tt=""+_.key),_.ref!==void 0&&(rt=_.ref);for(_e in _)m$3.call(_,_e)&&!p$3.hasOwnProperty(_e)&&(et[_e]=_[_e]);if(j&&j.defaultProps)for(_e in _=j.defaultProps,_)et[_e]===void 0&&(et[_e]=_[_e]);return{$$typeof:k$3,type:j,key:tt,ref:rt,props:et,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(j){function _(Pt,wt){var Dt=Pt.length;Pt.push(wt);e:for(;0<Dt;){var Vt=Dt-1>>>1,It=Pt[Vt];if(0<et(It,wt))Pt[Vt]=wt,Pt[Dt]=It,Dt=Vt;else break e}}function $(Pt){return Pt.length===0?null:Pt[0]}function _e(Pt){if(Pt.length===0)return null;var wt=Pt[0],Dt=Pt.pop();if(Dt!==wt){Pt[0]=Dt;e:for(var Vt=0,It=Pt.length,At=It>>>1;Vt<At;){var $t=2*(Vt+1)-1,Mt=Pt[$t],Ht=$t+1,Bt=Pt[Ht];if(0>et(Mt,Dt))Ht<It&&0>et(Bt,Mt)?(Pt[Vt]=Bt,Pt[Ht]=Dt,Vt=Ht):(Pt[Vt]=Mt,Pt[$t]=Dt,Vt=$t);else if(Ht<It&&0>et(Bt,Dt))Pt[Vt]=Bt,Pt[Ht]=Dt,Vt=Ht;else break e}}return wt}function et(Pt,wt){var Dt=Pt.sortIndex-wt.sortIndex;return Dt!==0?Dt:Pt.id-wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;j.unstable_now=function(){return tt.now()}}else{var rt=Date,nt=rt.now();j.unstable_now=function(){return rt.now()-nt}}var st=[],it=[],at=1,ot=null,ct=3,dt=!1,pt=!1,ut=!1,lt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Pt){for(var wt=$(it);wt!==null;){if(wt.callback===null)_e(it);else if(wt.startTime<=Pt)_e(it),wt.sortIndex=wt.expirationTime,_(st,wt);else break;wt=$(it)}}function vt(Pt){if(ut=!1,yt(Pt),!pt)if($(st)!==null)pt=!0,St(gt);else{var wt=$(it);wt!==null&&Ot(vt,wt.startTime-Pt)}}function gt(Pt,wt){pt=!1,ut&&(ut=!1,ft(Et),Et=-1),dt=!0;var Dt=ct;try{for(yt(wt),ot=$(st);ot!==null&&(!(ot.expirationTime>wt)||Pt&&!jt());){var Vt=ot.callback;if(typeof Vt=="function"){ot.callback=null,ct=ot.priorityLevel;var It=Vt(ot.expirationTime<=wt);wt=j.unstable_now(),typeof It=="function"?ot.callback=It:ot===$(st)&&_e(st),yt(wt)}else _e(st);ot=$(st)}if(ot!==null)var At=!0;else{var $t=$(it);$t!==null&&Ot(vt,$t.startTime-wt),At=!1}return At}finally{ot=null,ct=Dt,dt=!1}}var bt=!1,mt=null,Et=-1,Rt=5,Tt=-1;function jt(){return!(j.unstable_now()-Tt<Rt)}function xt(){if(mt!==null){var Pt=j.unstable_now();Tt=Pt;var wt=!0;try{wt=mt(!0,Pt)}finally{wt?Ct():(bt=!1,mt=null)}}else bt=!1}var Ct;if(typeof ht=="function")Ct=function(){ht(xt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Nt=kt.port2;kt.port1.onmessage=xt,Ct=function(){Nt.postMessage(null)}}else Ct=function(){lt(xt,0)};function St(Pt){mt=Pt,bt||(bt=!0,Ct())}function Ot(Pt,wt){Et=lt(function(){Pt(j.unstable_now())},wt)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function(Pt){Pt.callback=null},j.unstable_continueExecution=function(){pt||dt||(pt=!0,St(gt))},j.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<Pt?Math.floor(1e3/Pt):5},j.unstable_getCurrentPriorityLevel=function(){return ct},j.unstable_getFirstCallbackNode=function(){return $(st)},j.unstable_next=function(Pt){switch(ct){case 1:case 2:case 3:var wt=3;break;default:wt=ct}var Dt=ct;ct=wt;try{return Pt()}finally{ct=Dt}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function(Pt,wt){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Dt=ct;ct=Pt;try{return wt()}finally{ct=Dt}},j.unstable_scheduleCallback=function(Pt,wt,Dt){var Vt=j.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?Vt+Dt:Vt):Dt=Vt,Pt){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=Dt+It,Pt={id:at++,callback:wt,priorityLevel:Pt,startTime:Dt,expirationTime:It,sortIndex:-1},Dt>Vt?(Pt.sortIndex=Dt,_(it,Pt),$(st)===null&&Pt===$(it)&&(ut?(ft(Et),Et=-1):ut=!0,Ot(vt,Dt-Vt))):(Pt.sortIndex=It,_(st,Pt),pt||dt||(pt=!0,St(gt))),Pt},j.unstable_shouldYield=jt,j.unstable_wrapCallback=function(Pt){var wt=ct;return function(){var Dt=ct;ct=wt;try{return Pt.apply(this,arguments)}finally{ct=Dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(j){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+j,$=1;$<arguments.length;$++)_+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+j+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(j,_){ha(j,_),ha(j+"Capture",_)}function ha(j,_){for(ea[j]=_,j=0;j<_.length;j++)da.add(_[j])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(j){return ja.call(ma,j)?!0:ja.call(la,j)?!1:ka$1.test(j)?ma[j]=!0:(la[j]=!0,!1)}function pa(j,_,$,_e){if($!==null&&$.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return _e?!1:$!==null?!$.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function qa(j,_,$,_e){if(_===null||typeof _>"u"||pa(j,_,$,_e))return!0;if(_e)return!1;if($!==null)switch($.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$1(j,_,$,_e,et,tt,rt){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=_e,this.attributeNamespace=et,this.mustUseProperty=$,this.propertyName=j,this.type=_,this.sanitizeURL=tt,this.removeEmptyString=rt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){z$1[j]=new v$1(j,0,!1,j,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var _=j[0];z$1[_]=new v$1(_,1,!1,j[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(j){z$1[j]=new v$1(j,2,!1,j.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){z$1[j]=new v$1(j,2,!1,j,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){z$1[j]=new v$1(j,3,!1,j.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(j){z$1[j]=new v$1(j,3,!0,j,null,!1,!1)});["capture","download"].forEach(function(j){z$1[j]=new v$1(j,4,!1,j,null,!1,!1)});["cols","rows","size","span"].forEach(function(j){z$1[j]=new v$1(j,6,!1,j,null,!1,!1)});["rowSpan","start"].forEach(function(j){z$1[j]=new v$1(j,5,!1,j.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var _=j.replace(ra,sa);z$1[_]=new v$1(_,1,!1,j,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var _=j.replace(ra,sa);z$1[_]=new v$1(_,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(j){var _=j.replace(ra,sa);z$1[_]=new v$1(_,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(j){z$1[j]=new v$1(j,1,!1,j.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(j){z$1[j]=new v$1(j,1,!1,j.toLowerCase(),null,!0,!0)});function ta(j,_,$,_e){var et=z$1.hasOwnProperty(_)?z$1[_]:null;(et!==null?et.type!==0:_e||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa(_,$,et,_e)&&($=null),_e||et===null?oa(_)&&($===null?j.removeAttribute(_):j.setAttribute(_,""+$)):et.mustUseProperty?j[et.propertyName]=$===null?et.type===3?!1:"":$:(_=et.attributeName,_e=et.attributeNamespace,$===null?j.removeAttribute(_):(et=et.type,$=et===3||et===4&&$===!0?"":""+$,_e?j.setAttributeNS(_e,_,$):j.setAttribute(_,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(j){return j===null||typeof j!="object"?null:(j=Ja&&j[Ja]||j["@@iterator"],typeof j=="function"?j:null)}var A=Object.assign,La;function Ma(j){if(La===void 0)try{throw Error()}catch($){var _=$.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+j}var Na=!1;function Oa(j,_){if(!j||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(it){var _e=it}Reflect.construct(j,[],_)}else{try{_.call()}catch(it){_e=it}j.call(_.prototype)}else{try{throw Error()}catch(it){_e=it}j()}}catch(it){if(it&&_e&&typeof it.stack=="string"){for(var et=it.stack.split(`
`),tt=_e.stack.split(`
`),rt=et.length-1,nt=tt.length-1;1<=rt&&0<=nt&&et[rt]!==tt[nt];)nt--;for(;1<=rt&&0<=nt;rt--,nt--)if(et[rt]!==tt[nt]){if(rt!==1||nt!==1)do if(rt--,nt--,0>nt||et[rt]!==tt[nt]){var st=`
`+et[rt].replace(" at new "," at ");return j.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",j.displayName)),st}while(1<=rt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(j=j?j.displayName||j.name:"")?Ma(j):""}function Pa(j){switch(j.tag){case 5:return Ma(j.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return j=Oa(j.type,!1),j;case 11:return j=Oa(j.type.render,!1),j;case 1:return j=Oa(j.type,!0),j;default:return""}}function Qa(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case Ca:return(j.displayName||"Context")+".Consumer";case Ba:return(j._context.displayName||"Context")+".Provider";case Da:var _=j.render;return j=j.displayName,j||(j=_.displayName||_.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case Ga:return _=j.displayName||null,_!==null?_:Qa(j.type)||"Memo";case Ha:_=j._payload,j=j._init;try{return Qa(j(_))}catch{}}return null}function Ra(j){var _=j.type;switch(j.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=_.render,j=j.displayName||j.name||"",_.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_);case 8:return _===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function Ta(j){var _=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua(j){var _=Ta(j)?"checked":"value",$=Object.getOwnPropertyDescriptor(j.constructor.prototype,_),_e=""+j[_];if(!j.hasOwnProperty(_)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var et=$.get,tt=$.set;return Object.defineProperty(j,_,{configurable:!0,get:function(){return et.call(this)},set:function(rt){_e=""+rt,tt.call(this,rt)}}),Object.defineProperty(j,_,{enumerable:$.enumerable}),{getValue:function(){return _e},setValue:function(rt){_e=""+rt},stopTracking:function(){j._valueTracker=null,delete j[_]}}}}function Va(j){j._valueTracker||(j._valueTracker=Ua(j))}function Wa(j){if(!j)return!1;var _=j._valueTracker;if(!_)return!0;var $=_.getValue(),_e="";return j&&(_e=Ta(j)?j.checked?"true":"false":j.value),j=_e,j!==$?(_.setValue(j),!0):!1}function Xa(j){if(j=j||(typeof document<"u"?document:void 0),typeof j>"u")return null;try{return j.activeElement||j.body}catch{return j.body}}function Ya(j,_){var $=_.checked;return A({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??j._wrapperState.initialChecked})}function Za(j,_){var $=_.defaultValue==null?"":_.defaultValue,_e=_.checked!=null?_.checked:_.defaultChecked;$=Sa(_.value!=null?_.value:$),j._wrapperState={initialChecked:_e,initialValue:$,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(j,_){_=_.checked,_!=null&&ta(j,"checked",_,!1)}function bb(j,_){ab(j,_);var $=Sa(_.value),_e=_.type;if($!=null)_e==="number"?($===0&&j.value===""||j.value!=$)&&(j.value=""+$):j.value!==""+$&&(j.value=""+$);else if(_e==="submit"||_e==="reset"){j.removeAttribute("value");return}_.hasOwnProperty("value")?cb(j,_.type,$):_.hasOwnProperty("defaultValue")&&cb(j,_.type,Sa(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(j.defaultChecked=!!_.defaultChecked)}function db(j,_,$){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var _e=_.type;if(!(_e!=="submit"&&_e!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+j._wrapperState.initialValue,$||_===j.value||(j.value=_),j.defaultValue=_}$=j.name,$!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,$!==""&&(j.name=$)}function cb(j,_,$){(_!=="number"||Xa(j.ownerDocument)!==j)&&($==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+$&&(j.defaultValue=""+$))}var eb=Array.isArray;function fb(j,_,$,_e){if(j=j.options,_){_={};for(var et=0;et<$.length;et++)_["$"+$[et]]=!0;for($=0;$<j.length;$++)et=_.hasOwnProperty("$"+j[$].value),j[$].selected!==et&&(j[$].selected=et),et&&_e&&(j[$].defaultSelected=!0)}else{for($=""+Sa($),_=null,et=0;et<j.length;et++){if(j[et].value===$){j[et].selected=!0,_e&&(j[et].defaultSelected=!0);return}_!==null||j[et].disabled||(_=j[et])}_!==null&&(_.selected=!0)}}function gb(j,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},_,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function hb(j,_){var $=_.value;if($==null){if($=_.children,_=_.defaultValue,$!=null){if(_!=null)throw Error(p$2(92));if(eb($)){if(1<$.length)throw Error(p$2(93));$=$[0]}_=$}_==null&&(_=""),$=_}j._wrapperState={initialValue:Sa($)}}function ib(j,_){var $=Sa(_.value),_e=Sa(_.defaultValue);$!=null&&($=""+$,$!==j.value&&(j.value=$),_.defaultValue==null&&j.defaultValue!==$&&(j.defaultValue=$)),_e!=null&&(j.defaultValue=""+_e)}function jb(j){var _=j.textContent;_===j._wrapperState.initialValue&&_!==""&&_!==null&&(j.value=_)}function kb(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(j,_){return j==null||j==="http://www.w3.org/1999/xhtml"?kb(_):j==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var mb,nb=function(j){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,$,_e,et){MSApp.execUnsafeLocalFunction(function(){return j(_,$,_e,et)})}:j}(function(j,_){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;_.firstChild;)j.appendChild(_.firstChild)}});function ob(j,_){if(_){var $=j.firstChild;if($&&$===j.lastChild&&$.nodeType===3){$.nodeValue=_;return}}j.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(j){qb.forEach(function(_){_=_+j.charAt(0).toUpperCase()+j.substring(1),pb[_]=pb[j]})});function rb(j,_,$){return _==null||typeof _=="boolean"||_===""?"":$||typeof _!="number"||_===0||pb.hasOwnProperty(j)&&pb[j]?(""+_).trim():_+"px"}function sb(j,_){j=j.style;for(var $ in _)if(_.hasOwnProperty($)){var _e=$.indexOf("--")===0,et=rb($,_[$],_e);$==="float"&&($="cssFloat"),_e?j.setProperty($,et):j[$]=et}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(j,_){if(_){if(tb[j]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$2(137,j));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$2(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$2(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$2(62))}}function vb(j,_){if(j.indexOf("-")===-1)return typeof _.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var yb=null,zb=null,Ab=null;function Bb(j){if(j=Cb(j)){if(typeof yb!="function")throw Error(p$2(280));var _=j.stateNode;_&&(_=Db(_),yb(j.stateNode,j.type,_))}}function Eb(j){zb?Ab?Ab.push(j):Ab=[j]:zb=j}function Fb(){if(zb){var j=zb,_=Ab;if(Ab=zb=null,Bb(j),_)for(j=0;j<_.length;j++)Bb(_[j])}}function Gb(j,_){return j(_)}function Hb(){}var Ib=!1;function Jb(j,_,$){if(Ib)return j(_,$);Ib=!0;try{return Gb(j,_,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(j,_){var $=j.stateNode;if($===null)return null;var _e=Db($);if(_e===null)return null;$=_e[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(j=j.type,_e=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!_e;break e;default:j=!1}if(j)return null;if($&&typeof $!="function")throw Error(p$2(231,_,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(j,_,$,_e,et,tt,rt,nt,st){var it=Array.prototype.slice.call(arguments,3);try{_.apply($,it)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(j){Ob=!0,Pb=j}};function Tb(j,_,$,_e,et,tt,rt,nt,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(j,_,$,_e,et,tt,rt,nt,st){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=it)}}function Vb(j){var _=j,$=j;if(j.alternate)for(;_.return;)_=_.return;else{j=_;do _=j,_.flags&4098&&($=_.return),j=_.return;while(j)}return _.tag===3?$:null}function Wb(j){if(j.tag===13){var _=j.memoizedState;if(_===null&&(j=j.alternate,j!==null&&(_=j.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(j){if(Vb(j)!==j)throw Error(p$2(188))}function Yb(j){var _=j.alternate;if(!_){if(_=Vb(j),_===null)throw Error(p$2(188));return _!==j?null:j}for(var $=j,_e=_;;){var et=$.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(_e=et.return,_e!==null){$=_e;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===$)return Xb(et),j;if(tt===_e)return Xb(et),_;tt=tt.sibling}throw Error(p$2(188))}if($.return!==_e.return)$=et,_e=tt;else{for(var rt=!1,nt=et.child;nt;){if(nt===$){rt=!0,$=et,_e=tt;break}if(nt===_e){rt=!0,_e=et,$=tt;break}nt=nt.sibling}if(!rt){for(nt=tt.child;nt;){if(nt===$){rt=!0,$=tt,_e=et;break}if(nt===_e){rt=!0,_e=tt,$=et;break}nt=nt.sibling}if(!rt)throw Error(p$2(189))}}if($.alternate!==_e)throw Error(p$2(190))}if($.tag!==3)throw Error(p$2(188));return $.stateNode.current===$?j:_}function Zb(j){return j=Yb(j),j!==null?$b(j):null}function $b(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var _=$b(j);if(_!==null)return _;j=j.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(j){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,j,void 0,(j.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(j){return j>>>=0,j===0?32:31-(pc(j)/qc|0)|0}var rc=64,sc=4194304;function tc(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function uc(j,_){var $=j.pendingLanes;if($===0)return 0;var _e=0,et=j.suspendedLanes,tt=j.pingedLanes,rt=$&268435455;if(rt!==0){var nt=rt&~et;nt!==0?_e=tc(nt):(tt&=rt,tt!==0&&(_e=tc(tt)))}else rt=$&~et,rt!==0?_e=tc(rt):tt!==0&&(_e=tc(tt));if(_e===0)return 0;if(_!==0&&_!==_e&&!(_&et)&&(et=_e&-_e,tt=_&-_,et>=tt||et===16&&(tt&4194240)!==0))return _;if(_e&4&&(_e|=$&16),_=j.entangledLanes,_!==0)for(j=j.entanglements,_&=_e;0<_;)$=31-oc(_),et=1<<$,_e|=j[$],_&=~et;return _e}function vc(j,_){switch(j){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(j,_){for(var $=j.suspendedLanes,_e=j.pingedLanes,et=j.expirationTimes,tt=j.pendingLanes;0<tt;){var rt=31-oc(tt),nt=1<<rt,st=et[rt];st===-1?(!(nt&$)||nt&_e)&&(et[rt]=vc(nt,_)):st<=_&&(j.expiredLanes|=nt),tt&=~nt}}function xc(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function yc(){var j=rc;return rc<<=1,!(rc&4194240)&&(rc=64),j}function zc(j){for(var _=[],$=0;31>$;$++)_.push(j);return _}function Ac(j,_,$){j.pendingLanes|=_,_!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,_=31-oc(_),j[_]=$}function Bc(j,_){var $=j.pendingLanes&~_;j.pendingLanes=_,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=_,j.mutableReadLanes&=_,j.entangledLanes&=_,_=j.entanglements;var _e=j.eventTimes;for(j=j.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;_[et]=0,_e[et]=-1,j[et]=-1,$&=~tt}}function Cc(j,_){var $=j.entangledLanes|=_;for(j=j.entanglements;$;){var _e=31-oc($),et=1<<_e;et&_|j[_e]&_&&(j[_e]|=_),$&=~et}}var C=0;function Dc(j){return j&=-j,1<j?4<j?j&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(j,_){switch(j){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_.pointerId)}}function Tc(j,_,$,_e,et,tt){return j===null||j.nativeEvent!==tt?(j={blockedOn:_,domEventName:$,eventSystemFlags:_e,nativeEvent:tt,targetContainers:[et]},_!==null&&(_=Cb(_),_!==null&&Fc(_)),j):(j.eventSystemFlags|=_e,_=j.targetContainers,et!==null&&_.indexOf(et)===-1&&_.push(et),j)}function Uc(j,_,$,_e,et){switch(_){case"focusin":return Lc=Tc(Lc,j,_,$,_e,et),!0;case"dragenter":return Mc=Tc(Mc,j,_,$,_e,et),!0;case"mouseover":return Nc=Tc(Nc,j,_,$,_e,et),!0;case"pointerover":var tt=et.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,j,_,$,_e,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,j,_,$,_e,et)),!0}return!1}function Vc(j){var _=Wc(j.target);if(_!==null){var $=Vb(_);if($!==null){if(_=$.tag,_===13){if(_=Wb($),_!==null){j.blockedOn=_,Ic(j.priority,function(){Gc($)});return}}else if(_===3&&$.stateNode.current.memoizedState.isDehydrated){j.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}j.blockedOn=null}function Xc(j){if(j.blockedOn!==null)return!1;for(var _=j.targetContainers;0<_.length;){var $=Yc(j.domEventName,j.eventSystemFlags,_[0],j.nativeEvent);if($===null){$=j.nativeEvent;var _e=new $.constructor($.type,$);wb=_e,$.target.dispatchEvent(_e),wb=null}else return _=Cb($),_!==null&&Fc(_),j.blockedOn=$,!1;_.shift()}return!0}function Zc(j,_,$){Xc(j)&&$.delete(_)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(j,_){j.blockedOn===_&&(j.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(j){function _(et){return ad(et,j)}if(0<Kc.length){ad(Kc[0],j);for(var $=1;$<Kc.length;$++){var _e=Kc[$];_e.blockedOn===j&&(_e.blockedOn=null)}}for(Lc!==null&&ad(Lc,j),Mc!==null&&ad(Mc,j),Nc!==null&&ad(Nc,j),Oc.forEach(_),Pc.forEach(_),$=0;$<Qc.length;$++)_e=Qc[$],_e.blockedOn===j&&(_e.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(j,_,$,_e){var et=C,tt=cd.transition;cd.transition=null;try{C=1,fd(j,_,$,_e)}finally{C=et,cd.transition=tt}}function gd(j,_,$,_e){var et=C,tt=cd.transition;cd.transition=null;try{C=4,fd(j,_,$,_e)}finally{C=et,cd.transition=tt}}function fd(j,_,$,_e){if(dd){var et=Yc(j,_,$,_e);if(et===null)hd(j,_,_e,id$1,$),Sc(j,_e);else if(Uc(et,j,_,$,_e))_e.stopPropagation();else if(Sc(j,_e),_&4&&-1<Rc.indexOf(j)){for(;et!==null;){var tt=Cb(et);if(tt!==null&&Ec(tt),tt=Yc(j,_,$,_e),tt===null&&hd(j,_,_e,id$1,$),tt===et)break;et=tt}et!==null&&_e.stopPropagation()}else hd(j,_,_e,null,$)}}var id$1=null;function Yc(j,_,$,_e){if(id$1=null,j=xb(_e),j=Wc(j),j!==null)if(_=Vb(j),_===null)j=null;else if($=_.tag,$===13){if(j=Wb(_),j!==null)return j;j=null}else if($===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;j=null}else _!==j&&(j=null);return id$1=j,null}function jd(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var j,_=ld,$=_.length,_e,et="value"in kd?kd.value:kd.textContent,tt=et.length;for(j=0;j<$&&_[j]===et[j];j++);var rt=$-j;for(_e=1;_e<=rt&&_[$-_e]===et[tt-_e];_e++);return md=et.slice(j,1<_e?1-_e:void 0)}function od(j){var _=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&_===13&&(j=13)):j=_,j===10&&(j=13),32<=j||j===13?j:0}function pd(){return!0}function qd(){return!1}function rd(j){function _($,_e,et,tt,rt){this._reactName=$,this._targetInst=et,this.type=_e,this.nativeEvent=tt,this.target=rt,this.currentTarget=null;for(var nt in j)j.hasOwnProperty(nt)&&($=j[nt],this[nt]=$?$(tt):tt[nt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==yd&&(yd&&j.type==="mousemove"?(wd=j.screenX-yd.screenX,xd=j.screenY-yd.screenY):xd=wd=0,yd=j),wd)},movementY:function(j){return"movementY"in j?j.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(j){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(j):(j=Od[j])?!!_[j]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(j){if(j.key){var _=Md[j.key]||j.key;if(_!=="Unidentified")return _}return j.type==="keypress"?(j=od(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Nd[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(j){return j.type==="keypress"?od(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?od(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(j,_){switch(j){case"keyup":return $d.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var ie=!1;function je(j,_){switch(j){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee);case"textInput":return j=_.data,j===ee&&fe?null:j;default:return null}}function ke(j,_){if(ie)return j==="compositionend"||!ae&&ge(j,_)?(j=nd(),md=ld=kd=null,ie=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(j){var _=j&&j.nodeName&&j.nodeName.toLowerCase();return _==="input"?!!le[j.type]:_==="textarea"}function ne(j,_,$,_e){Eb(_e),_=oe(_,"onChange"),0<_.length&&($=new td("onChange","change",null,$,_e),j.push({event:$,listeners:_}))}var pe=null,qe=null;function re$1(j){se(j,0)}function te(j){var _=ue(j);if(Wa(_))return j}function ve(j,_){if(j==="change")return _}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(j){if(j.propertyName==="value"&&te(qe)){var _=[];ne(_,qe,j,xb(j)),Jb(re$1,_)}}function Ce(j,_,$){j==="focusin"?(Ae(),pe=_,qe=$,pe.attachEvent("onpropertychange",Be)):j==="focusout"&&Ae()}function De(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return te(qe)}function Ee(j,_){if(j==="click")return te(_)}function Fe(j,_){if(j==="input"||j==="change")return te(_)}function Ge(j,_){return j===_&&(j!==0||1/j===1/_)||j!==j&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(j,_){if(He(j,_))return!0;if(typeof j!="object"||j===null||typeof _!="object"||_===null)return!1;var $=Object.keys(j),_e=Object.keys(_);if($.length!==_e.length)return!1;for(_e=0;_e<$.length;_e++){var et=$[_e];if(!ja.call(_,et)||!He(j[et],_[et]))return!1}return!0}function Je(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function Ke(j,_){var $=Je(j);j=0;for(var _e;$;){if($.nodeType===3){if(_e=j+$.textContent.length,j<=_&&_e>=_)return{node:$,offset:_-j};j=_e}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(j,_){return j&&_?j===_?!0:j&&j.nodeType===3?!1:_&&_.nodeType===3?Le(j,_.parentNode):"contains"in j?j.contains(_):j.compareDocumentPosition?!!(j.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var j=window,_=Xa();_ instanceof j.HTMLIFrameElement;){try{var $=typeof _.contentWindow.location.href=="string"}catch{$=!1}if($)j=_.contentWindow;else break;_=Xa(j.document)}return _}function Ne(j){var _=j&&j.nodeName&&j.nodeName.toLowerCase();return _&&(_==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||_==="textarea"||j.contentEditable==="true")}function Oe(j){var _=Me(),$=j.focusedElem,_e=j.selectionRange;if(_!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(_e!==null&&Ne($)){if(_=_e.start,j=_e.end,j===void 0&&(j=_),"selectionStart"in $)$.selectionStart=_,$.selectionEnd=Math.min(j,$.value.length);else if(j=(_=$.ownerDocument||document)&&_.defaultView||window,j.getSelection){j=j.getSelection();var et=$.textContent.length,tt=Math.min(_e.start,et);_e=_e.end===void 0?tt:Math.min(_e.end,et),!j.extend&&tt>_e&&(et=_e,_e=tt,tt=et),et=Ke($,tt);var rt=Ke($,_e);et&&rt&&(j.rangeCount!==1||j.anchorNode!==et.node||j.anchorOffset!==et.offset||j.focusNode!==rt.node||j.focusOffset!==rt.offset)&&(_=_.createRange(),_.setStart(et.node,et.offset),j.removeAllRanges(),tt>_e?(j.addRange(_),j.extend(rt.node,rt.offset)):(_.setEnd(rt.node,rt.offset),j.addRange(_)))}}for(_=[],j=$;j=j.parentNode;)j.nodeType===1&&_.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<_.length;$++)j=_[$],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(j,_,$){var _e=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(_e)||(_e=Qe,"selectionStart"in _e&&Ne(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Se&&Ie(Se,_e)||(Se=_e,_e=oe(Re,"onSelect"),0<_e.length&&(_=new td("onSelect","select",null,_,$),j.push({event:_,listeners:_e}),_.target=Qe)))}function Ve(j,_){var $={};return $[j.toLowerCase()]=_.toLowerCase(),$["Webkit"+j]="webkit"+_,$["Moz"+j]="moz"+_,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(j){if(Xe[j])return Xe[j];if(!We[j])return j;var _=We[j],$;for($ in _)if(_.hasOwnProperty($)&&$ in Ye)return Xe[j]=_[$];return j}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(j,_){df.set(j,_),fa(_,[j])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(j,_,$){var _e=j.type||"unknown-event";j.currentTarget=$,Ub(_e,_,void 0,j),j.currentTarget=null}function se(j,_){_=(_&4)!==0;for(var $=0;$<j.length;$++){var _e=j[$],et=_e.event;_e=_e.listeners;e:{var tt=void 0;if(_)for(var rt=_e.length-1;0<=rt;rt--){var nt=_e[rt],st=nt.instance,it=nt.currentTarget;if(nt=nt.listener,st!==tt&&et.isPropagationStopped())break e;nf(et,nt,it),tt=st}else for(rt=0;rt<_e.length;rt++){if(nt=_e[rt],st=nt.instance,it=nt.currentTarget,nt=nt.listener,st!==tt&&et.isPropagationStopped())break e;nf(et,nt,it),tt=st}}}if(Qb)throw j=Rb,Qb=!1,Rb=null,j}function D(j,_){var $=_[of];$===void 0&&($=_[of]=new Set);var _e=j+"__bubble";$.has(_e)||(pf(_,j,2,!1),$.add(_e))}function qf(j,_,$){var _e=0;_&&(_e|=4),pf($,j,_e,_)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(j){if(!j[rf]){j[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,j),qf($,!0,j))});var _=j.nodeType===9?j:j.ownerDocument;_===null||_[rf]||(_[rf]=!0,qf("selectionchange",!1,_))}}function pf(j,_,$,_e){switch(jd(_)){case 1:var et=ed;break;case 4:et=gd;break;default:et=fd}$=et.bind(null,_,$,j),et=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(et=!0),_e?et!==void 0?j.addEventListener(_,$,{capture:!0,passive:et}):j.addEventListener(_,$,!0):et!==void 0?j.addEventListener(_,$,{passive:et}):j.addEventListener(_,$,!1)}function hd(j,_,$,_e,et){var tt=_e;if(!(_&1)&&!(_&2)&&_e!==null)e:for(;;){if(_e===null)return;var rt=_e.tag;if(rt===3||rt===4){var nt=_e.stateNode.containerInfo;if(nt===et||nt.nodeType===8&&nt.parentNode===et)break;if(rt===4)for(rt=_e.return;rt!==null;){var st=rt.tag;if((st===3||st===4)&&(st=rt.stateNode.containerInfo,st===et||st.nodeType===8&&st.parentNode===et))return;rt=rt.return}for(;nt!==null;){if(rt=Wc(nt),rt===null)return;if(st=rt.tag,st===5||st===6){_e=tt=rt;continue e}nt=nt.parentNode}}_e=_e.return}Jb(function(){var it=tt,at=xb($),ot=[];e:{var ct=df.get(j);if(ct!==void 0){var dt=td,pt=j;switch(j){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":pt="focus",dt=Fd;break;case"focusout":pt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var ut=(_&4)!==0,lt=!ut&&j==="scroll",ft=ut?ct!==null?ct+"Capture":null:ct;ut=[];for(var ht=it,yt;ht!==null;){yt=ht;var vt=yt.stateNode;if(yt.tag===5&&vt!==null&&(yt=vt,ft!==null&&(vt=Kb(ht,ft),vt!=null&&ut.push(tf(ht,vt,yt)))),lt)break;ht=ht.return}0<ut.length&&(ct=new dt(ct,pt,null,$,at),ot.push({event:ct,listeners:ut}))}}if(!(_&7)){e:{if(ct=j==="mouseover"||j==="pointerover",dt=j==="mouseout"||j==="pointerout",ct&&$!==wb&&(pt=$.relatedTarget||$.fromElement)&&(Wc(pt)||pt[uf]))break e;if((dt||ct)&&(ct=at.window===at?at:(ct=at.ownerDocument)?ct.defaultView||ct.parentWindow:window,dt?(pt=$.relatedTarget||$.toElement,dt=it,pt=pt?Wc(pt):null,pt!==null&&(lt=Vb(pt),pt!==lt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(dt=null,pt=it),dt!==pt)){if(ut=Bd,vt="onMouseLeave",ft="onMouseEnter",ht="mouse",(j==="pointerout"||j==="pointerover")&&(ut=Td,vt="onPointerLeave",ft="onPointerEnter",ht="pointer"),lt=dt==null?ct:ue(dt),yt=pt==null?ct:ue(pt),ct=new ut(vt,ht+"leave",dt,$,at),ct.target=lt,ct.relatedTarget=yt,vt=null,Wc(at)===it&&(ut=new ut(ft,ht+"enter",pt,$,at),ut.target=yt,ut.relatedTarget=lt,vt=ut),lt=vt,dt&&pt)t:{for(ut=dt,ft=pt,ht=0,yt=ut;yt;yt=vf(yt))ht++;for(yt=0,vt=ft;vt;vt=vf(vt))yt++;for(;0<ht-yt;)ut=vf(ut),ht--;for(;0<yt-ht;)ft=vf(ft),yt--;for(;ht--;){if(ut===ft||ft!==null&&ut===ft.alternate)break t;ut=vf(ut),ft=vf(ft)}ut=null}else ut=null;dt!==null&&wf(ot,ct,dt,ut,!1),pt!==null&&lt!==null&&wf(ot,lt,pt,ut,!0)}}e:{if(ct=it?ue(it):window,dt=ct.nodeName&&ct.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ct.type==="file")var gt=ve;else if(me(ct))if(we)gt=Fe;else{gt=De;var bt=Ce}else(dt=ct.nodeName)&&dt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(j,it))){ne(ot,gt,$,at);break e}bt&&bt(j,ct,it),j==="focusout"&&(bt=ct._wrapperState)&&bt.controlled&&ct.type==="number"&&cb(ct,"number",ct.value)}switch(bt=it?ue(it):window,j){case"focusin":(me(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,$,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,$,at)}var mt;if(ae)e:{switch(j){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ie?ge(j,$)&&(Et="onCompositionEnd"):j==="keydown"&&$.keyCode===229&&(Et="onCompositionStart");Et&&(de&&$.locale!=="ko"&&(ie||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ie&&(mt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(it,Et),0<bt.length&&(Et=new Ld(Et,j,null,$,at),ot.push({event:Et,listeners:bt}),mt?Et.data=mt:(mt=he($),mt!==null&&(Et.data=mt)))),(mt=ce?je(j,$):ke(j,$))&&(it=oe(it,"onBeforeInput"),0<it.length&&(at=new Ld("onBeforeInput","beforeinput",null,$,at),ot.push({event:at,listeners:it}),at.data=mt))}se(ot,_)})}function tf(j,_,$){return{instance:j,listener:_,currentTarget:$}}function oe(j,_){for(var $=_+"Capture",_e=[];j!==null;){var et=j,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb(j,$),tt!=null&&_e.unshift(tf(j,tt,et)),tt=Kb(j,_),tt!=null&&_e.push(tf(j,tt,et))),j=j.return}return _e}function vf(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function wf(j,_,$,_e,et){for(var tt=_._reactName,rt=[];$!==null&&$!==_e;){var nt=$,st=nt.alternate,it=nt.stateNode;if(st!==null&&st===_e)break;nt.tag===5&&it!==null&&(nt=it,et?(st=Kb($,tt),st!=null&&rt.unshift(tf($,st,nt))):et||(st=Kb($,tt),st!=null&&rt.push(tf($,st,nt)))),$=$.return}rt.length!==0&&j.push({event:_,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(j){return(typeof j=="string"?j:""+j).replace(xf,`
`).replace(yf,"")}function Af(j,_,$){if(_=zf(_),zf(j)!==_&&$)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(j,_){return j==="textarea"||j==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(j){return Hf.resolve(null).then(j).catch(If)}:Ff;function If(j){setTimeout(function(){throw j})}function Kf(j,_){var $=_,_e=0;do{var et=$.nextSibling;if(j.removeChild($),et&&et.nodeType===8)if($=et.data,$==="/$"){if(_e===0){j.removeChild(et),bd(_);return}_e--}else $!=="$"&&$!=="$?"&&$!=="$!"||_e++;$=et}while($);bd(_)}function Lf(j){for(;j!=null;j=j.nextSibling){var _=j.nodeType;if(_===1||_===3)break;if(_===8){if(_=j.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return j}function Mf(j){j=j.previousSibling;for(var _=0;j;){if(j.nodeType===8){var $=j.data;if($==="$"||$==="$!"||$==="$?"){if(_===0)return j;_--}else $==="/$"&&_++}j=j.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(j){var _=j[Of];if(_)return _;for(var $=j.parentNode;$;){if(_=$[uf]||$[Of]){if($=_.alternate,_.child!==null||$!==null&&$.child!==null)for(j=Mf(j);j!==null;){if($=j[Of])return $;j=Mf(j)}return _}j=$,$=j.parentNode}return null}function Cb(j){return j=j[Of]||j[uf],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function ue(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(p$2(33))}function Db(j){return j[Pf]||null}var Sf=[],Tf=-1;function Uf(j){return{current:j}}function E(j){0>Tf||(j.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(j,_){Tf++,Sf[Tf]=j.current,j.current=_}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(j,_){var $=j.type.contextTypes;if(!$)return Vf;var _e=j.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===_)return _e.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in $)et[tt]=_[tt];return _e&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=_,j.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(j){return j=j.childContextTypes,j!=null}function $f(){E(Wf),E(H)}function ag(j,_,$){if(H.current!==Vf)throw Error(p$2(168));G(H,_),G(Wf,$)}function bg(j,_,$){var _e=j.stateNode;if(_=_.childContextTypes,typeof _e.getChildContext!="function")return $;_e=_e.getChildContext();for(var et in _e)if(!(et in _))throw Error(p$2(108,Ra(j)||"Unknown",et));return A({},$,_e)}function cg(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,j),G(Wf,Wf.current),!0}function dg(j,_,$){var _e=j.stateNode;if(!_e)throw Error(p$2(169));$?(j=bg(j,_,Xf),_e.__reactInternalMemoizedMergedChildContext=j,E(Wf),E(H),G(H,j)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(j){eg===null?eg=[j]:eg.push(j)}function ig(j){fg=!0,hg(j)}function jg(){if(!gg&&eg!==null){gg=!0;var j=0,_=C;try{var $=eg;for(C=1;j<$.length;j++){var _e=$[j];do _e=_e(!0);while(_e!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(j+1)),ac(fc,jg),et}finally{C=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(j,_){kg[lg++]=ng,kg[lg++]=mg,mg=j,ng=_}function ug(j,_,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=j;var _e=rg;j=sg;var et=32-oc(_e)-1;_e&=~(1<<et),$+=1;var tt=32-oc(_)+et;if(30<tt){var rt=et-et%5;tt=(_e&(1<<rt)-1).toString(32),_e>>=rt,et-=rt,rg=1<<32-oc(_)+et|$<<et|_e,sg=tt+j}else rg=1<<tt|$<<et|_e,sg=j}function vg(j){j.return!==null&&(tg(j,1),ug(j,1,0))}function wg(j){for(;j===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;j===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(j,_){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=_,$.return=j,_=j.deletions,_===null?(j.deletions=[$],j.flags|=16):_.push($)}function Cg(j,_){switch(j.tag){case 5:var $=j.type;return _=_.nodeType!==1||$.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(j.stateNode=_,xg=j,yg=Lf(_.firstChild),!0):!1;case 6:return _=j.pendingProps===""||_.nodeType!==3?null:_,_!==null?(j.stateNode=_,xg=j,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?($=qg!==null?{id:rg,overflow:sg}:null,j.memoizedState={dehydrated:_,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=_,$.return=j,j.child=$,xg=j,yg=null,!0):!1;default:return!1}}function Dg(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Eg(j){if(I){var _=yg;if(_){var $=_;if(!Cg(j,_)){if(Dg(j))throw Error(p$2(418));_=Lf($.nextSibling);var _e=xg;_&&Cg(j,_)?Ag(_e,$):(j.flags=j.flags&-4097|2,I=!1,xg=j)}}else{if(Dg(j))throw Error(p$2(418));j.flags=j.flags&-4097|2,I=!1,xg=j}}}function Fg(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;xg=j}function Gg(j){if(j!==xg)return!1;if(!I)return Fg(j),I=!0,!1;var _;if((_=j.tag!==3)&&!(_=j.tag!==5)&&(_=j.type,_=_!=="head"&&_!=="body"&&!Ef(j.type,j.memoizedProps)),_&&(_=yg)){if(Dg(j))throw Hg(),Error(p$2(418));for(;_;)Ag(j,_),_=Lf(_.nextSibling)}if(Fg(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$2(317));e:{for(j=j.nextSibling,_=0;j;){if(j.nodeType===8){var $=j.data;if($==="/$"){if(_===0){yg=Lf(j.nextSibling);break e}_--}else $!=="$"&&$!=="$!"&&$!=="$?"||_++}j=j.nextSibling}yg=null}}else yg=xg?Lf(j.stateNode.nextSibling):null;return!0}function Hg(){for(var j=yg;j;)j=Lf(j.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(j){zg===null?zg=[j]:zg.push(j)}var Kg=ua.ReactCurrentBatchConfig;function Lg(j,_,$){if(j=$.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$2(309));var _e=$.stateNode}if(!_e)throw Error(p$2(147,j));var et=_e,tt=""+j;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===tt?_.ref:(_=function(rt){var nt=et.refs;rt===null?delete nt[tt]:nt[tt]=rt},_._stringRef=tt,_)}if(typeof j!="string")throw Error(p$2(284));if(!$._owner)throw Error(p$2(290,j))}return j}function Mg(j,_){throw j=Object.prototype.toString.call(_),Error(p$2(31,j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j))}function Ng(j){var _=j._init;return _(j._payload)}function Og(j){function _(ft,ht){if(j){var yt=ft.deletions;yt===null?(ft.deletions=[ht],ft.flags|=16):yt.push(ht)}}function $(ft,ht){if(!j)return null;for(;ht!==null;)_(ft,ht),ht=ht.sibling;return null}function _e(ft,ht){for(ft=new Map;ht!==null;)ht.key!==null?ft.set(ht.key,ht):ft.set(ht.index,ht),ht=ht.sibling;return ft}function et(ft,ht){return ft=Pg(ft,ht),ft.index=0,ft.sibling=null,ft}function tt(ft,ht,yt){return ft.index=yt,j?(yt=ft.alternate,yt!==null?(yt=yt.index,yt<ht?(ft.flags|=2,ht):yt):(ft.flags|=2,ht)):(ft.flags|=1048576,ht)}function rt(ft){return j&&ft.alternate===null&&(ft.flags|=2),ft}function nt(ft,ht,yt,vt){return ht===null||ht.tag!==6?(ht=Qg(yt,ft.mode,vt),ht.return=ft,ht):(ht=et(ht,yt),ht.return=ft,ht)}function st(ft,ht,yt,vt){var gt=yt.type;return gt===ya?at(ft,ht,yt.props.children,vt,yt.key):ht!==null&&(ht.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===ht.type)?(vt=et(ht,yt.props),vt.ref=Lg(ft,ht,yt),vt.return=ft,vt):(vt=Rg(yt.type,yt.key,yt.props,null,ft.mode,vt),vt.ref=Lg(ft,ht,yt),vt.return=ft,vt)}function it(ft,ht,yt,vt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==yt.containerInfo||ht.stateNode.implementation!==yt.implementation?(ht=Sg(yt,ft.mode,vt),ht.return=ft,ht):(ht=et(ht,yt.children||[]),ht.return=ft,ht)}function at(ft,ht,yt,vt,gt){return ht===null||ht.tag!==7?(ht=Tg(yt,ft.mode,vt,gt),ht.return=ft,ht):(ht=et(ht,yt),ht.return=ft,ht)}function ot(ft,ht,yt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=Qg(""+ht,ft.mode,yt),ht.return=ft,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return yt=Rg(ht.type,ht.key,ht.props,null,ft.mode,yt),yt.ref=Lg(ft,null,ht),yt.return=ft,yt;case wa:return ht=Sg(ht,ft.mode,yt),ht.return=ft,ht;case Ha:var vt=ht._init;return ot(ft,vt(ht._payload),yt)}if(eb(ht)||Ka(ht))return ht=Tg(ht,ft.mode,yt,null),ht.return=ft,ht;Mg(ft,ht)}return null}function ct(ft,ht,yt,vt){var gt=ht!==null?ht.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return gt!==null?null:nt(ft,ht,""+yt,vt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===gt?st(ft,ht,yt,vt):null;case wa:return yt.key===gt?it(ft,ht,yt,vt):null;case Ha:return gt=yt._init,ct(ft,ht,gt(yt._payload),vt)}if(eb(yt)||Ka(yt))return gt!==null?null:at(ft,ht,yt,vt,null);Mg(ft,yt)}return null}function dt(ft,ht,yt,vt,gt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return ft=ft.get(yt)||null,nt(ht,ft,""+vt,gt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return ft=ft.get(vt.key===null?yt:vt.key)||null,st(ht,ft,vt,gt);case wa:return ft=ft.get(vt.key===null?yt:vt.key)||null,it(ht,ft,vt,gt);case Ha:var bt=vt._init;return dt(ft,ht,yt,bt(vt._payload),gt)}if(eb(vt)||Ka(vt))return ft=ft.get(yt)||null,at(ht,ft,vt,gt,null);Mg(ht,vt)}return null}function pt(ft,ht,yt,vt){for(var gt=null,bt=null,mt=ht,Et=ht=0,Rt=null;mt!==null&&Et<yt.length;Et++){mt.index>Et?(Rt=mt,mt=null):Rt=mt.sibling;var Tt=ct(ft,mt,yt[Et],vt);if(Tt===null){mt===null&&(mt=Rt);break}j&&mt&&Tt.alternate===null&&_(ft,mt),ht=tt(Tt,ht,Et),bt===null?gt=Tt:bt.sibling=Tt,bt=Tt,mt=Rt}if(Et===yt.length)return $(ft,mt),I&&tg(ft,Et),gt;if(mt===null){for(;Et<yt.length;Et++)mt=ot(ft,yt[Et],vt),mt!==null&&(ht=tt(mt,ht,Et),bt===null?gt=mt:bt.sibling=mt,bt=mt);return I&&tg(ft,Et),gt}for(mt=_e(ft,mt);Et<yt.length;Et++)Rt=dt(mt,ft,Et,yt[Et],vt),Rt!==null&&(j&&Rt.alternate!==null&&mt.delete(Rt.key===null?Et:Rt.key),ht=tt(Rt,ht,Et),bt===null?gt=Rt:bt.sibling=Rt,bt=Rt);return j&&mt.forEach(function(jt){return _(ft,jt)}),I&&tg(ft,Et),gt}function ut(ft,ht,yt,vt){var gt=Ka(yt);if(typeof gt!="function")throw Error(p$2(150));if(yt=gt.call(yt),yt==null)throw Error(p$2(151));for(var bt=gt=null,mt=ht,Et=ht=0,Rt=null,Tt=yt.next();mt!==null&&!Tt.done;Et++,Tt=yt.next()){mt.index>Et?(Rt=mt,mt=null):Rt=mt.sibling;var jt=ct(ft,mt,Tt.value,vt);if(jt===null){mt===null&&(mt=Rt);break}j&&mt&&jt.alternate===null&&_(ft,mt),ht=tt(jt,ht,Et),bt===null?gt=jt:bt.sibling=jt,bt=jt,mt=Rt}if(Tt.done)return $(ft,mt),I&&tg(ft,Et),gt;if(mt===null){for(;!Tt.done;Et++,Tt=yt.next())Tt=ot(ft,Tt.value,vt),Tt!==null&&(ht=tt(Tt,ht,Et),bt===null?gt=Tt:bt.sibling=Tt,bt=Tt);return I&&tg(ft,Et),gt}for(mt=_e(ft,mt);!Tt.done;Et++,Tt=yt.next())Tt=dt(mt,ft,Et,Tt.value,vt),Tt!==null&&(j&&Tt.alternate!==null&&mt.delete(Tt.key===null?Et:Tt.key),ht=tt(Tt,ht,Et),bt===null?gt=Tt:bt.sibling=Tt,bt=Tt);return j&&mt.forEach(function(xt){return _(ft,xt)}),I&&tg(ft,Et),gt}function lt(ft,ht,yt,vt){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var gt=yt.key,bt=ht;bt!==null;){if(bt.key===gt){if(gt=yt.type,gt===ya){if(bt.tag===7){$(ft,bt.sibling),ht=et(bt,yt.props.children),ht.return=ft,ft=ht;break e}}else if(bt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===bt.type){$(ft,bt.sibling),ht=et(bt,yt.props),ht.ref=Lg(ft,bt,yt),ht.return=ft,ft=ht;break e}$(ft,bt);break}else _(ft,bt);bt=bt.sibling}yt.type===ya?(ht=Tg(yt.props.children,ft.mode,vt,yt.key),ht.return=ft,ft=ht):(vt=Rg(yt.type,yt.key,yt.props,null,ft.mode,vt),vt.ref=Lg(ft,ht,yt),vt.return=ft,ft=vt)}return rt(ft);case wa:e:{for(bt=yt.key;ht!==null;){if(ht.key===bt)if(ht.tag===4&&ht.stateNode.containerInfo===yt.containerInfo&&ht.stateNode.implementation===yt.implementation){$(ft,ht.sibling),ht=et(ht,yt.children||[]),ht.return=ft,ft=ht;break e}else{$(ft,ht);break}else _(ft,ht);ht=ht.sibling}ht=Sg(yt,ft.mode,vt),ht.return=ft,ft=ht}return rt(ft);case Ha:return bt=yt._init,lt(ft,ht,bt(yt._payload),vt)}if(eb(yt))return pt(ft,ht,yt,vt);if(Ka(yt))return ut(ft,ht,yt,vt);Mg(ft,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,ht!==null&&ht.tag===6?($(ft,ht.sibling),ht=et(ht,yt),ht.return=ft,ft=ht):($(ft,ht),ht=Qg(yt,ft.mode,vt),ht.return=ft,ft=ht),rt(ft)):$(ft,ht)}return lt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(j){var _=Wg.current;E(Wg),j._currentValue=_}function bh(j,_,$){for(;j!==null;){var _e=j.alternate;if((j.childLanes&_)!==_?(j.childLanes|=_,_e!==null&&(_e.childLanes|=_)):_e!==null&&(_e.childLanes&_)!==_&&(_e.childLanes|=_),j===$)break;j=j.return}}function ch(j,_){Xg=j,Zg=Yg=null,j=j.dependencies,j!==null&&j.firstContext!==null&&(j.lanes&_&&(dh=!0),j.firstContext=null)}function eh(j){var _=j._currentValue;if(Zg!==j)if(j={context:j,memoizedValue:_,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=j,Xg.dependencies={lanes:0,firstContext:j}}else Yg=Yg.next=j;return _}var fh=null;function gh(j){fh===null?fh=[j]:fh.push(j)}function hh(j,_,$,_e){var et=_.interleaved;return et===null?($.next=$,gh(_)):($.next=et.next,et.next=$),_.interleaved=$,ih(j,_e)}function ih(j,_){j.lanes|=_;var $=j.alternate;for($!==null&&($.lanes|=_),$=j,j=j.return;j!==null;)j.childLanes|=_,$=j.alternate,$!==null&&($.childLanes|=_),$=j,j=j.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(j,_){j=j.updateQueue,_.updateQueue===j&&(_.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function mh(j,_){return{eventTime:j,lane:_,tag:0,payload:null,callback:null,next:null}}function nh(j,_,$){var _e=j.updateQueue;if(_e===null)return null;if(_e=_e.shared,K&2){var et=_e.pending;return et===null?_.next=_:(_.next=et.next,et.next=_),_e.pending=_,ih(j,$)}return et=_e.interleaved,et===null?(_.next=_,gh(_e)):(_.next=et.next,et.next=_),_e.interleaved=_,ih(j,$)}function oh(j,_,$){if(_=_.updateQueue,_!==null&&(_=_.shared,($&4194240)!==0)){var _e=_.lanes;_e&=j.pendingLanes,$|=_e,_.lanes=$,Cc(j,$)}}function ph(j,_){var $=j.updateQueue,_e=j.alternate;if(_e!==null&&(_e=_e.updateQueue,$===_e)){var et=null,tt=null;if($=$.firstBaseUpdate,$!==null){do{var rt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};tt===null?et=tt=rt:tt=tt.next=rt,$=$.next}while($!==null);tt===null?et=tt=_:tt=tt.next=_}else et=tt=_;$={baseState:_e.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:_e.shared,effects:_e.effects},j.updateQueue=$;return}j=$.lastBaseUpdate,j===null?$.firstBaseUpdate=_:j.next=_,$.lastBaseUpdate=_}function qh(j,_,$,_e){var et=j.updateQueue;jh=!1;var tt=et.firstBaseUpdate,rt=et.lastBaseUpdate,nt=et.shared.pending;if(nt!==null){et.shared.pending=null;var st=nt,it=st.next;st.next=null,rt===null?tt=it:rt.next=it,rt=st;var at=j.alternate;at!==null&&(at=at.updateQueue,nt=at.lastBaseUpdate,nt!==rt&&(nt===null?at.firstBaseUpdate=it:nt.next=it,at.lastBaseUpdate=st))}if(tt!==null){var ot=et.baseState;rt=0,at=it=st=null,nt=tt;do{var ct=nt.lane,dt=nt.eventTime;if((_e&ct)===ct){at!==null&&(at=at.next={eventTime:dt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var pt=j,ut=nt;switch(ct=_,dt=$,ut.tag){case 1:if(pt=ut.payload,typeof pt=="function"){ot=pt.call(dt,ot,ct);break e}ot=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ut.payload,ct=typeof pt=="function"?pt.call(dt,ot,ct):pt,ct==null)break e;ot=A({},ot,ct);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(j.flags|=64,ct=et.effects,ct===null?et.effects=[nt]:ct.push(nt))}else dt={eventTime:dt,lane:ct,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},at===null?(it=at=dt,st=ot):at=at.next=dt,rt|=ct;if(nt=nt.next,nt===null){if(nt=et.shared.pending,nt===null)break;ct=nt,nt=ct.next,ct.next=null,et.lastBaseUpdate=ct,et.shared.pending=null}}while(!0);if(at===null&&(st=ot),et.baseState=st,et.firstBaseUpdate=it,et.lastBaseUpdate=at,_=et.shared.interleaved,_!==null){et=_;do rt|=et.lane,et=et.next;while(et!==_)}else tt===null&&(et.shared.lanes=0);rh|=rt,j.lanes=rt,j.memoizedState=ot}}function sh(j,_,$){if(j=_.effects,_.effects=null,j!==null)for(_=0;_<j.length;_++){var _e=j[_],et=_e.callback;if(et!==null){if(_e.callback=null,_e=$,typeof et!="function")throw Error(p$2(191,et));et.call(_e)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(j){if(j===th)throw Error(p$2(174));return j}function yh(j,_){switch(G(wh,_),G(vh,j),G(uh,th),j=_.nodeType,j){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb(null,"");break;default:j=j===8?_.parentNode:_,_=j.namespaceURI||null,j=j.tagName,_=lb(_,j)}E(uh),G(uh,_)}function zh(){E(uh),E(vh),E(wh)}function Ah(j){xh(wh.current);var _=xh(uh.current),$=lb(_,j.type);_!==$&&(G(vh,j),G(uh,$))}function Bh(j){vh.current===j&&(E(uh),E(vh))}var L=Uf(0);function Ch(j){for(var _=j;_!==null;){if(_.tag===13){var $=_.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===j)break;for(;_.sibling===null;){if(_.return===null||_.return===j)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Dh=[];function Eh(){for(var j=0;j<Dh.length;j++)Dh[j]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$2(321))}function Mh(j,_){if(_===null)return!1;for(var $=0;$<_.length&&$<j.length;$++)if(!He(j[$],_[$]))return!1;return!0}function Nh(j,_,$,_e,et,tt){if(Hh=tt,M=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Fh.current=j===null||j.memoizedState===null?Oh:Ph,j=$(_e,et),Jh){tt=0;do{if(Jh=!1,Kh=0,25<=tt)throw Error(p$2(301));tt+=1,O=N=null,_.updateQueue=null,Fh.current=Qh,j=$(_e,et)}while(Jh)}if(Fh.current=Rh,_=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,_)throw Error(p$2(300));return j}function Sh(){var j=Kh!==0;return Kh=0,j}function Th(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=j:O=O.next=j,O}function Uh(){if(N===null){var j=M.alternate;j=j!==null?j.memoizedState:null}else j=N.next;var _=O===null?M.memoizedState:O.next;if(_!==null)O=_,N=j;else{if(j===null)throw Error(p$2(310));N=j,j={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=j:O=O.next=j}return O}function Vh(j,_){return typeof _=="function"?_(j):_}function Wh(j){var _=Uh(),$=_.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=j;var _e=N,et=_e.baseQueue,tt=$.pending;if(tt!==null){if(et!==null){var rt=et.next;et.next=tt.next,tt.next=rt}_e.baseQueue=et=tt,$.pending=null}if(et!==null){tt=et.next,_e=_e.baseState;var nt=rt=null,st=null,it=tt;do{var at=it.lane;if((Hh&at)===at)st!==null&&(st=st.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),_e=it.hasEagerState?it.eagerState:j(_e,it.action);else{var ot={lane:at,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};st===null?(nt=st=ot,rt=_e):st=st.next=ot,M.lanes|=at,rh|=at}it=it.next}while(it!==null&&it!==tt);st===null?rt=_e:st.next=nt,He(_e,_.memoizedState)||(dh=!0),_.memoizedState=_e,_.baseState=rt,_.baseQueue=st,$.lastRenderedState=_e}if(j=$.interleaved,j!==null){et=j;do tt=et.lane,M.lanes|=tt,rh|=tt,et=et.next;while(et!==j)}else et===null&&($.lanes=0);return[_.memoizedState,$.dispatch]}function Xh(j){var _=Uh(),$=_.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=j;var _e=$.dispatch,et=$.pending,tt=_.memoizedState;if(et!==null){$.pending=null;var rt=et=et.next;do tt=j(tt,rt.action),rt=rt.next;while(rt!==et);He(tt,_.memoizedState)||(dh=!0),_.memoizedState=tt,_.baseQueue===null&&(_.baseState=tt),$.lastRenderedState=tt}return[tt,_e]}function Yh(){}function Zh(j,_){var $=M,_e=Uh(),et=_(),tt=!He(_e.memoizedState,et);if(tt&&(_e.memoizedState=et,dh=!0),_e=_e.queue,$h(ai.bind(null,$,_e,j),[j]),_e.getSnapshot!==_||tt||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,_e,et,_),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di($,_,et)}return et}function di(j,_,$){j.flags|=16384,j={getSnapshot:_,value:$},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.stores=[j]):($=_.stores,$===null?_.stores=[j]:$.push(j))}function ci(j,_,$,_e){_.value=$,_.getSnapshot=_e,ei(_)&&fi(j)}function ai(j,_,$){return $(function(){ei(_)&&fi(j)})}function ei(j){var _=j.getSnapshot;j=j.value;try{var $=_();return!He(j,$)}catch{return!0}}function fi(j){var _=ih(j,1);_!==null&&gi(_,j,1,-1)}function hi(j){var _=Th();return typeof j=="function"&&(j=j()),_.memoizedState=_.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:j},_.queue=j,j=j.dispatch=ii.bind(null,M,j),[_.memoizedState,j]}function bi(j,_,$,_e){return j={tag:j,create:_,destroy:$,deps:_e,next:null},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.lastEffect=j.next=j):($=_.lastEffect,$===null?_.lastEffect=j.next=j:(_e=$.next,$.next=j,j.next=_e,_.lastEffect=j)),j}function ji(){return Uh().memoizedState}function ki(j,_,$,_e){var et=Th();M.flags|=j,et.memoizedState=bi(1|_,$,void 0,_e===void 0?null:_e)}function li(j,_,$,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=void 0;if(N!==null){var rt=N.memoizedState;if(tt=rt.destroy,_e!==null&&Mh(_e,rt.deps)){et.memoizedState=bi(_,$,tt,_e);return}}M.flags|=j,et.memoizedState=bi(1|_,$,tt,_e)}function mi(j,_){return ki(8390656,8,j,_)}function $h(j,_){return li(2048,8,j,_)}function ni(j,_){return li(4,2,j,_)}function oi(j,_){return li(4,4,j,_)}function pi$2(j,_){if(typeof _=="function")return j=j(),_(j),function(){_(null)};if(_!=null)return j=j(),_.current=j,function(){_.current=null}}function qi(j,_,$){return $=$!=null?$.concat([j]):null,li(4,4,pi$2.bind(null,_,j),$)}function ri(){}function si(j,_){var $=Uh();_=_===void 0?null:_;var _e=$.memoizedState;return _e!==null&&_!==null&&Mh(_,_e[1])?_e[0]:($.memoizedState=[j,_],j)}function ti(j,_){var $=Uh();_=_===void 0?null:_;var _e=$.memoizedState;return _e!==null&&_!==null&&Mh(_,_e[1])?_e[0]:(j=j(),$.memoizedState=[j,_],j)}function ui(j,_,$){return Hh&21?(He($,_)||($=yc(),M.lanes|=$,rh|=$,j.baseState=!0),_):(j.baseState&&(j.baseState=!1,dh=!0),j.memoizedState=$)}function vi(j,_){var $=C;C=$!==0&&4>$?$:4,j(!0);var _e=Gh.transition;Gh.transition={};try{j(!1),_()}finally{C=$,Gh.transition=_e}}function wi(){return Uh().memoizedState}function xi(j,_,$){var _e=yi(j);if($={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null},zi(j))Ai(_,$);else if($=hh(j,_,$,_e),$!==null){var et=R();gi($,j,_e,et),Bi($,_,_e)}}function ii(j,_,$){var _e=yi(j),et={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(j))Ai(_,et);else{var tt=j.alternate;if(j.lanes===0&&(tt===null||tt.lanes===0)&&(tt=_.lastRenderedReducer,tt!==null))try{var rt=_.lastRenderedState,nt=tt(rt,$);if(et.hasEagerState=!0,et.eagerState=nt,He(nt,rt)){var st=_.interleaved;st===null?(et.next=et,gh(_)):(et.next=st.next,st.next=et),_.interleaved=et;return}}catch{}finally{}$=hh(j,_,et,_e),$!==null&&(et=R(),gi($,j,_e,et),Bi($,_,_e))}}function zi(j){var _=j.alternate;return j===M||_!==null&&_===M}function Ai(j,_){Jh=Ih=!0;var $=j.pending;$===null?_.next=_:(_.next=$.next,$.next=_),j.pending=_}function Bi(j,_,$){if($&4194240){var _e=_.lanes;_e&=j.pendingLanes,$|=_e,_.lanes=$,Cc(j,$)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(j,_){return Th().memoizedState=[j,_===void 0?null:_],j},useContext:eh,useEffect:mi,useImperativeHandle:function(j,_,$){return $=$!=null?$.concat([j]):null,ki(4194308,4,pi$2.bind(null,_,j),$)},useLayoutEffect:function(j,_){return ki(4194308,4,j,_)},useInsertionEffect:function(j,_){return ki(4,2,j,_)},useMemo:function(j,_){var $=Th();return _=_===void 0?null:_,j=j(),$.memoizedState=[j,_],j},useReducer:function(j,_,$){var _e=Th();return _=$!==void 0?$(_):_,_e.memoizedState=_e.baseState=_,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:_},_e.queue=j,j=j.dispatch=xi.bind(null,M,j),[_e.memoizedState,j]},useRef:function(j){var _=Th();return j={current:j},_.memoizedState=j},useState:hi,useDebugValue:ri,useDeferredValue:function(j){return Th().memoizedState=j},useTransition:function(){var j=hi(!1),_=j[0];return j=vi.bind(null,j[1]),Th().memoizedState=j,[_,j]},useMutableSource:function(){},useSyncExternalStore:function(j,_,$){var _e=M,et=Th();if(I){if($===void 0)throw Error(p$2(407));$=$()}else{if($=_(),Q===null)throw Error(p$2(349));Hh&30||di(_e,_,$)}et.memoizedState=$;var tt={value:$,getSnapshot:_};return et.queue=tt,mi(ai.bind(null,_e,tt,j),[j]),_e.flags|=2048,bi(9,ci.bind(null,_e,tt,$,_),void 0,null),$},useId:function(){var j=Th(),_=Q.identifierPrefix;if(I){var $=sg,_e=rg;$=(_e&~(1<<32-oc(_e)-1)).toString(32)+$,_=":"+_+"R"+$,$=Kh++,0<$&&(_+="H"+$.toString(32)),_+=":"}else $=Lh++,_=":"+_+"r"+$.toString(32)+":";return j.memoizedState=_},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(j){var _=Uh();return ui(_,N.memoizedState,j)},useTransition:function(){var j=Wh(Vh)[0],_=Uh().memoizedState;return[j,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(j){var _=Uh();return N===null?_.memoizedState=j:ui(_,N.memoizedState,j)},useTransition:function(){var j=Xh(Vh)[0],_=Uh().memoizedState;return[j,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(j,_){if(j&&j.defaultProps){_=A({},_),j=j.defaultProps;for(var $ in j)_[$]===void 0&&(_[$]=j[$]);return _}return _}function Di(j,_,$,_e){_=j.memoizedState,$=$(_e,_),$=$==null?_:A({},_,$),j.memoizedState=$,j.lanes===0&&(j.updateQueue.baseState=$)}var Ei={isMounted:function(j){return(j=j._reactInternals)?Vb(j)===j:!1},enqueueSetState:function(j,_,$){j=j._reactInternals;var _e=R(),et=yi(j),tt=mh(_e,et);tt.payload=_,$!=null&&(tt.callback=$),_=nh(j,tt,et),_!==null&&(gi(_,j,et,_e),oh(_,j,et))},enqueueReplaceState:function(j,_,$){j=j._reactInternals;var _e=R(),et=yi(j),tt=mh(_e,et);tt.tag=1,tt.payload=_,$!=null&&(tt.callback=$),_=nh(j,tt,et),_!==null&&(gi(_,j,et,_e),oh(_,j,et))},enqueueForceUpdate:function(j,_){j=j._reactInternals;var $=R(),_e=yi(j),et=mh($,_e);et.tag=2,_!=null&&(et.callback=_),_=nh(j,et,_e),_!==null&&(gi(_,j,_e,$),oh(_,j,_e))}};function Fi(j,_,$,_e,et,tt,rt){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate(_e,tt,rt):_.prototype&&_.prototype.isPureReactComponent?!Ie($,_e)||!Ie(et,tt):!0}function Gi(j,_,$){var _e=!1,et=Vf,tt=_.contextType;return typeof tt=="object"&&tt!==null?tt=eh(tt):(et=Zf(_)?Xf:H.current,_e=_.contextTypes,tt=(_e=_e!=null)?Yf(j,et):Vf),_=new _($,tt),j.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ei,j.stateNode=_,_._reactInternals=j,_e&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=et,j.__reactInternalMemoizedMaskedChildContext=tt),_}function Hi(j,_,$,_e){j=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps($,_e),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps($,_e),_.state!==j&&Ei.enqueueReplaceState(_,_.state,null)}function Ii(j,_,$,_e){var et=j.stateNode;et.props=$,et.state=j.memoizedState,et.refs={},kh(j);var tt=_.contextType;typeof tt=="object"&&tt!==null?et.context=eh(tt):(tt=Zf(_)?Xf:H.current,et.context=Yf(j,tt)),et.state=j.memoizedState,tt=_.getDerivedStateFromProps,typeof tt=="function"&&(Di(j,_,tt,$),et.state=j.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(_=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),_!==et.state&&Ei.enqueueReplaceState(et,et.state,null),qh(j,$,et,_e),et.state=j.memoizedState),typeof et.componentDidMount=="function"&&(j.flags|=4194308)}function Ji(j,_){try{var $="",_e=_;do $+=Pa(_e),_e=_e.return;while(_e);var et=$}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:j,source:_,stack:et,digest:null}}function Ki(j,_,$){return{value:j,source:null,stack:$??null,digest:_??null}}function Li(j,_){try{console.error(_.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(j,_,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var _e=_.value;return $.callback=function(){Oi||(Oi=!0,Pi=_e),Li(j,_)},$}function Qi(j,_,$){$=mh(-1,$),$.tag=3;var _e=j.type.getDerivedStateFromError;if(typeof _e=="function"){var et=_.value;$.payload=function(){return _e(et)},$.callback=function(){Li(j,_)}}var tt=j.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&($.callback=function(){Li(j,_),typeof _e!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=_.stack;this.componentDidCatch(_.value,{componentStack:rt!==null?rt:""})}),$}function Si(j,_,$){var _e=j.pingCache;if(_e===null){_e=j.pingCache=new Mi;var et=new Set;_e.set(_,et)}else et=_e.get(_),et===void 0&&(et=new Set,_e.set(_,et));et.has($)||(et.add($),j=Ti.bind(null,j,_,$),_.then(j,j))}function Ui(j){do{var _;if((_=j.tag===13)&&(_=j.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return j;j=j.return}while(j!==null);return null}function Vi(j,_,$,_e,et){return j.mode&1?(j.flags|=65536,j.lanes=et,j):(j===_?j.flags|=65536:(j.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(_=mh(-1,1),_.tag=2,nh($,_,1))),$.lanes|=1),j)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(j,_,$,_e){_.child=j===null?Vg(_,null,$,_e):Ug(_,j.child,$,_e)}function Yi(j,_,$,_e,et){$=$.render;var tt=_.ref;return ch(_,et),_e=Nh(j,_,$,_e,tt,et),$=Sh(),j!==null&&!dh?(_.updateQueue=j.updateQueue,_.flags&=-2053,j.lanes&=~et,Zi(j,_,et)):(I&&$&&vg(_),_.flags|=1,Xi(j,_,_e,et),_.child)}function $i(j,_,$,_e,et){if(j===null){var tt=$.type;return typeof tt=="function"&&!aj(tt)&&tt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(_.tag=15,_.type=tt,bj(j,_,tt,_e,et)):(j=Rg($.type,null,_e,_,_.mode,et),j.ref=_.ref,j.return=_,_.child=j)}if(tt=j.child,!(j.lanes&et)){var rt=tt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(rt,_e)&&j.ref===_.ref)return Zi(j,_,et)}return _.flags|=1,j=Pg(tt,_e),j.ref=_.ref,j.return=_,_.child=j}function bj(j,_,$,_e,et){if(j!==null){var tt=j.memoizedProps;if(Ie(tt,_e)&&j.ref===_.ref)if(dh=!1,_.pendingProps=_e=tt,(j.lanes&et)!==0)j.flags&131072&&(dh=!0);else return _.lanes=j.lanes,Zi(j,_,et)}return cj(j,_,$,_e,et)}function dj(j,_,$){var _e=_.pendingProps,et=_e.children,tt=j!==null?j.memoizedState:null;if(_e.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return j=tt!==null?tt.baseLanes|$:$,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:j,cachePool:null,transitions:null},_.updateQueue=null,G(ej,fj),fj|=j,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=tt!==null?tt.baseLanes:$,G(ej,fj),fj|=_e}else tt!==null?(_e=tt.baseLanes|$,_.memoizedState=null):_e=$,G(ej,fj),fj|=_e;return Xi(j,_,et,$),_.child}function gj(j,_){var $=_.ref;(j===null&&$!==null||j!==null&&j.ref!==$)&&(_.flags|=512,_.flags|=2097152)}function cj(j,_,$,_e,et){var tt=Zf($)?Xf:H.current;return tt=Yf(_,tt),ch(_,et),$=Nh(j,_,$,_e,tt,et),_e=Sh(),j!==null&&!dh?(_.updateQueue=j.updateQueue,_.flags&=-2053,j.lanes&=~et,Zi(j,_,et)):(I&&_e&&vg(_),_.flags|=1,Xi(j,_,$,et),_.child)}function hj(j,_,$,_e,et){if(Zf($)){var tt=!0;cg(_)}else tt=!1;if(ch(_,et),_.stateNode===null)ij(j,_),Gi(_,$,_e),Ii(_,$,_e,et),_e=!0;else if(j===null){var rt=_.stateNode,nt=_.memoizedProps;rt.props=nt;var st=rt.context,it=$.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf($)?Xf:H.current,it=Yf(_,it));var at=$.getDerivedStateFromProps,ot=typeof at=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ot||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==_e||st!==it)&&Hi(_,rt,_e,it),jh=!1;var ct=_.memoizedState;rt.state=ct,qh(_,_e,rt,et),st=_.memoizedState,nt!==_e||ct!==st||Wf.current||jh?(typeof at=="function"&&(Di(_,$,at,_e),st=_.memoizedState),(nt=jh||Fi(_,$,nt,_e,ct,st,it))?(ot||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(_.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=_e,_.memoizedState=st),rt.props=_e,rt.state=st,rt.context=it,_e=nt):(typeof rt.componentDidMount=="function"&&(_.flags|=4194308),_e=!1)}else{rt=_.stateNode,lh(j,_),nt=_.memoizedProps,it=_.type===_.elementType?nt:Ci(_.type,nt),rt.props=it,ot=_.pendingProps,ct=rt.context,st=$.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf($)?Xf:H.current,st=Yf(_,st));var dt=$.getDerivedStateFromProps;(at=typeof dt=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==ot||ct!==st)&&Hi(_,rt,_e,st),jh=!1,ct=_.memoizedState,rt.state=ct,qh(_,_e,rt,et);var pt=_.memoizedState;nt!==ot||ct!==pt||Wf.current||jh?(typeof dt=="function"&&(Di(_,$,dt,_e),pt=_.memoizedState),(it=jh||Fi(_,$,it,_e,ct,pt,st)||!1)?(at||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(_e,pt,st),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(_e,pt,st)),typeof rt.componentDidUpdate=="function"&&(_.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof rt.componentDidUpdate!="function"||nt===j.memoizedProps&&ct===j.memoizedState||(_.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===j.memoizedProps&&ct===j.memoizedState||(_.flags|=1024),_.memoizedProps=_e,_.memoizedState=pt),rt.props=_e,rt.state=pt,rt.context=st,_e=it):(typeof rt.componentDidUpdate!="function"||nt===j.memoizedProps&&ct===j.memoizedState||(_.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===j.memoizedProps&&ct===j.memoizedState||(_.flags|=1024),_e=!1)}return jj(j,_,$,_e,tt,et)}function jj(j,_,$,_e,et,tt){gj(j,_);var rt=(_.flags&128)!==0;if(!_e&&!rt)return et&&dg(_,$,!1),Zi(j,_,tt);_e=_.stateNode,Wi.current=_;var nt=rt&&typeof $.getDerivedStateFromError!="function"?null:_e.render();return _.flags|=1,j!==null&&rt?(_.child=Ug(_,j.child,null,tt),_.child=Ug(_,null,nt,tt)):Xi(j,_,nt,tt),_.memoizedState=_e.state,et&&dg(_,$,!0),_.child}function kj(j){var _=j.stateNode;_.pendingContext?ag(j,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(j,_.context,!1),yh(j,_.containerInfo)}function lj(j,_,$,_e,et){return Ig(),Jg(et),_.flags|=256,Xi(j,_,$,_e),_.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(j){return{baseLanes:j,cachePool:null,transitions:null}}function oj(j,_,$){var _e=_.pendingProps,et=L.current,tt=!1,rt=(_.flags&128)!==0,nt;if((nt=rt)||(nt=j!==null&&j.memoizedState===null?!1:(et&2)!==0),nt?(tt=!0,_.flags&=-129):(j===null||j.memoizedState!==null)&&(et|=1),G(L,et&1),j===null)return Eg(_),j=_.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?(_.mode&1?j.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(rt=_e.children,j=_e.fallback,tt?(_e=_.mode,tt=_.child,rt={mode:"hidden",children:rt},!(_e&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=rt):tt=pj(rt,_e,0,null),j=Tg(j,_e,$,null),tt.return=_,j.return=_,tt.sibling=j,_.child=tt,_.child.memoizedState=nj($),_.memoizedState=mj,j):qj(_,rt));if(et=j.memoizedState,et!==null&&(nt=et.dehydrated,nt!==null))return rj(j,_,rt,_e,nt,et,$);if(tt){tt=_e.fallback,rt=_.mode,et=j.child,nt=et.sibling;var st={mode:"hidden",children:_e.children};return!(rt&1)&&_.child!==et?(_e=_.child,_e.childLanes=0,_e.pendingProps=st,_.deletions=null):(_e=Pg(et,st),_e.subtreeFlags=et.subtreeFlags&14680064),nt!==null?tt=Pg(nt,tt):(tt=Tg(tt,rt,$,null),tt.flags|=2),tt.return=_,_e.return=_,_e.sibling=tt,_.child=_e,_e=tt,tt=_.child,rt=j.child.memoizedState,rt=rt===null?nj($):{baseLanes:rt.baseLanes|$,cachePool:null,transitions:rt.transitions},tt.memoizedState=rt,tt.childLanes=j.childLanes&~$,_.memoizedState=mj,_e}return tt=j.child,j=tt.sibling,_e=Pg(tt,{mode:"visible",children:_e.children}),!(_.mode&1)&&(_e.lanes=$),_e.return=_,_e.sibling=null,j!==null&&($=_.deletions,$===null?(_.deletions=[j],_.flags|=16):$.push(j)),_.child=_e,_.memoizedState=null,_e}function qj(j,_){return _=pj({mode:"visible",children:_},j.mode,0,null),_.return=j,j.child=_}function sj(j,_,$,_e){return _e!==null&&Jg(_e),Ug(_,j.child,null,$),j=qj(_,_.pendingProps.children),j.flags|=2,_.memoizedState=null,j}function rj(j,_,$,_e,et,tt,rt){if($)return _.flags&256?(_.flags&=-257,_e=Ki(Error(p$2(422))),sj(j,_,rt,_e)):_.memoizedState!==null?(_.child=j.child,_.flags|=128,null):(tt=_e.fallback,et=_.mode,_e=pj({mode:"visible",children:_e.children},et,0,null),tt=Tg(tt,et,rt,null),tt.flags|=2,_e.return=_,tt.return=_,_e.sibling=tt,_.child=_e,_.mode&1&&Ug(_,j.child,null,rt),_.child.memoizedState=nj(rt),_.memoizedState=mj,tt);if(!(_.mode&1))return sj(j,_,rt,null);if(et.data==="$!"){if(_e=et.nextSibling&&et.nextSibling.dataset,_e)var nt=_e.dgst;return _e=nt,tt=Error(p$2(419)),_e=Ki(tt,_e,void 0),sj(j,_,rt,_e)}if(nt=(rt&j.childLanes)!==0,dh||nt){if(_e=Q,_e!==null){switch(rt&-rt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(_e.suspendedLanes|rt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,ih(j,et),gi(_e,j,et,-1))}return tj(),_e=Ki(Error(p$2(421))),sj(j,_,rt,_e)}return et.data==="$?"?(_.flags|=128,_.child=j.child,_=uj.bind(null,j),et._reactRetry=_,null):(j=tt.treeContext,yg=Lf(et.nextSibling),xg=_,I=!0,zg=null,j!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=j.id,sg=j.overflow,qg=_),_=qj(_,_e.children),_.flags|=4096,_)}function vj(j,_,$){j.lanes|=_;var _e=j.alternate;_e!==null&&(_e.lanes|=_),bh(j.return,_,$)}function wj(j,_,$,_e,et){var tt=j.memoizedState;tt===null?j.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:_e,tail:$,tailMode:et}:(tt.isBackwards=_,tt.rendering=null,tt.renderingStartTime=0,tt.last=_e,tt.tail=$,tt.tailMode=et)}function xj(j,_,$){var _e=_.pendingProps,et=_e.revealOrder,tt=_e.tail;if(Xi(j,_,_e.children,$),_e=L.current,_e&2)_e=_e&1|2,_.flags|=128;else{if(j!==null&&j.flags&128)e:for(j=_.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&vj(j,$,_);else if(j.tag===19)vj(j,$,_);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===_)break e;for(;j.sibling===null;){if(j.return===null||j.return===_)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}_e&=1}if(G(L,_e),!(_.mode&1))_.memoizedState=null;else switch(et){case"forwards":for($=_.child,et=null;$!==null;)j=$.alternate,j!==null&&Ch(j)===null&&(et=$),$=$.sibling;$=et,$===null?(et=_.child,_.child=null):(et=$.sibling,$.sibling=null),wj(_,!1,et,$,tt);break;case"backwards":for($=null,et=_.child,_.child=null;et!==null;){if(j=et.alternate,j!==null&&Ch(j)===null){_.child=et;break}j=et.sibling,et.sibling=$,$=et,et=j}wj(_,!0,$,null,tt);break;case"together":wj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function ij(j,_){!(_.mode&1)&&j!==null&&(j.alternate=null,_.alternate=null,_.flags|=2)}function Zi(j,_,$){if(j!==null&&(_.dependencies=j.dependencies),rh|=_.lanes,!($&_.childLanes))return null;if(j!==null&&_.child!==j.child)throw Error(p$2(153));if(_.child!==null){for(j=_.child,$=Pg(j,j.pendingProps),_.child=$,$.return=_;j.sibling!==null;)j=j.sibling,$=$.sibling=Pg(j,j.pendingProps),$.return=_;$.sibling=null}return _.child}function yj(j,_,$){switch(_.tag){case 3:kj(_),Ig();break;case 5:Ah(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:yh(_,_.stateNode.containerInfo);break;case 10:var _e=_.type._context,et=_.memoizedProps.value;G(Wg,_e._currentValue),_e._currentValue=et;break;case 13:if(_e=_.memoizedState,_e!==null)return _e.dehydrated!==null?(G(L,L.current&1),_.flags|=128,null):$&_.child.childLanes?oj(j,_,$):(G(L,L.current&1),j=Zi(j,_,$),j!==null?j.sibling:null);G(L,L.current&1);break;case 19:if(_e=($&_.childLanes)!==0,j.flags&128){if(_e)return xj(j,_,$);_.flags|=128}if(et=_.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G(L,L.current),_e)break;return null;case 22:case 23:return _.lanes=0,dj(j,_,$)}return Zi(j,_,$)}var zj,Aj,Bj,Cj;zj=function(j,_){for(var $=_.child;$!==null;){if($.tag===5||$.tag===6)j.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===_)break;for(;$.sibling===null;){if($.return===null||$.return===_)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(j,_,$,_e){var et=j.memoizedProps;if(et!==_e){j=_.stateNode,xh(uh.current);var tt=null;switch($){case"input":et=Ya(j,et),_e=Ya(j,_e),tt=[];break;case"select":et=A({},et,{value:void 0}),_e=A({},_e,{value:void 0}),tt=[];break;case"textarea":et=gb(j,et),_e=gb(j,_e),tt=[];break;default:typeof et.onClick!="function"&&typeof _e.onClick=="function"&&(j.onclick=Bf)}ub($,_e);var rt;$=null;for(it in et)if(!_e.hasOwnProperty(it)&&et.hasOwnProperty(it)&&et[it]!=null)if(it==="style"){var nt=et[it];for(rt in nt)nt.hasOwnProperty(rt)&&($||($={}),$[rt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?tt||(tt=[]):(tt=tt||[]).push(it,null));for(it in _e){var st=_e[it];if(nt=et!=null?et[it]:void 0,_e.hasOwnProperty(it)&&st!==nt&&(st!=null||nt!=null))if(it==="style")if(nt){for(rt in nt)!nt.hasOwnProperty(rt)||st&&st.hasOwnProperty(rt)||($||($={}),$[rt]="");for(rt in st)st.hasOwnProperty(rt)&&nt[rt]!==st[rt]&&($||($={}),$[rt]=st[rt])}else $||(tt||(tt=[]),tt.push(it,$)),$=st;else it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,nt=nt?nt.__html:void 0,st!=null&&nt!==st&&(tt=tt||[]).push(it,st)):it==="children"?typeof st!="string"&&typeof st!="number"||(tt=tt||[]).push(it,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(st!=null&&it==="onScroll"&&D("scroll",j),tt||nt===st||(tt=[])):(tt=tt||[]).push(it,st))}$&&(tt=tt||[]).push("style",$);var it=tt;(_.updateQueue=it)&&(_.flags|=4)}};Cj=function(j,_,$,_e){$!==_e&&(_.flags|=4)};function Dj(j,_){if(!I)switch(j.tailMode){case"hidden":_=j.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?j.tail=null:$.sibling=null;break;case"collapsed":$=j.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?_||j.tail===null?j.tail=null:j.tail.sibling=null:_e.sibling=null}}function S(j){var _=j.alternate!==null&&j.alternate.child===j.child,$=0,_e=0;if(_)for(var et=j.child;et!==null;)$|=et.lanes|et.childLanes,_e|=et.subtreeFlags&14680064,_e|=et.flags&14680064,et.return=j,et=et.sibling;else for(et=j.child;et!==null;)$|=et.lanes|et.childLanes,_e|=et.subtreeFlags,_e|=et.flags,et.return=j,et=et.sibling;return j.subtreeFlags|=_e,j.childLanes=$,_}function Ej(j,_,$){var _e=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(_),null;case 1:return Zf(_.type)&&$f(),S(_),null;case 3:return _e=_.stateNode,zh(),E(Wf),E(H),Eh(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(j===null||j.child===null)&&(Gg(_)?_.flags|=4:j===null||j.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(j,_),S(_),null;case 5:Bh(_);var et=xh(wh.current);if($=_.type,j!==null&&_.stateNode!=null)Bj(j,_,$,_e,et),j.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!_e){if(_.stateNode===null)throw Error(p$2(166));return S(_),null}if(j=xh(uh.current),Gg(_)){_e=_.stateNode,$=_.type;var tt=_.memoizedProps;switch(_e[Of]=_,_e[Pf]=tt,j=(_.mode&1)!==0,$){case"dialog":D("cancel",_e),D("close",_e);break;case"iframe":case"object":case"embed":D("load",_e);break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],_e);break;case"source":D("error",_e);break;case"img":case"image":case"link":D("error",_e),D("load",_e);break;case"details":D("toggle",_e);break;case"input":Za(_e,tt),D("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},D("invalid",_e);break;case"textarea":hb(_e,tt),D("invalid",_e)}ub($,tt),et=null;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=tt[rt];rt==="children"?typeof nt=="string"?_e.textContent!==nt&&(tt.suppressHydrationWarning!==!0&&Af(_e.textContent,nt,j),et=["children",nt]):typeof nt=="number"&&_e.textContent!==""+nt&&(tt.suppressHydrationWarning!==!0&&Af(_e.textContent,nt,j),et=["children",""+nt]):ea.hasOwnProperty(rt)&&nt!=null&&rt==="onScroll"&&D("scroll",_e)}switch($){case"input":Va(_e),db(_e,tt,!0);break;case"textarea":Va(_e),jb(_e);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(_e.onclick=Bf)}_e=et,_.updateQueue=_e,_e!==null&&(_.flags|=4)}else{rt=et.nodeType===9?et:et.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=kb($)),j==="http://www.w3.org/1999/xhtml"?$==="script"?(j=rt.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof _e.is=="string"?j=rt.createElement($,{is:_e.is}):(j=rt.createElement($),$==="select"&&(rt=j,_e.multiple?rt.multiple=!0:_e.size&&(rt.size=_e.size))):j=rt.createElementNS(j,$),j[Of]=_,j[Pf]=_e,zj(j,_,!1,!1),_.stateNode=j;e:{switch(rt=vb($,_e),$){case"dialog":D("cancel",j),D("close",j),et=_e;break;case"iframe":case"object":case"embed":D("load",j),et=_e;break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],j);et=_e;break;case"source":D("error",j),et=_e;break;case"img":case"image":case"link":D("error",j),D("load",j),et=_e;break;case"details":D("toggle",j),et=_e;break;case"input":Za(j,_e),et=Ya(j,_e),D("invalid",j);break;case"option":et=_e;break;case"select":j._wrapperState={wasMultiple:!!_e.multiple},et=A({},_e,{value:void 0}),D("invalid",j);break;case"textarea":hb(j,_e),et=gb(j,_e),D("invalid",j);break;default:et=_e}ub($,et),nt=et;for(tt in nt)if(nt.hasOwnProperty(tt)){var st=nt[tt];tt==="style"?sb(j,st):tt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(j,st)):tt==="children"?typeof st=="string"?($!=="textarea"||st!=="")&&ob(j,st):typeof st=="number"&&ob(j,""+st):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?st!=null&&tt==="onScroll"&&D("scroll",j):st!=null&&ta(j,tt,st,rt))}switch($){case"input":Va(j),db(j,_e,!1);break;case"textarea":Va(j),jb(j);break;case"option":_e.value!=null&&j.setAttribute("value",""+Sa(_e.value));break;case"select":j.multiple=!!_e.multiple,tt=_e.value,tt!=null?fb(j,!!_e.multiple,tt,!1):_e.defaultValue!=null&&fb(j,!!_e.multiple,_e.defaultValue,!0);break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S(_),null;case 6:if(j&&_.stateNode!=null)Cj(j,_,j.memoizedProps,_e);else{if(typeof _e!="string"&&_.stateNode===null)throw Error(p$2(166));if($=xh(wh.current),xh(uh.current),Gg(_)){if(_e=_.stateNode,$=_.memoizedProps,_e[Of]=_,(tt=_e.nodeValue!==$)&&(j=xg,j!==null))switch(j.tag){case 3:Af(_e.nodeValue,$,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&Af(_e.nodeValue,$,(j.mode&1)!==0)}tt&&(_.flags|=4)}else _e=($.nodeType===9?$:$.ownerDocument).createTextNode(_e),_e[Of]=_,_.stateNode=_e}return S(_),null;case 13:if(E(L),_e=_.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(I&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,tt=!1;else if(tt=Gg(_),_e!==null&&_e.dehydrated!==null){if(j===null){if(!tt)throw Error(p$2(318));if(tt=_.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));tt[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S(_),tt=!1}else zg!==null&&(Fj(zg),zg=null),tt=!0;if(!tt)return _.flags&65536?_:null}return _.flags&128?(_.lanes=$,_):(_e=_e!==null,_e!==(j!==null&&j.memoizedState!==null)&&_e&&(_.child.flags|=8192,_.mode&1&&(j===null||L.current&1?T===0&&(T=3):tj())),_.updateQueue!==null&&(_.flags|=4),S(_),null);case 4:return zh(),Aj(j,_),j===null&&sf(_.stateNode.containerInfo),S(_),null;case 10:return ah(_.type._context),S(_),null;case 17:return Zf(_.type)&&$f(),S(_),null;case 19:if(E(L),tt=_.memoizedState,tt===null)return S(_),null;if(_e=(_.flags&128)!==0,rt=tt.rendering,rt===null)if(_e)Dj(tt,!1);else{if(T!==0||j!==null&&j.flags&128)for(j=_.child;j!==null;){if(rt=Ch(j),rt!==null){for(_.flags|=128,Dj(tt,!1),_e=rt.updateQueue,_e!==null&&(_.updateQueue=_e,_.flags|=4),_.subtreeFlags=0,_e=$,$=_.child;$!==null;)tt=$,j=_e,tt.flags&=14680066,rt=tt.alternate,rt===null?(tt.childLanes=0,tt.lanes=j,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=rt.childLanes,tt.lanes=rt.lanes,tt.child=rt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=rt.memoizedProps,tt.memoizedState=rt.memoizedState,tt.updateQueue=rt.updateQueue,tt.type=rt.type,j=rt.dependencies,tt.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),$=$.sibling;return G(L,L.current&1|2),_.child}j=j.sibling}tt.tail!==null&&B()>Gj&&(_.flags|=128,_e=!0,Dj(tt,!1),_.lanes=4194304)}else{if(!_e)if(j=Ch(rt),j!==null){if(_.flags|=128,_e=!0,$=j.updateQueue,$!==null&&(_.updateQueue=$,_.flags|=4),Dj(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!rt.alternate&&!I)return S(_),null}else 2*B()-tt.renderingStartTime>Gj&&$!==1073741824&&(_.flags|=128,_e=!0,Dj(tt,!1),_.lanes=4194304);tt.isBackwards?(rt.sibling=_.child,_.child=rt):($=tt.last,$!==null?$.sibling=rt:_.child=rt,tt.last=rt)}return tt.tail!==null?(_=tt.tail,tt.rendering=_,tt.tail=_.sibling,tt.renderingStartTime=B(),_.sibling=null,$=L.current,G(L,_e?$&1|2:$&1),_):(S(_),null);case 22:case 23:return Hj(),_e=_.memoizedState!==null,j!==null&&j.memoizedState!==null!==_e&&(_.flags|=8192),_e&&_.mode&1?fj&1073741824&&(S(_),_.subtreeFlags&6&&(_.flags|=8192)):S(_),null;case 24:return null;case 25:return null}throw Error(p$2(156,_.tag))}function Ij(j,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),j=_.flags,j&65536?(_.flags=j&-65537|128,_):null;case 3:return zh(),E(Wf),E(H),Eh(),j=_.flags,j&65536&&!(j&128)?(_.flags=j&-65537|128,_):null;case 5:return Bh(_),null;case 13:if(E(L),j=_.memoizedState,j!==null&&j.dehydrated!==null){if(_.alternate===null)throw Error(p$2(340));Ig()}return j=_.flags,j&65536?(_.flags=j&-65537|128,_):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(_.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(j,_){var $=j.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(_e){W(j,_,_e)}else $.current=null}function Mj(j,_,$){try{$()}catch(_e){W(j,_,_e)}}var Nj=!1;function Oj(j,_){if(Cf=dd,j=Me(),Ne(j)){if("selectionStart"in j)var $={start:j.selectionStart,end:j.selectionEnd};else e:{$=($=j.ownerDocument)&&$.defaultView||window;var _e=$.getSelection&&$.getSelection();if(_e&&_e.rangeCount!==0){$=_e.anchorNode;var et=_e.anchorOffset,tt=_e.focusNode;_e=_e.focusOffset;try{$.nodeType,tt.nodeType}catch{$=null;break e}var rt=0,nt=-1,st=-1,it=0,at=0,ot=j,ct=null;t:for(;;){for(var dt;ot!==$||et!==0&&ot.nodeType!==3||(nt=rt+et),ot!==tt||_e!==0&&ot.nodeType!==3||(st=rt+_e),ot.nodeType===3&&(rt+=ot.nodeValue.length),(dt=ot.firstChild)!==null;)ct=ot,ot=dt;for(;;){if(ot===j)break t;if(ct===$&&++it===et&&(nt=rt),ct===tt&&++at===_e&&(st=rt),(dt=ot.nextSibling)!==null)break;ot=ct,ct=ot.parentNode}ot=dt}$=nt===-1||st===-1?null:{start:nt,end:st}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:j,selectionRange:$},dd=!1,V=_;V!==null;)if(_=V,j=_.child,(_.subtreeFlags&1028)!==0&&j!==null)j.return=_,V=j;else for(;V!==null;){_=V;try{var pt=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var ut=pt.memoizedProps,lt=pt.memoizedState,ft=_.stateNode,ht=ft.getSnapshotBeforeUpdate(_.elementType===_.type?ut:Ci(_.type,ut),lt);ft.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var yt=_.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(vt){W(_,_.return,vt)}if(j=_.sibling,j!==null){j.return=_.return,V=j;break}V=_.return}return pt=Nj,Nj=!1,pt}function Pj(j,_,$){var _e=_.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&j)===j){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Mj(_,$,tt)}et=et.next}while(et!==_e)}}function Qj(j,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&j)===j){var _e=$.create;$.destroy=_e()}$=$.next}while($!==_)}}function Rj(j){var _=j.ref;if(_!==null){var $=j.stateNode;switch(j.tag){case 5:j=$;break;default:j=$}typeof _=="function"?_(j):_.current=j}}function Sj(j){var _=j.alternate;_!==null&&(j.alternate=null,Sj(_)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&(_=j.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of],delete _[Qf],delete _[Rf])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function Tj(j){return j.tag===5||j.tag===3||j.tag===4}function Uj(j){e:for(;;){for(;j.sibling===null;){if(j.return===null||Tj(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue e;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function Vj(j,_,$){var _e=j.tag;if(_e===5||_e===6)j=j.stateNode,_?$.nodeType===8?$.parentNode.insertBefore(j,_):$.insertBefore(j,_):($.nodeType===8?(_=$.parentNode,_.insertBefore(j,$)):(_=$,_.appendChild(j)),$=$._reactRootContainer,$!=null||_.onclick!==null||(_.onclick=Bf));else if(_e!==4&&(j=j.child,j!==null))for(Vj(j,_,$),j=j.sibling;j!==null;)Vj(j,_,$),j=j.sibling}function Wj(j,_,$){var _e=j.tag;if(_e===5||_e===6)j=j.stateNode,_?$.insertBefore(j,_):$.appendChild(j);else if(_e!==4&&(j=j.child,j!==null))for(Wj(j,_,$),j=j.sibling;j!==null;)Wj(j,_,$),j=j.sibling}var X$1=null,Xj=!1;function Yj(j,_,$){for($=$.child;$!==null;)Zj(j,_,$),$=$.sibling}function Zj(j,_,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,_);case 6:var _e=X$1,et=Xj;X$1=null,Yj(j,_,$),X$1=_e,Xj=et,X$1!==null&&(Xj?(j=X$1,$=$.stateNode,j.nodeType===8?j.parentNode.removeChild($):j.removeChild($)):X$1.removeChild($.stateNode));break;case 18:X$1!==null&&(Xj?(j=X$1,$=$.stateNode,j.nodeType===8?Kf(j.parentNode,$):j.nodeType===1&&Kf(j,$),bd(j)):Kf(X$1,$.stateNode));break;case 4:_e=X$1,et=Xj,X$1=$.stateNode.containerInfo,Xj=!0,Yj(j,_,$),X$1=_e,Xj=et;break;case 0:case 11:case 14:case 15:if(!U&&(_e=$.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){et=_e=_e.next;do{var tt=et,rt=tt.destroy;tt=tt.tag,rt!==void 0&&(tt&2||tt&4)&&Mj($,_,rt),et=et.next}while(et!==_e)}Yj(j,_,$);break;case 1:if(!U&&(Lj($,_),_e=$.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=$.memoizedProps,_e.state=$.memoizedState,_e.componentWillUnmount()}catch(nt){W($,_,nt)}Yj(j,_,$);break;case 21:Yj(j,_,$);break;case 22:$.mode&1?(U=(_e=U)||$.memoizedState!==null,Yj(j,_,$),U=_e):Yj(j,_,$);break;default:Yj(j,_,$)}}function ak(j){var _=j.updateQueue;if(_!==null){j.updateQueue=null;var $=j.stateNode;$===null&&($=j.stateNode=new Kj),_.forEach(function(_e){var et=bk.bind(null,j,_e);$.has(_e)||($.add(_e),_e.then(et,et))})}}function ck(j,_){var $=_.deletions;if($!==null)for(var _e=0;_e<$.length;_e++){var et=$[_e];try{var tt=j,rt=_,nt=rt;e:for(;nt!==null;){switch(nt.tag){case 5:X$1=nt.stateNode,Xj=!1;break e;case 3:X$1=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X$1===null)throw Error(p$2(160));Zj(tt,rt,et),X$1=null,Xj=!1;var st=et.alternate;st!==null&&(st.return=null),et.return=null}catch(it){W(et,_,it)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)dk(_,j),_=_.sibling}function dk(j,_){var $=j.alternate,_e=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(ck(_,j),ek(j),_e&4){try{Pj(3,j,j.return),Qj(3,j)}catch(ut){W(j,j.return,ut)}try{Pj(5,j,j.return)}catch(ut){W(j,j.return,ut)}}break;case 1:ck(_,j),ek(j),_e&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(_,j),ek(j),_e&512&&$!==null&&Lj($,$.return),j.flags&32){var et=j.stateNode;try{ob(et,"")}catch(ut){W(j,j.return,ut)}}if(_e&4&&(et=j.stateNode,et!=null)){var tt=j.memoizedProps,rt=$!==null?$.memoizedProps:tt,nt=j.type,st=j.updateQueue;if(j.updateQueue=null,st!==null)try{nt==="input"&&tt.type==="radio"&&tt.name!=null&&ab(et,tt),vb(nt,rt);var it=vb(nt,tt);for(rt=0;rt<st.length;rt+=2){var at=st[rt],ot=st[rt+1];at==="style"?sb(et,ot):at==="dangerouslySetInnerHTML"?nb(et,ot):at==="children"?ob(et,ot):ta(et,at,ot,it)}switch(nt){case"input":bb(et,tt);break;case"textarea":ib(et,tt);break;case"select":var ct=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var dt=tt.value;dt!=null?fb(et,!!tt.multiple,dt,!1):ct!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(ut){W(j,j.return,ut)}}break;case 6:if(ck(_,j),ek(j),_e&4){if(j.stateNode===null)throw Error(p$2(162));et=j.stateNode,tt=j.memoizedProps;try{et.nodeValue=tt}catch(ut){W(j,j.return,ut)}}break;case 3:if(ck(_,j),ek(j),_e&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(_.containerInfo)}catch(ut){W(j,j.return,ut)}break;case 4:ck(_,j),ek(j);break;case 13:ck(_,j),ek(j),et=j.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(fk=B())),_e&4&&ak(j);break;case 22:if(at=$!==null&&$.memoizedState!==null,j.mode&1?(U=(it=U)||at,ck(_,j),U=it):ck(_,j),ek(j),_e&8192){if(it=j.memoizedState!==null,(j.stateNode.isHidden=it)&&!at&&j.mode&1)for(V=j,at=j.child;at!==null;){for(ot=V=at;V!==null;){switch(ct=V,dt=ct.child,ct.tag){case 0:case 11:case 14:case 15:Pj(4,ct,ct.return);break;case 1:Lj(ct,ct.return);var pt=ct.stateNode;if(typeof pt.componentWillUnmount=="function"){_e=ct,$=ct.return;try{_=_e,pt.props=_.memoizedProps,pt.state=_.memoizedState,pt.componentWillUnmount()}catch(ut){W(_e,$,ut)}}break;case 5:Lj(ct,ct.return);break;case 22:if(ct.memoizedState!==null){gk(ot);continue}}dt!==null?(dt.return=ct,V=dt):gk(ot)}at=at.sibling}e:for(at=null,ot=j;;){if(ot.tag===5){if(at===null){at=ot;try{et=ot.stateNode,it?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(nt=ot.stateNode,st=ot.memoizedProps.style,rt=st!=null&&st.hasOwnProperty("display")?st.display:null,nt.style.display=rb("display",rt))}catch(ut){W(j,j.return,ut)}}}else if(ot.tag===6){if(at===null)try{ot.stateNode.nodeValue=it?"":ot.memoizedProps}catch(ut){W(j,j.return,ut)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===j)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===j)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===j)break e;at===ot&&(at=null),ot=ot.return}at===ot&&(at=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:ck(_,j),ek(j),_e&4&&ak(j);break;case 21:break;default:ck(_,j),ek(j)}}function ek(j){var _=j.flags;if(_&2){try{e:{for(var $=j.return;$!==null;){if(Tj($)){var _e=$;break e}$=$.return}throw Error(p$2(160))}switch(_e.tag){case 5:var et=_e.stateNode;_e.flags&32&&(ob(et,""),_e.flags&=-33);var tt=Uj(j);Wj(j,tt,et);break;case 3:case 4:var rt=_e.stateNode.containerInfo,nt=Uj(j);Vj(j,nt,rt);break;default:throw Error(p$2(161))}}catch(st){W(j,j.return,st)}j.flags&=-3}_&4096&&(j.flags&=-4097)}function hk(j,_,$){V=j,ik(j)}function ik(j,_,$){for(var _e=(j.mode&1)!==0;V!==null;){var et=V,tt=et.child;if(et.tag===22&&_e){var rt=et.memoizedState!==null||Jj;if(!rt){var nt=et.alternate,st=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var it=U;if(Jj=rt,(U=st)&&!it)for(V=et;V!==null;)rt=V,st=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(et):st!==null?(st.return=rt,V=st):jk(et);for(;tt!==null;)V=tt,ik(tt),tt=tt.sibling;V=et,Jj=nt,U=it}kk(j)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V=tt):kk(j)}}function kk(j){for(;V!==null;){var _=V;if(_.flags&8772){var $=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U||Qj(5,_);break;case 1:var _e=_.stateNode;if(_.flags&4&&!U)if($===null)_e.componentDidMount();else{var et=_.elementType===_.type?$.memoizedProps:Ci(_.type,$.memoizedProps);_e.componentDidUpdate(et,$.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var tt=_.updateQueue;tt!==null&&sh(_,tt,_e);break;case 3:var rt=_.updateQueue;if(rt!==null){if($=null,_.child!==null)switch(_.child.tag){case 5:$=_.child.stateNode;break;case 1:$=_.child.stateNode}sh(_,rt,$)}break;case 5:var nt=_.stateNode;if($===null&&_.flags&4){$=nt;var st=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&$.focus();break;case"img":st.src&&($.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var it=_.alternate;if(it!==null){var at=it.memoizedState;if(at!==null){var ot=at.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||_.flags&512&&Rj(_)}catch(ct){W(_,_.return,ct)}}if(_===j){V=null;break}if($=_.sibling,$!==null){$.return=_.return,V=$;break}V=_.return}}function gk(j){for(;V!==null;){var _=V;if(_===j){V=null;break}var $=_.sibling;if($!==null){$.return=_.return,V=$;break}V=_.return}}function jk(j){for(;V!==null;){var _=V;try{switch(_.tag){case 0:case 11:case 15:var $=_.return;try{Qj(4,_)}catch(st){W(_,$,st)}break;case 1:var _e=_.stateNode;if(typeof _e.componentDidMount=="function"){var et=_.return;try{_e.componentDidMount()}catch(st){W(_,et,st)}}var tt=_.return;try{Rj(_)}catch(st){W(_,tt,st)}break;case 5:var rt=_.return;try{Rj(_)}catch(st){W(_,rt,st)}}}catch(st){W(_,_.return,st)}if(_===j){V=null;break}var nt=_.sibling;if(nt!==null){nt.return=_.return,V=nt;break}V=_.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(j){return j.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(j=C,j!==0||(j=window.event,j=j===void 0?16:jd(j.type)),j):1}function gi(j,_,$,_e){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(j,$,_e),(!(K&2)||j!==Q)&&(j===Q&&(!(K&2)&&(qk|=$),T===4&&Ck(j,Z)),Dk(j,_e),$===1&&K===0&&!(_.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(j,_){var $=j.callbackNode;wc(j,_);var _e=uc(j,j===Q?Z:0);if(_e===0)$!==null&&bc($),j.callbackNode=null,j.callbackPriority=0;else if(_=_e&-_e,j.callbackPriority!==_){if($!=null&&bc($),_===1)j.tag===0?ig(Ek.bind(null,j)):hg(Ek.bind(null,j)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(_e)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,j))}j.callbackPriority=_,j.callbackNode=$}}function Gk(j,_){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var $=j.callbackNode;if(Hk()&&j.callbackNode!==$)return null;var _e=uc(j,j===Q?Z:0);if(_e===0)return null;if(_e&30||_e&j.expiredLanes||_)_=Ik(j,_e);else{_=_e;var et=K;K|=2;var tt=Jk();(Q!==j||Z!==_)&&(uk=null,Gj=B()+500,Kk(j,_));do try{Lk();break}catch(nt){Mk(j,nt)}while(!0);$g(),mk.current=tt,K=et,Y!==null?_=0:(Q=null,Z=0,_=T)}if(_!==0){if(_===2&&(et=xc(j),et!==0&&(_e=et,_=Nk(j,et))),_===1)throw $=pk,Kk(j,0),Ck(j,_e),Dk(j,B()),$;if(_===6)Ck(j,_e);else{if(et=j.current.alternate,!(_e&30)&&!Ok(et)&&(_=Ik(j,_e),_===2&&(tt=xc(j),tt!==0&&(_e=tt,_=Nk(j,tt))),_===1))throw $=pk,Kk(j,0),Ck(j,_e),Dk(j,B()),$;switch(j.finishedWork=et,j.finishedLanes=_e,_){case 0:case 1:throw Error(p$2(345));case 2:Pk(j,tk,uk);break;case 3:if(Ck(j,_e),(_e&130023424)===_e&&(_=fk+500-B(),10<_)){if(uc(j,0)!==0)break;if(et=j.suspendedLanes,(et&_e)!==_e){R(),j.pingedLanes|=j.suspendedLanes&et;break}j.timeoutHandle=Ff(Pk.bind(null,j,tk,uk),_);break}Pk(j,tk,uk);break;case 4:if(Ck(j,_e),(_e&4194240)===_e)break;for(_=j.eventTimes,et=-1;0<_e;){var rt=31-oc(_e);tt=1<<rt,rt=_[rt],rt>et&&(et=rt),_e&=~tt}if(_e=et,_e=B()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*lk(_e/1960))-_e,10<_e){j.timeoutHandle=Ff(Pk.bind(null,j,tk,uk),_e);break}Pk(j,tk,uk);break;case 5:Pk(j,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(j,B()),j.callbackNode===$?Gk.bind(null,j):null}function Nk(j,_){var $=sk;return j.current.memoizedState.isDehydrated&&(Kk(j,_).flags|=256),j=Ik(j,_),j!==2&&(_=tk,tk=$,_!==null&&Fj(_)),j}function Fj(j){tk===null?tk=j:tk.push.apply(tk,j)}function Ok(j){for(var _=j;;){if(_.flags&16384){var $=_.updateQueue;if($!==null&&($=$.stores,$!==null))for(var _e=0;_e<$.length;_e++){var et=$[_e],tt=et.getSnapshot;et=et.value;try{if(!He(tt(),et))return!1}catch{return!1}}}if($=_.child,_.subtreeFlags&16384&&$!==null)$.return=_,_=$;else{if(_===j)break;for(;_.sibling===null;){if(_.return===null||_.return===j)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Ck(j,_){for(_&=~rk,_&=~qk,j.suspendedLanes|=_,j.pingedLanes&=~_,j=j.expirationTimes;0<_;){var $=31-oc(_),_e=1<<$;j[$]=-1,_&=~_e}}function Ek(j){if(K&6)throw Error(p$2(327));Hk();var _=uc(j,0);if(!(_&1))return Dk(j,B()),null;var $=Ik(j,_);if(j.tag!==0&&$===2){var _e=xc(j);_e!==0&&(_=_e,$=Nk(j,_e))}if($===1)throw $=pk,Kk(j,0),Ck(j,_),Dk(j,B()),$;if($===6)throw Error(p$2(345));return j.finishedWork=j.current.alternate,j.finishedLanes=_,Pk(j,tk,uk),Dk(j,B()),null}function Qk(j,_){var $=K;K|=1;try{return j(_)}finally{K=$,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(j){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _=K;K|=1;var $=ok.transition,_e=C;try{if(ok.transition=null,C=1,j)return j()}finally{C=_e,ok.transition=$,K=_,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(j,_){j.finishedWork=null,j.finishedLanes=0;var $=j.timeoutHandle;if($!==-1&&(j.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var _e=$;switch(wg(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(_e);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(_e.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=j,Y=j=Pg(j.current,null),Z=fj=_,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_=0;_<fh.length;_++)if($=fh[_],_e=$.interleaved,_e!==null){$.interleaved=null;var et=_e.next,tt=$.pending;if(tt!==null){var rt=tt.next;tt.next=et,_e.next=rt}$.pending=_e}fh=null}return j}function Mk(j,_){do{var $=Y;try{if($g(),Fh.current=Rh,Ih){for(var _e=M.memoizedState;_e!==null;){var et=_e.queue;et!==null&&(et.pending=null),_e=_e.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,$===null||$.return===null){T=1,pk=_,Y=null;break}e:{var tt=j,rt=$.return,nt=$,st=_;if(_=Z,nt.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var it=st,at=nt,ot=at.tag;if(!(at.mode&1)&&(ot===0||ot===11||ot===15)){var ct=at.alternate;ct?(at.updateQueue=ct.updateQueue,at.memoizedState=ct.memoizedState,at.lanes=ct.lanes):(at.updateQueue=null,at.memoizedState=null)}var dt=Ui(rt);if(dt!==null){dt.flags&=-257,Vi(dt,rt,nt,tt,_),dt.mode&1&&Si(tt,it,_),_=dt,st=it;var pt=_.updateQueue;if(pt===null){var ut=new Set;ut.add(st),_.updateQueue=ut}else pt.add(st);break e}else{if(!(_&1)){Si(tt,it,_),tj();break e}st=Error(p$2(426))}}else if(I&&nt.mode&1){var lt=Ui(rt);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Vi(lt,rt,nt,tt,_),Jg(Ji(st,nt));break e}}tt=st=Ji(st,nt),T!==4&&(T=2),sk===null?sk=[tt]:sk.push(tt),tt=rt;do{switch(tt.tag){case 3:tt.flags|=65536,_&=-_,tt.lanes|=_;var ft=Ni(tt,st,_);ph(tt,ft);break e;case 1:nt=st;var ht=tt.type,yt=tt.stateNode;if(!(tt.flags&128)&&(typeof ht.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Ri===null||!Ri.has(yt)))){tt.flags|=65536,_&=-_,tt.lanes|=_;var vt=Qi(tt,nt,_);ph(tt,vt);break e}}tt=tt.return}while(tt!==null)}Sk($)}catch(gt){_=gt,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Jk(){var j=mk.current;return mk.current=Rh,j===null?Rh:j}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(j,_){var $=K;K|=2;var _e=Jk();(Q!==j||Z!==_)&&(uk=null,Kk(j,_));do try{Tk();break}catch(et){Mk(j,et)}while(!0);if($g(),K=$,mk.current=_e,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(j){var _=Vk(j.alternate,j,fj);j.memoizedProps=j.pendingProps,_===null?Sk(j):Y=_,nk.current=null}function Sk(j){var _=j;do{var $=_.alternate;if(j=_.return,_.flags&32768){if($=Ij($,_),$!==null){$.flags&=32767,Y=$;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,_,fj),$!==null){Y=$;return}if(_=_.sibling,_!==null){Y=_;return}Y=_=j}while(_!==null);T===0&&(T=5)}function Pk(j,_,$){var _e=C,et=ok.transition;try{ok.transition=null,C=1,Wk(j,_,$,_e)}finally{ok.transition=et,C=_e}return null}function Wk(j,_,$,_e){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));$=j.finishedWork;var et=j.finishedLanes;if($===null)return null;if(j.finishedWork=null,j.finishedLanes=0,$===j.current)throw Error(p$2(177));j.callbackNode=null,j.callbackPriority=0;var tt=$.lanes|$.childLanes;if(Bc(j,tt),j===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),tt=($.flags&15990)!==0,$.subtreeFlags&15990||tt){tt=ok.transition,ok.transition=null;var rt=C;C=1;var nt=K;K|=4,nk.current=null,Oj(j,$),dk($,j),Oe(Df),dd=!!Cf,Df=Cf=null,j.current=$,hk($),dc(),K=nt,C=rt,ok.transition=tt}else j.current=$;if(vk&&(vk=!1,wk=j,xk=et),tt=j.pendingLanes,tt===0&&(Ri=null),mc($.stateNode),Dk(j,B()),_!==null)for(_e=j.onRecoverableError,$=0;$<_.length;$++)et=_[$],_e(et.value,{componentStack:et.stack,digest:et.digest});if(Oi)throw Oi=!1,j=Pi,Pi=null,j;return xk&1&&j.tag!==0&&Hk(),tt=j.pendingLanes,tt&1?j===zk?yk++:(yk=0,zk=j):yk=0,jg(),null}function Hk(){if(wk!==null){var j=Dc(xk),_=ok.transition,$=C;try{if(ok.transition=null,C=16>j?16:j,wk===null)var _e=!1;else{if(j=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var et=K;for(K|=4,V=j.current;V!==null;){var tt=V,rt=tt.child;if(V.flags&16){var nt=tt.deletions;if(nt!==null){for(var st=0;st<nt.length;st++){var it=nt[st];for(V=it;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Pj(8,at,tt)}var ot=at.child;if(ot!==null)ot.return=at,V=ot;else for(;V!==null;){at=V;var ct=at.sibling,dt=at.return;if(Sj(at),at===it){V=null;break}if(ct!==null){ct.return=dt,V=ct;break}V=dt}}}var pt=tt.alternate;if(pt!==null){var ut=pt.child;if(ut!==null){pt.child=null;do{var lt=ut.sibling;ut.sibling=null,ut=lt}while(ut!==null)}}V=tt}}if(tt.subtreeFlags&2064&&rt!==null)rt.return=tt,V=rt;else e:for(;V!==null;){if(tt=V,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Pj(9,tt,tt.return)}var ft=tt.sibling;if(ft!==null){ft.return=tt.return,V=ft;break e}V=tt.return}}var ht=j.current;for(V=ht;V!==null;){rt=V;var yt=rt.child;if(rt.subtreeFlags&2064&&yt!==null)yt.return=rt,V=yt;else e:for(rt=ht;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(gt){W(nt,nt.return,gt)}if(nt===rt){V=null;break e}var vt=nt.sibling;if(vt!==null){vt.return=nt.return,V=vt;break e}V=nt.return}}if(K=et,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,j)}catch{}_e=!0}return _e}finally{C=$,ok.transition=_}}return!1}function Xk(j,_,$){_=Ji($,_),_=Ni(j,_,1),j=nh(j,_,1),_=R(),j!==null&&(Ac(j,1,_),Dk(j,_))}function W(j,_,$){if(j.tag===3)Xk(j,j,$);else for(;_!==null;){if(_.tag===3){Xk(_,j,$);break}else if(_.tag===1){var _e=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(Ri===null||!Ri.has(_e))){j=Ji($,j),j=Qi(_,j,1),_=nh(_,j,1),j=R(),_!==null&&(Ac(_,1,j),Dk(_,j));break}}_=_.return}}function Ti(j,_,$){var _e=j.pingCache;_e!==null&&_e.delete(_),_=R(),j.pingedLanes|=j.suspendedLanes&$,Q===j&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(j,0):rk|=$),Dk(j,_)}function Yk(j,_){_===0&&(j.mode&1?(_=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_=1);var $=R();j=ih(j,_),j!==null&&(Ac(j,_,$),Dk(j,$))}function uj(j){var _=j.memoizedState,$=0;_!==null&&($=_.retryLane),Yk(j,$)}function bk(j,_){var $=0;switch(j.tag){case 13:var _e=j.stateNode,et=j.memoizedState;et!==null&&($=et.retryLane);break;case 19:_e=j.stateNode;break;default:throw Error(p$2(314))}_e!==null&&_e.delete(_),Yk(j,$)}var Vk;Vk=function(j,_,$){if(j!==null)if(j.memoizedProps!==_.pendingProps||Wf.current)dh=!0;else{if(!(j.lanes&$)&&!(_.flags&128))return dh=!1,yj(j,_,$);dh=!!(j.flags&131072)}else dh=!1,I&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var _e=_.type;ij(j,_),j=_.pendingProps;var et=Yf(_,H.current);ch(_,$),et=Nh(null,_,_e,j,et,$);var tt=Sh();return _.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(_e)?(tt=!0,cg(_)):tt=!1,_.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh(_),et.updater=Ei,_.stateNode=et,et._reactInternals=_,Ii(_,_e,j,$),_=jj(null,_,_e,!0,tt,$)):(_.tag=0,I&&tt&&vg(_),Xi(null,_,et,$),_=_.child),_;case 16:_e=_.elementType;e:{switch(ij(j,_),j=_.pendingProps,et=_e._init,_e=et(_e._payload),_.type=_e,et=_.tag=Zk(_e),j=Ci(_e,j),et){case 0:_=cj(null,_,_e,j,$);break e;case 1:_=hj(null,_,_e,j,$);break e;case 11:_=Yi(null,_,_e,j,$);break e;case 14:_=$i(null,_,_e,Ci(_e.type,j),$);break e}throw Error(p$2(306,_e,""))}return _;case 0:return _e=_.type,et=_.pendingProps,et=_.elementType===_e?et:Ci(_e,et),cj(j,_,_e,et,$);case 1:return _e=_.type,et=_.pendingProps,et=_.elementType===_e?et:Ci(_e,et),hj(j,_,_e,et,$);case 3:e:{if(kj(_),j===null)throw Error(p$2(387));_e=_.pendingProps,tt=_.memoizedState,et=tt.element,lh(j,_),qh(_,_e,null,$);var rt=_.memoizedState;if(_e=rt.element,tt.isDehydrated)if(tt={element:_e,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},_.updateQueue.baseState=tt,_.memoizedState=tt,_.flags&256){et=Ji(Error(p$2(423)),_),_=lj(j,_,_e,$,et);break e}else if(_e!==et){et=Ji(Error(p$2(424)),_),_=lj(j,_,_e,$,et);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I=!0,zg=null,$=Vg(_,null,_e,$),_.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),_e===et){_=Zi(j,_,$);break e}Xi(j,_,_e,$)}_=_.child}return _;case 5:return Ah(_),j===null&&Eg(_),_e=_.type,et=_.pendingProps,tt=j!==null?j.memoizedProps:null,rt=et.children,Ef(_e,et)?rt=null:tt!==null&&Ef(_e,tt)&&(_.flags|=32),gj(j,_),Xi(j,_,rt,$),_.child;case 6:return j===null&&Eg(_),null;case 13:return oj(j,_,$);case 4:return yh(_,_.stateNode.containerInfo),_e=_.pendingProps,j===null?_.child=Ug(_,null,_e,$):Xi(j,_,_e,$),_.child;case 11:return _e=_.type,et=_.pendingProps,et=_.elementType===_e?et:Ci(_e,et),Yi(j,_,_e,et,$);case 7:return Xi(j,_,_.pendingProps,$),_.child;case 8:return Xi(j,_,_.pendingProps.children,$),_.child;case 12:return Xi(j,_,_.pendingProps.children,$),_.child;case 10:e:{if(_e=_.type._context,et=_.pendingProps,tt=_.memoizedProps,rt=et.value,G(Wg,_e._currentValue),_e._currentValue=rt,tt!==null)if(He(tt.value,rt)){if(tt.children===et.children&&!Wf.current){_=Zi(j,_,$);break e}}else for(tt=_.child,tt!==null&&(tt.return=_);tt!==null;){var nt=tt.dependencies;if(nt!==null){rt=tt.child;for(var st=nt.firstContext;st!==null;){if(st.context===_e){if(tt.tag===1){st=mh(-1,$&-$),st.tag=2;var it=tt.updateQueue;if(it!==null){it=it.shared;var at=it.pending;at===null?st.next=st:(st.next=at.next,at.next=st),it.pending=st}}tt.lanes|=$,st=tt.alternate,st!==null&&(st.lanes|=$),bh(tt.return,$,_),nt.lanes|=$;break}st=st.next}}else if(tt.tag===10)rt=tt.type===_.type?null:tt.child;else if(tt.tag===18){if(rt=tt.return,rt===null)throw Error(p$2(341));rt.lanes|=$,nt=rt.alternate,nt!==null&&(nt.lanes|=$),bh(rt,$,_),rt=tt.sibling}else rt=tt.child;if(rt!==null)rt.return=tt;else for(rt=tt;rt!==null;){if(rt===_){rt=null;break}if(tt=rt.sibling,tt!==null){tt.return=rt.return,rt=tt;break}rt=rt.return}tt=rt}Xi(j,_,et.children,$),_=_.child}return _;case 9:return et=_.type,_e=_.pendingProps.children,ch(_,$),et=eh(et),_e=_e(et),_.flags|=1,Xi(j,_,_e,$),_.child;case 14:return _e=_.type,et=Ci(_e,_.pendingProps),et=Ci(_e.type,et),$i(j,_,_e,et,$);case 15:return bj(j,_,_.type,_.pendingProps,$);case 17:return _e=_.type,et=_.pendingProps,et=_.elementType===_e?et:Ci(_e,et),ij(j,_),_.tag=1,Zf(_e)?(j=!0,cg(_)):j=!1,ch(_,$),Gi(_,_e,et),Ii(_,_e,et,$),jj(null,_,_e,!0,j,$);case 19:return xj(j,_,$);case 22:return dj(j,_,$)}throw Error(p$2(156,_.tag))};function Fk(j,_){return ac(j,_)}function $k(j,_,$,_e){this.tag=j,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(j,_,$,_e){return new $k(j,_,$,_e)}function aj(j){return j=j.prototype,!(!j||!j.isReactComponent)}function Zk(j){if(typeof j=="function")return aj(j)?1:0;if(j!=null){if(j=j.$$typeof,j===Da)return 11;if(j===Ga)return 14}return 2}function Pg(j,_){var $=j.alternate;return $===null?($=Bg(j.tag,_,j.key,j.mode),$.elementType=j.elementType,$.type=j.type,$.stateNode=j.stateNode,$.alternate=j,j.alternate=$):($.pendingProps=_,$.type=j.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=j.flags&14680064,$.childLanes=j.childLanes,$.lanes=j.lanes,$.child=j.child,$.memoizedProps=j.memoizedProps,$.memoizedState=j.memoizedState,$.updateQueue=j.updateQueue,_=j.dependencies,$.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},$.sibling=j.sibling,$.index=j.index,$.ref=j.ref,$}function Rg(j,_,$,_e,et,tt){var rt=2;if(_e=j,typeof j=="function")aj(j)&&(rt=1);else if(typeof j=="string")rt=5;else e:switch(j){case ya:return Tg($.children,et,tt,_);case za:rt=8,et|=8;break;case Aa:return j=Bg(12,$,_,et|2),j.elementType=Aa,j.lanes=tt,j;case Ea:return j=Bg(13,$,_,et),j.elementType=Ea,j.lanes=tt,j;case Fa:return j=Bg(19,$,_,et),j.elementType=Fa,j.lanes=tt,j;case Ia:return pj($,et,tt,_);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,_e=null;break e}throw Error(p$2(130,j==null?j:typeof j,""))}return _=Bg(rt,$,_,et),_.elementType=j,_.type=_e,_.lanes=tt,_}function Tg(j,_,$,_e){return j=Bg(7,j,_e,_),j.lanes=$,j}function pj(j,_,$,_e){return j=Bg(22,j,_e,_),j.elementType=Ia,j.lanes=$,j.stateNode={isHidden:!1},j}function Qg(j,_,$){return j=Bg(6,j,null,_),j.lanes=$,j}function Sg(j,_,$){return _=Bg(4,j.children!==null?j.children:[],j.key,_),_.lanes=$,_.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},_}function al(j,_,$,_e,et){this.tag=_,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_e,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl(j,_,$,_e,et,tt,rt,nt,st){return j=new al(j,_,$,nt,st),_===1?(_=1,tt===!0&&(_|=8)):_=0,tt=Bg(3,null,null,_),j.current=tt,tt.stateNode=j,tt.memoizedState={element:_e,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(tt),j}function cl(j,_,$){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_e==null?null:""+_e,children:j,containerInfo:_,implementation:$}}function dl(j){if(!j)return Vf;j=j._reactInternals;e:{if(Vb(j)!==j||j.tag!==1)throw Error(p$2(170));var _=j;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$2(171))}if(j.tag===1){var $=j.type;if(Zf($))return bg(j,$,_)}return _}function el(j,_,$,_e,et,tt,rt,nt,st){return j=bl($,_e,!0,j,et,tt,rt,nt,st),j.context=dl(null),$=j.current,_e=R(),et=yi($),tt=mh(_e,et),tt.callback=_??null,nh($,tt,et),j.current.lanes=et,Ac(j,et,_e),Dk(j,_e),j}function fl(j,_,$,_e){var et=_.current,tt=R(),rt=yi(et);return $=dl($),_.context===null?_.context=$:_.pendingContext=$,_=mh(tt,rt),_.payload={element:j},_e=_e===void 0?null:_e,_e!==null&&(_.callback=_e),j=nh(et,_,rt),j!==null&&(gi(j,et,rt,tt),oh(j,et,rt)),rt}function gl(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function hl(j,_){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var $=j.retryLane;j.retryLane=$!==0&&$<_?$:_}}function il(j,_){hl(j,_),(j=j.alternate)&&hl(j,_)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(j){console.error(j)};function ll(j){this._internalRoot=j}ml.prototype.render=ll.prototype.render=function(j){var _=this._internalRoot;if(_===null)throw Error(p$2(409));fl(j,_,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var _=j.containerInfo;Rk(function(){fl(null,j,null,null)}),_[uf]=null}};function ml(j){this._internalRoot=j}ml.prototype.unstable_scheduleHydration=function(j){if(j){var _=Hc();j={blockedOn:null,target:j,priority:_};for(var $=0;$<Qc.length&&_!==0&&_<Qc[$].priority;$++);Qc.splice($,0,j),$===0&&Vc(j)}};function nl(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function ol(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(j,_,$,_e,et){if(et){if(typeof _e=="function"){var tt=_e;_e=function(){var it=gl(rt);tt.call(it)}}var rt=el(_,_e,j,0,null,!1,!1,"",pl);return j._reactRootContainer=rt,j[uf]=rt.current,sf(j.nodeType===8?j.parentNode:j),Rk(),rt}for(;et=j.lastChild;)j.removeChild(et);if(typeof _e=="function"){var nt=_e;_e=function(){var it=gl(st);nt.call(it)}}var st=bl(j,0,!1,null,null,!1,!1,"",pl);return j._reactRootContainer=st,j[uf]=st.current,sf(j.nodeType===8?j.parentNode:j),Rk(function(){fl(_,st,$,_e)}),st}function rl(j,_,$,_e,et){var tt=$._reactRootContainer;if(tt){var rt=tt;if(typeof et=="function"){var nt=et;et=function(){var st=gl(rt);nt.call(st)}}fl(_,rt,j,et)}else rt=ql($,_,j,et,_e);return gl(rt)}Ec=function(j){switch(j.tag){case 3:var _=j.stateNode;if(_.current.memoizedState.isDehydrated){var $=tc(_.pendingLanes);$!==0&&(Cc(_,$|1),Dk(_,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var _e=ih(j,1);if(_e!==null){var et=R();gi(_e,j,1,et)}}),il(j,1)}};Fc=function(j){if(j.tag===13){var _=ih(j,134217728);if(_!==null){var $=R();gi(_,j,134217728,$)}il(j,134217728)}};Gc=function(j){if(j.tag===13){var _=yi(j),$=ih(j,_);if($!==null){var _e=R();gi($,j,_,_e)}il(j,_)}};Hc=function(){return C};Ic=function(j,_){var $=C;try{return C=j,_()}finally{C=$}};yb=function(j,_,$){switch(_){case"input":if(bb(j,$),_=$.name,$.type==="radio"&&_!=null){for($=j;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<$.length;_++){var _e=$[_];if(_e!==j&&_e.form===j.form){var et=Db(_e);if(!et)throw Error(p$2(90));Wa(_e),bb(_e,et)}}}break;case"textarea":ib(j,$);break;case"select":_=$.value,_!=null&&fb(j,!!$.multiple,_,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Zb(j),j===null?null:j.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(j,_){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_))throw Error(p$2(200));return cl(j,_,null,$)};reactDom_production_min.createRoot=function(j,_){if(!nl(j))throw Error(p$2(299));var $=!1,_e="",et=kl;return _!=null&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(_e=_.identifierPrefix),_.onRecoverableError!==void 0&&(et=_.onRecoverableError)),_=bl(j,1,!1,null,null,$,!1,_e,et),j[uf]=_.current,sf(j.nodeType===8?j.parentNode:j),new ll(_)};reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var _=j._reactInternals;if(_===void 0)throw typeof j.render=="function"?Error(p$2(188)):(j=Object.keys(j).join(","),Error(p$2(268,j)));return j=Zb(_),j=j===null?null:j.stateNode,j};reactDom_production_min.flushSync=function(j){return Rk(j)};reactDom_production_min.hydrate=function(j,_,$){if(!ol(_))throw Error(p$2(200));return rl(null,j,_,!0,$)};reactDom_production_min.hydrateRoot=function(j,_,$){if(!nl(j))throw Error(p$2(405));var _e=$!=null&&$.hydratedSources||null,et=!1,tt="",rt=kl;if($!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(rt=$.onRecoverableError)),_=el(_,null,j,1,$??null,et,!1,tt,rt),j[uf]=_.current,sf(j),_e)for(j=0;j<_e.length;j++)$=_e[j],et=$._getVersion,et=et($._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[$,et]:_.mutableSourceEagerHydrationData.push($,et);return new ml(_)};reactDom_production_min.render=function(j,_,$){if(!ol(_))throw Error(p$2(200));return rl(null,j,_,!1,$)};reactDom_production_min.unmountComponentAtNode=function(j){if(!ol(j))throw Error(p$2(40));return j._reactRootContainer?(Rk(function(){rl(null,null,j,!1,function(){j._reactRootContainer=null,j[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,_,$,_e){if(!ol($))throw Error(p$2(200));if(j==null||j._reactInternals===void 0)throw Error(p$2(38));return rl(j,_,$,!1,_e)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(j){console.error(j)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;function parse$1(j,_){if(j instanceof RegExp)return{keys:!1,pattern:j};var $,_e,et,tt,rt=[],nt="",st=j.split("/");for(st[0]||st.shift();et=st.shift();)$=et[0],$==="*"?(rt.push($),nt+=et[1]==="?"?"(?:/(.*))?":"/(.*)"):$===":"?(_e=et.indexOf("?",1),tt=et.indexOf(".",1),rt.push(et.substring(1,~_e?_e:~tt?tt:et.length)),nt+=~_e&&!~tt?"(?:/([^/]+?))?":"/([^/]+?)",~tt&&(nt+=(~_e?"?":"")+"\\"+et.substring(tt))):nt+="/"+et;return{keys:rt,pattern:new RegExp("^"+nt+(_?"(?=$|/)":"/?$"),"i")}}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$1(j,_){return j===_&&(j!==0||1/j===1/_)||j!==j&&_!==_}var k$2=typeof Object.is=="function"?Object.is:h$1,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$1=e$1.useDebugValue;function q$1(j,_){var $=_(),_e=l$1({inst:{value:$,getSnapshot:_}}),et=_e[0].inst,tt=_e[1];return n$2(function(){et.value=$,et.getSnapshot=_,r$2(et)&&tt({inst:et})},[j,$,_]),m$1(function(){return r$2(et)&&tt({inst:et}),j(function(){r$2(et)&&tt({inst:et})})},[j]),p$1($),$}function r$2(j){var _=j.getSnapshot;j=j.value;try{var $=_();return!k$2(j,$)}catch{return!0}}function t$2(j,_){return _()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const useBuiltinInsertionEffect=React$1.useInsertionEffect,canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$2=canUseDOM$1?reactExports.useLayoutEffect:reactExports.useEffect,useInsertionEffect=useBuiltinInsertionEffect||useIsomorphicLayoutEffect$2,useEvent=j=>{const _=reactExports.useRef([j,(...$)=>_[0](...$)]).current;return useInsertionEffect(()=>{_[0]=j}),_[1]},eventPopstate="popstate",eventPushState="pushState",eventReplaceState="replaceState",eventHashchange="hashchange",events=[eventPopstate,eventPushState,eventReplaceState,eventHashchange],subscribeToLocationUpdates=j=>{for(const _ of events)addEventListener(_,j);return()=>{for(const _ of events)removeEventListener(_,j)}},useLocationProperty=(j,_)=>shimExports.useSyncExternalStore(subscribeToLocationUpdates,j,_),currentSearch=()=>location.search,useSearch=({ssrSearch:j=""}={})=>useLocationProperty(currentSearch,()=>j),currentPathname=()=>location.pathname,usePathname=({ssrPath:j}={})=>useLocationProperty(currentPathname,j?()=>j:currentPathname),navigate=(j,{replace:_=!1,state:$=null}={})=>history[_?eventReplaceState:eventPushState]($,"",j),useBrowserLocation=(j={})=>[usePathname(j),navigate],patchKey=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[patchKey]>"u"){for(const j of[eventPushState,eventReplaceState]){const _=history[j];history[j]=function(){const $=_.apply(this,arguments),_e=new Event(j);return _e.arguments=arguments,dispatchEvent(_e),$}}Object.defineProperty(window,patchKey,{value:!0})}const _relativePath=(j,_)=>_.toLowerCase().indexOf(j.toLowerCase())?"~"+_:_.slice(j.length)||"/",baseDefaults=(j="")=>j==="/"?"":j,absolutePath=(j,_)=>j[0]==="~"?j.slice(1):baseDefaults(_)+j,relativePath=(j="",_)=>_relativePath(unescape$1(baseDefaults(j)),unescape$1(_)),unescape$1=j=>{try{return decodeURI(j)}catch{return j}},defaultRouter={hook:useBrowserLocation,searchHook:useSearch,parser:parse$1,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:j=>j},RouterCtx=reactExports.createContext(defaultRouter),useRouter=()=>reactExports.useContext(RouterCtx),Params0={},ParamsCtx=reactExports.createContext(Params0),useParams=()=>reactExports.useContext(ParamsCtx),useLocationFromRouter=j=>{const[_,$]=j.hook(j);return[relativePath(j.base,_),useEvent((_e,et)=>$(absolutePath(_e,j.base),et))]},useLocation=()=>useLocationFromRouter(useRouter()),matchRoute=(j,_,$,_e)=>{const{pattern:et,keys:tt}=_ instanceof RegExp?{keys:!1,pattern:_}:j(_||"*",_e),rt=et.exec($)||[],[nt,...st]=rt;return nt!==void 0?[!0,(()=>{const it=tt!==!1?Object.fromEntries(tt.map((ot,ct)=>[ot,st[ct]])):rt.groups;let at={...st};return it&&Object.assign(at,it),at})(),..._e?[nt]:[]]:[!1,null]},Router$1=({children:j,..._})=>{var at,ot;const $=useRouter(),_e=_.hook?defaultRouter:$;let et=_e;const[tt,rt]=((at=_.ssrPath)==null?void 0:at.split("?"))??[];rt&&(_.ssrSearch=rt,_.ssrPath=tt),_.hrefs=_.hrefs??((ot=_.hook)==null?void 0:ot.hrefs);let nt=reactExports.useRef({}),st=nt.current,it=st;for(let ct in _e){const dt=ct==="base"?_e[ct]+(_[ct]||""):_[ct]||_e[ct];st===it&&dt!==it[ct]&&(nt.current=it={...it}),it[ct]=dt,dt!==_e[ct]&&(et=it)}return reactExports.createElement(RouterCtx.Provider,{value:et,children:j})},h_route=({children:j,component:_},$)=>_?reactExports.createElement(_,{params:$}):typeof j=="function"?j($):j,useCachedParams=j=>{let _=reactExports.useRef(Params0),$=_.current;for(const _e in j)j[_e]!==$[_e]&&($=j);return Object.keys(j).length===0&&($=j),_.current=$},Route=({path:j,nest:_,match:$,..._e})=>{const et=useRouter(),[tt]=useLocationFromRouter(et),[rt,nt,st]=$??matchRoute(et.parser,j,tt,_),it=useCachedParams({...useParams(),...nt});if(!rt)return null;const at=st?reactExports.createElement(Router$1,{base:st},h_route(_e,it)):h_route(_e,it);return reactExports.createElement(ParamsCtx.Provider,{value:it,children:at})},Link=reactExports.forwardRef((j,_)=>{const $=useRouter(),[_e,et]=useLocationFromRouter($),{to:tt="",href:rt=tt,onClick:nt,asChild:st,children:it,className:at,replace:ot,state:ct,...dt}=j,pt=useEvent(lt=>{lt.ctrlKey||lt.metaKey||lt.altKey||lt.shiftKey||lt.button!==0||(nt==null||nt(lt),lt.defaultPrevented||(lt.preventDefault(),et(rt,j)))}),ut=$.hrefs(rt[0]==="~"?rt.slice(1):$.base+rt,$);return st&&reactExports.isValidElement(it)?reactExports.cloneElement(it,{onClick:pt,href:ut}):reactExports.createElement("a",{...dt,onClick:pt,href:ut,className:at!=null&&at.call?at(_e===rt):at,children:it,ref:_})}),flattenChildren=j=>Array.isArray(j)?j.flatMap(_=>flattenChildren(_&&_.type===reactExports.Fragment?_.props.children:_)):[j],Switch$2=({children:j,location:_})=>{const $=useRouter(),[_e]=useLocationFromRouter($);for(const et of flattenChildren(j)){let tt=0;if(reactExports.isValidElement(et)&&(tt=matchRoute($.parser,et.props.path,_||_e,et.props.nest))[0])return reactExports.cloneElement(et,{match:tt})}return null},Redirect=j=>{const{to:_,href:$=_}=j,[,_e]=useLocation(),et=useEvent(()=>_e(_||$,j));return useIsomorphicLayoutEffect$2(()=>{et()},[]),null};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(j){return this.listeners.add(j),this.onSubscribe(),()=>{this.listeners.delete(j),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$4(){}function functionalUpdate(j,_){return typeof j=="function"?j(_):j}function isValidTimeout(j){return typeof j=="number"&&j>=0&&j!==1/0}function timeUntilStale(j,_){return Math.max(j+(_||0)-Date.now(),0)}function resolveStaleTime(j,_){return typeof j=="function"?j(_):j}function resolveEnabled(j,_){return typeof j=="function"?j(_):j}function matchQuery(j,_){const{type:$="all",exact:_e,fetchStatus:et,predicate:tt,queryKey:rt,stale:nt}=j;if(rt){if(_e){if(_.queryHash!==hashQueryKeyByOptions(rt,_.options))return!1}else if(!partialMatchKey(_.queryKey,rt))return!1}if($!=="all"){const st=_.isActive();if($==="active"&&!st||$==="inactive"&&st)return!1}return!(typeof nt=="boolean"&&_.isStale()!==nt||et&&et!==_.state.fetchStatus||tt&&!tt(_))}function matchMutation(j,_){const{exact:$,status:_e,predicate:et,mutationKey:tt}=j;if(tt){if(!_.options.mutationKey)return!1;if($){if(hashKey(_.options.mutationKey)!==hashKey(tt))return!1}else if(!partialMatchKey(_.options.mutationKey,tt))return!1}return!(_e&&_.state.status!==_e||et&&!et(_))}function hashQueryKeyByOptions(j,_){return((_==null?void 0:_.queryKeyHashFn)||hashKey)(j)}function hashKey(j){return JSON.stringify(j,(_,$)=>isPlainObject$3($)?Object.keys($).sort().reduce((_e,et)=>(_e[et]=$[et],_e),{}):$)}function partialMatchKey(j,_){return j===_?!0:typeof j!=typeof _?!1:j&&_&&typeof j=="object"&&typeof _=="object"?!Object.keys(_).some($=>!partialMatchKey(j[$],_[$])):!1}function replaceEqualDeep(j,_){if(j===_)return j;const $=isPlainArray(j)&&isPlainArray(_);if($||isPlainObject$3(j)&&isPlainObject$3(_)){const _e=$?j:Object.keys(j),et=_e.length,tt=$?_:Object.keys(_),rt=tt.length,nt=$?[]:{};let st=0;for(let it=0;it<rt;it++){const at=$?it:tt[it];(!$&&_e.includes(at)||$)&&j[at]===void 0&&_[at]===void 0?(nt[at]=void 0,st++):(nt[at]=replaceEqualDeep(j[at],_[at]),nt[at]===j[at]&&j[at]!==void 0&&st++)}return et===rt&&st===et?j:nt}return _}function shallowEqualObjects(j,_){if(!_||Object.keys(j).length!==Object.keys(_).length)return!1;for(const $ in j)if(j[$]!==_[$])return!1;return!0}function isPlainArray(j){return Array.isArray(j)&&j.length===Object.keys(j).length}function isPlainObject$3(j){if(!hasObjectPrototype(j))return!1;const _=j.constructor;if(_===void 0)return!0;const $=_.prototype;return!(!hasObjectPrototype($)||!$.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(j)!==Object.prototype)}function hasObjectPrototype(j){return Object.prototype.toString.call(j)==="[object Object]"}function sleep(j){return new Promise(_=>{setTimeout(_,j)})}function replaceData(j,_,$){return typeof $.structuralSharing=="function"?$.structuralSharing(j,_):$.structuralSharing!==!1?replaceEqualDeep(j,_):_}function addToEnd(j,_,$=0){const _e=[...j,_];return $&&_e.length>$?_e.slice(1):_e}function addToStart(j,_,$=0){const _e=[_,...j];return $&&_e.length>$?_e.slice(0,-1):_e}var skipToken=Symbol();function ensureQueryFn(j,_){return!j.queryFn&&(_!=null&&_.initialPromise)?()=>_.initialPromise:!j.queryFn||j.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${j.queryHash}'`)):j.queryFn}var kn,Rn,qn,go,FocusManager=(go=class extends Subscribable{constructor(){super();nr(this,kn);nr(this,Rn);nr(this,qn);tr(this,qn,_=>{if(!isServer&&window.addEventListener){const $=()=>_();return window.addEventListener("visibilitychange",$,!1),()=>{window.removeEventListener("visibilitychange",$)}}})}onSubscribe(){_t(this,Rn)||this.setEventListener(_t(this,qn))}onUnsubscribe(){var _;this.hasListeners()||((_=_t(this,Rn))==null||_.call(this),tr(this,Rn,void 0))}setEventListener(_){var $;tr(this,qn,_),($=_t(this,Rn))==null||$.call(this),tr(this,Rn,_(_e=>{typeof _e=="boolean"?this.setFocused(_e):this.onFocus()}))}setFocused(_){_t(this,kn)!==_&&(tr(this,kn,_),this.onFocus())}onFocus(){const _=this.isFocused();this.listeners.forEach($=>{$(_)})}isFocused(){var _;return typeof _t(this,kn)=="boolean"?_t(this,kn):((_=globalThis.document)==null?void 0:_.visibilityState)!=="hidden"}},kn=new WeakMap,Rn=new WeakMap,qn=new WeakMap,go),focusManager=new FocusManager,Zn,Sn,Kn,yo,OnlineManager=(yo=class extends Subscribable{constructor(){super();nr(this,Zn,!0);nr(this,Sn);nr(this,Kn);tr(this,Kn,_=>{if(!isServer&&window.addEventListener){const $=()=>_(!0),_e=()=>_(!1);return window.addEventListener("online",$,!1),window.addEventListener("offline",_e,!1),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",_e)}}})}onSubscribe(){_t(this,Sn)||this.setEventListener(_t(this,Kn))}onUnsubscribe(){var _;this.hasListeners()||((_=_t(this,Sn))==null||_.call(this),tr(this,Sn,void 0))}setEventListener(_){var $;tr(this,Kn,_),($=_t(this,Sn))==null||$.call(this),tr(this,Sn,_(this.setOnline.bind(this)))}setOnline(_){_t(this,Zn)!==_&&(tr(this,Zn,_),this.listeners.forEach(_e=>{_e(_)}))}isOnline(){return _t(this,Zn)}},Zn=new WeakMap,Sn=new WeakMap,Kn=new WeakMap,yo),onlineManager=new OnlineManager;function pendingThenable(){let j,_;const $=new Promise((et,tt)=>{j=et,_=tt});$.status="pending",$.catch(()=>{});function _e(et){Object.assign($,et),delete $.resolve,delete $.reject}return $.resolve=et=>{_e({status:"fulfilled",value:et}),j(et)},$.reject=et=>{_e({status:"rejected",reason:et}),_(et)},$}function defaultRetryDelay(j){return Math.min(1e3*2**j,3e4)}function canFetch(j){return(j??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(j){super("CancelledError"),this.revert=j==null?void 0:j.revert,this.silent=j==null?void 0:j.silent}};function isCancelledError(j){return j instanceof CancelledError}function createRetryer(j){let _=!1,$=0,_e=!1,et;const tt=pendingThenable(),rt=ut=>{var lt;_e||(ct(new CancelledError(ut)),(lt=j.abort)==null||lt.call(j))},nt=()=>{_=!0},st=()=>{_=!1},it=()=>focusManager.isFocused()&&(j.networkMode==="always"||onlineManager.isOnline())&&j.canRun(),at=()=>canFetch(j.networkMode)&&j.canRun(),ot=ut=>{var lt;_e||(_e=!0,(lt=j.onSuccess)==null||lt.call(j,ut),et==null||et(),tt.resolve(ut))},ct=ut=>{var lt;_e||(_e=!0,(lt=j.onError)==null||lt.call(j,ut),et==null||et(),tt.reject(ut))},dt=()=>new Promise(ut=>{var lt;et=ft=>{(_e||it())&&ut(ft)},(lt=j.onPause)==null||lt.call(j)}).then(()=>{var ut;et=void 0,_e||(ut=j.onContinue)==null||ut.call(j)}),pt=()=>{if(_e)return;let ut;const lt=$===0?j.initialPromise:void 0;try{ut=lt??j.fn()}catch(ft){ut=Promise.reject(ft)}Promise.resolve(ut).then(ot).catch(ft=>{var bt;if(_e)return;const ht=j.retry??(isServer?0:3),yt=j.retryDelay??defaultRetryDelay,vt=typeof yt=="function"?yt($,ft):yt,gt=ht===!0||typeof ht=="number"&&$<ht||typeof ht=="function"&&ht($,ft);if(_||!gt){ct(ft);return}$++,(bt=j.onFail)==null||bt.call(j,$,ft),sleep(vt).then(()=>it()?void 0:dt()).then(()=>{_?ct(ft):pt()})})};return{promise:tt,cancel:rt,continue:()=>(et==null||et(),tt),cancelRetry:nt,continueRetry:st,canStart:at,start:()=>(at()?pt():dt().then(pt),tt)}}function createNotifyManager(){let j=[],_=0,$=nt=>{nt()},_e=nt=>{nt()},et=nt=>setTimeout(nt,0);const tt=nt=>{_?j.push(nt):et(()=>{$(nt)})},rt=()=>{const nt=j;j=[],nt.length&&et(()=>{_e(()=>{nt.forEach(st=>{$(st)})})})};return{batch:nt=>{let st;_++;try{st=nt()}finally{_--,_||rt()}return st},batchCalls:nt=>(...st)=>{tt(()=>{nt(...st)})},schedule:tt,setNotifyFunction:nt=>{$=nt},setBatchNotifyFunction:nt=>{_e=nt},setScheduler:nt=>{et=nt}}}var notifyManager=createNotifyManager(),In,vo,Removable=(vo=class{constructor(){nr(this,In)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&tr(this,In,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(j){this.gcTime=Math.max(this.gcTime||0,j??(isServer?1/0:5*60*1e3))}clearGcTimeout(){_t(this,In)&&(clearTimeout(_t(this,In)),tr(this,In,void 0))}},In=new WeakMap,vo),Gn,Yn,on,Jr,fs,Dn,un,xn,bo,Query=(bo=class extends Removable{constructor(_){super();nr(this,un);nr(this,Gn);nr(this,Yn);nr(this,on);nr(this,Jr);nr(this,fs);nr(this,Dn);tr(this,Dn,!1),tr(this,fs,_.defaultOptions),this.setOptions(_.options),this.observers=[],tr(this,on,_.cache),this.queryKey=_.queryKey,this.queryHash=_.queryHash,tr(this,Gn,getDefaultState$1(this.options)),this.state=_.state??_t(this,Gn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var _;return(_=_t(this,Jr))==null?void 0:_.promise}setOptions(_){this.options={..._t(this,fs),..._},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_t(this,on).remove(this)}setData(_,$){const _e=replaceData(this.state.data,_,this.options);return er(this,un,xn).call(this,{data:_e,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt,manual:$==null?void 0:$.manual}),_e}setState(_,$){er(this,un,xn).call(this,{type:"setState",state:_,setStateOptions:$})}cancel(_){var _e,et;const $=(_e=_t(this,Jr))==null?void 0:_e.promise;return(et=_t(this,Jr))==null||et.cancel(_),$?$.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_t(this,Gn))}isActive(){return this.observers.some(_=>resolveEnabled(_.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(_=>_.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(_=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,_)}onFocus(){var $;const _=this.observers.find(_e=>_e.shouldFetchOnWindowFocus());_==null||_.refetch({cancelRefetch:!1}),($=_t(this,Jr))==null||$.continue()}onOnline(){var $;const _=this.observers.find(_e=>_e.shouldFetchOnReconnect());_==null||_.refetch({cancelRefetch:!1}),($=_t(this,Jr))==null||$.continue()}addObserver(_){this.observers.includes(_)||(this.observers.push(_),this.clearGcTimeout(),_t(this,on).notify({type:"observerAdded",query:this,observer:_}))}removeObserver(_){this.observers.includes(_)&&(this.observers=this.observers.filter($=>$!==_),this.observers.length||(_t(this,Jr)&&(_t(this,Dn)?_t(this,Jr).cancel({revert:!0}):_t(this,Jr).cancelRetry()),this.scheduleGc()),_t(this,on).notify({type:"observerRemoved",query:this,observer:_}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||er(this,un,xn).call(this,{type:"invalidate"})}fetch(_,$){var st,it,at;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(_t(this,Jr))return _t(this,Jr).continueRetry(),_t(this,Jr).promise}if(_&&this.setOptions(_),!this.options.queryFn){const ot=this.observers.find(ct=>ct.options.queryFn);ot&&this.setOptions(ot.options)}const _e=new AbortController,et=ot=>{Object.defineProperty(ot,"signal",{enumerable:!0,get:()=>(tr(this,Dn,!0),_e.signal)})},tt=()=>{const ot=ensureQueryFn(this.options,$),ct={queryKey:this.queryKey,meta:this.meta};return et(ct),tr(this,Dn,!1),this.options.persister?this.options.persister(ot,ct,this):ot(ct)},rt={fetchOptions:$,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:tt};et(rt),(st=this.options.behavior)==null||st.onFetch(rt,this),tr(this,Yn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((it=rt.fetchOptions)==null?void 0:it.meta))&&er(this,un,xn).call(this,{type:"fetch",meta:(at=rt.fetchOptions)==null?void 0:at.meta});const nt=ot=>{var ct,dt,pt,ut;isCancelledError(ot)&&ot.silent||er(this,un,xn).call(this,{type:"error",error:ot}),isCancelledError(ot)||((dt=(ct=_t(this,on).config).onError)==null||dt.call(ct,ot,this),(ut=(pt=_t(this,on).config).onSettled)==null||ut.call(pt,this.state.data,ot,this)),this.scheduleGc()};return tr(this,Jr,createRetryer({initialPromise:$==null?void 0:$.initialPromise,fn:rt.fetchFn,abort:_e.abort.bind(_e),onSuccess:ot=>{var ct,dt,pt,ut;if(ot===void 0){nt(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(ot)}catch(lt){nt(lt);return}(dt=(ct=_t(this,on).config).onSuccess)==null||dt.call(ct,ot,this),(ut=(pt=_t(this,on).config).onSettled)==null||ut.call(pt,ot,this.state.error,this),this.scheduleGc()},onError:nt,onFail:(ot,ct)=>{er(this,un,xn).call(this,{type:"failed",failureCount:ot,error:ct})},onPause:()=>{er(this,un,xn).call(this,{type:"pause"})},onContinue:()=>{er(this,un,xn).call(this,{type:"continue"})},retry:rt.options.retry,retryDelay:rt.options.retryDelay,networkMode:rt.options.networkMode,canRun:()=>!0})),_t(this,Jr).start()}},Gn=new WeakMap,Yn=new WeakMap,on=new WeakMap,Jr=new WeakMap,fs=new WeakMap,Dn=new WeakMap,un=new WeakSet,xn=function(_){const $=_e=>{switch(_.type){case"failed":return{..._e,fetchFailureCount:_.failureCount,fetchFailureReason:_.error};case"pause":return{..._e,fetchStatus:"paused"};case"continue":return{..._e,fetchStatus:"fetching"};case"fetch":return{..._e,...fetchState(_e.data,this.options),fetchMeta:_.meta??null};case"success":return{..._e,data:_.data,dataUpdateCount:_e.dataUpdateCount+1,dataUpdatedAt:_.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!_.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const et=_.error;return isCancelledError(et)&&et.revert&&_t(this,Yn)?{..._t(this,Yn),fetchStatus:"idle"}:{..._e,error:et,errorUpdateCount:_e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:_e.fetchFailureCount+1,fetchFailureReason:et,fetchStatus:"idle",status:"error"};case"invalidate":return{..._e,isInvalidated:!0};case"setState":return{..._e,..._.state}}};this.state=$(this.state),notifyManager.batch(()=>{this.observers.forEach(_e=>{_e.onQueryUpdate()}),_t(this,on).notify({query:this,type:"updated",action:_})})},bo);function fetchState(j,_){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(_.networkMode)?"fetching":"paused",...j===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(j){const _=typeof j.initialData=="function"?j.initialData():j.initialData,$=_!==void 0,_e=$?typeof j.initialDataUpdatedAt=="function"?j.initialDataUpdatedAt():j.initialDataUpdatedAt:0;return{data:_,dataUpdateCount:0,dataUpdatedAt:$?_e??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:$?"success":"pending",fetchStatus:"idle"}}var dn,Eo,QueryCache=(Eo=class extends Subscribable{constructor(_={}){super();nr(this,dn);this.config=_,tr(this,dn,new Map)}build(_,$,_e){const et=$.queryKey,tt=$.queryHash??hashQueryKeyByOptions(et,$);let rt=this.get(tt);return rt||(rt=new Query({cache:this,queryKey:et,queryHash:tt,options:_.defaultQueryOptions($),state:_e,defaultOptions:_.getQueryDefaults(et)}),this.add(rt)),rt}add(_){_t(this,dn).has(_.queryHash)||(_t(this,dn).set(_.queryHash,_),this.notify({type:"added",query:_}))}remove(_){const $=_t(this,dn).get(_.queryHash);$&&(_.destroy(),$===_&&_t(this,dn).delete(_.queryHash),this.notify({type:"removed",query:_}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(_=>{this.remove(_)})})}get(_){return _t(this,dn).get(_)}getAll(){return[..._t(this,dn).values()]}find(_){const $={exact:!0,..._};return this.getAll().find(_e=>matchQuery($,_e))}findAll(_={}){const $=this.getAll();return Object.keys(_).length>0?$.filter(_e=>matchQuery(_,_e)):$}notify(_){notifyManager.batch(()=>{this.listeners.forEach($=>{$(_)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(_=>{_.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(_=>{_.onOnline()})})}},dn=new WeakMap,Eo),pn,en,Mn,fn,_n,jo,Mutation=(jo=class extends Removable{constructor(_){super();nr(this,fn);nr(this,pn);nr(this,en);nr(this,Mn);this.mutationId=_.mutationId,tr(this,en,_.mutationCache),tr(this,pn,[]),this.state=_.state||getDefaultState(),this.setOptions(_.options),this.scheduleGc()}setOptions(_){this.options=_,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(_){_t(this,pn).includes(_)||(_t(this,pn).push(_),this.clearGcTimeout(),_t(this,en).notify({type:"observerAdded",mutation:this,observer:_}))}removeObserver(_){tr(this,pn,_t(this,pn).filter($=>$!==_)),this.scheduleGc(),_t(this,en).notify({type:"observerRemoved",mutation:this,observer:_})}optionalRemove(){_t(this,pn).length||(this.state.status==="pending"?this.scheduleGc():_t(this,en).remove(this))}continue(){var _;return((_=_t(this,Mn))==null?void 0:_.continue())??this.execute(this.state.variables)}async execute(_){var et,tt,rt,nt,st,it,at,ot,ct,dt,pt,ut,lt,ft,ht,yt,vt,gt,bt,mt;tr(this,Mn,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(_):Promise.reject(new Error("No mutationFn found")),onFail:(Et,Rt)=>{er(this,fn,_n).call(this,{type:"failed",failureCount:Et,error:Rt})},onPause:()=>{er(this,fn,_n).call(this,{type:"pause"})},onContinue:()=>{er(this,fn,_n).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_t(this,en).canRun(this)}));const $=this.state.status==="pending",_e=!_t(this,Mn).canStart();try{if(!$){er(this,fn,_n).call(this,{type:"pending",variables:_,isPaused:_e}),await((tt=(et=_t(this,en).config).onMutate)==null?void 0:tt.call(et,_,this));const Rt=await((nt=(rt=this.options).onMutate)==null?void 0:nt.call(rt,_));Rt!==this.state.context&&er(this,fn,_n).call(this,{type:"pending",context:Rt,variables:_,isPaused:_e})}const Et=await _t(this,Mn).start();return await((it=(st=_t(this,en).config).onSuccess)==null?void 0:it.call(st,Et,_,this.state.context,this)),await((ot=(at=this.options).onSuccess)==null?void 0:ot.call(at,Et,_,this.state.context)),await((dt=(ct=_t(this,en).config).onSettled)==null?void 0:dt.call(ct,Et,null,this.state.variables,this.state.context,this)),await((ut=(pt=this.options).onSettled)==null?void 0:ut.call(pt,Et,null,_,this.state.context)),er(this,fn,_n).call(this,{type:"success",data:Et}),Et}catch(Et){try{throw await((ft=(lt=_t(this,en).config).onError)==null?void 0:ft.call(lt,Et,_,this.state.context,this)),await((yt=(ht=this.options).onError)==null?void 0:yt.call(ht,Et,_,this.state.context)),await((gt=(vt=_t(this,en).config).onSettled)==null?void 0:gt.call(vt,void 0,Et,this.state.variables,this.state.context,this)),await((mt=(bt=this.options).onSettled)==null?void 0:mt.call(bt,void 0,Et,_,this.state.context)),Et}finally{er(this,fn,_n).call(this,{type:"error",error:Et})}}finally{_t(this,en).runNext(this)}}},pn=new WeakMap,en=new WeakMap,Mn=new WeakMap,fn=new WeakSet,_n=function(_){const $=_e=>{switch(_.type){case"failed":return{..._e,failureCount:_.failureCount,failureReason:_.error};case"pause":return{..._e,isPaused:!0};case"continue":return{..._e,isPaused:!1};case"pending":return{..._e,context:_.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:_.isPaused,status:"pending",variables:_.variables,submittedAt:Date.now()};case"success":return{..._e,data:_.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{..._e,data:void 0,error:_.error,failureCount:_e.failureCount+1,failureReason:_.error,isPaused:!1,status:"error"}}};this.state=$(this.state),notifyManager.batch(()=>{_t(this,pn).forEach(_e=>{_e.onMutationUpdate(_)}),_t(this,en).notify({mutation:this,type:"updated",action:_})})},jo);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,hs,_o,MutationCache=(_o=class extends Subscribable{constructor(_={}){super();nr(this,sn);nr(this,hs);this.config=_,tr(this,sn,new Map),tr(this,hs,Date.now())}build(_,$,_e){const et=new Mutation({mutationCache:this,mutationId:++jn(this,hs)._,options:_.defaultMutationOptions($),state:_e});return this.add(et),et}add(_){const $=scopeFor(_),_e=_t(this,sn).get($)??[];_e.push(_),_t(this,sn).set($,_e),this.notify({type:"added",mutation:_})}remove(_){var _e;const $=scopeFor(_);if(_t(this,sn).has($)){const et=(_e=_t(this,sn).get($))==null?void 0:_e.filter(tt=>tt!==_);et&&(et.length===0?_t(this,sn).delete($):_t(this,sn).set($,et))}this.notify({type:"removed",mutation:_})}canRun(_){var _e;const $=(_e=_t(this,sn).get(scopeFor(_)))==null?void 0:_e.find(et=>et.state.status==="pending");return!$||$===_}runNext(_){var _e;const $=(_e=_t(this,sn).get(scopeFor(_)))==null?void 0:_e.find(et=>et!==_&&et.state.isPaused);return($==null?void 0:$.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(_=>{this.remove(_)})})}getAll(){return[..._t(this,sn).values()].flat()}find(_){const $={exact:!0,..._};return this.getAll().find(_e=>matchMutation($,_e))}findAll(_={}){return this.getAll().filter($=>matchMutation(_,$))}notify(_){notifyManager.batch(()=>{this.listeners.forEach($=>{$(_)})})}resumePausedMutations(){const _=this.getAll().filter($=>$.state.isPaused);return notifyManager.batch(()=>Promise.all(_.map($=>$.continue().catch(noop$4))))}},sn=new WeakMap,hs=new WeakMap,_o);function scopeFor(j){var _;return((_=j.options.scope)==null?void 0:_.id)??String(j.mutationId)}function infiniteQueryBehavior(j){return{onFetch:(_,$)=>{var at,ot,ct,dt,pt;const _e=_.options,et=(ct=(ot=(at=_.fetchOptions)==null?void 0:at.meta)==null?void 0:ot.fetchMore)==null?void 0:ct.direction,tt=((dt=_.state.data)==null?void 0:dt.pages)||[],rt=((pt=_.state.data)==null?void 0:pt.pageParams)||[];let nt={pages:[],pageParams:[]},st=0;const it=async()=>{let ut=!1;const lt=yt=>{Object.defineProperty(yt,"signal",{enumerable:!0,get:()=>(_.signal.aborted?ut=!0:_.signal.addEventListener("abort",()=>{ut=!0}),_.signal)})},ft=ensureQueryFn(_.options,_.fetchOptions),ht=async(yt,vt,gt)=>{if(ut)return Promise.reject();if(vt==null&&yt.pages.length)return Promise.resolve(yt);const bt={queryKey:_.queryKey,pageParam:vt,direction:gt?"backward":"forward",meta:_.options.meta};lt(bt);const mt=await ft(bt),{maxPages:Et}=_.options,Rt=gt?addToStart:addToEnd;return{pages:Rt(yt.pages,mt,Et),pageParams:Rt(yt.pageParams,vt,Et)}};if(et&&tt.length){const yt=et==="backward",vt=yt?getPreviousPageParam:getNextPageParam,gt={pages:tt,pageParams:rt},bt=vt(_e,gt);nt=await ht(gt,bt,yt)}else{const yt=j??tt.length;do{const vt=st===0?rt[0]??_e.initialPageParam:getNextPageParam(_e,nt);if(st>0&&vt==null)break;nt=await ht(nt,vt),st++}while(st<yt)}return nt};_.options.persister?_.fetchFn=()=>{var ut,lt;return(lt=(ut=_.options).persister)==null?void 0:lt.call(ut,it,{queryKey:_.queryKey,meta:_.options.meta,signal:_.signal},$)}:_.fetchFn=it}}}function getNextPageParam(j,{pages:_,pageParams:$}){const _e=_.length-1;return _.length>0?j.getNextPageParam(_[_e],_,$[_e],$):void 0}function getPreviousPageParam(j,{pages:_,pageParams:$}){var _e;return _.length>0?(_e=j.getPreviousPageParam)==null?void 0:_e.call(j,_[0],_,$[0],$):void 0}var Xr,wn,Cn,Xn,Qn,An,Jn,es,Ro,QueryClient=(Ro=class{constructor(j={}){nr(this,Xr);nr(this,wn);nr(this,Cn);nr(this,Xn);nr(this,Qn);nr(this,An);nr(this,Jn);nr(this,es);tr(this,Xr,j.queryCache||new QueryCache),tr(this,wn,j.mutationCache||new MutationCache),tr(this,Cn,j.defaultOptions||{}),tr(this,Xn,new Map),tr(this,Qn,new Map),tr(this,An,0)}mount(){jn(this,An)._++,_t(this,An)===1&&(tr(this,Jn,focusManager.subscribe(async j=>{j&&(await this.resumePausedMutations(),_t(this,Xr).onFocus())})),tr(this,es,onlineManager.subscribe(async j=>{j&&(await this.resumePausedMutations(),_t(this,Xr).onOnline())})))}unmount(){var j,_;jn(this,An)._--,_t(this,An)===0&&((j=_t(this,Jn))==null||j.call(this),tr(this,Jn,void 0),(_=_t(this,es))==null||_.call(this),tr(this,es,void 0))}isFetching(j){return _t(this,Xr).findAll({...j,fetchStatus:"fetching"}).length}isMutating(j){return _t(this,wn).findAll({...j,status:"pending"}).length}getQueryData(j){var $;const _=this.defaultQueryOptions({queryKey:j});return($=_t(this,Xr).get(_.queryHash))==null?void 0:$.state.data}ensureQueryData(j){const _=this.getQueryData(j.queryKey);if(_===void 0)return this.fetchQuery(j);{const $=this.defaultQueryOptions(j),_e=_t(this,Xr).build(this,$);return j.revalidateIfStale&&_e.isStaleByTime(resolveStaleTime($.staleTime,_e))&&this.prefetchQuery($),Promise.resolve(_)}}getQueriesData(j){return _t(this,Xr).findAll(j).map(({queryKey:_,state:$})=>{const _e=$.data;return[_,_e]})}setQueryData(j,_,$){const _e=this.defaultQueryOptions({queryKey:j}),et=_t(this,Xr).get(_e.queryHash),tt=et==null?void 0:et.state.data,rt=functionalUpdate(_,tt);if(rt!==void 0)return _t(this,Xr).build(this,_e).setData(rt,{...$,manual:!0})}setQueriesData(j,_,$){return notifyManager.batch(()=>_t(this,Xr).findAll(j).map(({queryKey:_e})=>[_e,this.setQueryData(_e,_,$)]))}getQueryState(j){var $;const _=this.defaultQueryOptions({queryKey:j});return($=_t(this,Xr).get(_.queryHash))==null?void 0:$.state}removeQueries(j){const _=_t(this,Xr);notifyManager.batch(()=>{_.findAll(j).forEach($=>{_.remove($)})})}resetQueries(j,_){const $=_t(this,Xr),_e={type:"active",...j};return notifyManager.batch(()=>($.findAll(j).forEach(et=>{et.reset()}),this.refetchQueries(_e,_)))}cancelQueries(j={},_={}){const $={revert:!0,..._},_e=notifyManager.batch(()=>_t(this,Xr).findAll(j).map(et=>et.cancel($)));return Promise.all(_e).then(noop$4).catch(noop$4)}invalidateQueries(j={},_={}){return notifyManager.batch(()=>{if(_t(this,Xr).findAll(j).forEach(_e=>{_e.invalidate()}),j.refetchType==="none")return Promise.resolve();const $={...j,type:j.refetchType??j.type??"active"};return this.refetchQueries($,_)})}refetchQueries(j={},_){const $={..._,cancelRefetch:(_==null?void 0:_.cancelRefetch)??!0},_e=notifyManager.batch(()=>_t(this,Xr).findAll(j).filter(et=>!et.isDisabled()).map(et=>{let tt=et.fetch(void 0,$);return $.throwOnError||(tt=tt.catch(noop$4)),et.state.fetchStatus==="paused"?Promise.resolve():tt}));return Promise.all(_e).then(noop$4)}fetchQuery(j){const _=this.defaultQueryOptions(j);_.retry===void 0&&(_.retry=!1);const $=_t(this,Xr).build(this,_);return $.isStaleByTime(resolveStaleTime(_.staleTime,$))?$.fetch(_):Promise.resolve($.state.data)}prefetchQuery(j){return this.fetchQuery(j).then(noop$4).catch(noop$4)}fetchInfiniteQuery(j){return j.behavior=infiniteQueryBehavior(j.pages),this.fetchQuery(j)}prefetchInfiniteQuery(j){return this.fetchInfiniteQuery(j).then(noop$4).catch(noop$4)}ensureInfiniteQueryData(j){return j.behavior=infiniteQueryBehavior(j.pages),this.ensureQueryData(j)}resumePausedMutations(){return onlineManager.isOnline()?_t(this,wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _t(this,Xr)}getMutationCache(){return _t(this,wn)}getDefaultOptions(){return _t(this,Cn)}setDefaultOptions(j){tr(this,Cn,j)}setQueryDefaults(j,_){_t(this,Xn).set(hashKey(j),{queryKey:j,defaultOptions:_})}getQueryDefaults(j){const _=[..._t(this,Xn).values()];let $={};return _.forEach(_e=>{partialMatchKey(j,_e.queryKey)&&($={...$,..._e.defaultOptions})}),$}setMutationDefaults(j,_){_t(this,Qn).set(hashKey(j),{mutationKey:j,defaultOptions:_})}getMutationDefaults(j){const _=[..._t(this,Qn).values()];let $={};return _.forEach(_e=>{partialMatchKey(j,_e.mutationKey)&&($={...$,..._e.defaultOptions})}),$}defaultQueryOptions(j){if(j._defaulted)return j;const _={..._t(this,Cn).queries,...this.getQueryDefaults(j.queryKey),...j,_defaulted:!0};return _.queryHash||(_.queryHash=hashQueryKeyByOptions(_.queryKey,_)),_.refetchOnReconnect===void 0&&(_.refetchOnReconnect=_.networkMode!=="always"),_.throwOnError===void 0&&(_.throwOnError=!!_.suspense),!_.networkMode&&_.persister&&(_.networkMode="offlineFirst"),_.enabled!==!0&&_.queryFn===skipToken&&(_.enabled=!1),_}defaultMutationOptions(j){return j!=null&&j._defaulted?j:{..._t(this,Cn).mutations,...(j==null?void 0:j.mutationKey)&&this.getMutationDefaults(j.mutationKey),...j,_defaulted:!0}}clear(){_t(this,Xr).clear(),_t(this,wn).clear()}},Xr=new WeakMap,wn=new WeakMap,Cn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,An=new WeakMap,Jn=new WeakMap,es=new WeakMap,Ro),rn,qr,ms,tn,Fn,ts,Tn,hn,xs,rs,ns,Ln,Bn,Pn,ss,Kr,is,Os,ks,Is,Ds,Ms,Fs,Ls,Co,So,QueryObserver=(So=class extends Subscribable{constructor(_,$){super();nr(this,Kr);nr(this,rn);nr(this,qr);nr(this,ms);nr(this,tn);nr(this,Fn);nr(this,ts);nr(this,Tn);nr(this,hn);nr(this,xs);nr(this,rs);nr(this,ns);nr(this,Ln);nr(this,Bn);nr(this,Pn);nr(this,ss,new Set);this.options=$,tr(this,rn,_),tr(this,hn,null),tr(this,Tn,pendingThenable()),this.options.experimental_prefetchInRender||_t(this,Tn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions($)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_t(this,qr).addObserver(this),shouldFetchOnMount(_t(this,qr),this.options)?er(this,Kr,is).call(this):this.updateResult(),er(this,Kr,Ds).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(_t(this,qr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(_t(this,qr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,er(this,Kr,Ms).call(this),er(this,Kr,Fs).call(this),_t(this,qr).removeObserver(this)}setOptions(_,$){const _e=this.options,et=_t(this,qr);if(this.options=_t(this,rn).defaultQueryOptions(_),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,_t(this,qr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");er(this,Kr,Ls).call(this),_t(this,qr).setOptions(this.options),_e._defaulted&&!shallowEqualObjects(this.options,_e)&&_t(this,rn).getQueryCache().notify({type:"observerOptionsUpdated",query:_t(this,qr),observer:this});const tt=this.hasListeners();tt&&shouldFetchOptionally(_t(this,qr),et,this.options,_e)&&er(this,Kr,is).call(this),this.updateResult($),tt&&(_t(this,qr)!==et||resolveEnabled(this.options.enabled,_t(this,qr))!==resolveEnabled(_e.enabled,_t(this,qr))||resolveStaleTime(this.options.staleTime,_t(this,qr))!==resolveStaleTime(_e.staleTime,_t(this,qr)))&&er(this,Kr,Os).call(this);const rt=er(this,Kr,ks).call(this);tt&&(_t(this,qr)!==et||resolveEnabled(this.options.enabled,_t(this,qr))!==resolveEnabled(_e.enabled,_t(this,qr))||rt!==_t(this,Pn))&&er(this,Kr,Is).call(this,rt)}getOptimisticResult(_){const $=_t(this,rn).getQueryCache().build(_t(this,rn),_),_e=this.createResult($,_);return shouldAssignObserverCurrentProperties(this,_e)&&(tr(this,tn,_e),tr(this,ts,this.options),tr(this,Fn,_t(this,qr).state)),_e}getCurrentResult(){return _t(this,tn)}trackResult(_,$){const _e={};return Object.keys(_).forEach(et=>{Object.defineProperty(_e,et,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(et),$==null||$(et),_[et])})}),_e}trackProp(_){_t(this,ss).add(_)}getCurrentQuery(){return _t(this,qr)}refetch({..._}={}){return this.fetch({..._})}fetchOptimistic(_){const $=_t(this,rn).defaultQueryOptions(_),_e=_t(this,rn).getQueryCache().build(_t(this,rn),$);return _e.fetch().then(()=>this.createResult(_e,$))}fetch(_){return er(this,Kr,is).call(this,{..._,cancelRefetch:_.cancelRefetch??!0}).then(()=>(this.updateResult(),_t(this,tn)))}createResult(_,$){var Et;const _e=_t(this,qr),et=this.options,tt=_t(this,tn),rt=_t(this,Fn),nt=_t(this,ts),it=_!==_e?_.state:_t(this,ms),{state:at}=_;let ot={...at},ct=!1,dt;if($._optimisticResults){const Rt=this.hasListeners(),Tt=!Rt&&shouldFetchOnMount(_,$),jt=Rt&&shouldFetchOptionally(_,_e,$,et);(Tt||jt)&&(ot={...ot,...fetchState(at.data,_.options)}),$._optimisticResults==="isRestoring"&&(ot.fetchStatus="idle")}let{error:pt,errorUpdatedAt:ut,status:lt}=ot;if($.select&&ot.data!==void 0)if(tt&&ot.data===(rt==null?void 0:rt.data)&&$.select===_t(this,xs))dt=_t(this,rs);else try{tr(this,xs,$.select),dt=$.select(ot.data),dt=replaceData(tt==null?void 0:tt.data,dt,$),tr(this,rs,dt),tr(this,hn,null)}catch(Rt){tr(this,hn,Rt)}else dt=ot.data;if($.placeholderData!==void 0&&dt===void 0&&lt==="pending"){let Rt;if(tt!=null&&tt.isPlaceholderData&&$.placeholderData===(nt==null?void 0:nt.placeholderData))Rt=tt.data;else if(Rt=typeof $.placeholderData=="function"?$.placeholderData((Et=_t(this,ns))==null?void 0:Et.state.data,_t(this,ns)):$.placeholderData,$.select&&Rt!==void 0)try{Rt=$.select(Rt),tr(this,hn,null)}catch(Tt){tr(this,hn,Tt)}Rt!==void 0&&(lt="success",dt=replaceData(tt==null?void 0:tt.data,Rt,$),ct=!0)}_t(this,hn)&&(pt=_t(this,hn),dt=_t(this,rs),ut=Date.now(),lt="error");const ft=ot.fetchStatus==="fetching",ht=lt==="pending",yt=lt==="error",vt=ht&&ft,gt=dt!==void 0,mt={status:lt,fetchStatus:ot.fetchStatus,isPending:ht,isSuccess:lt==="success",isError:yt,isInitialLoading:vt,isLoading:vt,data:dt,dataUpdatedAt:ot.dataUpdatedAt,error:pt,errorUpdatedAt:ut,failureCount:ot.fetchFailureCount,failureReason:ot.fetchFailureReason,errorUpdateCount:ot.errorUpdateCount,isFetched:ot.dataUpdateCount>0||ot.errorUpdateCount>0,isFetchedAfterMount:ot.dataUpdateCount>it.dataUpdateCount||ot.errorUpdateCount>it.errorUpdateCount,isFetching:ft,isRefetching:ft&&!ht,isLoadingError:yt&&!gt,isPaused:ot.fetchStatus==="paused",isPlaceholderData:ct,isRefetchError:yt&&gt,isStale:isStale(_,$),refetch:this.refetch,promise:_t(this,Tn)};if(this.options.experimental_prefetchInRender){const Rt=xt=>{mt.status==="error"?xt.reject(mt.error):mt.data!==void 0&&xt.resolve(mt.data)},Tt=()=>{const xt=tr(this,Tn,mt.promise=pendingThenable());Rt(xt)},jt=_t(this,Tn);switch(jt.status){case"pending":_.queryHash===_e.queryHash&&Rt(jt);break;case"fulfilled":(mt.status==="error"||mt.data!==jt.value)&&Tt();break;case"rejected":(mt.status!=="error"||mt.error!==jt.reason)&&Tt();break}}return mt}updateResult(_){const $=_t(this,tn),_e=this.createResult(_t(this,qr),this.options);if(tr(this,Fn,_t(this,qr).state),tr(this,ts,this.options),_t(this,Fn).data!==void 0&&tr(this,ns,_t(this,qr)),shallowEqualObjects(_e,$))return;tr(this,tn,_e);const et={},tt=()=>{if(!$)return!0;const{notifyOnChangeProps:rt}=this.options,nt=typeof rt=="function"?rt():rt;if(nt==="all"||!nt&&!_t(this,ss).size)return!0;const st=new Set(nt??_t(this,ss));return this.options.throwOnError&&st.add("error"),Object.keys(_t(this,tn)).some(it=>{const at=it;return _t(this,tn)[at]!==$[at]&&st.has(at)})};(_==null?void 0:_.listeners)!==!1&&tt()&&(et.listeners=!0),er(this,Kr,Co).call(this,{...et,..._})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&er(this,Kr,Ds).call(this)}},rn=new WeakMap,qr=new WeakMap,ms=new WeakMap,tn=new WeakMap,Fn=new WeakMap,ts=new WeakMap,Tn=new WeakMap,hn=new WeakMap,xs=new WeakMap,rs=new WeakMap,ns=new WeakMap,Ln=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,ss=new WeakMap,Kr=new WeakSet,is=function(_){er(this,Kr,Ls).call(this);let $=_t(this,qr).fetch(this.options,_);return _!=null&&_.throwOnError||($=$.catch(noop$4)),$},Os=function(){er(this,Kr,Ms).call(this);const _=resolveStaleTime(this.options.staleTime,_t(this,qr));if(isServer||_t(this,tn).isStale||!isValidTimeout(_))return;const _e=timeUntilStale(_t(this,tn).dataUpdatedAt,_)+1;tr(this,Ln,setTimeout(()=>{_t(this,tn).isStale||this.updateResult()},_e))},ks=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_t(this,qr)):this.options.refetchInterval)??!1},Is=function(_){er(this,Kr,Fs).call(this),tr(this,Pn,_),!(isServer||resolveEnabled(this.options.enabled,_t(this,qr))===!1||!isValidTimeout(_t(this,Pn))||_t(this,Pn)===0)&&tr(this,Bn,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&er(this,Kr,is).call(this)},_t(this,Pn)))},Ds=function(){er(this,Kr,Os).call(this),er(this,Kr,Is).call(this,er(this,Kr,ks).call(this))},Ms=function(){_t(this,Ln)&&(clearTimeout(_t(this,Ln)),tr(this,Ln,void 0))},Fs=function(){_t(this,Bn)&&(clearInterval(_t(this,Bn)),tr(this,Bn,void 0))},Ls=function(){const _=_t(this,rn).getQueryCache().build(_t(this,rn),this.options);if(_===_t(this,qr))return;const $=_t(this,qr);tr(this,qr,_),tr(this,ms,_.state),this.hasListeners()&&($==null||$.removeObserver(this),_.addObserver(this))},Co=function(_){notifyManager.batch(()=>{_.listeners&&this.listeners.forEach($=>{$(_t(this,tn))}),_t(this,rn).getQueryCache().notify({query:_t(this,qr),type:"observerResultsUpdated"})})},So);function shouldLoadOnMount(j,_){return resolveEnabled(_.enabled,j)!==!1&&j.state.data===void 0&&!(j.state.status==="error"&&_.retryOnMount===!1)}function shouldFetchOnMount(j,_){return shouldLoadOnMount(j,_)||j.state.data!==void 0&&shouldFetchOn(j,_,_.refetchOnMount)}function shouldFetchOn(j,_,$){if(resolveEnabled(_.enabled,j)!==!1){const _e=typeof $=="function"?$(j):$;return _e==="always"||_e!==!1&&isStale(j,_)}return!1}function shouldFetchOptionally(j,_,$,_e){return(j!==_||resolveEnabled(_e.enabled,j)===!1)&&(!$.suspense||j.state.status!=="error")&&isStale(j,$)}function isStale(j,_){return resolveEnabled(_.enabled,j)!==!1&&j.isStaleByTime(resolveStaleTime(_.staleTime,j))}function shouldAssignObserverCurrentProperties(j,_){return!shallowEqualObjects(j.getCurrentResult(),_)}var $n,Nn,nn,yn,vn,gs,Bs,wo,MutationObserver$1=(wo=class extends Subscribable{constructor($,_e){super();nr(this,vn);nr(this,$n);nr(this,Nn);nr(this,nn);nr(this,yn);tr(this,$n,$),this.setOptions(_e),this.bindMethods(),er(this,vn,gs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions($){var et;const _e=this.options;this.options=_t(this,$n).defaultMutationOptions($),shallowEqualObjects(this.options,_e)||_t(this,$n).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_t(this,nn),observer:this}),_e!=null&&_e.mutationKey&&this.options.mutationKey&&hashKey(_e.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((et=_t(this,nn))==null?void 0:et.state.status)==="pending"&&_t(this,nn).setOptions(this.options)}onUnsubscribe(){var $;this.hasListeners()||($=_t(this,nn))==null||$.removeObserver(this)}onMutationUpdate($){er(this,vn,gs).call(this),er(this,vn,Bs).call(this,$)}getCurrentResult(){return _t(this,Nn)}reset(){var $;($=_t(this,nn))==null||$.removeObserver(this),tr(this,nn,void 0),er(this,vn,gs).call(this),er(this,vn,Bs).call(this)}mutate($,_e){var et;return tr(this,yn,_e),(et=_t(this,nn))==null||et.removeObserver(this),tr(this,nn,_t(this,$n).getMutationCache().build(_t(this,$n),this.options)),_t(this,nn).addObserver(this),_t(this,nn).execute($)}},$n=new WeakMap,Nn=new WeakMap,nn=new WeakMap,yn=new WeakMap,vn=new WeakSet,gs=function(){var _e;const $=((_e=_t(this,nn))==null?void 0:_e.state)??getDefaultState();tr(this,Nn,{...$,isPending:$.status==="pending",isSuccess:$.status==="success",isError:$.status==="error",isIdle:$.status==="idle",mutate:this.mutate,reset:this.reset})},Bs=function($){notifyManager.batch(()=>{var _e,et,tt,rt,nt,st,it,at;if(_t(this,yn)&&this.hasListeners()){const ot=_t(this,Nn).variables,ct=_t(this,Nn).context;($==null?void 0:$.type)==="success"?((et=(_e=_t(this,yn)).onSuccess)==null||et.call(_e,$.data,ot,ct),(rt=(tt=_t(this,yn)).onSettled)==null||rt.call(tt,$.data,null,ot,ct)):($==null?void 0:$.type)==="error"&&((st=(nt=_t(this,yn)).onError)==null||st.call(nt,$.error,ot,ct),(at=(it=_t(this,yn)).onSettled)==null||at.call(it,void 0,$.error,ot,ct))}this.listeners.forEach(ot=>{ot(_t(this,Nn))})})},wo),QueryClientContext=reactExports.createContext(void 0),useQueryClient=j=>{const _=reactExports.useContext(QueryClientContext);if(!_)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _},QueryClientProvider=({client:j,children:_})=>(reactExports.useEffect(()=>(j.mount(),()=>{j.unmount()}),[j]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:j,children:_})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let j=!1;return{clearReset:()=>{j=!1},reset:()=>{j=!0},isReset:()=>j}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(j,_){return typeof j=="function"?j(..._):!!j}function noop$3(){}var ensurePreventErrorBoundaryRetry=(j,_)=>{(j.suspense||j.throwOnError||j.experimental_prefetchInRender)&&(_.isReset()||(j.retryOnMount=!1))},useClearResetErrorBoundary=j=>{reactExports.useEffect(()=>{j.clearReset()},[j])},getHasError=({result:j,errorResetBoundary:_,throwOnError:$,query:_e})=>j.isError&&!_.isReset()&&!j.isFetching&&_e&&shouldThrowError($,[j.error,_e]),ensureSuspenseTimers=j=>{j.suspense&&(j.staleTime===void 0&&(j.staleTime=1e3),typeof j.gcTime=="number"&&(j.gcTime=Math.max(j.gcTime,1e3)))},willFetch=(j,_)=>j.isLoading&&j.isFetching&&!_,shouldSuspend=(j,_)=>(j==null?void 0:j.suspense)&&_.isPending,fetchOptimistic=(j,_,$)=>_.fetchOptimistic(j).catch(()=>{$.clearReset()});function useBaseQuery(j,_,$){var at,ot,ct,dt,pt;const _e=useQueryClient(),et=useIsRestoring(),tt=useQueryErrorResetBoundary(),rt=_e.defaultQueryOptions(j);(ot=(at=_e.getDefaultOptions().queries)==null?void 0:at._experimental_beforeQuery)==null||ot.call(at,rt),rt._optimisticResults=et?"isRestoring":"optimistic",ensureSuspenseTimers(rt),ensurePreventErrorBoundaryRetry(rt,tt),useClearResetErrorBoundary(tt);const nt=!_e.getQueryCache().get(rt.queryHash),[st]=reactExports.useState(()=>new _(_e,rt)),it=st.getOptimisticResult(rt);if(reactExports.useSyncExternalStore(reactExports.useCallback(ut=>{const lt=et?noop$3:st.subscribe(notifyManager.batchCalls(ut));return st.updateResult(),lt},[st,et]),()=>st.getCurrentResult(),()=>st.getCurrentResult()),reactExports.useEffect(()=>{st.setOptions(rt,{listeners:!1})},[rt,st]),shouldSuspend(rt,it))throw fetchOptimistic(rt,st,tt);if(getHasError({result:it,errorResetBoundary:tt,throwOnError:rt.throwOnError,query:_e.getQueryCache().get(rt.queryHash)}))throw it.error;if((dt=(ct=_e.getDefaultOptions().queries)==null?void 0:ct._experimental_afterQuery)==null||dt.call(ct,rt,it),rt.experimental_prefetchInRender&&!isServer&&willFetch(it,et)){const ut=nt?fetchOptimistic(rt,st,tt):(pt=_e.getQueryCache().get(rt.queryHash))==null?void 0:pt.promise;ut==null||ut.catch(noop$3).finally(()=>{st.updateResult()})}return rt.notifyOnChangeProps?it:st.trackResult(it)}function useQuery(j,_){return useBaseQuery(j,QueryObserver)}function useMutation(j,_){const $=useQueryClient(),[_e]=reactExports.useState(()=>new MutationObserver$1($,j));reactExports.useEffect(()=>{_e.setOptions(j)},[_e,j]);const et=reactExports.useSyncExternalStore(reactExports.useCallback(rt=>_e.subscribe(notifyManager.batchCalls(rt)),[_e]),()=>_e.getCurrentResult(),()=>_e.getCurrentResult()),tt=reactExports.useCallback((rt,nt)=>{_e.mutate(rt,nt).catch(noop$3)},[_e]);if(et.error&&shouldThrowError(_e.options.throwOnError,[et.error]))throw et.error;return{...et,mutate:tt,mutateAsync:et.mutate}}async function throwIfResNotOk(j){if(!j.ok){const _=await j.text()||j.statusText;throw new Error(`${j.status}: ${_}`)}}async function apiRequest(j,_){const $=await fetch(j,{..._,headers:{"Content-Type":"application/json",..._==null?void 0:_.headers},credentials:"include"});return await throwIfResNotOk($),$}const getQueryFn=({on401:j})=>async({queryKey:_})=>{let $=_[0];if(_.length>1&&typeof _[1]=="object"&&_[1]!==null){const et=_[1],tt=new URLSearchParams;Object.entries(et).forEach(([nt,st])=>{st!=null&&tt.append(nt,String(st))});const rt=tt.toString();rt&&($+=`?${rt}`)}const _e=await fetch($,{credentials:"include"});return j==="returnNull"&&_e.status===401?null:(await throwIfResNotOk(_e),await _e.json())},queryClient=new QueryClient({defaultOptions:{queries:{queryFn:getQueryFn({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count$2=0;function genId$1(){return count$2=(count$2+1)%Number.MAX_SAFE_INTEGER,count$2.toString()}const toastTimeouts=new Map,addToRemoveQueue=j=>{if(toastTimeouts.has(j))return;const _=setTimeout(()=>{toastTimeouts.delete(j),dispatch({type:"REMOVE_TOAST",toastId:j})},TOAST_REMOVE_DELAY);toastTimeouts.set(j,_)},reducer=(j,_)=>{switch(_.type){case"ADD_TOAST":return{...j,toasts:[_.toast,...j.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...j,toasts:j.toasts.map($=>$.id===_.toast.id?{...$,..._.toast}:$)};case"DISMISS_TOAST":{const{toastId:$}=_;return $?addToRemoveQueue($):j.toasts.forEach(_e=>{addToRemoveQueue(_e.id)}),{...j,toasts:j.toasts.map(_e=>_e.id===$||$===void 0?{..._e,open:!1}:_e)}}case"REMOVE_TOAST":return _.toastId===void 0?{...j,toasts:[]}:{...j,toasts:j.toasts.filter($=>$.id!==_.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(j){memoryState=reducer(memoryState,j),listeners.forEach(_=>{_(memoryState)})}function toast({...j}){const _=genId$1(),$=et=>dispatch({type:"UPDATE_TOAST",toast:{...et,id:_}}),_e=()=>dispatch({type:"DISMISS_TOAST",toastId:_});return dispatch({type:"ADD_TOAST",toast:{...j,id:_,open:!0,onOpenChange:et=>{et||_e()}}}),{id:_,dismiss:_e,update:$}}function useToast(){const[j,_]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(_),()=>{const $=listeners.indexOf(_);$>-1&&listeners.splice($,1)}),[j]),{...j,toast,dismiss:$=>dispatch({type:"DISMISS_TOAST",toastId:$})}}function composeEventHandlers(j,_,{checkForDefaultPrevented:$=!0}={}){return function(et){if(j==null||j(et),$===!1||!et.defaultPrevented)return _==null?void 0:_(et)}}function setRef(j,_){if(typeof j=="function")return j(_);j!=null&&(j.current=_)}function composeRefs(...j){return _=>{let $=!1;const _e=j.map(et=>{const tt=setRef(et,_);return!$&&typeof tt=="function"&&($=!0),tt});if($)return()=>{for(let et=0;et<_e.length;et++){const tt=_e[et];typeof tt=="function"?tt():setRef(j[et],null)}}}}function useComposedRefs(...j){return reactExports.useCallback(composeRefs(...j),j)}function createContext2(j,_){const $=reactExports.createContext(_),_e=tt=>{const{children:rt,...nt}=tt,st=reactExports.useMemo(()=>nt,Object.values(nt));return jsxRuntimeExports.jsx($.Provider,{value:st,children:rt})};_e.displayName=j+"Provider";function et(tt){const rt=reactExports.useContext($);if(rt)return rt;if(_!==void 0)return _;throw new Error(`\`${tt}\` must be used within \`${j}\``)}return[_e,et]}function createContextScope(j,_=[]){let $=[];function _e(tt,rt){const nt=reactExports.createContext(rt),st=$.length;$=[...$,rt];const it=ot=>{var ft;const{scope:ct,children:dt,...pt}=ot,ut=((ft=ct==null?void 0:ct[j])==null?void 0:ft[st])||nt,lt=reactExports.useMemo(()=>pt,Object.values(pt));return jsxRuntimeExports.jsx(ut.Provider,{value:lt,children:dt})};it.displayName=tt+"Provider";function at(ot,ct){var ut;const dt=((ut=ct==null?void 0:ct[j])==null?void 0:ut[st])||nt,pt=reactExports.useContext(dt);if(pt)return pt;if(rt!==void 0)return rt;throw new Error(`\`${ot}\` must be used within \`${tt}\``)}return[it,at]}const et=()=>{const tt=$.map(rt=>reactExports.createContext(rt));return function(nt){const st=(nt==null?void 0:nt[j])||tt;return reactExports.useMemo(()=>({[`__scope${j}`]:{...nt,[j]:st}}),[nt,st])}};return et.scopeName=j,[_e,composeContextScopes(et,..._)]}function composeContextScopes(...j){const _=j[0];if(j.length===1)return _;const $=()=>{const _e=j.map(et=>({useScope:et(),scopeName:et.scopeName}));return function(tt){const rt=_e.reduce((nt,{useScope:st,scopeName:it})=>{const ot=st(tt)[`__scope${it}`];return{...nt,...ot}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:rt}),[rt])}};return $.scopeName=_.scopeName,$}function createSlot(j){const _=createSlotClone(j),$=reactExports.forwardRef((_e,et)=>{const{children:tt,...rt}=_e,nt=reactExports.Children.toArray(tt),st=nt.find(isSlottable);if(st){const it=st.props.children,at=nt.map(ot=>ot===st?reactExports.Children.count(it)>1?reactExports.Children.only(null):reactExports.isValidElement(it)?it.props.children:null:ot);return jsxRuntimeExports.jsx(_,{...rt,ref:et,children:reactExports.isValidElement(it)?reactExports.cloneElement(it,void 0,at):null})}return jsxRuntimeExports.jsx(_,{...rt,ref:et,children:tt})});return $.displayName=`${j}.Slot`,$}var Slot$3=createSlot("Slot");function createSlotClone(j){const _=reactExports.forwardRef(($,_e)=>{const{children:et,...tt}=$;if(reactExports.isValidElement(et)){const rt=getElementRef$1(et),nt=mergeProps(tt,et.props);return et.type!==reactExports.Fragment&&(nt.ref=_e?composeRefs(_e,rt):rt),reactExports.cloneElement(et,nt)}return reactExports.Children.count(et)>1?reactExports.Children.only(null):null});return _.displayName=`${j}.SlotClone`,_}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(j){const _=({children:$})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$});return _.displayName=`${j}.Slottable`,_.__radixId=SLOTTABLE_IDENTIFIER,_}function isSlottable(j){return reactExports.isValidElement(j)&&typeof j.type=="function"&&"__radixId"in j.type&&j.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(j,_){const $={..._};for(const _e in _){const et=j[_e],tt=_[_e];/^on[A-Z]/.test(_e)?et&&tt?$[_e]=(...nt)=>{tt(...nt),et(...nt)}:et&&($[_e]=et):_e==="style"?$[_e]={...et,...tt}:_e==="className"&&($[_e]=[et,tt].filter(Boolean).join(" "))}return{...j,...$}}function getElementRef$1(j){var _e,et;let _=(_e=Object.getOwnPropertyDescriptor(j.props,"ref"))==null?void 0:_e.get,$=_&&"isReactWarning"in _&&_.isReactWarning;return $?j.ref:(_=(et=Object.getOwnPropertyDescriptor(j,"ref"))==null?void 0:et.get,$=_&&"isReactWarning"in _&&_.isReactWarning,$?j.props.ref:j.props.ref||j.ref)}function createCollection(j){const _=j+"CollectionProvider",[$,_e]=createContextScope(_),[et,tt]=$(_,{collectionRef:{current:null},itemMap:new Map}),rt=ut=>{const{scope:lt,children:ft}=ut,ht=React.useRef(null),yt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(et,{scope:lt,itemMap:yt,collectionRef:ht,children:ft})};rt.displayName=_;const nt=j+"CollectionSlot",st=createSlot(nt),it=React.forwardRef((ut,lt)=>{const{scope:ft,children:ht}=ut,yt=tt(nt,ft),vt=useComposedRefs(lt,yt.collectionRef);return jsxRuntimeExports.jsx(st,{ref:vt,children:ht})});it.displayName=nt;const at=j+"CollectionItemSlot",ot="data-radix-collection-item",ct=createSlot(at),dt=React.forwardRef((ut,lt)=>{const{scope:ft,children:ht,...yt}=ut,vt=React.useRef(null),gt=useComposedRefs(lt,vt),bt=tt(at,ft);return React.useEffect(()=>(bt.itemMap.set(vt,{ref:vt,...yt}),()=>void bt.itemMap.delete(vt))),jsxRuntimeExports.jsx(ct,{[ot]:"",ref:gt,children:ht})});dt.displayName=at;function pt(ut){const lt=tt(j+"CollectionConsumer",ut);return React.useCallback(()=>{const ht=lt.collectionRef.current;if(!ht)return[];const yt=Array.from(ht.querySelectorAll(`[${ot}]`));return Array.from(lt.itemMap.values()).sort((bt,mt)=>yt.indexOf(bt.ref.current)-yt.indexOf(mt.ref.current))},[lt.collectionRef,lt.itemMap])}return[{Provider:rt,Slot:it,ItemSlot:dt},pt,_e]}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((j,_)=>{const $=createSlot(`Primitive.${_}`),_e=reactExports.forwardRef((et,tt)=>{const{asChild:rt,...nt}=et,st=rt?$:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(st,{...nt,ref:tt})});return _e.displayName=`Primitive.${_}`,{...j,[_]:_e}},{});function dispatchDiscreteCustomEvent(j,_){j&&reactDomExports.flushSync(()=>j.dispatchEvent(_))}function useCallbackRef$1(j){const _=reactExports.useRef(j);return reactExports.useEffect(()=>{_.current=j}),reactExports.useMemo(()=>(...$)=>{var _e;return(_e=_.current)==null?void 0:_e.call(_,...$)},[])}function useEscapeKeydown(j,_=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(j);reactExports.useEffect(()=>{const _e=et=>{et.key==="Escape"&&$(et)};return _.addEventListener("keydown",_e,{capture:!0}),()=>_.removeEventListener("keydown",_e,{capture:!0})},[$,_])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((j,_)=>{const{disableOutsidePointerEvents:$=!1,onEscapeKeyDown:_e,onPointerDownOutside:et,onFocusOutside:tt,onInteractOutside:rt,onDismiss:nt,...st}=j,it=reactExports.useContext(DismissableLayerContext),[at,ot]=reactExports.useState(null),ct=(at==null?void 0:at.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,dt]=reactExports.useState({}),pt=useComposedRefs(_,mt=>ot(mt)),ut=Array.from(it.layers),[lt]=[...it.layersWithOutsidePointerEventsDisabled].slice(-1),ft=ut.indexOf(lt),ht=at?ut.indexOf(at):-1,yt=it.layersWithOutsidePointerEventsDisabled.size>0,vt=ht>=ft,gt=usePointerDownOutside(mt=>{const Et=mt.target,Rt=[...it.branches].some(Tt=>Tt.contains(Et));!vt||Rt||(et==null||et(mt),rt==null||rt(mt),mt.defaultPrevented||nt==null||nt())},ct),bt=useFocusOutside(mt=>{const Et=mt.target;[...it.branches].some(Tt=>Tt.contains(Et))||(tt==null||tt(mt),rt==null||rt(mt),mt.defaultPrevented||nt==null||nt())},ct);return useEscapeKeydown(mt=>{ht===it.layers.size-1&&(_e==null||_e(mt),!mt.defaultPrevented&&nt&&(mt.preventDefault(),nt()))},ct),reactExports.useEffect(()=>{if(at)return $&&(it.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=ct.body.style.pointerEvents,ct.body.style.pointerEvents="none"),it.layersWithOutsidePointerEventsDisabled.add(at)),it.layers.add(at),dispatchUpdate(),()=>{$&&it.layersWithOutsidePointerEventsDisabled.size===1&&(ct.body.style.pointerEvents=originalBodyPointerEvents)}},[at,ct,$,it]),reactExports.useEffect(()=>()=>{at&&(it.layers.delete(at),it.layersWithOutsidePointerEventsDisabled.delete(at),dispatchUpdate())},[at,it]),reactExports.useEffect(()=>{const mt=()=>dt({});return document.addEventListener(CONTEXT_UPDATE,mt),()=>document.removeEventListener(CONTEXT_UPDATE,mt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...st,ref:pt,style:{pointerEvents:yt?vt?"auto":"none":void 0,...j.style},onFocusCapture:composeEventHandlers(j.onFocusCapture,bt.onFocusCapture),onBlurCapture:composeEventHandlers(j.onBlurCapture,bt.onBlurCapture),onPointerDownCapture:composeEventHandlers(j.onPointerDownCapture,gt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((j,_)=>{const $=reactExports.useContext(DismissableLayerContext),_e=reactExports.useRef(null),et=useComposedRefs(_,_e);return reactExports.useEffect(()=>{const tt=_e.current;if(tt)return $.branches.add(tt),()=>{$.branches.delete(tt)}},[$.branches]),jsxRuntimeExports.jsx(Primitive.div,{...j,ref:et})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(j,_=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(j),_e=reactExports.useRef(!1),et=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const tt=nt=>{if(nt.target&&!_e.current){let st=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,$,it,{discrete:!0})};const it={originalEvent:nt};nt.pointerType==="touch"?(_.removeEventListener("click",et.current),et.current=st,_.addEventListener("click",et.current,{once:!0})):st()}else _.removeEventListener("click",et.current);_e.current=!1},rt=window.setTimeout(()=>{_.addEventListener("pointerdown",tt)},0);return()=>{window.clearTimeout(rt),_.removeEventListener("pointerdown",tt),_.removeEventListener("click",et.current)}},[_,$]),{onPointerDownCapture:()=>_e.current=!0}}function useFocusOutside(j,_=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(j),_e=reactExports.useRef(!1);return reactExports.useEffect(()=>{const et=tt=>{tt.target&&!_e.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,$,{originalEvent:tt},{discrete:!1})};return _.addEventListener("focusin",et),()=>_.removeEventListener("focusin",et)},[_,$]),{onFocusCapture:()=>_e.current=!0,onBlurCapture:()=>_e.current=!1}}function dispatchUpdate(){const j=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(j)}function handleAndDispatchCustomEvent$1(j,_,$,{discrete:_e}){const et=$.originalEvent.target,tt=new CustomEvent(j,{bubbles:!1,cancelable:!0,detail:$});_&&et.addEventListener(j,_,{once:!0}),_e?dispatchDiscreteCustomEvent(et,tt):et.dispatchEvent(tt)}var Root$b=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$4="Portal",Portal$3=reactExports.forwardRef((j,_)=>{var nt;const{container:$,..._e}=j,[et,tt]=reactExports.useState(!1);useLayoutEffect2(()=>tt(!0),[]);const rt=$||et&&((nt=globalThis==null?void 0:globalThis.document)==null?void 0:nt.body);return rt?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:_}),rt):null});Portal$3.displayName=PORTAL_NAME$4;function useStateMachine$1(j,_){return reactExports.useReducer(($,_e)=>_[$][_e]??$,j)}var Presence=j=>{const{present:_,children:$}=j,_e=usePresence(_),et=typeof $=="function"?$({present:_e.isPresent}):reactExports.Children.only($),tt=useComposedRefs(_e.ref,getElementRef(et));return typeof $=="function"||_e.isPresent?reactExports.cloneElement(et,{ref:tt}):null};Presence.displayName="Presence";function usePresence(j){const[_,$]=reactExports.useState(),_e=reactExports.useRef({}),et=reactExports.useRef(j),tt=reactExports.useRef("none"),rt=j?"mounted":"unmounted",[nt,st]=useStateMachine$1(rt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const it=getAnimationName(_e.current);tt.current=nt==="mounted"?it:"none"},[nt]),useLayoutEffect2(()=>{const it=_e.current,at=et.current;if(at!==j){const ct=tt.current,dt=getAnimationName(it);j?st("MOUNT"):dt==="none"||(it==null?void 0:it.display)==="none"?st("UNMOUNT"):st(at&&ct!==dt?"ANIMATION_OUT":"UNMOUNT"),et.current=j}},[j,st]),useLayoutEffect2(()=>{if(_){let it;const at=_.ownerDocument.defaultView??window,ot=dt=>{const ut=getAnimationName(_e.current).includes(dt.animationName);if(dt.target===_&&ut&&(st("ANIMATION_END"),!et.current)){const lt=_.style.animationFillMode;_.style.animationFillMode="forwards",it=at.setTimeout(()=>{_.style.animationFillMode==="forwards"&&(_.style.animationFillMode=lt)})}},ct=dt=>{dt.target===_&&(tt.current=getAnimationName(_e.current))};return _.addEventListener("animationstart",ct),_.addEventListener("animationcancel",ot),_.addEventListener("animationend",ot),()=>{at.clearTimeout(it),_.removeEventListener("animationstart",ct),_.removeEventListener("animationcancel",ot),_.removeEventListener("animationend",ot)}}else st("ANIMATION_END")},[_,st]),{isPresent:["mounted","unmountSuspended"].includes(nt),ref:reactExports.useCallback(it=>{it&&(_e.current=getComputedStyle(it)),$(it)},[])}}function getAnimationName(j){return(j==null?void 0:j.animationName)||"none"}function getElementRef(j){var _e,et;let _=(_e=Object.getOwnPropertyDescriptor(j.props,"ref"))==null?void 0:_e.get,$=_&&"isReactWarning"in _&&_.isReactWarning;return $?j.ref:(_=(et=Object.getOwnPropertyDescriptor(j,"ref"))==null?void 0:et.get,$=_&&"isReactWarning"in _&&_.isReactWarning,$?j.props.ref:j.props.ref||j.ref)}function useControllableState({prop:j,defaultProp:_,onChange:$=()=>{}}){const[_e,et]=useUncontrolledState({defaultProp:_,onChange:$}),tt=j!==void 0,rt=tt?j:_e,nt=useCallbackRef$1($),st=reactExports.useCallback(it=>{if(tt){const ot=typeof it=="function"?it(j):it;ot!==j&&nt(ot)}else et(it)},[tt,j,et,nt]);return[rt,st]}function useUncontrolledState({defaultProp:j,onChange:_}){const $=reactExports.useState(j),[_e]=$,et=reactExports.useRef(_e),tt=useCallbackRef$1(_);return reactExports.useEffect(()=>{et.current!==_e&&(tt(_e),et.current=_e)},[_e,et,tt]),$}var NAME$3="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((j,_)=>jsxRuntimeExports.jsx(Primitive.span,{...j,ref:_,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...j.style}}));VisuallyHidden.displayName=NAME$3;var Root$a=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope$2]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=j=>{const{__scopeToast:_,label:$="Notification",duration:_e=5e3,swipeDirection:et="right",swipeThreshold:tt=50,children:rt}=j,[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState(0),ot=reactExports.useRef(!1),ct=reactExports.useRef(!1);return $.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$2.Provider,{scope:_,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:_,label:$,duration:_e,swipeDirection:et,swipeThreshold:tt,toastCount:it,viewport:nt,onViewportChange:st,onToastAdd:reactExports.useCallback(()=>at(dt=>dt+1),[]),onToastRemove:reactExports.useCallback(()=>at(dt=>dt-1),[]),isFocusedToastEscapeKeyDownRef:ot,isClosePausedRef:ct,children:rt})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME$2="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,hotkey:_e=VIEWPORT_DEFAULT_HOTKEY,label:et="Notifications ({hotkey})",...tt}=j,rt=useToastProviderContext(VIEWPORT_NAME$2,$),nt=useCollection$2($),st=reactExports.useRef(null),it=reactExports.useRef(null),at=reactExports.useRef(null),ot=reactExports.useRef(null),ct=useComposedRefs(_,ot,rt.onViewportChange),dt=_e.join("+").replace(/Key/g,"").replace(/Digit/g,""),pt=rt.toastCount>0;reactExports.useEffect(()=>{const lt=ft=>{var yt;_e.length!==0&&_e.every(vt=>ft[vt]||ft.code===vt)&&((yt=ot.current)==null||yt.focus())};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[_e]),reactExports.useEffect(()=>{const lt=st.current,ft=ot.current;if(pt&&lt&&ft){const ht=()=>{if(!rt.isClosePausedRef.current){const bt=new CustomEvent(VIEWPORT_PAUSE);ft.dispatchEvent(bt),rt.isClosePausedRef.current=!0}},yt=()=>{if(rt.isClosePausedRef.current){const bt=new CustomEvent(VIEWPORT_RESUME);ft.dispatchEvent(bt),rt.isClosePausedRef.current=!1}},vt=bt=>{!lt.contains(bt.relatedTarget)&&yt()},gt=()=>{lt.contains(document.activeElement)||yt()};return lt.addEventListener("focusin",ht),lt.addEventListener("focusout",vt),lt.addEventListener("pointermove",ht),lt.addEventListener("pointerleave",gt),window.addEventListener("blur",ht),window.addEventListener("focus",yt),()=>{lt.removeEventListener("focusin",ht),lt.removeEventListener("focusout",vt),lt.removeEventListener("pointermove",ht),lt.removeEventListener("pointerleave",gt),window.removeEventListener("blur",ht),window.removeEventListener("focus",yt)}}},[pt,rt.isClosePausedRef]);const ut=reactExports.useCallback(({tabbingDirection:lt})=>{const ht=nt().map(yt=>{const vt=yt.ref.current,gt=[vt,...getTabbableCandidates$1(vt)];return lt==="forwards"?gt:gt.reverse()});return(lt==="forwards"?ht.reverse():ht).flat()},[nt]);return reactExports.useEffect(()=>{const lt=ot.current;if(lt){const ft=ht=>{var gt,bt,mt;const yt=ht.altKey||ht.ctrlKey||ht.metaKey;if(ht.key==="Tab"&&!yt){const Et=document.activeElement,Rt=ht.shiftKey;if(ht.target===lt&&Rt){(gt=it.current)==null||gt.focus();return}const xt=ut({tabbingDirection:Rt?"backwards":"forwards"}),Ct=xt.findIndex(kt=>kt===Et);focusFirst$2(xt.slice(Ct+1))?ht.preventDefault():Rt?(bt=it.current)==null||bt.focus():(mt=at.current)==null||mt.focus()}};return lt.addEventListener("keydown",ft),()=>lt.removeEventListener("keydown",ft)}},[nt,ut]),jsxRuntimeExports.jsxs(Branch,{ref:st,role:"region","aria-label":et.replace("{hotkey}",dt),tabIndex:-1,style:{pointerEvents:pt?void 0:"none"},children:[pt&&jsxRuntimeExports.jsx(FocusProxy,{ref:it,onFocusFromOutsideViewport:()=>{const lt=ut({tabbingDirection:"forwards"});focusFirst$2(lt)}}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:$,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...tt,ref:ct})}),pt&&jsxRuntimeExports.jsx(FocusProxy,{ref:at,onFocusFromOutsideViewport:()=>{const lt=ut({tabbingDirection:"backwards"});focusFirst$2(lt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$2;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,onFocusFromOutsideViewport:_e,...et}=j,tt=useToastProviderContext(FOCUS_PROXY_NAME,$);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...et,ref:_,style:{position:"fixed"},onFocus:rt=>{var it;const nt=rt.relatedTarget;!((it=tt.viewport)!=null&&it.contains(nt))&&_e()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((j,_)=>{const{forceMount:$,open:_e,defaultOpen:et,onOpenChange:tt,...rt}=j,[nt=!0,st]=useControllableState({prop:_e,defaultProp:et,onChange:tt});return jsxRuntimeExports.jsx(Presence,{present:$||nt,children:jsxRuntimeExports.jsx(ToastImpl,{open:nt,...rt,ref:_,onClose:()=>st(!1),onPause:useCallbackRef$1(j.onPause),onResume:useCallbackRef$1(j.onResume),onSwipeStart:composeEventHandlers(j.onSwipeStart,it=>{it.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(j.onSwipeMove,it=>{const{x:at,y:ot}=it.detail.delta;it.currentTarget.setAttribute("data-swipe","move"),it.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${at}px`),it.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${ot}px`)}),onSwipeCancel:composeEventHandlers(j.onSwipeCancel,it=>{it.currentTarget.setAttribute("data-swipe","cancel"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),it.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(j.onSwipeEnd,it=>{const{x:at,y:ot}=it.detail.delta;it.currentTarget.setAttribute("data-swipe","end"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),it.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${at}px`),it.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${ot}px`),st(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,type:_e="foreground",duration:et,open:tt,onClose:rt,onEscapeKeyDown:nt,onPause:st,onResume:it,onSwipeStart:at,onSwipeMove:ot,onSwipeCancel:ct,onSwipeEnd:dt,...pt}=j,ut=useToastProviderContext(TOAST_NAME,$),[lt,ft]=reactExports.useState(null),ht=useComposedRefs(_,kt=>ft(kt)),yt=reactExports.useRef(null),vt=reactExports.useRef(null),gt=et||ut.duration,bt=reactExports.useRef(0),mt=reactExports.useRef(gt),Et=reactExports.useRef(0),{onToastAdd:Rt,onToastRemove:Tt}=ut,jt=useCallbackRef$1(()=>{var Nt;(lt==null?void 0:lt.contains(document.activeElement))&&((Nt=ut.viewport)==null||Nt.focus()),rt()}),xt=reactExports.useCallback(kt=>{!kt||kt===1/0||(window.clearTimeout(Et.current),bt.current=new Date().getTime(),Et.current=window.setTimeout(jt,kt))},[jt]);reactExports.useEffect(()=>{const kt=ut.viewport;if(kt){const Nt=()=>{xt(mt.current),it==null||it()},St=()=>{const Ot=new Date().getTime()-bt.current;mt.current=mt.current-Ot,window.clearTimeout(Et.current),st==null||st()};return kt.addEventListener(VIEWPORT_PAUSE,St),kt.addEventListener(VIEWPORT_RESUME,Nt),()=>{kt.removeEventListener(VIEWPORT_PAUSE,St),kt.removeEventListener(VIEWPORT_RESUME,Nt)}}},[ut.viewport,gt,st,it,xt]),reactExports.useEffect(()=>{tt&&!ut.isClosePausedRef.current&&xt(gt)},[tt,gt,ut.isClosePausedRef,xt]),reactExports.useEffect(()=>(Rt(),()=>Tt()),[Rt,Tt]);const Ct=reactExports.useMemo(()=>lt?getAnnounceTextContent(lt):null,[lt]);return ut.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ct&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:$,role:"status","aria-live":_e==="foreground"?"assertive":"polite","aria-atomic":!0,children:Ct}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:$,onClose:jt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:$,children:jsxRuntimeExports.jsx(Root$b,{asChild:!0,onEscapeKeyDown:composeEventHandlers(nt,()=>{ut.isFocusedToastEscapeKeyDownRef.current||jt(),ut.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":tt?"open":"closed","data-swipe-direction":ut.swipeDirection,...pt,ref:ht,style:{userSelect:"none",touchAction:"none",...j.style},onKeyDown:composeEventHandlers(j.onKeyDown,kt=>{kt.key==="Escape"&&(nt==null||nt(kt.nativeEvent),kt.nativeEvent.defaultPrevented||(ut.isFocusedToastEscapeKeyDownRef.current=!0,jt()))}),onPointerDown:composeEventHandlers(j.onPointerDown,kt=>{kt.button===0&&(yt.current={x:kt.clientX,y:kt.clientY})}),onPointerMove:composeEventHandlers(j.onPointerMove,kt=>{if(!yt.current)return;const Nt=kt.clientX-yt.current.x,St=kt.clientY-yt.current.y,Ot=!!vt.current,Pt=["left","right"].includes(ut.swipeDirection),wt=["left","up"].includes(ut.swipeDirection)?Math.min:Math.max,Dt=Pt?wt(0,Nt):0,Vt=Pt?0:wt(0,St),It=kt.pointerType==="touch"?10:2,At={x:Dt,y:Vt},$t={originalEvent:kt,delta:At};Ot?(vt.current=At,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,ot,$t,{discrete:!1})):isDeltaInDirection(At,ut.swipeDirection,It)?(vt.current=At,handleAndDispatchCustomEvent(TOAST_SWIPE_START,at,$t,{discrete:!1}),kt.target.setPointerCapture(kt.pointerId)):(Math.abs(Nt)>It||Math.abs(St)>It)&&(yt.current=null)}),onPointerUp:composeEventHandlers(j.onPointerUp,kt=>{const Nt=vt.current,St=kt.target;if(St.hasPointerCapture(kt.pointerId)&&St.releasePointerCapture(kt.pointerId),vt.current=null,yt.current=null,Nt){const Ot=kt.currentTarget,Pt={originalEvent:kt,delta:Nt};isDeltaInDirection(Nt,ut.swipeDirection,ut.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,dt,Pt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,ct,Pt,{discrete:!0}),Ot.addEventListener("click",wt=>wt.preventDefault(),{once:!0})}})})})}),ut.viewport)})]}):null}),ToastAnnounce=j=>{const{__scopeToast:_,children:$,..._e}=j,et=useToastProviderContext(TOAST_NAME,_),[tt,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(!1);return useNextFrame(()=>rt(!0)),reactExports.useEffect(()=>{const it=window.setTimeout(()=>st(!0),1e3);return()=>window.clearTimeout(it)},[]),nt?null:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{..._e,children:tt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et.label," ",$]})})})},TITLE_NAME$1="ToastTitle",ToastTitle$1=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,..._e}=j;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:_})});ToastTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="ToastDescription",ToastDescription$1=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,..._e}=j;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:_})});ToastDescription$1.displayName=DESCRIPTION_NAME$1;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((j,_)=>{const{altText:$,..._e}=j;return $.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:$,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{..._e,ref:_})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME$2="ToastClose",ToastClose$1=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,..._e}=j,et=useToastInteractiveContext(CLOSE_NAME$2,$);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:_,onClick:composeEventHandlers(j.onClick,et.onClose)})})});ToastClose$1.displayName=CLOSE_NAME$2;var ToastAnnounceExclude=reactExports.forwardRef((j,_)=>{const{__scopeToast:$,altText:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":_e||void 0,...et,ref:_})});function getAnnounceTextContent(j){const _=[];return Array.from(j.childNodes).forEach(_e=>{if(_e.nodeType===_e.TEXT_NODE&&_e.textContent&&_.push(_e.textContent),isHTMLElement$2(_e)){const et=_e.ariaHidden||_e.hidden||_e.style.display==="none",tt=_e.dataset.radixToastAnnounceExclude==="";if(!et)if(tt){const rt=_e.dataset.radixToastAnnounceAlt;rt&&_.push(rt)}else _.push(...getAnnounceTextContent(_e))}}),_}function handleAndDispatchCustomEvent(j,_,$,{discrete:_e}){const et=$.originalEvent.currentTarget,tt=new CustomEvent(j,{bubbles:!0,cancelable:!0,detail:$});_&&et.addEventListener(j,_,{once:!0}),_e?dispatchDiscreteCustomEvent(et,tt):et.dispatchEvent(tt)}var isDeltaInDirection=(j,_,$=0)=>{const _e=Math.abs(j.x),et=Math.abs(j.y),tt=_e>et;return _==="left"||_==="right"?tt&&_e>$:!tt&&et>$};function useNextFrame(j=()=>{}){const _=useCallbackRef$1(j);useLayoutEffect2(()=>{let $=0,_e=0;return $=window.requestAnimationFrame(()=>_e=window.requestAnimationFrame(_)),()=>{window.cancelAnimationFrame($),window.cancelAnimationFrame(_e)}},[_])}function isHTMLElement$2(j){return j.nodeType===j.ELEMENT_NODE}function getTabbableCandidates$1(j){const _=[],$=document.createTreeWalker(j,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const et=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||et?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;$.nextNode();)_.push($.currentNode);return _}function focusFirst$2(j){const _=document.activeElement;return j.some($=>$===_?!0:($.focus(),document.activeElement!==_))}var Provider$1=ToastProvider$1,Viewport$2=ToastViewport$1,Root2$5=Toast$1,Title$1=ToastTitle$1,Description$1=ToastDescription$1,Action=ToastAction$1,Close$1=ToastClose$1;function r$1(j){var _,$,_e="";if(typeof j=="string"||typeof j=="number")_e+=j;else if(typeof j=="object")if(Array.isArray(j)){var et=j.length;for(_=0;_<et;_++)j[_]&&($=r$1(j[_]))&&(_e&&(_e+=" "),_e+=$)}else for($ in j)j[$]&&(_e&&(_e+=" "),_e+=$);return _e}function clsx(){for(var j,_,$=0,_e="",et=arguments.length;$<et;$++)(j=arguments[$])&&(_=r$1(j))&&(_e&&(_e+=" "),_e+=_);return _e}const falsyToString=j=>typeof j=="boolean"?`${j}`:j===0?"0":j,cx=clsx,cva=(j,_)=>$=>{var _e;if((_==null?void 0:_.variants)==null)return cx(j,$==null?void 0:$.class,$==null?void 0:$.className);const{variants:et,defaultVariants:tt}=_,rt=Object.keys(et).map(it=>{const at=$==null?void 0:$[it],ot=tt==null?void 0:tt[it];if(at===null)return null;const ct=falsyToString(at)||falsyToString(ot);return et[it][ct]}),nt=$&&Object.entries($).reduce((it,at)=>{let[ot,ct]=at;return ct===void 0||(it[ot]=ct),it},{}),st=_==null||(_e=_.compoundVariants)===null||_e===void 0?void 0:_e.reduce((it,at)=>{let{class:ot,className:ct,...dt}=at;return Object.entries(dt).every(pt=>{let[ut,lt]=pt;return Array.isArray(lt)?lt.includes({...tt,...nt}[ut]):{...tt,...nt}[ut]===lt})?[...it,ot,ct]:it},[]);return cx(j,rt,st,$==null?void 0:$.class,$==null?void 0:$.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=j=>j.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...j)=>j.filter((_,$,_e)=>!!_&&_e.indexOf(_)===$).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:j="currentColor",size:_=24,strokeWidth:$=2,absoluteStrokeWidth:_e,className:et="",children:tt,iconNode:rt,...nt},st)=>reactExports.createElement("svg",{ref:st,...defaultAttributes,width:_,height:_,stroke:j,strokeWidth:_e?Number($)*24/Number(_):$,className:mergeClasses("lucide",et),...nt},[...rt.map(([it,at])=>reactExports.createElement(it,at)),...Array.isArray(tt)?tt:[tt]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(j,_)=>{const $=reactExports.forwardRef(({className:_e,...et},tt)=>reactExports.createElement(Icon$1,{ref:tt,iconNode:_,className:mergeClasses(`lucide-${toKebabCase(j)}`,_e),...et}));return $.displayName=`${j}`,$};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calculator=createLucideIcon("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar$1=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudUpload=createLucideIcon("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileAudio=createLucideIcon("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileImage=createLucideIcon("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileType=createLucideIcon("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileVideo=createLucideIcon("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const File=createLucideIcon("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash$2=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Landmark=createLucideIcon("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenTool=createLucideIcon("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Percent=createLucideIcon("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCw=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Undo2=createLucideIcon("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wallet=createLucideIcon("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=j=>{const _=createClassMap(j),{conflictingClassGroups:$,conflictingClassGroupModifiers:_e}=j;return{getClassGroupId:rt=>{const nt=rt.split(CLASS_PART_SEPARATOR);return nt[0]===""&&nt.length!==1&&nt.shift(),getGroupRecursive(nt,_)||getGroupIdForArbitraryProperty(rt)},getConflictingClassGroupIds:(rt,nt)=>{const st=$[rt]||[];return nt&&_e[rt]?[...st,..._e[rt]]:st}}},getGroupRecursive=(j,_)=>{var rt;if(j.length===0)return _.classGroupId;const $=j[0],_e=_.nextPart.get($),et=_e?getGroupRecursive(j.slice(1),_e):void 0;if(et)return et;if(_.validators.length===0)return;const tt=j.join(CLASS_PART_SEPARATOR);return(rt=_.validators.find(({validator:nt})=>nt(tt)))==null?void 0:rt.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=j=>{if(arbitraryPropertyRegex.test(j)){const _=arbitraryPropertyRegex.exec(j)[1],$=_==null?void 0:_.substring(0,_.indexOf(":"));if($)return"arbitrary.."+$}},createClassMap=j=>{const{theme:_,prefix:$}=j,_e={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(j.classGroups),$).forEach(([tt,rt])=>{processClassesRecursively(rt,_e,tt,_)}),_e},processClassesRecursively=(j,_,$,_e)=>{j.forEach(et=>{if(typeof et=="string"){const tt=et===""?_:getPart(_,et);tt.classGroupId=$;return}if(typeof et=="function"){if(isThemeGetter(et)){processClassesRecursively(et(_e),_,$,_e);return}_.validators.push({validator:et,classGroupId:$});return}Object.entries(et).forEach(([tt,rt])=>{processClassesRecursively(rt,getPart(_,tt),$,_e)})})},getPart=(j,_)=>{let $=j;return _.split(CLASS_PART_SEPARATOR).forEach(_e=>{$.nextPart.has(_e)||$.nextPart.set(_e,{nextPart:new Map,validators:[]}),$=$.nextPart.get(_e)}),$},isThemeGetter=j=>j.isThemeGetter,getPrefixedClassGroupEntries=(j,_)=>_?j.map(([$,_e])=>{const et=_e.map(tt=>typeof tt=="string"?_+tt:typeof tt=="object"?Object.fromEntries(Object.entries(tt).map(([rt,nt])=>[_+rt,nt])):tt);return[$,et]}):j,createLruCache=j=>{if(j<1)return{get:()=>{},set:()=>{}};let _=0,$=new Map,_e=new Map;const et=(tt,rt)=>{$.set(tt,rt),_++,_>j&&(_=0,_e=$,$=new Map)};return{get(tt){let rt=$.get(tt);if(rt!==void 0)return rt;if((rt=_e.get(tt))!==void 0)return et(tt,rt),rt},set(tt,rt){$.has(tt)?$.set(tt,rt):et(tt,rt)}}},IMPORTANT_MODIFIER="!",createParseClassName=j=>{const{separator:_,experimentalParseClassName:$}=j,_e=_.length===1,et=_[0],tt=_.length,rt=nt=>{const st=[];let it=0,at=0,ot;for(let lt=0;lt<nt.length;lt++){let ft=nt[lt];if(it===0){if(ft===et&&(_e||nt.slice(lt,lt+tt)===_)){st.push(nt.slice(at,lt)),at=lt+tt;continue}if(ft==="/"){ot=lt;continue}}ft==="["?it++:ft==="]"&&it--}const ct=st.length===0?nt:nt.substring(at),dt=ct.startsWith(IMPORTANT_MODIFIER),pt=dt?ct.substring(1):ct,ut=ot&&ot>at?ot-at:void 0;return{modifiers:st,hasImportantModifier:dt,baseClassName:pt,maybePostfixModifierPosition:ut}};return $?nt=>$({className:nt,parseClassName:rt}):rt},sortModifiers=j=>{if(j.length<=1)return j;const _=[];let $=[];return j.forEach(_e=>{_e[0]==="["?(_.push(...$.sort(),_e),$=[]):$.push(_e)}),_.push(...$.sort()),_},createConfigUtils=j=>({cache:createLruCache(j.cacheSize),parseClassName:createParseClassName(j),...createClassGroupUtils(j)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(j,_)=>{const{parseClassName:$,getClassGroupId:_e,getConflictingClassGroupIds:et}=_,tt=[],rt=j.trim().split(SPLIT_CLASSES_REGEX);let nt="";for(let st=rt.length-1;st>=0;st-=1){const it=rt[st],{modifiers:at,hasImportantModifier:ot,baseClassName:ct,maybePostfixModifierPosition:dt}=$(it);let pt=!!dt,ut=_e(pt?ct.substring(0,dt):ct);if(!ut){if(!pt){nt=it+(nt.length>0?" "+nt:nt);continue}if(ut=_e(ct),!ut){nt=it+(nt.length>0?" "+nt:nt);continue}pt=!1}const lt=sortModifiers(at).join(":"),ft=ot?lt+IMPORTANT_MODIFIER:lt,ht=ft+ut;if(tt.includes(ht))continue;tt.push(ht);const yt=et(ut,pt);for(let vt=0;vt<yt.length;++vt){const gt=yt[vt];tt.push(ft+gt)}nt=it+(nt.length>0?" "+nt:nt)}return nt};function twJoin(){let j=0,_,$,_e="";for(;j<arguments.length;)(_=arguments[j++])&&($=toValue(_))&&(_e&&(_e+=" "),_e+=$);return _e}const toValue=j=>{if(typeof j=="string")return j;let _,$="";for(let _e=0;_e<j.length;_e++)j[_e]&&(_=toValue(j[_e]))&&($&&($+=" "),$+=_);return $};function createTailwindMerge(j,..._){let $,_e,et,tt=rt;function rt(st){const it=_.reduce((at,ot)=>ot(at),j());return $=createConfigUtils(it),_e=$.cache.get,et=$.cache.set,tt=nt,nt(st)}function nt(st){const it=_e(st);if(it)return it;const at=mergeClassList(st,$);return et(st,at),at}return function(){return tt(twJoin.apply(null,arguments))}}const fromTheme=j=>{const _=$=>$[j]||[];return _.isThemeGetter=!0,_},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength$4=j=>isNumber$5(j)||stringLengths.has(j)||fractionRegex.test(j),isArbitraryLength=j=>getIsArbitraryValue(j,"length",isLengthOnly),isNumber$5=j=>!!j&&!Number.isNaN(Number(j)),isArbitraryNumber=j=>getIsArbitraryValue(j,"number",isNumber$5),isInteger=j=>!!j&&Number.isInteger(Number(j)),isPercent$1=j=>j.endsWith("%")&&isNumber$5(j.slice(0,-1)),isArbitraryValue=j=>arbitraryValueRegex.test(j),isTshirtSize=j=>tshirtUnitRegex.test(j),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=j=>getIsArbitraryValue(j,sizeLabels,isNever),isArbitraryPosition=j=>getIsArbitraryValue(j,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=j=>getIsArbitraryValue(j,imageLabels,isImage),isArbitraryShadow=j=>getIsArbitraryValue(j,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(j,_,$)=>{const _e=arbitraryValueRegex.exec(j);return _e?_e[1]?typeof _=="string"?_e[1]===_:_.has(_e[1]):$(_e[2]):!1},isLengthOnly=j=>lengthUnitRegex.test(j)&&!colorFunctionRegex.test(j),isNever=()=>!1,isShadow=j=>shadowRegex.test(j),isImage=j=>imageRegex.test(j),getDefaultConfig=()=>{const j=fromTheme("colors"),_=fromTheme("spacing"),$=fromTheme("blur"),_e=fromTheme("brightness"),et=fromTheme("borderColor"),tt=fromTheme("borderRadius"),rt=fromTheme("borderSpacing"),nt=fromTheme("borderWidth"),st=fromTheme("contrast"),it=fromTheme("grayscale"),at=fromTheme("hueRotate"),ot=fromTheme("invert"),ct=fromTheme("gap"),dt=fromTheme("gradientColorStops"),pt=fromTheme("gradientColorStopPositions"),ut=fromTheme("inset"),lt=fromTheme("margin"),ft=fromTheme("opacity"),ht=fromTheme("padding"),yt=fromTheme("saturate"),vt=fromTheme("scale"),gt=fromTheme("sepia"),bt=fromTheme("skew"),mt=fromTheme("space"),Et=fromTheme("translate"),Rt=()=>["auto","contain","none"],Tt=()=>["auto","hidden","clip","visible","scroll"],jt=()=>["auto",isArbitraryValue,_],xt=()=>[isArbitraryValue,_],Ct=()=>["",isLength$4,isArbitraryLength],kt=()=>["auto",isNumber$5,isArbitraryValue],Nt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],St=()=>["solid","dashed","dotted","double","none"],Ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pt=()=>["start","end","center","between","around","evenly","stretch"],wt=()=>["","0",isArbitraryValue],Dt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Vt=()=>[isNumber$5,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength$4,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Vt(),borderColor:[j],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:xt(),borderWidth:Ct(),contrast:Vt(),grayscale:wt(),hueRotate:Vt(),invert:wt(),gap:xt(),gradientColorStops:[j],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:jt(),margin:jt(),opacity:Vt(),padding:xt(),saturate:Vt(),scale:Vt(),sepia:wt(),skew:Vt(),space:xt(),translate:xt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Dt()}],"break-before":[{"break-before":Dt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Nt(),isArbitraryValue]}],overflow:[{overflow:Tt()}],"overflow-x":[{"overflow-x":Tt()}],"overflow-y":[{"overflow-y":Tt()}],overscroll:[{overscroll:Rt()}],"overscroll-x":[{"overscroll-x":Rt()}],"overscroll-y":[{"overscroll-y":Rt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[ut]}],"inset-x":[{"inset-x":[ut]}],"inset-y":[{"inset-y":[ut]}],start:[{start:[ut]}],end:[{end:[ut]}],top:[{top:[ut]}],right:[{right:[ut]}],bottom:[{bottom:[ut]}],left:[{left:[ut]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:jt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:wt()}],shrink:[{shrink:wt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":kt()}],"col-end":[{"col-end":kt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":kt()}],"row-end":[{"row-end":kt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[ct]}],"gap-x":[{"gap-x":[ct]}],"gap-y":[{"gap-y":[ct]}],"justify-content":[{justify:["normal",...Pt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Pt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Pt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ht]}],px:[{px:[ht]}],py:[{py:[ht]}],ps:[{ps:[ht]}],pe:[{pe:[ht]}],pt:[{pt:[ht]}],pr:[{pr:[ht]}],pb:[{pb:[ht]}],pl:[{pl:[ht]}],m:[{m:[lt]}],mx:[{mx:[lt]}],my:[{my:[lt]}],ms:[{ms:[lt]}],me:[{me:[lt]}],mt:[{mt:[lt]}],mr:[{mr:[lt]}],mb:[{mb:[lt]}],ml:[{ml:[lt]}],"space-x":[{"space-x":[mt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[mt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,_]}],"min-w":[{"min-w":[isArbitraryValue,_,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,_,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,_,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,_,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,_,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,_,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$5,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength$4,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[j]}],"placeholder-opacity":[{"placeholder-opacity":[ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[j]}],"text-opacity":[{"text-opacity":[ft]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...St(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$4,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength$4,isArbitraryValue]}],"text-decoration-color":[{decoration:[j]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:xt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[ft]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Nt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[j]}],"gradient-from-pos":[{from:[pt]}],"gradient-via-pos":[{via:[pt]}],"gradient-to-pos":[{to:[pt]}],"gradient-from":[{from:[dt]}],"gradient-via":[{via:[dt]}],"gradient-to":[{to:[dt]}],rounded:[{rounded:[tt]}],"rounded-s":[{"rounded-s":[tt]}],"rounded-e":[{"rounded-e":[tt]}],"rounded-t":[{"rounded-t":[tt]}],"rounded-r":[{"rounded-r":[tt]}],"rounded-b":[{"rounded-b":[tt]}],"rounded-l":[{"rounded-l":[tt]}],"rounded-ss":[{"rounded-ss":[tt]}],"rounded-se":[{"rounded-se":[tt]}],"rounded-ee":[{"rounded-ee":[tt]}],"rounded-es":[{"rounded-es":[tt]}],"rounded-tl":[{"rounded-tl":[tt]}],"rounded-tr":[{"rounded-tr":[tt]}],"rounded-br":[{"rounded-br":[tt]}],"rounded-bl":[{"rounded-bl":[tt]}],"border-w":[{border:[nt]}],"border-w-x":[{"border-x":[nt]}],"border-w-y":[{"border-y":[nt]}],"border-w-s":[{"border-s":[nt]}],"border-w-e":[{"border-e":[nt]}],"border-w-t":[{"border-t":[nt]}],"border-w-r":[{"border-r":[nt]}],"border-w-b":[{"border-b":[nt]}],"border-w-l":[{"border-l":[nt]}],"border-opacity":[{"border-opacity":[ft]}],"border-style":[{border:[...St(),"hidden"]}],"divide-x":[{"divide-x":[nt]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[nt]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[ft]}],"divide-style":[{divide:St()}],"border-color":[{border:[et]}],"border-color-x":[{"border-x":[et]}],"border-color-y":[{"border-y":[et]}],"border-color-s":[{"border-s":[et]}],"border-color-e":[{"border-e":[et]}],"border-color-t":[{"border-t":[et]}],"border-color-r":[{"border-r":[et]}],"border-color-b":[{"border-b":[et]}],"border-color-l":[{"border-l":[et]}],"divide-color":[{divide:[et]}],"outline-style":[{outline:["",...St()]}],"outline-offset":[{"outline-offset":[isLength$4,isArbitraryValue]}],"outline-w":[{outline:[isLength$4,isArbitraryLength]}],"outline-color":[{outline:[j]}],"ring-w":[{ring:Ct()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[j]}],"ring-opacity":[{"ring-opacity":[ft]}],"ring-offset-w":[{"ring-offset":[isLength$4,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[j]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[ft]}],"mix-blend":[{"mix-blend":[...Ot(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ot()}],filter:[{filter:["","none"]}],blur:[{blur:[$]}],brightness:[{brightness:[_e]}],contrast:[{contrast:[st]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[it]}],"hue-rotate":[{"hue-rotate":[at]}],invert:[{invert:[ot]}],saturate:[{saturate:[yt]}],sepia:[{sepia:[gt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[$]}],"backdrop-brightness":[{"backdrop-brightness":[_e]}],"backdrop-contrast":[{"backdrop-contrast":[st]}],"backdrop-grayscale":[{"backdrop-grayscale":[it]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at]}],"backdrop-invert":[{"backdrop-invert":[ot]}],"backdrop-opacity":[{"backdrop-opacity":[ft]}],"backdrop-saturate":[{"backdrop-saturate":[yt]}],"backdrop-sepia":[{"backdrop-sepia":[gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[rt]}],"border-spacing-x":[{"border-spacing-x":[rt]}],"border-spacing-y":[{"border-spacing-y":[rt]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Vt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Vt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[vt]}],"scale-x":[{"scale-x":[vt]}],"scale-y":[{"scale-y":[vt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Et]}],"translate-y":[{"translate-y":[Et]}],"skew-x":[{"skew-x":[bt]}],"skew-y":[{"skew-y":[bt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",j]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[j]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":xt()}],"scroll-mx":[{"scroll-mx":xt()}],"scroll-my":[{"scroll-my":xt()}],"scroll-ms":[{"scroll-ms":xt()}],"scroll-me":[{"scroll-me":xt()}],"scroll-mt":[{"scroll-mt":xt()}],"scroll-mr":[{"scroll-mr":xt()}],"scroll-mb":[{"scroll-mb":xt()}],"scroll-ml":[{"scroll-ml":xt()}],"scroll-p":[{"scroll-p":xt()}],"scroll-px":[{"scroll-px":xt()}],"scroll-py":[{"scroll-py":xt()}],"scroll-ps":[{"scroll-ps":xt()}],"scroll-pe":[{"scroll-pe":xt()}],"scroll-pt":[{"scroll-pt":xt()}],"scroll-pr":[{"scroll-pr":xt()}],"scroll-pb":[{"scroll-pb":xt()}],"scroll-pl":[{"scroll-pl":xt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[j,"none"]}],"stroke-w":[{stroke:[isLength$4,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[j,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...j){return twMerge(clsx(j))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Viewport$2,{ref:$,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",j),..._}));ToastViewport.displayName=Viewport$2.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:j,variant:_,...$},_e)=>jsxRuntimeExports.jsx(Root2$5,{ref:_e,className:cn(toastVariants({variant:_}),j),...$}));Toast.displayName=Root2$5.displayName;const ToastAction=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Action,{ref:$,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",j),..._}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Close$1,{ref:$,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",j),"toast-close":"",..._,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close$1.displayName;const ToastTitle=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Title$1,{ref:$,className:cn("text-sm font-semibold",j),..._}));ToastTitle.displayName=Title$1.displayName;const ToastDescription=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Description$1,{ref:$,className:cn("text-sm opacity-90",j),..._}));ToastDescription.displayName=Description$1.displayName;function Toaster(){const{toasts:j}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[j.map(function({id:_,title:$,description:_e,action:et,...tt}){return jsxRuntimeExports.jsxs(Toast,{...tt,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[$&&jsxRuntimeExports.jsx(ToastTitle,{children:$}),_e&&jsxRuntimeExports.jsx(ToastDescription,{children:_e})]}),et,jsxRuntimeExports.jsx(ToastClose,{})]},_)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId$1(j){const[_,$]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{j||$(_e=>_e??String(count$1++))},[j]),j||(_?`radix-${_}`:"")}const sides=["top","right","bottom","left"],min$4=Math.min,max$4=Math.max,round$1=Math.round,floor=Math.floor,createCoords=j=>({x:j,y:j}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(j,_,$){return max$4(j,min$4(_,$))}function evaluate(j,_){return typeof j=="function"?j(_):j}function getSide(j){return j.split("-")[0]}function getAlignment(j){return j.split("-")[1]}function getOppositeAxis(j){return j==="x"?"y":"x"}function getAxisLength(j){return j==="y"?"height":"width"}function getSideAxis(j){return["top","bottom"].includes(getSide(j))?"y":"x"}function getAlignmentAxis(j){return getOppositeAxis(getSideAxis(j))}function getAlignmentSides(j,_,$){$===void 0&&($=!1);const _e=getAlignment(j),et=getAlignmentAxis(j),tt=getAxisLength(et);let rt=et==="x"?_e===($?"end":"start")?"right":"left":_e==="start"?"bottom":"top";return _.reference[tt]>_.floating[tt]&&(rt=getOppositePlacement(rt)),[rt,getOppositePlacement(rt)]}function getExpandedPlacements(j){const _=getOppositePlacement(j);return[getOppositeAlignmentPlacement(j),_,getOppositeAlignmentPlacement(_)]}function getOppositeAlignmentPlacement(j){return j.replace(/start|end/g,_=>oppositeAlignmentMap[_])}function getSideList(j,_,$){const _e=["left","right"],et=["right","left"],tt=["top","bottom"],rt=["bottom","top"];switch(j){case"top":case"bottom":return $?_?et:_e:_?_e:et;case"left":case"right":return _?tt:rt;default:return[]}}function getOppositeAxisPlacements(j,_,$,_e){const et=getAlignment(j);let tt=getSideList(getSide(j),$==="start",_e);return et&&(tt=tt.map(rt=>rt+"-"+et),_&&(tt=tt.concat(tt.map(getOppositeAlignmentPlacement)))),tt}function getOppositePlacement(j){return j.replace(/left|right|bottom|top/g,_=>oppositeSideMap[_])}function expandPaddingObject(j){return{top:0,right:0,bottom:0,left:0,...j}}function getPaddingObject(j){return typeof j!="number"?expandPaddingObject(j):{top:j,right:j,bottom:j,left:j}}function rectToClientRect(j){const{x:_,y:$,width:_e,height:et}=j;return{width:_e,height:et,top:$,left:_,right:_+_e,bottom:$+et,x:_,y:$}}function computeCoordsFromPlacement(j,_,$){let{reference:_e,floating:et}=j;const tt=getSideAxis(_),rt=getAlignmentAxis(_),nt=getAxisLength(rt),st=getSide(_),it=tt==="y",at=_e.x+_e.width/2-et.width/2,ot=_e.y+_e.height/2-et.height/2,ct=_e[nt]/2-et[nt]/2;let dt;switch(st){case"top":dt={x:at,y:_e.y-et.height};break;case"bottom":dt={x:at,y:_e.y+_e.height};break;case"right":dt={x:_e.x+_e.width,y:ot};break;case"left":dt={x:_e.x-et.width,y:ot};break;default:dt={x:_e.x,y:_e.y}}switch(getAlignment(_)){case"start":dt[rt]-=ct*($&&it?-1:1);break;case"end":dt[rt]+=ct*($&&it?-1:1);break}return dt}const computePosition$1=async(j,_,$)=>{const{placement:_e="bottom",strategy:et="absolute",middleware:tt=[],platform:rt}=$,nt=tt.filter(Boolean),st=await(rt.isRTL==null?void 0:rt.isRTL(_));let it=await rt.getElementRects({reference:j,floating:_,strategy:et}),{x:at,y:ot}=computeCoordsFromPlacement(it,_e,st),ct=_e,dt={},pt=0;for(let ut=0;ut<nt.length;ut++){const{name:lt,fn:ft}=nt[ut],{x:ht,y:yt,data:vt,reset:gt}=await ft({x:at,y:ot,initialPlacement:_e,placement:ct,strategy:et,middlewareData:dt,rects:it,platform:rt,elements:{reference:j,floating:_}});at=ht??at,ot=yt??ot,dt={...dt,[lt]:{...dt[lt],...vt}},gt&&pt<=50&&(pt++,typeof gt=="object"&&(gt.placement&&(ct=gt.placement),gt.rects&&(it=gt.rects===!0?await rt.getElementRects({reference:j,floating:_,strategy:et}):gt.rects),{x:at,y:ot}=computeCoordsFromPlacement(it,ct,st)),ut=-1)}return{x:at,y:ot,placement:ct,strategy:et,middlewareData:dt}};async function detectOverflow(j,_){var $;_===void 0&&(_={});const{x:_e,y:et,platform:tt,rects:rt,elements:nt,strategy:st}=j,{boundary:it="clippingAncestors",rootBoundary:at="viewport",elementContext:ot="floating",altBoundary:ct=!1,padding:dt=0}=evaluate(_,j),pt=getPaddingObject(dt),lt=nt[ct?ot==="floating"?"reference":"floating":ot],ft=rectToClientRect(await tt.getClippingRect({element:($=await(tt.isElement==null?void 0:tt.isElement(lt)))==null||$?lt:lt.contextElement||await(tt.getDocumentElement==null?void 0:tt.getDocumentElement(nt.floating)),boundary:it,rootBoundary:at,strategy:st})),ht=ot==="floating"?{x:_e,y:et,width:rt.floating.width,height:rt.floating.height}:rt.reference,yt=await(tt.getOffsetParent==null?void 0:tt.getOffsetParent(nt.floating)),vt=await(tt.isElement==null?void 0:tt.isElement(yt))?await(tt.getScale==null?void 0:tt.getScale(yt))||{x:1,y:1}:{x:1,y:1},gt=rectToClientRect(tt.convertOffsetParentRelativeRectToViewportRelativeRect?await tt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:nt,rect:ht,offsetParent:yt,strategy:st}):ht);return{top:(ft.top-gt.top+pt.top)/vt.y,bottom:(gt.bottom-ft.bottom+pt.bottom)/vt.y,left:(ft.left-gt.left+pt.left)/vt.x,right:(gt.right-ft.right+pt.right)/vt.x}}const arrow$3=j=>({name:"arrow",options:j,async fn(_){const{x:$,y:_e,placement:et,rects:tt,platform:rt,elements:nt,middlewareData:st}=_,{element:it,padding:at=0}=evaluate(j,_)||{};if(it==null)return{};const ot=getPaddingObject(at),ct={x:$,y:_e},dt=getAlignmentAxis(et),pt=getAxisLength(dt),ut=await rt.getDimensions(it),lt=dt==="y",ft=lt?"top":"left",ht=lt?"bottom":"right",yt=lt?"clientHeight":"clientWidth",vt=tt.reference[pt]+tt.reference[dt]-ct[dt]-tt.floating[pt],gt=ct[dt]-tt.reference[dt],bt=await(rt.getOffsetParent==null?void 0:rt.getOffsetParent(it));let mt=bt?bt[yt]:0;(!mt||!await(rt.isElement==null?void 0:rt.isElement(bt)))&&(mt=nt.floating[yt]||tt.floating[pt]);const Et=vt/2-gt/2,Rt=mt/2-ut[pt]/2-1,Tt=min$4(ot[ft],Rt),jt=min$4(ot[ht],Rt),xt=Tt,Ct=mt-ut[pt]-jt,kt=mt/2-ut[pt]/2+Et,Nt=clamp$1(xt,kt,Ct),St=!st.arrow&&getAlignment(et)!=null&&kt!==Nt&&tt.reference[pt]/2-(kt<xt?Tt:jt)-ut[pt]/2<0,Ot=St?kt<xt?kt-xt:kt-Ct:0;return{[dt]:ct[dt]+Ot,data:{[dt]:Nt,centerOffset:kt-Nt-Ot,...St&&{alignmentOffset:Ot}},reset:St}}}),flip$2=function(j){return j===void 0&&(j={}),{name:"flip",options:j,async fn(_){var $,_e;const{placement:et,middlewareData:tt,rects:rt,initialPlacement:nt,platform:st,elements:it}=_,{mainAxis:at=!0,crossAxis:ot=!0,fallbackPlacements:ct,fallbackStrategy:dt="bestFit",fallbackAxisSideDirection:pt="none",flipAlignment:ut=!0,...lt}=evaluate(j,_);if(($=tt.arrow)!=null&&$.alignmentOffset)return{};const ft=getSide(et),ht=getSideAxis(nt),yt=getSide(nt)===nt,vt=await(st.isRTL==null?void 0:st.isRTL(it.floating)),gt=ct||(yt||!ut?[getOppositePlacement(nt)]:getExpandedPlacements(nt)),bt=pt!=="none";!ct&&bt&&gt.push(...getOppositeAxisPlacements(nt,ut,pt,vt));const mt=[nt,...gt],Et=await detectOverflow(_,lt),Rt=[];let Tt=((_e=tt.flip)==null?void 0:_e.overflows)||[];if(at&&Rt.push(Et[ft]),ot){const kt=getAlignmentSides(et,rt,vt);Rt.push(Et[kt[0]],Et[kt[1]])}if(Tt=[...Tt,{placement:et,overflows:Rt}],!Rt.every(kt=>kt<=0)){var jt,xt;const kt=(((jt=tt.flip)==null?void 0:jt.index)||0)+1,Nt=mt[kt];if(Nt)return{data:{index:kt,overflows:Tt},reset:{placement:Nt}};let St=(xt=Tt.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,Pt)=>Ot.overflows[1]-Pt.overflows[1])[0])==null?void 0:xt.placement;if(!St)switch(dt){case"bestFit":{var Ct;const Ot=(Ct=Tt.filter(Pt=>{if(bt){const wt=getSideAxis(Pt.placement);return wt===ht||wt==="y"}return!0}).map(Pt=>[Pt.placement,Pt.overflows.filter(wt=>wt>0).reduce((wt,Dt)=>wt+Dt,0)]).sort((Pt,wt)=>Pt[1]-wt[1])[0])==null?void 0:Ct[0];Ot&&(St=Ot);break}case"initialPlacement":St=nt;break}if(et!==St)return{reset:{placement:St}}}return{}}}};function getSideOffsets(j,_){return{top:j.top-_.height,right:j.right-_.width,bottom:j.bottom-_.height,left:j.left-_.width}}function isAnySideFullyClipped(j){return sides.some(_=>j[_]>=0)}const hide$2=function(j){return j===void 0&&(j={}),{name:"hide",options:j,async fn(_){const{rects:$}=_,{strategy:_e="referenceHidden",...et}=evaluate(j,_);switch(_e){case"referenceHidden":{const tt=await detectOverflow(_,{...et,elementContext:"reference"}),rt=getSideOffsets(tt,$.reference);return{data:{referenceHiddenOffsets:rt,referenceHidden:isAnySideFullyClipped(rt)}}}case"escaped":{const tt=await detectOverflow(_,{...et,altBoundary:!0}),rt=getSideOffsets(tt,$.floating);return{data:{escapedOffsets:rt,escaped:isAnySideFullyClipped(rt)}}}default:return{}}}}};async function convertValueToCoords(j,_){const{placement:$,platform:_e,elements:et}=j,tt=await(_e.isRTL==null?void 0:_e.isRTL(et.floating)),rt=getSide($),nt=getAlignment($),st=getSideAxis($)==="y",it=["left","top"].includes(rt)?-1:1,at=tt&&st?-1:1,ot=evaluate(_,j);let{mainAxis:ct,crossAxis:dt,alignmentAxis:pt}=typeof ot=="number"?{mainAxis:ot,crossAxis:0,alignmentAxis:null}:{mainAxis:ot.mainAxis||0,crossAxis:ot.crossAxis||0,alignmentAxis:ot.alignmentAxis};return nt&&typeof pt=="number"&&(dt=nt==="end"?pt*-1:pt),st?{x:dt*at,y:ct*it}:{x:ct*it,y:dt*at}}const offset$2=function(j){return j===void 0&&(j=0),{name:"offset",options:j,async fn(_){var $,_e;const{x:et,y:tt,placement:rt,middlewareData:nt}=_,st=await convertValueToCoords(_,j);return rt===(($=nt.offset)==null?void 0:$.placement)&&(_e=nt.arrow)!=null&&_e.alignmentOffset?{}:{x:et+st.x,y:tt+st.y,data:{...st,placement:rt}}}}},shift$2=function(j){return j===void 0&&(j={}),{name:"shift",options:j,async fn(_){const{x:$,y:_e,placement:et}=_,{mainAxis:tt=!0,crossAxis:rt=!1,limiter:nt={fn:lt=>{let{x:ft,y:ht}=lt;return{x:ft,y:ht}}},...st}=evaluate(j,_),it={x:$,y:_e},at=await detectOverflow(_,st),ot=getSideAxis(getSide(et)),ct=getOppositeAxis(ot);let dt=it[ct],pt=it[ot];if(tt){const lt=ct==="y"?"top":"left",ft=ct==="y"?"bottom":"right",ht=dt+at[lt],yt=dt-at[ft];dt=clamp$1(ht,dt,yt)}if(rt){const lt=ot==="y"?"top":"left",ft=ot==="y"?"bottom":"right",ht=pt+at[lt],yt=pt-at[ft];pt=clamp$1(ht,pt,yt)}const ut=nt.fn({..._,[ct]:dt,[ot]:pt});return{...ut,data:{x:ut.x-$,y:ut.y-_e,enabled:{[ct]:tt,[ot]:rt}}}}}},limitShift$2=function(j){return j===void 0&&(j={}),{options:j,fn(_){const{x:$,y:_e,placement:et,rects:tt,middlewareData:rt}=_,{offset:nt=0,mainAxis:st=!0,crossAxis:it=!0}=evaluate(j,_),at={x:$,y:_e},ot=getSideAxis(et),ct=getOppositeAxis(ot);let dt=at[ct],pt=at[ot];const ut=evaluate(nt,_),lt=typeof ut=="number"?{mainAxis:ut,crossAxis:0}:{mainAxis:0,crossAxis:0,...ut};if(st){const yt=ct==="y"?"height":"width",vt=tt.reference[ct]-tt.floating[yt]+lt.mainAxis,gt=tt.reference[ct]+tt.reference[yt]-lt.mainAxis;dt<vt?dt=vt:dt>gt&&(dt=gt)}if(it){var ft,ht;const yt=ct==="y"?"width":"height",vt=["top","left"].includes(getSide(et)),gt=tt.reference[ot]-tt.floating[yt]+(vt&&((ft=rt.offset)==null?void 0:ft[ot])||0)+(vt?0:lt.crossAxis),bt=tt.reference[ot]+tt.reference[yt]+(vt?0:((ht=rt.offset)==null?void 0:ht[ot])||0)-(vt?lt.crossAxis:0);pt<gt?pt=gt:pt>bt&&(pt=bt)}return{[ct]:dt,[ot]:pt}}}},size$2=function(j){return j===void 0&&(j={}),{name:"size",options:j,async fn(_){var $,_e;const{placement:et,rects:tt,platform:rt,elements:nt}=_,{apply:st=()=>{},...it}=evaluate(j,_),at=await detectOverflow(_,it),ot=getSide(et),ct=getAlignment(et),dt=getSideAxis(et)==="y",{width:pt,height:ut}=tt.floating;let lt,ft;ot==="top"||ot==="bottom"?(lt=ot,ft=ct===(await(rt.isRTL==null?void 0:rt.isRTL(nt.floating))?"start":"end")?"left":"right"):(ft=ot,lt=ct==="end"?"top":"bottom");const ht=ut-at.top-at.bottom,yt=pt-at.left-at.right,vt=min$4(ut-at[lt],ht),gt=min$4(pt-at[ft],yt),bt=!_.middlewareData.shift;let mt=vt,Et=gt;if(($=_.middlewareData.shift)!=null&&$.enabled.x&&(Et=yt),(_e=_.middlewareData.shift)!=null&&_e.enabled.y&&(mt=ht),bt&&!ct){const Tt=max$4(at.left,0),jt=max$4(at.right,0),xt=max$4(at.top,0),Ct=max$4(at.bottom,0);dt?Et=pt-2*(Tt!==0||jt!==0?Tt+jt:max$4(at.left,at.right)):mt=ut-2*(xt!==0||Ct!==0?xt+Ct:max$4(at.top,at.bottom))}await st({..._,availableWidth:Et,availableHeight:mt});const Rt=await rt.getDimensions(nt.floating);return pt!==Rt.width||ut!==Rt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(j){return isNode(j)?(j.nodeName||"").toLowerCase():"#document"}function getWindow(j){var _;return(j==null||(_=j.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement(j){var _;return(_=(isNode(j)?j.ownerDocument:j.document)||window.document)==null?void 0:_.documentElement}function isNode(j){return hasWindow()?j instanceof Node||j instanceof getWindow(j).Node:!1}function isElement(j){return hasWindow()?j instanceof Element||j instanceof getWindow(j).Element:!1}function isHTMLElement$1(j){return hasWindow()?j instanceof HTMLElement||j instanceof getWindow(j).HTMLElement:!1}function isShadowRoot(j){return!hasWindow()||typeof ShadowRoot>"u"?!1:j instanceof ShadowRoot||j instanceof getWindow(j).ShadowRoot}function isOverflowElement(j){const{overflow:_,overflowX:$,overflowY:_e,display:et}=getComputedStyle$1(j);return/auto|scroll|overlay|hidden|clip/.test(_+_e+$)&&!["inline","contents"].includes(et)}function isTableElement(j){return["table","td","th"].includes(getNodeName(j))}function isTopLayer(j){return[":popover-open",":modal"].some(_=>{try{return j.matches(_)}catch{return!1}})}function isContainingBlock(j){const _=isWebKit(),$=isElement(j)?getComputedStyle$1(j):j;return["transform","translate","scale","rotate","perspective"].some(_e=>$[_e]?$[_e]!=="none":!1)||($.containerType?$.containerType!=="normal":!1)||!_&&($.backdropFilter?$.backdropFilter!=="none":!1)||!_&&($.filter?$.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(_e=>($.willChange||"").includes(_e))||["paint","layout","strict","content"].some(_e=>($.contain||"").includes(_e))}function getContainingBlock(j){let _=getParentNode(j);for(;isHTMLElement$1(_)&&!isLastTraversableNode(_);){if(isContainingBlock(_))return _;if(isTopLayer(_))return null;_=getParentNode(_)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(j){return["html","body","#document"].includes(getNodeName(j))}function getComputedStyle$1(j){return getWindow(j).getComputedStyle(j)}function getNodeScroll(j){return isElement(j)?{scrollLeft:j.scrollLeft,scrollTop:j.scrollTop}:{scrollLeft:j.scrollX,scrollTop:j.scrollY}}function getParentNode(j){if(getNodeName(j)==="html")return j;const _=j.assignedSlot||j.parentNode||isShadowRoot(j)&&j.host||getDocumentElement(j);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor(j){const _=getParentNode(j);return isLastTraversableNode(_)?j.ownerDocument?j.ownerDocument.body:j.body:isHTMLElement$1(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors(j,_,$){var _e;_===void 0&&(_=[]),$===void 0&&($=!0);const et=getNearestOverflowAncestor(j),tt=et===((_e=j.ownerDocument)==null?void 0:_e.body),rt=getWindow(et);if(tt){const nt=getFrameElement(rt);return _.concat(rt,rt.visualViewport||[],isOverflowElement(et)?et:[],nt&&$?getOverflowAncestors(nt):[])}return _.concat(et,getOverflowAncestors(et,[],$))}function getFrameElement(j){return j.parent&&Object.getPrototypeOf(j.parent)?j.frameElement:null}function getCssDimensions(j){const _=getComputedStyle$1(j);let $=parseFloat(_.width)||0,_e=parseFloat(_.height)||0;const et=isHTMLElement$1(j),tt=et?j.offsetWidth:$,rt=et?j.offsetHeight:_e,nt=round$1($)!==tt||round$1(_e)!==rt;return nt&&($=tt,_e=rt),{width:$,height:_e,$:nt}}function unwrapElement(j){return isElement(j)?j:j.contextElement}function getScale(j){const _=unwrapElement(j);if(!isHTMLElement$1(_))return createCoords(1);const $=_.getBoundingClientRect(),{width:_e,height:et,$:tt}=getCssDimensions(_);let rt=(tt?round$1($.width):$.width)/_e,nt=(tt?round$1($.height):$.height)/et;return(!rt||!Number.isFinite(rt))&&(rt=1),(!nt||!Number.isFinite(nt))&&(nt=1),{x:rt,y:nt}}const noOffsets=createCoords(0);function getVisualOffsets(j){const _=getWindow(j);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets(j,_,$){return _===void 0&&(_=!1),!$||_&&$!==getWindow(j)?!1:_}function getBoundingClientRect(j,_,$,_e){_===void 0&&(_=!1),$===void 0&&($=!1);const et=j.getBoundingClientRect(),tt=unwrapElement(j);let rt=createCoords(1);_&&(_e?isElement(_e)&&(rt=getScale(_e)):rt=getScale(j));const nt=shouldAddVisualOffsets(tt,$,_e)?getVisualOffsets(tt):createCoords(0);let st=(et.left+nt.x)/rt.x,it=(et.top+nt.y)/rt.y,at=et.width/rt.x,ot=et.height/rt.y;if(tt){const ct=getWindow(tt),dt=_e&&isElement(_e)?getWindow(_e):_e;let pt=ct,ut=getFrameElement(pt);for(;ut&&_e&&dt!==pt;){const lt=getScale(ut),ft=ut.getBoundingClientRect(),ht=getComputedStyle$1(ut),yt=ft.left+(ut.clientLeft+parseFloat(ht.paddingLeft))*lt.x,vt=ft.top+(ut.clientTop+parseFloat(ht.paddingTop))*lt.y;st*=lt.x,it*=lt.y,at*=lt.x,ot*=lt.y,st+=yt,it+=vt,pt=getWindow(ut),ut=getFrameElement(pt)}}return rectToClientRect({width:at,height:ot,x:st,y:it})}function getWindowScrollBarX(j,_){const $=getNodeScroll(j).scrollLeft;return _?_.left+$:getBoundingClientRect(getDocumentElement(j)).left+$}function getHTMLOffset(j,_,$){$===void 0&&($=!1);const _e=j.getBoundingClientRect(),et=_e.left+_.scrollLeft-($?0:getWindowScrollBarX(j,_e)),tt=_e.top+_.scrollTop;return{x:et,y:tt}}function convertOffsetParentRelativeRectToViewportRelativeRect(j){let{elements:_,rect:$,offsetParent:_e,strategy:et}=j;const tt=et==="fixed",rt=getDocumentElement(_e),nt=_?isTopLayer(_.floating):!1;if(_e===rt||nt&&tt)return $;let st={scrollLeft:0,scrollTop:0},it=createCoords(1);const at=createCoords(0),ot=isHTMLElement$1(_e);if((ot||!ot&&!tt)&&((getNodeName(_e)!=="body"||isOverflowElement(rt))&&(st=getNodeScroll(_e)),isHTMLElement$1(_e))){const dt=getBoundingClientRect(_e);it=getScale(_e),at.x=dt.x+_e.clientLeft,at.y=dt.y+_e.clientTop}const ct=rt&&!ot&&!tt?getHTMLOffset(rt,st,!0):createCoords(0);return{width:$.width*it.x,height:$.height*it.y,x:$.x*it.x-st.scrollLeft*it.x+at.x+ct.x,y:$.y*it.y-st.scrollTop*it.y+at.y+ct.y}}function getClientRects(j){return Array.from(j.getClientRects())}function getDocumentRect(j){const _=getDocumentElement(j),$=getNodeScroll(j),_e=j.ownerDocument.body,et=max$4(_.scrollWidth,_.clientWidth,_e.scrollWidth,_e.clientWidth),tt=max$4(_.scrollHeight,_.clientHeight,_e.scrollHeight,_e.clientHeight);let rt=-$.scrollLeft+getWindowScrollBarX(j);const nt=-$.scrollTop;return getComputedStyle$1(_e).direction==="rtl"&&(rt+=max$4(_.clientWidth,_e.clientWidth)-et),{width:et,height:tt,x:rt,y:nt}}function getViewportRect(j,_){const $=getWindow(j),_e=getDocumentElement(j),et=$.visualViewport;let tt=_e.clientWidth,rt=_e.clientHeight,nt=0,st=0;if(et){tt=et.width,rt=et.height;const it=isWebKit();(!it||it&&_==="fixed")&&(nt=et.offsetLeft,st=et.offsetTop)}return{width:tt,height:rt,x:nt,y:st}}function getInnerBoundingClientRect(j,_){const $=getBoundingClientRect(j,!0,_==="fixed"),_e=$.top+j.clientTop,et=$.left+j.clientLeft,tt=isHTMLElement$1(j)?getScale(j):createCoords(1),rt=j.clientWidth*tt.x,nt=j.clientHeight*tt.y,st=et*tt.x,it=_e*tt.y;return{width:rt,height:nt,x:st,y:it}}function getClientRectFromClippingAncestor(j,_,$){let _e;if(_==="viewport")_e=getViewportRect(j,$);else if(_==="document")_e=getDocumentRect(getDocumentElement(j));else if(isElement(_))_e=getInnerBoundingClientRect(_,$);else{const et=getVisualOffsets(j);_e={x:_.x-et.x,y:_.y-et.y,width:_.width,height:_.height}}return rectToClientRect(_e)}function hasFixedPositionAncestor(j,_){const $=getParentNode(j);return $===_||!isElement($)||isLastTraversableNode($)?!1:getComputedStyle$1($).position==="fixed"||hasFixedPositionAncestor($,_)}function getClippingElementAncestors(j,_){const $=_.get(j);if($)return $;let _e=getOverflowAncestors(j,[],!1).filter(nt=>isElement(nt)&&getNodeName(nt)!=="body"),et=null;const tt=getComputedStyle$1(j).position==="fixed";let rt=tt?getParentNode(j):j;for(;isElement(rt)&&!isLastTraversableNode(rt);){const nt=getComputedStyle$1(rt),st=isContainingBlock(rt);!st&&nt.position==="fixed"&&(et=null),(tt?!st&&!et:!st&&nt.position==="static"&&!!et&&["absolute","fixed"].includes(et.position)||isOverflowElement(rt)&&!st&&hasFixedPositionAncestor(j,rt))?_e=_e.filter(at=>at!==rt):et=nt,rt=getParentNode(rt)}return _.set(j,_e),_e}function getClippingRect(j){let{element:_,boundary:$,rootBoundary:_e,strategy:et}=j;const rt=[...$==="clippingAncestors"?isTopLayer(_)?[]:getClippingElementAncestors(_,this._c):[].concat($),_e],nt=rt[0],st=rt.reduce((it,at)=>{const ot=getClientRectFromClippingAncestor(_,at,et);return it.top=max$4(ot.top,it.top),it.right=min$4(ot.right,it.right),it.bottom=min$4(ot.bottom,it.bottom),it.left=max$4(ot.left,it.left),it},getClientRectFromClippingAncestor(_,nt,et));return{width:st.right-st.left,height:st.bottom-st.top,x:st.left,y:st.top}}function getDimensions(j){const{width:_,height:$}=getCssDimensions(j);return{width:_,height:$}}function getRectRelativeToOffsetParent(j,_,$){const _e=isHTMLElement$1(_),et=getDocumentElement(_),tt=$==="fixed",rt=getBoundingClientRect(j,!0,tt,_);let nt={scrollLeft:0,scrollTop:0};const st=createCoords(0);if(_e||!_e&&!tt)if((getNodeName(_)!=="body"||isOverflowElement(et))&&(nt=getNodeScroll(_)),_e){const ct=getBoundingClientRect(_,!0,tt,_);st.x=ct.x+_.clientLeft,st.y=ct.y+_.clientTop}else et&&(st.x=getWindowScrollBarX(et));const it=et&&!_e&&!tt?getHTMLOffset(et,nt):createCoords(0),at=rt.left+nt.scrollLeft-st.x-it.x,ot=rt.top+nt.scrollTop-st.y-it.y;return{x:at,y:ot,width:rt.width,height:rt.height}}function isStaticPositioned(j){return getComputedStyle$1(j).position==="static"}function getTrueOffsetParent(j,_){if(!isHTMLElement$1(j)||getComputedStyle$1(j).position==="fixed")return null;if(_)return _(j);let $=j.offsetParent;return getDocumentElement(j)===$&&($=$.ownerDocument.body),$}function getOffsetParent(j,_){const $=getWindow(j);if(isTopLayer(j))return $;if(!isHTMLElement$1(j)){let et=getParentNode(j);for(;et&&!isLastTraversableNode(et);){if(isElement(et)&&!isStaticPositioned(et))return et;et=getParentNode(et)}return $}let _e=getTrueOffsetParent(j,_);for(;_e&&isTableElement(_e)&&isStaticPositioned(_e);)_e=getTrueOffsetParent(_e,_);return _e&&isLastTraversableNode(_e)&&isStaticPositioned(_e)&&!isContainingBlock(_e)?$:_e||getContainingBlock(j)||$}const getElementRects=async function(j){const _=this.getOffsetParent||getOffsetParent,$=this.getDimensions,_e=await $(j.floating);return{reference:getRectRelativeToOffsetParent(j.reference,await _(j.floating),j.strategy),floating:{x:0,y:0,width:_e.width,height:_e.height}}};function isRTL(j){return getComputedStyle$1(j).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(j,_){return j.x===_.x&&j.y===_.y&&j.width===_.width&&j.height===_.height}function observeMove(j,_){let $=null,_e;const et=getDocumentElement(j);function tt(){var nt;clearTimeout(_e),(nt=$)==null||nt.disconnect(),$=null}function rt(nt,st){nt===void 0&&(nt=!1),st===void 0&&(st=1),tt();const it=j.getBoundingClientRect(),{left:at,top:ot,width:ct,height:dt}=it;if(nt||_(),!ct||!dt)return;const pt=floor(ot),ut=floor(et.clientWidth-(at+ct)),lt=floor(et.clientHeight-(ot+dt)),ft=floor(at),yt={rootMargin:-pt+"px "+-ut+"px "+-lt+"px "+-ft+"px",threshold:max$4(0,min$4(1,st))||1};let vt=!0;function gt(bt){const mt=bt[0].intersectionRatio;if(mt!==st){if(!vt)return rt();mt?rt(!1,mt):_e=setTimeout(()=>{rt(!1,1e-7)},1e3)}mt===1&&!rectsAreEqual(it,j.getBoundingClientRect())&&rt(),vt=!1}try{$=new IntersectionObserver(gt,{...yt,root:et.ownerDocument})}catch{$=new IntersectionObserver(gt,yt)}$.observe(j)}return rt(!0),tt}function autoUpdate(j,_,$,_e){_e===void 0&&(_e={});const{ancestorScroll:et=!0,ancestorResize:tt=!0,elementResize:rt=typeof ResizeObserver=="function",layoutShift:nt=typeof IntersectionObserver=="function",animationFrame:st=!1}=_e,it=unwrapElement(j),at=et||tt?[...it?getOverflowAncestors(it):[],...getOverflowAncestors(_)]:[];at.forEach(ft=>{et&&ft.addEventListener("scroll",$,{passive:!0}),tt&&ft.addEventListener("resize",$)});const ot=it&&nt?observeMove(it,$):null;let ct=-1,dt=null;rt&&(dt=new ResizeObserver(ft=>{let[ht]=ft;ht&&ht.target===it&&dt&&(dt.unobserve(_),cancelAnimationFrame(ct),ct=requestAnimationFrame(()=>{var yt;(yt=dt)==null||yt.observe(_)})),$()}),it&&!st&&dt.observe(it),dt.observe(_));let pt,ut=st?getBoundingClientRect(j):null;st&&lt();function lt(){const ft=getBoundingClientRect(j);ut&&!rectsAreEqual(ut,ft)&&$(),ut=ft,pt=requestAnimationFrame(lt)}return $(),()=>{var ft;at.forEach(ht=>{et&&ht.removeEventListener("scroll",$),tt&&ht.removeEventListener("resize",$)}),ot==null||ot(),(ft=dt)==null||ft.disconnect(),dt=null,st&&cancelAnimationFrame(pt)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(j,_,$)=>{const _e=new Map,et={platform,...$},tt={...et.platform,_c:_e};return computePosition$1(j,_,{...et,platform:tt})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$2(j,_){if(j===_)return!0;if(typeof j!=typeof _)return!1;if(typeof j=="function"&&j.toString()===_.toString())return!0;let $,_e,et;if(j&&_&&typeof j=="object"){if(Array.isArray(j)){if($=j.length,$!==_.length)return!1;for(_e=$;_e--!==0;)if(!deepEqual$2(j[_e],_[_e]))return!1;return!0}if(et=Object.keys(j),$=et.length,$!==Object.keys(_).length)return!1;for(_e=$;_e--!==0;)if(!{}.hasOwnProperty.call(_,et[_e]))return!1;for(_e=$;_e--!==0;){const tt=et[_e];if(!(tt==="_owner"&&j.$$typeof)&&!deepEqual$2(j[tt],_[tt]))return!1}return!0}return j!==j&&_!==_}function getDPR(j){return typeof window>"u"?1:(j.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(j,_){const $=getDPR(j);return Math.round(_*$)/$}function useLatestRef(j){const _=reactExports.useRef(j);return index(()=>{_.current=j}),_}function useFloating(j){j===void 0&&(j={});const{placement:_="bottom",strategy:$="absolute",middleware:_e=[],platform:et,elements:{reference:tt,floating:rt}={},transform:nt=!0,whileElementsMounted:st,open:it}=j,[at,ot]=reactExports.useState({x:0,y:0,strategy:$,placement:_,middlewareData:{},isPositioned:!1}),[ct,dt]=reactExports.useState(_e);deepEqual$2(ct,_e)||dt(_e);const[pt,ut]=reactExports.useState(null),[lt,ft]=reactExports.useState(null),ht=reactExports.useCallback(Pt=>{Pt!==bt.current&&(bt.current=Pt,ut(Pt))},[]),yt=reactExports.useCallback(Pt=>{Pt!==mt.current&&(mt.current=Pt,ft(Pt))},[]),vt=tt||pt,gt=rt||lt,bt=reactExports.useRef(null),mt=reactExports.useRef(null),Et=reactExports.useRef(at),Rt=st!=null,Tt=useLatestRef(st),jt=useLatestRef(et),xt=useLatestRef(it),Ct=reactExports.useCallback(()=>{if(!bt.current||!mt.current)return;const Pt={placement:_,strategy:$,middleware:ct};jt.current&&(Pt.platform=jt.current),computePosition(bt.current,mt.current,Pt).then(wt=>{const Dt={...wt,isPositioned:xt.current!==!1};kt.current&&!deepEqual$2(Et.current,Dt)&&(Et.current=Dt,reactDomExports.flushSync(()=>{ot(Dt)}))})},[ct,_,$,jt,xt]);index(()=>{it===!1&&Et.current.isPositioned&&(Et.current.isPositioned=!1,ot(Pt=>({...Pt,isPositioned:!1})))},[it]);const kt=reactExports.useRef(!1);index(()=>(kt.current=!0,()=>{kt.current=!1}),[]),index(()=>{if(vt&&(bt.current=vt),gt&&(mt.current=gt),vt&&gt){if(Tt.current)return Tt.current(vt,gt,Ct);Ct()}},[vt,gt,Ct,Tt,Rt]);const Nt=reactExports.useMemo(()=>({reference:bt,floating:mt,setReference:ht,setFloating:yt}),[ht,yt]),St=reactExports.useMemo(()=>({reference:vt,floating:gt}),[vt,gt]),Ot=reactExports.useMemo(()=>{const Pt={position:$,left:0,top:0};if(!St.floating)return Pt;const wt=roundByDPR(St.floating,at.x),Dt=roundByDPR(St.floating,at.y);return nt?{...Pt,transform:"translate("+wt+"px, "+Dt+"px)",...getDPR(St.floating)>=1.5&&{willChange:"transform"}}:{position:$,left:wt,top:Dt}},[$,nt,St.floating,at.x,at.y]);return reactExports.useMemo(()=>({...at,update:Ct,refs:Nt,elements:St,floatingStyles:Ot}),[at,Ct,Nt,St,Ot])}const arrow$1=j=>{function _($){return{}.hasOwnProperty.call($,"current")}return{name:"arrow",options:j,fn($){const{element:_e,padding:et}=typeof j=="function"?j($):j;return _e&&_(_e)?_e.current!=null?arrow$2({element:_e.current,padding:et}).fn($):{}:_e?arrow$2({element:_e,padding:et}).fn($):{}}}},offset=(j,_)=>({...offset$1(j),options:[j,_]}),shift=(j,_)=>({...shift$1(j),options:[j,_]}),limitShift=(j,_)=>({...limitShift$1(j),options:[j,_]}),flip=(j,_)=>({...flip$1(j),options:[j,_]}),size=(j,_)=>({...size$1(j),options:[j,_]}),hide=(j,_)=>({...hide$1(j),options:[j,_]}),arrow=(j,_)=>({...arrow$1(j),options:[j,_]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((j,_)=>{const{children:$,width:_e=10,height:et=5,...tt}=j;return jsxRuntimeExports.jsx(Primitive.svg,{...tt,ref:_,width:_e,height:et,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:j.asChild?$:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$9=Arrow$1;function useSize(j){const[_,$]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(j){$({width:j.offsetWidth,height:j.offsetHeight});const _e=new ResizeObserver(et=>{if(!Array.isArray(et)||!et.length)return;const tt=et[0];let rt,nt;if("borderBoxSize"in tt){const st=tt.borderBoxSize,it=Array.isArray(st)?st[0]:st;rt=it.inlineSize,nt=it.blockSize}else rt=j.offsetWidth,nt=j.offsetHeight;$({width:rt,height:nt})});return _e.observe(j,{box:"border-box"}),()=>_e.unobserve(j)}else $(void 0)},[j]),_}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=j=>{const{__scopePopper:_,children:$}=j,[_e,et]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:_,anchor:_e,onAnchorChange:et,children:$})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((j,_)=>{const{__scopePopper:$,virtualRef:_e,...et}=j,tt=usePopperContext(ANCHOR_NAME$1,$),rt=reactExports.useRef(null),nt=useComposedRefs(_,rt);return reactExports.useEffect(()=>{tt.onAnchorChange((_e==null?void 0:_e.current)||rt.current)}),_e?null:jsxRuntimeExports.jsx(Primitive.div,{...et,ref:nt})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$5="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$5),PopperContent=reactExports.forwardRef((j,_)=>{var Bt,Ut,zt,Qt,sr,Kt;const{__scopePopper:$,side:_e="bottom",sideOffset:et=0,align:tt="center",alignOffset:rt=0,arrowPadding:nt=0,avoidCollisions:st=!0,collisionBoundary:it=[],collisionPadding:at=0,sticky:ot="partial",hideWhenDetached:ct=!1,updatePositionStrategy:dt="optimized",onPlaced:pt,...ut}=j,lt=usePopperContext(CONTENT_NAME$5,$),[ft,ht]=reactExports.useState(null),yt=useComposedRefs(_,fr=>ht(fr)),[vt,gt]=reactExports.useState(null),bt=useSize(vt),mt=(bt==null?void 0:bt.width)??0,Et=(bt==null?void 0:bt.height)??0,Rt=_e+(tt!=="center"?"-"+tt:""),Tt=typeof at=="number"?at:{top:0,right:0,bottom:0,left:0,...at},jt=Array.isArray(it)?it:[it],xt=jt.length>0,Ct={padding:Tt,boundary:jt.filter(isNotNull),altBoundary:xt},{refs:kt,floatingStyles:Nt,placement:St,isPositioned:Ot,middlewareData:Pt}=useFloating({strategy:"fixed",placement:Rt,whileElementsMounted:(...fr)=>autoUpdate(...fr,{animationFrame:dt==="always"}),elements:{reference:lt.anchor},middleware:[offset({mainAxis:et+Et,alignmentAxis:rt}),st&&shift({mainAxis:!0,crossAxis:!1,limiter:ot==="partial"?limitShift():void 0,...Ct}),st&&flip({...Ct}),size({...Ct,apply:({elements:fr,rects:dr,availableWidth:xr,availableHeight:ar})=>{const{width:rr,height:Lt}=dr.reference,Zt=fr.floating.style;Zt.setProperty("--radix-popper-available-width",`${xr}px`),Zt.setProperty("--radix-popper-available-height",`${ar}px`),Zt.setProperty("--radix-popper-anchor-width",`${rr}px`),Zt.setProperty("--radix-popper-anchor-height",`${Lt}px`)}}),vt&&arrow({element:vt,padding:nt}),transformOrigin({arrowWidth:mt,arrowHeight:Et}),ct&&hide({strategy:"referenceHidden",...Ct})]}),[wt,Dt]=getSideAndAlignFromPlacement(St),Vt=useCallbackRef$1(pt);useLayoutEffect2(()=>{Ot&&(Vt==null||Vt())},[Ot,Vt]);const It=(Bt=Pt.arrow)==null?void 0:Bt.x,At=(Ut=Pt.arrow)==null?void 0:Ut.y,$t=((zt=Pt.arrow)==null?void 0:zt.centerOffset)!==0,[Mt,Ht]=reactExports.useState();return useLayoutEffect2(()=>{ft&&Ht(window.getComputedStyle(ft).zIndex)},[ft]),jsxRuntimeExports.jsx("div",{ref:kt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Nt,transform:Ot?Nt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Mt,"--radix-popper-transform-origin":[(Qt=Pt.transformOrigin)==null?void 0:Qt.x,(sr=Pt.transformOrigin)==null?void 0:sr.y].join(" "),...((Kt=Pt.hide)==null?void 0:Kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:j.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:$,placedSide:wt,onArrowChange:gt,arrowX:It,arrowY:At,shouldHideArrow:$t,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":wt,"data-align":Dt,...ut,ref:yt,style:{...ut.style,animation:Ot?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$5;var ARROW_NAME$3="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(_,$){const{__scopePopper:_e,...et}=_,tt=useContentContext(ARROW_NAME$3,_e),rt=OPPOSITE_SIDE[tt.placedSide];return jsxRuntimeExports.jsx("span",{ref:tt.onArrowChange,style:{position:"absolute",left:tt.arrowX,top:tt.arrowY,[rt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[tt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[tt.placedSide],visibility:tt.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$9,{...et,ref:$,style:{...et.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$3;function isNotNull(j){return j!==null}var transformOrigin=j=>({name:"transformOrigin",options:j,fn(_){var lt,ft,ht;const{placement:$,rects:_e,middlewareData:et}=_,rt=((lt=et.arrow)==null?void 0:lt.centerOffset)!==0,nt=rt?0:j.arrowWidth,st=rt?0:j.arrowHeight,[it,at]=getSideAndAlignFromPlacement($),ot={start:"0%",center:"50%",end:"100%"}[at],ct=(((ft=et.arrow)==null?void 0:ft.x)??0)+nt/2,dt=(((ht=et.arrow)==null?void 0:ht.y)??0)+st/2;let pt="",ut="";return it==="bottom"?(pt=rt?ot:`${ct}px`,ut=`${-st}px`):it==="top"?(pt=rt?ot:`${ct}px`,ut=`${_e.floating.height+st}px`):it==="right"?(pt=`${-st}px`,ut=rt?ot:`${dt}px`):it==="left"&&(pt=`${_e.floating.width+st}px`,ut=rt?ot:`${dt}px`),{data:{x:pt,y:ut}}}});function getSideAndAlignFromPlacement(j){const[_,$="center"]=j.split("-");return[_,$]}var Root2$4=Popper,Anchor=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=j=>{const{__scopeTooltip:_,delayDuration:$=DEFAULT_DELAY_DURATION,skipDelayDuration:_e=300,disableHoverableContent:et=!1,children:tt}=j,rt=reactExports.useRef(!0),nt=reactExports.useRef(!1),st=reactExports.useRef(0);return reactExports.useEffect(()=>{const it=st.current;return()=>window.clearTimeout(it)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:_,isOpenDelayedRef:rt,delayDuration:$,onOpen:reactExports.useCallback(()=>{window.clearTimeout(st.current),rt.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(st.current),st.current=window.setTimeout(()=>rt.current=!0,_e)},[_e]),isPointerInTransitRef:nt,onPointerInTransitChange:reactExports.useCallback(it=>{nt.current=it},[]),disableHoverableContent:et,children:tt})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$2=j=>{const{__scopeTooltip:_,children:$,open:_e,defaultOpen:et=!1,onOpenChange:tt,disableHoverableContent:rt,delayDuration:nt}=j,st=useTooltipProviderContext(TOOLTIP_NAME,j.__scopeTooltip),it=usePopperScope$2(_),[at,ot]=reactExports.useState(null),ct=useId$1(),dt=reactExports.useRef(0),pt=rt??st.disableHoverableContent,ut=nt??st.delayDuration,lt=reactExports.useRef(!1),[ft=!1,ht]=useControllableState({prop:_e,defaultProp:et,onChange:mt=>{mt?(st.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):st.onClose(),tt==null||tt(mt)}}),yt=reactExports.useMemo(()=>ft?lt.current?"delayed-open":"instant-open":"closed",[ft]),vt=reactExports.useCallback(()=>{window.clearTimeout(dt.current),dt.current=0,lt.current=!1,ht(!0)},[ht]),gt=reactExports.useCallback(()=>{window.clearTimeout(dt.current),dt.current=0,ht(!1)},[ht]),bt=reactExports.useCallback(()=>{window.clearTimeout(dt.current),dt.current=window.setTimeout(()=>{lt.current=!0,ht(!0),dt.current=0},ut)},[ut,ht]);return reactExports.useEffect(()=>()=>{dt.current&&(window.clearTimeout(dt.current),dt.current=0)},[]),jsxRuntimeExports.jsx(Root2$4,{...it,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:_,contentId:ct,open:ft,stateAttribute:yt,trigger:at,onTriggerChange:ot,onTriggerEnter:reactExports.useCallback(()=>{st.isOpenDelayedRef.current?bt():vt()},[st.isOpenDelayedRef,bt,vt]),onTriggerLeave:reactExports.useCallback(()=>{pt?gt():(window.clearTimeout(dt.current),dt.current=0)},[gt,pt]),onOpen:vt,onClose:gt,disableHoverableContent:pt,children:$})})};Tooltip$2.displayName=TOOLTIP_NAME;var TRIGGER_NAME$4="TooltipTrigger",TooltipTrigger$1=reactExports.forwardRef((j,_)=>{const{__scopeTooltip:$,..._e}=j,et=useTooltipContext(TRIGGER_NAME$4,$),tt=useTooltipProviderContext(TRIGGER_NAME$4,$),rt=usePopperScope$2($),nt=reactExports.useRef(null),st=useComposedRefs(_,nt,et.onTriggerChange),it=reactExports.useRef(!1),at=reactExports.useRef(!1),ot=reactExports.useCallback(()=>it.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",ot),[ot]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...rt,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":et.open?et.contentId:void 0,"data-state":et.stateAttribute,..._e,ref:st,onPointerMove:composeEventHandlers(j.onPointerMove,ct=>{ct.pointerType!=="touch"&&!at.current&&!tt.isPointerInTransitRef.current&&(et.onTriggerEnter(),at.current=!0)}),onPointerLeave:composeEventHandlers(j.onPointerLeave,()=>{et.onTriggerLeave(),at.current=!1}),onPointerDown:composeEventHandlers(j.onPointerDown,()=>{et.open&&et.onClose(),it.current=!0,document.addEventListener("pointerup",ot,{once:!0})}),onFocus:composeEventHandlers(j.onFocus,()=>{it.current||et.onOpen()}),onBlur:composeEventHandlers(j.onBlur,et.onClose),onClick:composeEventHandlers(j.onClick,et.onClose)})})});TooltipTrigger$1.displayName=TRIGGER_NAME$4;var PORTAL_NAME$3="TooltipPortal",[PortalProvider$2,usePortalContext$2]=createTooltipContext(PORTAL_NAME$3,{forceMount:void 0}),CONTENT_NAME$4="TooltipContent",TooltipContent$1=reactExports.forwardRef((j,_)=>{const $=usePortalContext$2(CONTENT_NAME$4,j.__scopeTooltip),{forceMount:_e=$.forceMount,side:et="top",...tt}=j,rt=useTooltipContext(CONTENT_NAME$4,j.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:_e||rt.open,children:rt.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:et,...tt,ref:_}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:et,...tt,ref:_})})}),TooltipContentHoverable=reactExports.forwardRef((j,_)=>{const $=useTooltipContext(CONTENT_NAME$4,j.__scopeTooltip),_e=useTooltipProviderContext(CONTENT_NAME$4,j.__scopeTooltip),et=reactExports.useRef(null),tt=useComposedRefs(_,et),[rt,nt]=reactExports.useState(null),{trigger:st,onClose:it}=$,at=et.current,{onPointerInTransitChange:ot}=_e,ct=reactExports.useCallback(()=>{nt(null),ot(!1)},[ot]),dt=reactExports.useCallback((pt,ut)=>{const lt=pt.currentTarget,ft={x:pt.clientX,y:pt.clientY},ht=getExitSideFromRect(ft,lt.getBoundingClientRect()),yt=getPaddedExitPoints(ft,ht),vt=getPointsFromRect(ut.getBoundingClientRect()),gt=getHull([...yt,...vt]);nt(gt),ot(!0)},[ot]);return reactExports.useEffect(()=>()=>ct(),[ct]),reactExports.useEffect(()=>{if(st&&at){const pt=lt=>dt(lt,at),ut=lt=>dt(lt,st);return st.addEventListener("pointerleave",pt),at.addEventListener("pointerleave",ut),()=>{st.removeEventListener("pointerleave",pt),at.removeEventListener("pointerleave",ut)}}},[st,at,dt,ct]),reactExports.useEffect(()=>{if(rt){const pt=ut=>{const lt=ut.target,ft={x:ut.clientX,y:ut.clientY},ht=(st==null?void 0:st.contains(lt))||(at==null?void 0:at.contains(lt)),yt=!isPointInPolygon(ft,rt);ht?ct():yt&&(ct(),it())};return document.addEventListener("pointermove",pt),()=>document.removeEventListener("pointermove",pt)}},[st,at,rt,it,ct]),jsxRuntimeExports.jsx(TooltipContentImpl,{...j,ref:tt})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((j,_)=>{const{__scopeTooltip:$,children:_e,"aria-label":et,onEscapeKeyDown:tt,onPointerDownOutside:rt,...nt}=j,st=useTooltipContext(CONTENT_NAME$4,$),it=usePopperScope$2($),{onClose:at}=st;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,at),()=>document.removeEventListener(TOOLTIP_OPEN,at)),[at]),reactExports.useEffect(()=>{if(st.trigger){const ot=ct=>{const dt=ct.target;dt!=null&&dt.contains(st.trigger)&&at()};return window.addEventListener("scroll",ot,{capture:!0}),()=>window.removeEventListener("scroll",ot,{capture:!0})}},[st.trigger,at]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:tt,onPointerDownOutside:rt,onFocusOutside:ot=>ot.preventDefault(),onDismiss:at,children:jsxRuntimeExports.jsxs(Content$2,{"data-state":st.stateAttribute,...it,...nt,ref:_,style:{...nt.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:_e}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:$,isInside:!0,children:jsxRuntimeExports.jsx(Root$a,{id:st.contentId,role:"tooltip",children:et||_e})})]})})});TooltipContent$1.displayName=CONTENT_NAME$4;var ARROW_NAME$2="TooltipArrow",TooltipArrow=reactExports.forwardRef((j,_)=>{const{__scopeTooltip:$,..._e}=j,et=usePopperScope$2($);return useVisuallyHiddenContentContext(ARROW_NAME$2,$).isInside?null:jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:_})});TooltipArrow.displayName=ARROW_NAME$2;function getExitSideFromRect(j,_){const $=Math.abs(_.top-j.y),_e=Math.abs(_.bottom-j.y),et=Math.abs(_.right-j.x),tt=Math.abs(_.left-j.x);switch(Math.min($,_e,et,tt)){case tt:return"left";case et:return"right";case $:return"top";case _e:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(j,_,$=5){const _e=[];switch(_){case"top":_e.push({x:j.x-$,y:j.y+$},{x:j.x+$,y:j.y+$});break;case"bottom":_e.push({x:j.x-$,y:j.y-$},{x:j.x+$,y:j.y-$});break;case"left":_e.push({x:j.x+$,y:j.y-$},{x:j.x+$,y:j.y+$});break;case"right":_e.push({x:j.x-$,y:j.y-$},{x:j.x-$,y:j.y+$});break}return _e}function getPointsFromRect(j){const{top:_,right:$,bottom:_e,left:et}=j;return[{x:et,y:_},{x:$,y:_},{x:$,y:_e},{x:et,y:_e}]}function isPointInPolygon(j,_){const{x:$,y:_e}=j;let et=!1;for(let tt=0,rt=_.length-1;tt<_.length;rt=tt++){const nt=_[tt].x,st=_[tt].y,it=_[rt].x,at=_[rt].y;st>_e!=at>_e&&$<(it-nt)*(_e-st)/(at-st)+nt&&(et=!et)}return et}function getHull(j){const _=j.slice();return _.sort(($,_e)=>$.x<_e.x?-1:$.x>_e.x?1:$.y<_e.y?-1:$.y>_e.y?1:0),getHullPresorted(_)}function getHullPresorted(j){if(j.length<=1)return j.slice();const _=[];for(let _e=0;_e<j.length;_e++){const et=j[_e];for(;_.length>=2;){const tt=_[_.length-1],rt=_[_.length-2];if((tt.x-rt.x)*(et.y-rt.y)>=(tt.y-rt.y)*(et.x-rt.x))_.pop();else break}_.push(et)}_.pop();const $=[];for(let _e=j.length-1;_e>=0;_e--){const et=j[_e];for(;$.length>=2;){const tt=$[$.length-1],rt=$[$.length-2];if((tt.x-rt.x)*(et.y-rt.y)>=(tt.y-rt.y)*(et.x-rt.x))$.pop();else break}$.push(et)}return $.pop(),_.length===1&&$.length===1&&_[0].x===$[0].x&&_[0].y===$[0].y?_:_.concat($)}var Provider=TooltipProvider$1,Root3=Tooltip$2,Trigger$4=TooltipTrigger$1,Content2$2=TooltipContent$1;const TooltipProvider=Provider,Tooltip$1=Root3,TooltipTrigger=Trigger$4,TooltipContent=reactExports.forwardRef(({className:j,sideOffset:_=4,...$},_e)=>jsxRuntimeExports.jsx(Content2$2,{ref:_e,sideOffset:_,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",j),...$}));TooltipContent.displayName=Content2$2.displayName;const AuthContext=reactExports.createContext(null);function AuthProvider({children:j}){const{toast:_}=useToast(),{data:$,error:_e,isLoading:et}=useQuery({queryKey:["/api/user"],queryFn:getQueryFn({on401:"returnNull"})}),tt=useMutation({mutationFn:async st=>await(await apiRequest("/api/login",{method:"POST",body:JSON.stringify(st)})).json(),onSuccess:st=>{queryClient.setQueryData(["/api/user"],st)},onError:st=>{_({title:"Login failed",description:st.message,variant:"destructive"})}}),rt=useMutation({mutationFn:async st=>await(await apiRequest("/api/register",{method:"POST",body:JSON.stringify(st)})).json(),onSuccess:st=>{queryClient.setQueryData(["/api/user"],st)},onError:st=>{_({title:"Registration failed",description:st.message,variant:"destructive"})}}),nt=useMutation({mutationFn:async()=>{await apiRequest("/api/logout",{method:"POST"})},onSuccess:()=>{queryClient.setQueryData(["/api/user"],null)},onError:st=>{_({title:"Logout failed",description:st.message,variant:"destructive"})}});return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:$??null,isLoading:et,error:_e,loginMutation:tt,logoutMutation:nt,registerMutation:rt},children:j})}function useAuth(){const j=reactExports.useContext(AuthContext);if(!j)throw new Error("useAuth must be used within an AuthProvider");return j}function ProtectedRoute({path:j,component:_}){const{user:$,isLoading:_e}=useAuth();return _e?jsxRuntimeExports.jsx(Route,{path:j,children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-border"})})}):$?jsxRuntimeExports.jsx(_,{}):jsxRuntimeExports.jsx(Route,{path:j,children:jsxRuntimeExports.jsx(Redirect,{to:"/auth"})})}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button$1=reactExports.forwardRef(({className:j,variant:_,size:$,asChild:_e=!1,...et},tt)=>{const rt=_e?Slot$3:"button";return jsxRuntimeExports.jsx(rt,{className:cn(buttonVariants({variant:_,size:$,className:j})),ref:tt,...et})});Button$1.displayName="Button";const Input=reactExports.forwardRef(({className:j,type:_,...$},_e)=>jsxRuntimeExports.jsx("input",{type:_,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",j),ref:_e,...$}));Input.displayName="Input";var NAME$1="Label",Label$3=reactExports.forwardRef((j,_)=>jsxRuntimeExports.jsx(Primitive.label,{...j,ref:_,onMouseDown:$=>{var et;$.target.closest("button, input, select, textarea")||((et=j.onMouseDown)==null||et.call(j,$),!$.defaultPrevented&&$.detail>1&&$.preventDefault())}}));Label$3.displayName=NAME$1;var Root$8=Label$3;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$2=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Root$8,{ref:$,className:cn(labelVariants(),j),..._}));Label$2.displayName=Root$8.displayName;const Card=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",j),..._}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("flex flex-col space-y-1.5 p-6",j),..._}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("text-2xl font-semibold leading-none tracking-tight",j),..._}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("text-sm text-muted-foreground",j),..._}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("p-6 pt-0",j),..._}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("flex items-center p-6 pt-0",j),..._}));CardFooter.displayName="CardFooter";var DirectionContext=reactExports.createContext(void 0);function useDirection(j){const _=reactExports.useContext(DirectionContext);return j||_||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$1="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$1),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$1,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$1),RovingFocusGroup=reactExports.forwardRef((j,_)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:j.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:j.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...j,ref:_})})}));RovingFocusGroup.displayName=GROUP_NAME$1;var RovingFocusGroupImpl=reactExports.forwardRef((j,_)=>{const{__scopeRovingFocusGroup:$,orientation:_e,loop:et=!1,dir:tt,currentTabStopId:rt,defaultCurrentTabStopId:nt,onCurrentTabStopIdChange:st,onEntryFocus:it,preventScrollOnEntryFocus:at=!1,...ot}=j,ct=reactExports.useRef(null),dt=useComposedRefs(_,ct),pt=useDirection(tt),[ut=null,lt]=useControllableState({prop:rt,defaultProp:nt,onChange:st}),[ft,ht]=reactExports.useState(!1),yt=useCallbackRef$1(it),vt=useCollection$1($),gt=reactExports.useRef(!1),[bt,mt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Et=ct.current;if(Et)return Et.addEventListener(ENTRY_FOCUS,yt),()=>Et.removeEventListener(ENTRY_FOCUS,yt)},[yt]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:$,orientation:_e,dir:pt,loop:et,currentTabStopId:ut,onItemFocus:reactExports.useCallback(Et=>lt(Et),[lt]),onItemShiftTab:reactExports.useCallback(()=>ht(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>mt(Et=>Et+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>mt(Et=>Et-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:ft||bt===0?-1:0,"data-orientation":_e,...ot,ref:dt,style:{outline:"none",...j.style},onMouseDown:composeEventHandlers(j.onMouseDown,()=>{gt.current=!0}),onFocus:composeEventHandlers(j.onFocus,Et=>{const Rt=!gt.current;if(Et.target===Et.currentTarget&&Rt&&!ft){const Tt=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(Et.currentTarget.dispatchEvent(Tt),!Tt.defaultPrevented){const jt=vt().filter(St=>St.focusable),xt=jt.find(St=>St.active),Ct=jt.find(St=>St.id===ut),Nt=[xt,Ct,...jt].filter(Boolean).map(St=>St.ref.current);focusFirst$1(Nt,at)}}gt.current=!1}),onBlur:composeEventHandlers(j.onBlur,()=>ht(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((j,_)=>{const{__scopeRovingFocusGroup:$,focusable:_e=!0,active:et=!1,tabStopId:tt,...rt}=j,nt=useId$1(),st=tt||nt,it=useRovingFocusContext(ITEM_NAME$2,$),at=it.currentTabStopId===st,ot=useCollection$1($),{onFocusableItemAdd:ct,onFocusableItemRemove:dt}=it;return reactExports.useEffect(()=>{if(_e)return ct(),()=>dt()},[_e,ct,dt]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:$,id:st,focusable:_e,active:et,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:at?0:-1,"data-orientation":it.orientation,...rt,ref:_,onMouseDown:composeEventHandlers(j.onMouseDown,pt=>{_e?it.onItemFocus(st):pt.preventDefault()}),onFocus:composeEventHandlers(j.onFocus,()=>it.onItemFocus(st)),onKeyDown:composeEventHandlers(j.onKeyDown,pt=>{if(pt.key==="Tab"&&pt.shiftKey){it.onItemShiftTab();return}if(pt.target!==pt.currentTarget)return;const ut=getFocusIntent(pt,it.orientation,it.dir);if(ut!==void 0){if(pt.metaKey||pt.ctrlKey||pt.altKey||pt.shiftKey)return;pt.preventDefault();let ft=ot().filter(ht=>ht.focusable).map(ht=>ht.ref.current);if(ut==="last")ft.reverse();else if(ut==="prev"||ut==="next"){ut==="prev"&&ft.reverse();const ht=ft.indexOf(pt.currentTarget);ft=it.loop?wrapArray$1(ft,ht+1):ft.slice(ht+1)}setTimeout(()=>focusFirst$1(ft))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(j,_){return _!=="rtl"?j:j==="ArrowLeft"?"ArrowRight":j==="ArrowRight"?"ArrowLeft":j}function getFocusIntent(j,_,$){const _e=getDirectionAwareKey(j.key,$);if(!(_==="vertical"&&["ArrowLeft","ArrowRight"].includes(_e))&&!(_==="horizontal"&&["ArrowUp","ArrowDown"].includes(_e)))return MAP_KEY_TO_FOCUS_INTENT[_e]}function focusFirst$1(j,_=!1){const $=document.activeElement;for(const _e of j)if(_e===$||(_e.focus({preventScroll:_}),document.activeElement!==$))return}function wrapArray$1(j,_){return j.map(($,_e)=>j[(_+_e)%j.length])}var Root$7=RovingFocusGroup,Item$1=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((j,_)=>{const{__scopeTabs:$,value:_e,onValueChange:et,defaultValue:tt,orientation:rt="horizontal",dir:nt,activationMode:st="automatic",...it}=j,at=useDirection(nt),[ot,ct]=useControllableState({prop:_e,onChange:et,defaultProp:tt});return jsxRuntimeExports.jsx(TabsProvider,{scope:$,baseId:useId$1(),value:ot,onValueChange:ct,orientation:rt,dir:at,activationMode:st,children:jsxRuntimeExports.jsx(Primitive.div,{dir:at,"data-orientation":rt,...it,ref:_})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((j,_)=>{const{__scopeTabs:$,loop:_e=!0,...et}=j,tt=useTabsContext(TAB_LIST_NAME,$),rt=useRovingFocusGroupScope$1($);return jsxRuntimeExports.jsx(Root$7,{asChild:!0,...rt,orientation:tt.orientation,dir:tt.dir,loop:_e,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":tt.orientation,...et,ref:_})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$3="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((j,_)=>{const{__scopeTabs:$,value:_e,disabled:et=!1,...tt}=j,rt=useTabsContext(TRIGGER_NAME$3,$),nt=useRovingFocusGroupScope$1($),st=makeTriggerId(rt.baseId,_e),it=makeContentId(rt.baseId,_e),at=_e===rt.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...nt,focusable:!et,active:at,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":at,"aria-controls":it,"data-state":at?"active":"inactive","data-disabled":et?"":void 0,disabled:et,id:st,...tt,ref:_,onMouseDown:composeEventHandlers(j.onMouseDown,ot=>{!et&&ot.button===0&&ot.ctrlKey===!1?rt.onValueChange(_e):ot.preventDefault()}),onKeyDown:composeEventHandlers(j.onKeyDown,ot=>{[" ","Enter"].includes(ot.key)&&rt.onValueChange(_e)}),onFocus:composeEventHandlers(j.onFocus,()=>{const ot=rt.activationMode!=="manual";!at&&!et&&ot&&rt.onValueChange(_e)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$3;var CONTENT_NAME$3="TabsContent",TabsContent$1=reactExports.forwardRef((j,_)=>{const{__scopeTabs:$,value:_e,forceMount:et,children:tt,...rt}=j,nt=useTabsContext(CONTENT_NAME$3,$),st=makeTriggerId(nt.baseId,_e),it=makeContentId(nt.baseId,_e),at=_e===nt.value,ot=reactExports.useRef(at);return reactExports.useEffect(()=>{const ct=requestAnimationFrame(()=>ot.current=!1);return()=>cancelAnimationFrame(ct)},[]),jsxRuntimeExports.jsx(Presence,{present:et||at,children:({present:ct})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":at?"active":"inactive","data-orientation":nt.orientation,role:"tabpanel","aria-labelledby":st,hidden:!ct,id:it,tabIndex:0,...rt,ref:_,style:{...j.style,animationDuration:ot.current?"0s":void 0},children:ct&&tt})})});TabsContent$1.displayName=CONTENT_NAME$3;function makeTriggerId(j,_){return`${j}-trigger-${_}`}function makeContentId(j,_){return`${j}-content-${_}`}var Root2$3=Tabs$1,List=TabsList$1,Trigger$3=TabsTrigger$1,Content$1=TabsContent$1;const Tabs=Root2$3,TabsList=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(List,{ref:$,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",j),..._}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Trigger$3,{ref:$,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",j),..._}));TabsTrigger.displayName=Trigger$3.displayName;const TabsContent=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Content$1,{ref:$,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",j),..._}));TabsContent.displayName=Content$1.displayName;function clamp(j,[_,$]){return Math.min($,Math.max(_,j))}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const j=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",j[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",j[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(_=>_.remove()),count--}},[])}function createFocusGuard(){const j=document.createElement("span");return j.setAttribute("data-radix-focus-guard",""),j.tabIndex=0,j.style.outline="none",j.style.opacity="0",j.style.position="fixed",j.style.pointerEvents="none",j}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((j,_)=>{const{loop:$=!1,trapped:_e=!1,onMountAutoFocus:et,onUnmountAutoFocus:tt,...rt}=j,[nt,st]=reactExports.useState(null),it=useCallbackRef$1(et),at=useCallbackRef$1(tt),ot=reactExports.useRef(null),ct=useComposedRefs(_,ut=>st(ut)),dt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(_e){let ut=function(yt){if(dt.paused||!nt)return;const vt=yt.target;nt.contains(vt)?ot.current=vt:focus(ot.current,{select:!0})},lt=function(yt){if(dt.paused||!nt)return;const vt=yt.relatedTarget;vt!==null&&(nt.contains(vt)||focus(ot.current,{select:!0}))},ft=function(yt){if(document.activeElement===document.body)for(const gt of yt)gt.removedNodes.length>0&&focus(nt)};document.addEventListener("focusin",ut),document.addEventListener("focusout",lt);const ht=new MutationObserver(ft);return nt&&ht.observe(nt,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",ut),document.removeEventListener("focusout",lt),ht.disconnect()}}},[_e,nt,dt.paused]),reactExports.useEffect(()=>{if(nt){focusScopesStack.add(dt);const ut=document.activeElement;if(!nt.contains(ut)){const ft=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);nt.addEventListener(AUTOFOCUS_ON_MOUNT,it),nt.dispatchEvent(ft),ft.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(nt)),{select:!0}),document.activeElement===ut&&focus(nt))}return()=>{nt.removeEventListener(AUTOFOCUS_ON_MOUNT,it),setTimeout(()=>{const ft=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);nt.addEventListener(AUTOFOCUS_ON_UNMOUNT,at),nt.dispatchEvent(ft),ft.defaultPrevented||focus(ut??document.body,{select:!0}),nt.removeEventListener(AUTOFOCUS_ON_UNMOUNT,at),focusScopesStack.remove(dt)},0)}}},[nt,it,at,dt]);const pt=reactExports.useCallback(ut=>{if(!$&&!_e||dt.paused)return;const lt=ut.key==="Tab"&&!ut.altKey&&!ut.ctrlKey&&!ut.metaKey,ft=document.activeElement;if(lt&&ft){const ht=ut.currentTarget,[yt,vt]=getTabbableEdges(ht);yt&&vt?!ut.shiftKey&&ft===vt?(ut.preventDefault(),$&&focus(yt,{select:!0})):ut.shiftKey&&ft===yt&&(ut.preventDefault(),$&&focus(vt,{select:!0})):ft===ht&&ut.preventDefault()}},[$,_e,dt.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...rt,ref:ct,onKeyDown:pt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(j,{select:_=!1}={}){const $=document.activeElement;for(const _e of j)if(focus(_e,{select:_}),document.activeElement!==$)return}function getTabbableEdges(j){const _=getTabbableCandidates(j),$=findVisible(_,j),_e=findVisible(_.reverse(),j);return[$,_e]}function getTabbableCandidates(j){const _=[],$=document.createTreeWalker(j,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const et=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||et?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;$.nextNode();)_.push($.currentNode);return _}function findVisible(j,_){for(const $ of j)if(!isHidden($,{upTo:_}))return $}function isHidden(j,{upTo:_}){if(getComputedStyle(j).visibility==="hidden")return!0;for(;j;){if(_!==void 0&&j===_)return!1;if(getComputedStyle(j).display==="none")return!0;j=j.parentElement}return!1}function isSelectableInput(j){return j instanceof HTMLInputElement&&"select"in j}function focus(j,{select:_=!1}={}){if(j&&j.focus){const $=document.activeElement;j.focus({preventScroll:!0}),j!==$&&isSelectableInput(j)&&_&&j.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let j=[];return{add(_){const $=j[0];_!==$&&($==null||$.pause()),j=arrayRemove(j,_),j.unshift(_)},remove(_){var $;j=arrayRemove(j,_),($=j[0])==null||$.resume()}}}function arrayRemove(j,_){const $=[...j],_e=$.indexOf(_);return _e!==-1&&$.splice(_e,1),$}function removeLinks(j){return j.filter(_=>_.tagName!=="A")}function usePrevious(j){const _=reactExports.useRef({value:j,previous:j});return reactExports.useMemo(()=>(_.current.value!==j&&(_.current.previous=_.current.value,_.current.value=j),_.current.previous),[j])}var getDefaultParent=function(j){if(typeof document>"u")return null;var _=Array.isArray(j)?j[0]:j;return _.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(j){return j&&(j.host||unwrapHost(j.parentNode))},correctTargets=function(j,_){return _.map(function($){if(j.contains($))return $;var _e=unwrapHost($);return _e&&j.contains(_e)?_e:(console.error("aria-hidden",$,"in not contained inside",j,". Doing nothing"),null)}).filter(function($){return!!$})},applyAttributeToOthers=function(j,_,$,_e){var et=correctTargets(_,Array.isArray(j)?j:[j]);markerMap[$]||(markerMap[$]=new WeakMap);var tt=markerMap[$],rt=[],nt=new Set,st=new Set(et),it=function(ot){!ot||nt.has(ot)||(nt.add(ot),it(ot.parentNode))};et.forEach(it);var at=function(ot){!ot||st.has(ot)||Array.prototype.forEach.call(ot.children,function(ct){if(nt.has(ct))at(ct);else try{var dt=ct.getAttribute(_e),pt=dt!==null&&dt!=="false",ut=(counterMap.get(ct)||0)+1,lt=(tt.get(ct)||0)+1;counterMap.set(ct,ut),tt.set(ct,lt),rt.push(ct),ut===1&&pt&&uncontrolledNodes.set(ct,!0),lt===1&&ct.setAttribute($,"true"),pt||ct.setAttribute(_e,"true")}catch(ft){console.error("aria-hidden: cannot operate on ",ct,ft)}})};return at(_),nt.clear(),lockCount++,function(){rt.forEach(function(ot){var ct=counterMap.get(ot)-1,dt=tt.get(ot)-1;counterMap.set(ot,ct),tt.set(ot,dt),ct||(uncontrolledNodes.has(ot)||ot.removeAttribute(_e),uncontrolledNodes.delete(ot)),dt||ot.removeAttribute($)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(j,_,$){$===void 0&&($="data-aria-hidden");var _e=Array.from(Array.isArray(j)?j:[j]),et=getDefaultParent(j);return et?(_e.push.apply(_e,Array.from(et.querySelectorAll("[aria-live]"))),applyAttributeToOthers(_e,et,$,"aria-hidden")):function(){return null}},__assign$1=function(){return __assign$1=Object.assign||function(_){for(var $,_e=1,et=arguments.length;_e<et;_e++){$=arguments[_e];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(_[tt]=$[tt])}return _},__assign$1.apply(this,arguments)};function __rest$1(j,_){var $={};for(var _e in j)Object.prototype.hasOwnProperty.call(j,_e)&&_.indexOf(_e)<0&&($[_e]=j[_e]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,_e=Object.getOwnPropertySymbols(j);et<_e.length;et++)_.indexOf(_e[et])<0&&Object.prototype.propertyIsEnumerable.call(j,_e[et])&&($[_e[et]]=j[_e[et]]);return $}function __spreadArray$1(j,_,$){if($||arguments.length===2)for(var _e=0,et=_.length,tt;_e<et;_e++)(tt||!(_e in _))&&(tt||(tt=Array.prototype.slice.call(_,0,_e)),tt[_e]=_[_e]);return j.concat(tt||Array.prototype.slice.call(_))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(j,_){return typeof j=="function"?j(_):j&&(j.current=_),j}function useCallbackRef(j,_){var $=reactExports.useState(function(){return{value:j,callback:_,facade:{get current(){return $.value},set current(_e){var et=$.value;et!==_e&&($.value=_e,$.callback(_e,et))}}}})[0];return $.callback=_,$.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(j,_){var $=useCallbackRef(null,function(_e){return j.forEach(function(et){return assignRef(et,_e)})});return useIsomorphicLayoutEffect$1(function(){var _e=currentValues.get($);if(_e){var et=new Set(_e),tt=new Set(j),rt=$.current;et.forEach(function(nt){tt.has(nt)||assignRef(nt,null)}),tt.forEach(function(nt){et.has(nt)||assignRef(nt,rt)})}currentValues.set($,j)},[j]),$}function ItoI(j){return j}function innerCreateMedium(j,_){_===void 0&&(_=ItoI);var $=[],_e=!1,et={read:function(){if(_e)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return $.length?$[$.length-1]:j},useMedium:function(tt){var rt=_(tt,_e);return $.push(rt),function(){$=$.filter(function(nt){return nt!==rt})}},assignSyncMedium:function(tt){for(_e=!0;$.length;){var rt=$;$=[],rt.forEach(tt)}$={push:function(nt){return tt(nt)},filter:function(){return $}}},assignMedium:function(tt){_e=!0;var rt=[];if($.length){var nt=$;$=[],nt.forEach(tt),rt=$}var st=function(){var at=rt;rt=[],at.forEach(tt)},it=function(){return Promise.resolve().then(st)};it(),$={push:function(at){rt.push(at),it()},filter:function(at){return rt=rt.filter(at),$}}}};return et}function createSidecarMedium(j){j===void 0&&(j={});var _=innerCreateMedium(null);return _.options=__assign$1({async:!0,ssr:!1},j),_}var SideCar$1=function(j){var _=j.sideCar,$=__rest$1(j,["sideCar"]);if(!_)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var _e=_.read();if(!_e)throw new Error("Sidecar medium not found");return reactExports.createElement(_e,__assign$1({},$))};SideCar$1.isSideCarExport=!0;function exportSidecar(j,_){return j.useMedium(_),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(j,_){var $=reactExports.useRef(null),_e=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),et=_e[0],tt=_e[1],rt=j.forwardProps,nt=j.children,st=j.className,it=j.removeScrollBar,at=j.enabled,ot=j.shards,ct=j.sideCar,dt=j.noIsolation,pt=j.inert,ut=j.allowPinchZoom,lt=j.as,ft=lt===void 0?"div":lt,ht=j.gapMode,yt=__rest$1(j,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),vt=ct,gt=useMergeRefs([$,_]),bt=__assign$1(__assign$1({},yt),et);return reactExports.createElement(reactExports.Fragment,null,at&&reactExports.createElement(vt,{sideCar:effectCar,removeScrollBar:it,shards:ot,noIsolation:dt,inert:pt,setCallbacks:tt,allowPinchZoom:!!ut,lockRef:$,gapMode:ht}),rt?reactExports.cloneElement(reactExports.Children.only(nt),__assign$1(__assign$1({},bt),{ref:gt})):reactExports.createElement(ft,__assign$1({},bt,{className:st,ref:gt}),nt))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var j=document.createElement("style");j.type="text/css";var _=getNonce();return _&&j.setAttribute("nonce",_),j}function injectStyles(j,_){j.styleSheet?j.styleSheet.cssText=_:j.appendChild(document.createTextNode(_))}function insertStyleTag(j){var _=document.head||document.getElementsByTagName("head")[0];_.appendChild(j)}var stylesheetSingleton=function(){var j=0,_=null;return{add:function($){j==0&&(_=makeStyleTag())&&(injectStyles(_,$),insertStyleTag(_)),j++},remove:function(){j--,!j&&_&&(_.parentNode&&_.parentNode.removeChild(_),_=null)}}},styleHookSingleton=function(){var j=stylesheetSingleton();return function(_,$){reactExports.useEffect(function(){return j.add(_),function(){j.remove()}},[_&&$])}},styleSingleton=function(){var j=styleHookSingleton(),_=function($){var _e=$.styles,et=$.dynamic;return j(_e,et),null};return _},zeroGap={left:0,top:0,right:0,gap:0},parse=function(j){return parseInt(j||"",10)||0},getOffset$1=function(j){var _=window.getComputedStyle(document.body),$=_[j==="padding"?"paddingLeft":"marginLeft"],_e=_[j==="padding"?"paddingTop":"marginTop"],et=_[j==="padding"?"paddingRight":"marginRight"];return[parse($),parse(_e),parse(et)]},getGapWidth=function(j){if(j===void 0&&(j="margin"),typeof window>"u")return zeroGap;var _=getOffset$1(j),$=document.documentElement.clientWidth,_e=window.innerWidth;return{left:_[0],top:_[1],right:_[2],gap:Math.max(0,_e-$+_[2]-_[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(j,_,$,_e){var et=j.left,tt=j.top,rt=j.right,nt=j.gap;return $===void 0&&($="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(_e,`;
   padding-right: `).concat(nt,"px ").concat(_e,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(_e,`;
    overscroll-behavior: contain;
    `).concat([_&&"position: relative ".concat(_e,";"),$==="margin"&&`
    padding-left: `.concat(et,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(nt,"px ").concat(_e,`;
    `),$==="padding"&&"padding-right: ".concat(nt,"px ").concat(_e,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(nt,"px ").concat(_e,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(nt,"px ").concat(_e,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(_e,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(_e,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(nt,`px;
  }
`)},getCurrentUseCounter=function(){var j=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(j)?j:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var j=getCurrentUseCounter()-1;j<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,j.toString())}},[])},RemoveScrollBar=function(j){var _=j.noRelative,$=j.noImportant,_e=j.gapMode,et=_e===void 0?"margin":_e;useLockAttribute();var tt=reactExports.useMemo(function(){return getGapWidth(et)},[et]);return reactExports.createElement(Style,{styles:getStyles(tt,!_,et,$?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(j){return j.tagName==="TEXTAREA"},elementCanBeScrolled=function(j,_){if(!(j instanceof Element))return!1;var $=window.getComputedStyle(j);return $[_]!=="hidden"&&!($.overflowY===$.overflowX&&!alwaysContainsScroll(j)&&$[_]==="visible")},elementCouldBeVScrolled=function(j){return elementCanBeScrolled(j,"overflowY")},elementCouldBeHScrolled=function(j){return elementCanBeScrolled(j,"overflowX")},locationCouldBeScrolled=function(j,_){var $=_.ownerDocument,_e=_;do{typeof ShadowRoot<"u"&&_e instanceof ShadowRoot&&(_e=_e.host);var et=elementCouldBeScrolled(j,_e);if(et){var tt=getScrollVariables(j,_e),rt=tt[1],nt=tt[2];if(rt>nt)return!0}_e=_e.parentNode}while(_e&&_e!==$.body);return!1},getVScrollVariables=function(j){var _=j.scrollTop,$=j.scrollHeight,_e=j.clientHeight;return[_,$,_e]},getHScrollVariables=function(j){var _=j.scrollLeft,$=j.scrollWidth,_e=j.clientWidth;return[_,$,_e]},elementCouldBeScrolled=function(j,_){return j==="v"?elementCouldBeVScrolled(_):elementCouldBeHScrolled(_)},getScrollVariables=function(j,_){return j==="v"?getVScrollVariables(_):getHScrollVariables(_)},getDirectionFactor=function(j,_){return j==="h"&&_==="rtl"?-1:1},handleScroll=function(j,_,$,_e,et){var tt=getDirectionFactor(j,window.getComputedStyle(_).direction),rt=tt*_e,nt=$.target,st=_.contains(nt),it=!1,at=rt>0,ot=0,ct=0;do{var dt=getScrollVariables(j,nt),pt=dt[0],ut=dt[1],lt=dt[2],ft=ut-lt-tt*pt;(pt||ft)&&elementCouldBeScrolled(j,nt)&&(ot+=ft,ct+=pt),nt instanceof ShadowRoot?nt=nt.host:nt=nt.parentNode}while(!st&&nt!==document.body||st&&(_.contains(nt)||_===nt));return(at&&(Math.abs(ot)<1||!et)||!at&&(Math.abs(ct)<1||!et))&&(it=!0),it},getTouchXY=function(j){return"changedTouches"in j?[j.changedTouches[0].clientX,j.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(j){return[j.deltaX,j.deltaY]},extractRef=function(j){return j&&"current"in j?j.current:j},deltaCompare=function(j,_){return j[0]===_[0]&&j[1]===_[1]},generateStyle=function(j){return`
  .block-interactivity-`.concat(j,` {pointer-events: none;}
  .allow-interactivity-`).concat(j,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(j){var _=reactExports.useRef([]),$=reactExports.useRef([0,0]),_e=reactExports.useRef(),et=reactExports.useState(idCounter$1++)[0],tt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(j);reactExports.useEffect(function(){rt.current=j},[j]),reactExports.useEffect(function(){if(j.inert){document.body.classList.add("block-interactivity-".concat(et));var ut=__spreadArray$1([j.lockRef.current],(j.shards||[]).map(extractRef),!0).filter(Boolean);return ut.forEach(function(lt){return lt.classList.add("allow-interactivity-".concat(et))}),function(){document.body.classList.remove("block-interactivity-".concat(et)),ut.forEach(function(lt){return lt.classList.remove("allow-interactivity-".concat(et))})}}},[j.inert,j.lockRef.current,j.shards]);var nt=reactExports.useCallback(function(ut,lt){if("touches"in ut&&ut.touches.length===2||ut.type==="wheel"&&ut.ctrlKey)return!rt.current.allowPinchZoom;var ft=getTouchXY(ut),ht=$.current,yt="deltaX"in ut?ut.deltaX:ht[0]-ft[0],vt="deltaY"in ut?ut.deltaY:ht[1]-ft[1],gt,bt=ut.target,mt=Math.abs(yt)>Math.abs(vt)?"h":"v";if("touches"in ut&&mt==="h"&&bt.type==="range")return!1;var Et=locationCouldBeScrolled(mt,bt);if(!Et)return!0;if(Et?gt=mt:(gt=mt==="v"?"h":"v",Et=locationCouldBeScrolled(mt,bt)),!Et)return!1;if(!_e.current&&"changedTouches"in ut&&(yt||vt)&&(_e.current=gt),!gt)return!0;var Rt=_e.current||gt;return handleScroll(Rt,lt,ut,Rt==="h"?yt:vt,!0)},[]),st=reactExports.useCallback(function(ut){var lt=ut;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var ft="deltaY"in lt?getDeltaXY(lt):getTouchXY(lt),ht=_.current.filter(function(gt){return gt.name===lt.type&&(gt.target===lt.target||lt.target===gt.shadowParent)&&deltaCompare(gt.delta,ft)})[0];if(ht&&ht.should){lt.cancelable&&lt.preventDefault();return}if(!ht){var yt=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(gt){return gt.contains(lt.target)}),vt=yt.length>0?nt(lt,yt[0]):!rt.current.noIsolation;vt&&lt.cancelable&&lt.preventDefault()}}},[]),it=reactExports.useCallback(function(ut,lt,ft,ht){var yt={name:ut,delta:lt,target:ft,should:ht,shadowParent:getOutermostShadowParent(ft)};_.current.push(yt),setTimeout(function(){_.current=_.current.filter(function(vt){return vt!==yt})},1)},[]),at=reactExports.useCallback(function(ut){$.current=getTouchXY(ut),_e.current=void 0},[]),ot=reactExports.useCallback(function(ut){it(ut.type,getDeltaXY(ut),ut.target,nt(ut,j.lockRef.current))},[]),ct=reactExports.useCallback(function(ut){it(ut.type,getTouchXY(ut),ut.target,nt(ut,j.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(tt),j.setCallbacks({onScrollCapture:ot,onWheelCapture:ot,onTouchMoveCapture:ct}),document.addEventListener("wheel",st,nonPassive),document.addEventListener("touchmove",st,nonPassive),document.addEventListener("touchstart",at,nonPassive),function(){lockStack=lockStack.filter(function(ut){return ut!==tt}),document.removeEventListener("wheel",st,nonPassive),document.removeEventListener("touchmove",st,nonPassive),document.removeEventListener("touchstart",at,nonPassive)}},[]);var dt=j.removeScrollBar,pt=j.inert;return reactExports.createElement(reactExports.Fragment,null,pt?reactExports.createElement(tt,{styles:generateStyle(et)}):null,dt?reactExports.createElement(RemoveScrollBar,{gapMode:j.gapMode}):null)}function getOutermostShadowParent(j){for(var _=null;j!==null;)j instanceof ShadowRoot&&(_=j.host,j=j.host),j=j.parentNode;return _}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(j,_){return reactExports.createElement(RemoveScroll,__assign$1({},j,{ref:_,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection,useCollection,createCollectionScope]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=j=>{const{__scopeSelect:_,children:$,open:_e,defaultOpen:et,onOpenChange:tt,value:rt,defaultValue:nt,onValueChange:st,dir:it,name:at,autoComplete:ot,disabled:ct,required:dt,form:pt}=j,ut=usePopperScope$1(_),[lt,ft]=reactExports.useState(null),[ht,yt]=reactExports.useState(null),[vt,gt]=reactExports.useState(!1),bt=useDirection(it),[mt=!1,Et]=useControllableState({prop:_e,defaultProp:et,onChange:tt}),[Rt,Tt]=useControllableState({prop:rt,defaultProp:nt,onChange:st}),jt=reactExports.useRef(null),xt=lt?pt||!!lt.closest("form"):!0,[Ct,kt]=reactExports.useState(new Set),Nt=Array.from(Ct).map(St=>St.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...ut,children:jsxRuntimeExports.jsxs(SelectProvider,{required:dt,scope:_,trigger:lt,onTriggerChange:ft,valueNode:ht,onValueNodeChange:yt,valueNodeHasChildren:vt,onValueNodeHasChildrenChange:gt,contentId:useId$1(),value:Rt,onValueChange:Tt,open:mt,onOpenChange:Et,dir:bt,triggerPointerDownPosRef:jt,disabled:ct,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:_,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:j.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(St=>{kt(Ot=>new Set(Ot).add(St))},[]),onNativeOptionRemove:reactExports.useCallback(St=>{kt(Ot=>{const Pt=new Set(Ot);return Pt.delete(St),Pt})},[]),children:$})}),xt?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:dt,tabIndex:-1,name:at,autoComplete:ot,value:Rt,onChange:St=>Tt(St.target.value),disabled:ct,form:pt,children:[Rt===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Ct)]},Nt):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$2="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,disabled:_e=!1,...et}=j,tt=usePopperScope$1($),rt=useSelectContext(TRIGGER_NAME$2,$),nt=rt.disabled||_e,st=useComposedRefs(_,rt.onTriggerChange),it=useCollection($),at=reactExports.useRef("touch"),[ot,ct,dt]=useTypeaheadSearch(ut=>{const lt=it().filter(yt=>!yt.disabled),ft=lt.find(yt=>yt.value===rt.value),ht=findNextItem(lt,ut,ft);ht!==void 0&&rt.onValueChange(ht.value)}),pt=ut=>{nt||(rt.onOpenChange(!0),dt()),ut&&(rt.triggerPointerDownPosRef.current={x:Math.round(ut.pageX),y:Math.round(ut.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...tt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":rt.contentId,"aria-expanded":rt.open,"aria-required":rt.required,"aria-autocomplete":"none",dir:rt.dir,"data-state":rt.open?"open":"closed",disabled:nt,"data-disabled":nt?"":void 0,"data-placeholder":shouldShowPlaceholder(rt.value)?"":void 0,...et,ref:st,onClick:composeEventHandlers(et.onClick,ut=>{ut.currentTarget.focus(),at.current!=="mouse"&&pt(ut)}),onPointerDown:composeEventHandlers(et.onPointerDown,ut=>{at.current=ut.pointerType;const lt=ut.target;lt.hasPointerCapture(ut.pointerId)&&lt.releasePointerCapture(ut.pointerId),ut.button===0&&ut.ctrlKey===!1&&ut.pointerType==="mouse"&&(pt(ut),ut.preventDefault())}),onKeyDown:composeEventHandlers(et.onKeyDown,ut=>{const lt=ot.current!=="";!(ut.ctrlKey||ut.altKey||ut.metaKey)&&ut.key.length===1&&ct(ut.key),!(lt&&ut.key===" ")&&OPEN_KEYS.includes(ut.key)&&(pt(),ut.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$2;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,className:_e,style:et,children:tt,placeholder:rt="",...nt}=j,st=useSelectContext(VALUE_NAME,$),{onValueNodeHasChildrenChange:it}=st,at=tt!==void 0,ot=useComposedRefs(_,st.onValueNodeChange);return useLayoutEffect2(()=>{it(at)},[it,at]),jsxRuntimeExports.jsx(Primitive.span,{...nt,ref:ot,style:{pointerEvents:"none"},children:shouldShowPlaceholder(st.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rt}):tt})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,children:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...et,ref:_,children:_e||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$2="SelectPortal",SelectPortal=j=>jsxRuntimeExports.jsx(Portal$3,{asChild:!0,...j});SelectPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="SelectContent",SelectContent$1=reactExports.forwardRef((j,_)=>{const $=useSelectContext(CONTENT_NAME$2,j.__scopeSelect),[_e,et]=reactExports.useState();if(useLayoutEffect2(()=>{et(new DocumentFragment)},[]),!$.open){const tt=_e;return tt?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:j.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:j.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:j.children})})}),tt):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...j,ref:_})});SelectContent$1.displayName=CONTENT_NAME$2;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$2),CONTENT_IMPL_NAME="SelectContentImpl",Slot$2=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,position:_e="item-aligned",onCloseAutoFocus:et,onEscapeKeyDown:tt,onPointerDownOutside:rt,side:nt,sideOffset:st,align:it,alignOffset:at,arrowPadding:ot,collisionBoundary:ct,collisionPadding:dt,sticky:pt,hideWhenDetached:ut,avoidCollisions:lt,...ft}=j,ht=useSelectContext(CONTENT_NAME$2,$),[yt,vt]=reactExports.useState(null),[gt,bt]=reactExports.useState(null),mt=useComposedRefs(_,Bt=>vt(Bt)),[Et,Rt]=reactExports.useState(null),[Tt,jt]=reactExports.useState(null),xt=useCollection($),[Ct,kt]=reactExports.useState(!1),Nt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(yt)return hideOthers(yt)},[yt]),useFocusGuards();const St=reactExports.useCallback(Bt=>{const[Ut,...zt]=xt().map(Kt=>Kt.ref.current),[Qt]=zt.slice(-1),sr=document.activeElement;for(const Kt of Bt)if(Kt===sr||(Kt==null||Kt.scrollIntoView({block:"nearest"}),Kt===Ut&&gt&&(gt.scrollTop=0),Kt===Qt&&gt&&(gt.scrollTop=gt.scrollHeight),Kt==null||Kt.focus(),document.activeElement!==sr))return},[xt,gt]),Ot=reactExports.useCallback(()=>St([Et,yt]),[St,Et,yt]);reactExports.useEffect(()=>{Ct&&Ot()},[Ct,Ot]);const{onOpenChange:Pt,triggerPointerDownPosRef:wt}=ht;reactExports.useEffect(()=>{if(yt){let Bt={x:0,y:0};const Ut=Qt=>{var sr,Kt;Bt={x:Math.abs(Math.round(Qt.pageX)-(((sr=wt.current)==null?void 0:sr.x)??0)),y:Math.abs(Math.round(Qt.pageY)-(((Kt=wt.current)==null?void 0:Kt.y)??0))}},zt=Qt=>{Bt.x<=10&&Bt.y<=10?Qt.preventDefault():yt.contains(Qt.target)||Pt(!1),document.removeEventListener("pointermove",Ut),wt.current=null};return wt.current!==null&&(document.addEventListener("pointermove",Ut),document.addEventListener("pointerup",zt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ut),document.removeEventListener("pointerup",zt,{capture:!0})}}},[yt,Pt,wt]),reactExports.useEffect(()=>{const Bt=()=>Pt(!1);return window.addEventListener("blur",Bt),window.addEventListener("resize",Bt),()=>{window.removeEventListener("blur",Bt),window.removeEventListener("resize",Bt)}},[Pt]);const[Dt,Vt]=useTypeaheadSearch(Bt=>{const Ut=xt().filter(sr=>!sr.disabled),zt=Ut.find(sr=>sr.ref.current===document.activeElement),Qt=findNextItem(Ut,Bt,zt);Qt&&setTimeout(()=>Qt.ref.current.focus())}),It=reactExports.useCallback((Bt,Ut,zt)=>{const Qt=!Nt.current&&!zt;(ht.value!==void 0&&ht.value===Ut||Qt)&&(Rt(Bt),Qt&&(Nt.current=!0))},[ht.value]),At=reactExports.useCallback(()=>yt==null?void 0:yt.focus(),[yt]),$t=reactExports.useCallback((Bt,Ut,zt)=>{const Qt=!Nt.current&&!zt;(ht.value!==void 0&&ht.value===Ut||Qt)&&jt(Bt)},[ht.value]),Mt=_e==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Ht=Mt===SelectPopperPosition?{side:nt,sideOffset:st,align:it,alignOffset:at,arrowPadding:ot,collisionBoundary:ct,collisionPadding:dt,sticky:pt,hideWhenDetached:ut,avoidCollisions:lt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:$,content:yt,viewport:gt,onViewportChange:bt,itemRefCallback:It,selectedItem:Et,onItemLeave:At,itemTextRefCallback:$t,focusSelectedItem:Ot,selectedItemText:Tt,position:_e,isPositioned:Ct,searchRef:Dt,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:ht.open,onMountAutoFocus:Bt=>{Bt.preventDefault()},onUnmountAutoFocus:composeEventHandlers(et,Bt=>{var Ut;(Ut=ht.trigger)==null||Ut.focus({preventScroll:!0}),Bt.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:tt,onPointerDownOutside:rt,onFocusOutside:Bt=>Bt.preventDefault(),onDismiss:()=>ht.onOpenChange(!1),children:jsxRuntimeExports.jsx(Mt,{role:"listbox",id:ht.contentId,"data-state":ht.open?"open":"closed",dir:ht.dir,onContextMenu:Bt=>Bt.preventDefault(),...ft,...Ht,onPlaced:()=>kt(!0),ref:mt,style:{display:"flex",flexDirection:"column",outline:"none",...ft.style},onKeyDown:composeEventHandlers(ft.onKeyDown,Bt=>{const Ut=Bt.ctrlKey||Bt.altKey||Bt.metaKey;if(Bt.key==="Tab"&&Bt.preventDefault(),!Ut&&Bt.key.length===1&&Vt(Bt.key),["ArrowUp","ArrowDown","Home","End"].includes(Bt.key)){let Qt=xt().filter(sr=>!sr.disabled).map(sr=>sr.ref.current);if(["ArrowUp","End"].includes(Bt.key)&&(Qt=Qt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Bt.key)){const sr=Bt.target,Kt=Qt.indexOf(sr);Qt=Qt.slice(Kt+1)}setTimeout(()=>St(Qt)),Bt.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,onPlaced:_e,...et}=j,tt=useSelectContext(CONTENT_NAME$2,$),rt=useSelectContentContext(CONTENT_NAME$2,$),[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState(null),ot=useComposedRefs(_,mt=>at(mt)),ct=useCollection($),dt=reactExports.useRef(!1),pt=reactExports.useRef(!0),{viewport:ut,selectedItem:lt,selectedItemText:ft,focusSelectedItem:ht}=rt,yt=reactExports.useCallback(()=>{if(tt.trigger&&tt.valueNode&&nt&&it&&ut&&lt&&ft){const mt=tt.trigger.getBoundingClientRect(),Et=it.getBoundingClientRect(),Rt=tt.valueNode.getBoundingClientRect(),Tt=ft.getBoundingClientRect();if(tt.dir!=="rtl"){const sr=Tt.left-Et.left,Kt=Rt.left-sr,fr=mt.left-Kt,dr=mt.width+fr,xr=Math.max(dr,Et.width),ar=window.innerWidth-CONTENT_MARGIN,rr=clamp(Kt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,ar-xr)]);nt.style.minWidth=dr+"px",nt.style.left=rr+"px"}else{const sr=Et.right-Tt.right,Kt=window.innerWidth-Rt.right-sr,fr=window.innerWidth-mt.right-Kt,dr=mt.width+fr,xr=Math.max(dr,Et.width),ar=window.innerWidth-CONTENT_MARGIN,rr=clamp(Kt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,ar-xr)]);nt.style.minWidth=dr+"px",nt.style.right=rr+"px"}const jt=ct(),xt=window.innerHeight-CONTENT_MARGIN*2,Ct=ut.scrollHeight,kt=window.getComputedStyle(it),Nt=parseInt(kt.borderTopWidth,10),St=parseInt(kt.paddingTop,10),Ot=parseInt(kt.borderBottomWidth,10),Pt=parseInt(kt.paddingBottom,10),wt=Nt+St+Ct+Pt+Ot,Dt=Math.min(lt.offsetHeight*5,wt),Vt=window.getComputedStyle(ut),It=parseInt(Vt.paddingTop,10),At=parseInt(Vt.paddingBottom,10),$t=mt.top+mt.height/2-CONTENT_MARGIN,Mt=xt-$t,Ht=lt.offsetHeight/2,Bt=lt.offsetTop+Ht,Ut=Nt+St+Bt,zt=wt-Ut;if(Ut<=$t){const sr=jt.length>0&&lt===jt[jt.length-1].ref.current;nt.style.bottom="0px";const Kt=it.clientHeight-ut.offsetTop-ut.offsetHeight,fr=Math.max(Mt,Ht+(sr?At:0)+Kt+Ot),dr=Ut+fr;nt.style.height=dr+"px"}else{const sr=jt.length>0&&lt===jt[0].ref.current;nt.style.top="0px";const fr=Math.max($t,Nt+ut.offsetTop+(sr?It:0)+Ht)+zt;nt.style.height=fr+"px",ut.scrollTop=Ut-$t+ut.offsetTop}nt.style.margin=`${CONTENT_MARGIN}px 0`,nt.style.minHeight=Dt+"px",nt.style.maxHeight=xt+"px",_e==null||_e(),requestAnimationFrame(()=>dt.current=!0)}},[ct,tt.trigger,tt.valueNode,nt,it,ut,lt,ft,tt.dir,_e]);useLayoutEffect2(()=>yt(),[yt]);const[vt,gt]=reactExports.useState();useLayoutEffect2(()=>{it&&gt(window.getComputedStyle(it).zIndex)},[it]);const bt=reactExports.useCallback(mt=>{mt&&pt.current===!0&&(yt(),ht==null||ht(),pt.current=!1)},[yt,ht]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:$,contentWrapper:nt,shouldExpandOnScrollRef:dt,onScrollButtonChange:bt,children:jsxRuntimeExports.jsx("div",{ref:st,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:vt},children:jsxRuntimeExports.jsx(Primitive.div,{...et,ref:ot,style:{boxSizing:"border-box",maxHeight:"100%",...et.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,align:_e="start",collisionPadding:et=CONTENT_MARGIN,...tt}=j,rt=usePopperScope$1($);return jsxRuntimeExports.jsx(Content$2,{...rt,...tt,ref:_,align:_e,collisionPadding:et,style:{boxSizing:"border-box",...tt.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$2,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,nonce:_e,...et}=j,tt=useSelectContentContext(VIEWPORT_NAME$1,$),rt=useSelectViewportContext(VIEWPORT_NAME$1,$),nt=useComposedRefs(_,tt.onViewportChange),st=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:_e}),jsxRuntimeExports.jsx(Collection.Slot,{scope:$,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...et,ref:nt,style:{position:"relative",flex:1,overflow:"hidden auto",...et.style},onScroll:composeEventHandlers(et.onScroll,it=>{const at=it.currentTarget,{contentWrapper:ot,shouldExpandOnScrollRef:ct}=rt;if(ct!=null&&ct.current&&ot){const dt=Math.abs(st.current-at.scrollTop);if(dt>0){const pt=window.innerHeight-CONTENT_MARGIN*2,ut=parseFloat(ot.style.minHeight),lt=parseFloat(ot.style.height),ft=Math.max(ut,lt);if(ft<pt){const ht=ft+dt,yt=Math.min(pt,ht),vt=ht-yt;ot.style.height=yt+"px",ot.style.bottom==="0px"&&(at.scrollTop=vt>0?vt:0,ot.style.justifyContent="flex-end")}}}st.current=at.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,..._e}=j,et=useId$1();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:$,id:et,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":et,..._e,ref:_})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,..._e}=j,et=useSelectGroupContext(LABEL_NAME,$);return jsxRuntimeExports.jsx(Primitive.div,{id:et.id,..._e,ref:_})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,value:_e,disabled:et=!1,textValue:tt,...rt}=j,nt=useSelectContext(ITEM_NAME$1,$),st=useSelectContentContext(ITEM_NAME$1,$),it=nt.value===_e,[at,ot]=reactExports.useState(tt??""),[ct,dt]=reactExports.useState(!1),pt=useComposedRefs(_,ht=>{var yt;return(yt=st.itemRefCallback)==null?void 0:yt.call(st,ht,_e,et)}),ut=useId$1(),lt=reactExports.useRef("touch"),ft=()=>{et||(nt.onValueChange(_e),nt.onOpenChange(!1))};if(_e==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:$,value:_e,disabled:et,textId:ut,isSelected:it,onItemTextChange:reactExports.useCallback(ht=>{ot(yt=>yt||((ht==null?void 0:ht.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:$,value:_e,disabled:et,textValue:at,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":ut,"data-highlighted":ct?"":void 0,"aria-selected":it&&ct,"data-state":it?"checked":"unchecked","aria-disabled":et||void 0,"data-disabled":et?"":void 0,tabIndex:et?void 0:-1,...rt,ref:pt,onFocus:composeEventHandlers(rt.onFocus,()=>dt(!0)),onBlur:composeEventHandlers(rt.onBlur,()=>dt(!1)),onClick:composeEventHandlers(rt.onClick,()=>{lt.current!=="mouse"&&ft()}),onPointerUp:composeEventHandlers(rt.onPointerUp,()=>{lt.current==="mouse"&&ft()}),onPointerDown:composeEventHandlers(rt.onPointerDown,ht=>{lt.current=ht.pointerType}),onPointerMove:composeEventHandlers(rt.onPointerMove,ht=>{var yt;lt.current=ht.pointerType,et?(yt=st.onItemLeave)==null||yt.call(st):lt.current==="mouse"&&ht.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(rt.onPointerLeave,ht=>{var yt;ht.currentTarget===document.activeElement&&((yt=st.onItemLeave)==null||yt.call(st))}),onKeyDown:composeEventHandlers(rt.onKeyDown,ht=>{var vt;((vt=st.searchRef)==null?void 0:vt.current)!==""&&ht.key===" "||(SELECTION_KEYS.includes(ht.key)&&ft(),ht.key===" "&&ht.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,className:_e,style:et,...tt}=j,rt=useSelectContext(ITEM_TEXT_NAME,$),nt=useSelectContentContext(ITEM_TEXT_NAME,$),st=useSelectItemContext(ITEM_TEXT_NAME,$),it=useSelectNativeOptionsContext(ITEM_TEXT_NAME,$),[at,ot]=reactExports.useState(null),ct=useComposedRefs(_,ft=>ot(ft),st.onItemTextChange,ft=>{var ht;return(ht=nt.itemTextRefCallback)==null?void 0:ht.call(nt,ft,st.value,st.disabled)}),dt=at==null?void 0:at.textContent,pt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:st.value,disabled:st.disabled,children:dt},st.value),[st.disabled,st.value,dt]),{onNativeOptionAdd:ut,onNativeOptionRemove:lt}=it;return useLayoutEffect2(()=>(ut(pt),()=>lt(pt)),[ut,lt,pt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:st.textId,...tt,ref:ct}),st.isSelected&&rt.valueNode&&!rt.valueNodeHasChildren?reactDomExports.createPortal(tt.children,rt.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,..._e}=j;return useSelectItemContext(ITEM_INDICATOR_NAME,$).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,..._e,ref:_}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((j,_)=>{const $=useSelectContentContext(SCROLL_UP_BUTTON_NAME,j.__scopeSelect),_e=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,j.__scopeSelect),[et,tt]=reactExports.useState(!1),rt=useComposedRefs(_,_e.onScrollButtonChange);return useLayoutEffect2(()=>{if($.viewport&&$.isPositioned){let nt=function(){const it=st.scrollTop>0;tt(it)};const st=$.viewport;return nt(),st.addEventListener("scroll",nt),()=>st.removeEventListener("scroll",nt)}},[$.viewport,$.isPositioned]),et?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...j,ref:rt,onAutoScroll:()=>{const{viewport:nt,selectedItem:st}=$;nt&&st&&(nt.scrollTop=nt.scrollTop-st.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((j,_)=>{const $=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,j.__scopeSelect),_e=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,j.__scopeSelect),[et,tt]=reactExports.useState(!1),rt=useComposedRefs(_,_e.onScrollButtonChange);return useLayoutEffect2(()=>{if($.viewport&&$.isPositioned){let nt=function(){const it=st.scrollHeight-st.clientHeight,at=Math.ceil(st.scrollTop)<it;tt(at)};const st=$.viewport;return nt(),st.addEventListener("scroll",nt),()=>st.removeEventListener("scroll",nt)}},[$.viewport,$.isPositioned]),et?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...j,ref:rt,onAutoScroll:()=>{const{viewport:nt,selectedItem:st}=$;nt&&st&&(nt.scrollTop=nt.scrollTop+st.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,onAutoScroll:_e,...et}=j,tt=useSelectContentContext("SelectScrollButton",$),rt=reactExports.useRef(null),nt=useCollection($),st=reactExports.useCallback(()=>{rt.current!==null&&(window.clearInterval(rt.current),rt.current=null)},[]);return reactExports.useEffect(()=>()=>st(),[st]),useLayoutEffect2(()=>{var at;const it=nt().find(ot=>ot.ref.current===document.activeElement);(at=it==null?void 0:it.ref.current)==null||at.scrollIntoView({block:"nearest"})},[nt]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...et,ref:_,style:{flexShrink:0,...et.style},onPointerDown:composeEventHandlers(et.onPointerDown,()=>{rt.current===null&&(rt.current=window.setInterval(_e,50))}),onPointerMove:composeEventHandlers(et.onPointerMove,()=>{var it;(it=tt.onItemLeave)==null||it.call(tt),rt.current===null&&(rt.current=window.setInterval(_e,50))}),onPointerLeave:composeEventHandlers(et.onPointerLeave,()=>{st()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,..._e}=j;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,..._e,ref:_})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME$1="SelectArrow",SelectArrow=reactExports.forwardRef((j,_)=>{const{__scopeSelect:$,..._e}=j,et=usePopperScope$1($),tt=useSelectContext(ARROW_NAME$1,$),rt=useSelectContentContext(ARROW_NAME$1,$);return tt.open&&rt.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:_}):null});SelectArrow.displayName=ARROW_NAME$1;function shouldShowPlaceholder(j){return j===""||j===void 0}var BubbleSelect=reactExports.forwardRef((j,_)=>{const{value:$,..._e}=j,et=reactExports.useRef(null),tt=useComposedRefs(_,et),rt=usePrevious($);return reactExports.useEffect(()=>{const nt=et.current,st=window.HTMLSelectElement.prototype,at=Object.getOwnPropertyDescriptor(st,"value").set;if(rt!==$&&at){const ot=new Event("change",{bubbles:!0});at.call(nt,$),nt.dispatchEvent(ot)}},[rt,$]),jsxRuntimeExports.jsx(VisuallyHidden,{asChild:!0,children:jsxRuntimeExports.jsx("select",{..._e,ref:tt,defaultValue:$})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(j){const _=useCallbackRef$1(j),$=reactExports.useRef(""),_e=reactExports.useRef(0),et=reactExports.useCallback(rt=>{const nt=$.current+rt;_(nt),function st(it){$.current=it,window.clearTimeout(_e.current),it!==""&&(_e.current=window.setTimeout(()=>st(""),1e3))}(nt)},[_]),tt=reactExports.useCallback(()=>{$.current="",window.clearTimeout(_e.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(_e.current),[]),[$,et,tt]}function findNextItem(j,_,$){const et=_.length>1&&Array.from(_).every(it=>it===_[0])?_[0]:_,tt=$?j.indexOf($):-1;let rt=wrapArray(j,Math.max(tt,0));et.length===1&&(rt=rt.filter(it=>it!==$));const st=rt.find(it=>it.textValue.toLowerCase().startsWith(et.toLowerCase()));return st!==$?st:void 0}function wrapArray(j,_){return j.map(($,_e)=>j[(_+_e)%j.length])}var Root2$2=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$2=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Label$1=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2$2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:j,children:_,...$},_e)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:_e,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",j),...$,children:[_,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:$,className:cn("flex cursor-default items-center justify-center py-1",j),..._,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:$,className:cn("flex cursor-default items-center justify-center py-1",j),..._,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:j,children:_,position:$="popper",..._e},et)=>jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:et,className:cn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",$==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",j),position:$,..._e,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",$==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:_}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Label$1,{ref:$,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",j),..._}));SelectLabel.displayName=Label$1.displayName;const SelectItem=reactExports.forwardRef(({className:j,children:_,...$},_e)=>jsxRuntimeExports.jsxs(Item,{ref:_e,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",j),...$,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:_})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Separator$2,{ref:$,className:cn("-mx-1 my-1 h-px bg-muted",j),..._}));SelectSeparator.displayName=Separator$2.displayName;function AuthPage(){const{user:j,loginMutation:_,registerMutation:$}=useAuth(),[_e,et]=reactExports.useState({username:"",password:""}),[tt,rt]=reactExports.useState({username:"",email:"",password:"",firstName:"",lastName:"",role:"",company:""});if(j)return jsxRuntimeExports.jsx(Redirect,{to:"/"});const nt=it=>{it.preventDefault(),_.mutate(_e)},st=it=>{it.preventDefault(),$.mutate(tt)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"LoanServe Pro"})]}),jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"Enterprise Mortgage Loan Servicing Platform"})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"login",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"login",children:"Login"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"register",children:"Register"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"login",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Welcome Back"}),jsxRuntimeExports.jsx(CardDescription,{children:"Sign in to your LoanServe Pro account"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,children:[jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"username",children:"Username"}),jsxRuntimeExports.jsx(Input,{id:"username",type:"text",value:_e.username,onChange:it=>et({..._e,username:it.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:_e.password,onChange:it=>et({..._e,password:it.target.value}),required:!0})]})]}),jsxRuntimeExports.jsx(CardFooter,{children:jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:_.isPending,children:_.isPending?"Signing In...":"Sign In"})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"register",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Create Account"}),jsxRuntimeExports.jsx(CardDescription,{children:"Join the LoanServe Pro platform"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:st,children:[jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"firstName",children:"First Name"}),jsxRuntimeExports.jsx(Input,{id:"firstName",type:"text",value:tt.firstName,onChange:it=>rt({...tt,firstName:it.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"lastName",children:"Last Name"}),jsxRuntimeExports.jsx(Input,{id:"lastName",type:"text",value:tt.lastName,onChange:it=>rt({...tt,lastName:it.target.value}),required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:tt.email,onChange:it=>rt({...tt,email:it.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"reg-username",children:"Username"}),jsxRuntimeExports.jsx(Input,{id:"reg-username",type:"text",value:tt.username,onChange:it=>rt({...tt,username:it.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"reg-password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"reg-password",type:"password",value:tt.password,onChange:it=>rt({...tt,password:it.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"role",children:"Role"}),jsxRuntimeExports.jsxs(Select,{onValueChange:it=>rt({...tt,role:it}),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select your role"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"lender",children:"Lender"}),jsxRuntimeExports.jsx(SelectItem,{value:"borrower",children:"Borrower"}),jsxRuntimeExports.jsx(SelectItem,{value:"investor",children:"Investor"}),jsxRuntimeExports.jsx(SelectItem,{value:"escrow_officer",children:"Escrow Officer"}),jsxRuntimeExports.jsx(SelectItem,{value:"legal",children:"Legal"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"company",children:"Company"}),jsxRuntimeExports.jsx(Input,{id:"company",type:"text",value:tt.company,onChange:it=>rt({...tt,company:it.target.value}),placeholder:"Optional"})]})]}),jsxRuntimeExports.jsx(CardFooter,{children:jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:$.isPending,children:$.isPending?"Creating Account...":"Create Account"})})]})]})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 bg-gradient-to-br from-primary-600 to-primary-800 p-8 text-white",children:jsxRuntimeExports.jsx("div",{className:"h-full flex flex-col justify-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Comprehensive Mortgage Loan Servicing"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Manage your entire loan portfolio with enterprise-grade tools designed for lenders, borrowers, investors, and service providers."}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Multi-Role Portals"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-sm",children:"Tailored experiences for lenders, borrowers, investors, escrow officers, and legal professionals."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Secure Document Management"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-sm",children:"Store, organize, and manage loan documents with enterprise-grade security and access controls."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Advanced Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-sm",children:"Track performance, monitor trends, and make data-driven decisions with comprehensive reporting."})]})]})]})]})})})]})}const navigation=[{name:"Dashboard",href:"/",icon:LayoutDashboard},{name:"Loan Portfolio",href:"/loans",icon:FileText},{name:"Payments",href:"/payments",icon:CreditCard},{name:"Fee Management",href:"/fees",icon:Receipt},{name:"Daily Servicing Cycle",href:"/servicing-cycle",icon:Zap},{name:"Reports & Analytics",href:"/reports",icon:ChartColumn},{name:"Compliance",href:"/compliance",icon:Shield},{name:"Admin",href:"/admin/documents",icon:Settings}];function Sidebar(){var rt,nt;const[j]=useLocation(),{user:_,logoutMutation:$}=useAuth(),[_e,et]=reactExports.useState((_==null?void 0:_.role)||"lender"),tt=()=>{$.mutate()};return jsxRuntimeExports.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"LoanServe Pro"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Enterprise Edition"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Active Role"}),jsxRuntimeExports.jsxs(Select,{value:_e,onValueChange:st=>et(st),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"lender",children:"Lender Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"borrower",children:"Borrower Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"investor",children:"Investor Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"escrow_officer",children:"Escrow Officer"}),jsxRuntimeExports.jsx(SelectItem,{value:"legal",children:"Legal Portal"})]})]})]}),jsxRuntimeExports.jsx("nav",{className:"flex-1 p-4",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:navigation.map(st=>{const it=j===st.href;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(Link,{href:st.href,className:cn("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",it?"bg-primary-50 text-primary-700":"text-slate-700 hover:bg-slate-100"),children:[jsxRuntimeExports.jsx(st.icon,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:st.name})]})},st.name)})})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-white",children:[(rt=_==null?void 0:_.firstName)==null?void 0:rt[0],(nt=_==null?void 0:_.lastName)==null?void 0:nt[0]]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-slate-900 truncate",children:[_==null?void 0:_.firstName," ",_==null?void 0:_.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 truncate",children:_==null?void 0:_.email})]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:tt,disabled:$.isPending,children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4 mr-2"}),$.isPending?"Signing Out...":"Sign Out"]})]})]})}function MetricsCards(){var _e;const{data:j,isLoading:_}=useQuery({queryKey:["/api/loans/metrics"]});if(_)return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((et,tt)=>jsxRuntimeExports.jsx(Card,{className:"animate-pulse",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"h-16 bg-slate-200 rounded"})})},tt))});const $=et=>{const tt=typeof et=="string"?parseFloat(et):et;return tt>=1e6?`$${(tt/1e6).toFixed(1)}M`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(tt)};return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Portfolio"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j!=null&&j.totalPortfolio?$(j.totalPortfolio):"$0"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-primary-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+12.5% from last month"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Active Loans"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900",children:((_e=j==null?void 0:j.activeLoans)==null?void 0:_e.toLocaleString())||"0"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-green-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+3.2% from last month"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Delinquent Loans"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900",children:(j==null?void 0:j.delinquentLoans)||0})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-yellow-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 mt-2",children:"-8.1% from last month"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Collections YTD"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j!=null&&j.collectionsYTD?$(j.collectionsYTD):"$0"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6 text-teal-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+18.3% from last year"})]})})]})}function RecentActivity(){const j=[{id:1,type:"payment",title:"Payment Received",description:"Loan #45892 - $2,847.32 payment processed",time:"2 hours ago",icon:CircleCheckBig,iconColor:"text-green-600",iconBg:"bg-green-100"},{id:2,type:"document",title:"Document Uploaded",description:"Loan #45891 - Insurance certificate updated",time:"4 hours ago",icon:FileText,iconColor:"text-blue-600",iconBg:"bg-blue-100"},{id:3,type:"delinquent",title:"Late Payment Notice",description:"Loan #45889 - 15 days past due",time:"6 hours ago",icon:TriangleAlert,iconColor:"text-yellow-600",iconBg:"bg-yellow-100"},{id:4,type:"escrow",title:"Escrow Payment",description:"Property taxes paid - $4,582.17",time:"1 day ago",icon:DollarSign,iconColor:"text-purple-600",iconBg:"bg-purple-100"}];return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{children:"Recent Loan Activity"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",children:"View All"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:j.map(_=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 ${_.iconBg} rounded-full flex items-center justify-center`,children:jsxRuntimeExports.jsx(_.icon,{className:`w-5 h-5 ${_.iconColor}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-slate-900",children:_.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 truncate",children:_.description}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mt-1",children:_.time})]})]},_.id))})})]})}function PortfolioOverview(){const j={performingLoans:94.2,thirtyDaysPastDue:4.1,ninetyDaysPastDue:1.7,averageBalance:297e3},_=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,notation:"compact"}).format($);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Portfolio Overview"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-600",children:"Performing Loans"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-green-600",children:[j.performingLoans,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${j.performingLoans}%`}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-600",children:"30+ Days Past Due"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-yellow-600",children:[j.thirtyDaysPastDue,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${j.thirtyDaysPastDue}%`}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-600",children:"90+ Days Past Due"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-red-600",children:[j.ninetyDaysPastDue,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${j.ninetyDaysPastDue}%`}})})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-slate-900",children:_(j.averageBalance)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Average Loan Balance"})]})})]})})]})}var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=j=>{const{__scopeDialog:_,children:$,open:_e,defaultOpen:et,onOpenChange:tt,modal:rt=!0}=j,nt=reactExports.useRef(null),st=reactExports.useRef(null),[it=!1,at]=useControllableState({prop:_e,defaultProp:et,onChange:tt});return jsxRuntimeExports.jsx(DialogProvider,{scope:_,triggerRef:nt,contentRef:st,contentId:useId$1(),titleId:useId$1(),descriptionId:useId$1(),open:it,onOpenChange:at,onOpenToggle:reactExports.useCallback(()=>at(ot=>!ot),[at]),modal:rt,children:$})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$1="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,..._e}=j,et=useDialogContext(TRIGGER_NAME$1,$),tt=useComposedRefs(_,et.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":et.open,"aria-controls":et.contentId,"data-state":getState$4(et.open),..._e,ref:tt,onClick:composeEventHandlers(j.onClick,et.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME$1;var PORTAL_NAME$1="DialogPortal",[PortalProvider$1,usePortalContext$1]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal$1=j=>{const{__scopeDialog:_,forceMount:$,children:_e,container:et}=j,tt=useDialogContext(PORTAL_NAME$1,_);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:_,forceMount:$,children:reactExports.Children.map(_e,rt=>jsxRuntimeExports.jsx(Presence,{present:$||tt.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:et,children:rt})}))})};DialogPortal$1.displayName=PORTAL_NAME$1;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((j,_)=>{const $=usePortalContext$1(OVERLAY_NAME,j.__scopeDialog),{forceMount:_e=$.forceMount,...et}=j,tt=useDialogContext(OVERLAY_NAME,j.__scopeDialog);return tt.modal?jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...et,ref:_})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot$1=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,..._e}=j,et=useDialogContext(OVERLAY_NAME,$);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,shards:[et.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$4(et.open),..._e,ref:_,style:{pointerEvents:"auto",..._e.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((j,_)=>{const $=usePortalContext$1(CONTENT_NAME$1,j.__scopeDialog),{forceMount:_e=$.forceMount,...et}=j,tt=useDialogContext(CONTENT_NAME$1,j.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:tt.modal?jsxRuntimeExports.jsx(DialogContentModal,{...et,ref:_}):jsxRuntimeExports.jsx(DialogContentNonModal,{...et,ref:_})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((j,_)=>{const $=useDialogContext(CONTENT_NAME$1,j.__scopeDialog),_e=reactExports.useRef(null),et=useComposedRefs(_,$.contentRef,_e);return reactExports.useEffect(()=>{const tt=_e.current;if(tt)return hideOthers(tt)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...j,ref:et,trapFocus:$.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(j.onCloseAutoFocus,tt=>{var rt;tt.preventDefault(),(rt=$.triggerRef.current)==null||rt.focus()}),onPointerDownOutside:composeEventHandlers(j.onPointerDownOutside,tt=>{const rt=tt.detail.originalEvent,nt=rt.button===0&&rt.ctrlKey===!0;(rt.button===2||nt)&&tt.preventDefault()}),onFocusOutside:composeEventHandlers(j.onFocusOutside,tt=>tt.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((j,_)=>{const $=useDialogContext(CONTENT_NAME$1,j.__scopeDialog),_e=reactExports.useRef(!1),et=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...j,ref:_,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:tt=>{var rt,nt;(rt=j.onCloseAutoFocus)==null||rt.call(j,tt),tt.defaultPrevented||(_e.current||(nt=$.triggerRef.current)==null||nt.focus(),tt.preventDefault()),_e.current=!1,et.current=!1},onInteractOutside:tt=>{var st,it;(st=j.onInteractOutside)==null||st.call(j,tt),tt.defaultPrevented||(_e.current=!0,tt.detail.originalEvent.type==="pointerdown"&&(et.current=!0));const rt=tt.target;((it=$.triggerRef.current)==null?void 0:it.contains(rt))&&tt.preventDefault(),tt.detail.originalEvent.type==="focusin"&&et.current&&tt.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,trapFocus:_e,onOpenAutoFocus:et,onCloseAutoFocus:tt,...rt}=j,nt=useDialogContext(CONTENT_NAME$1,$),st=reactExports.useRef(null),it=useComposedRefs(_,st);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:_e,onMountAutoFocus:et,onUnmountAutoFocus:tt,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:nt.contentId,"aria-describedby":nt.descriptionId,"aria-labelledby":nt.titleId,"data-state":getState$4(nt.open),...rt,ref:it,onDismiss:()=>nt.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:nt.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:st,descriptionId:nt.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,..._e}=j,et=useDialogContext(TITLE_NAME,$);return jsxRuntimeExports.jsx(Primitive.h2,{id:et.titleId,..._e,ref:_})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,..._e}=j,et=useDialogContext(DESCRIPTION_NAME,$);return jsxRuntimeExports.jsx(Primitive.p,{id:et.descriptionId,..._e,ref:_})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((j,_)=>{const{__scopeDialog:$,..._e}=j,et=useDialogContext(CLOSE_NAME$1,$);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:_,onClick:composeEventHandlers(j.onClick,()=>et.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState$4(j){return j?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:j})=>{const _=useWarningContext(TITLE_WARNING_NAME),$=`\`${_.contentName}\` requires a \`${_.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${_.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${_.docsSlug}`;return reactExports.useEffect(()=>{j&&(document.getElementById(j)||console.error($))},[$,j]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:j,descriptionId:_})=>{const _e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var tt;const et=(tt=j.current)==null?void 0:tt.getAttribute("aria-describedby");_&&et&&(document.getElementById(_)||console.warn(_e))},[_e,j,_]),null},Root$6=Dialog$1,Trigger$1=DialogTrigger$1,Portal$1=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;const Dialog=Root$6,DialogTrigger=Trigger$1,DialogPortal=Portal$1,DialogOverlay=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Overlay,{ref:$,className:cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",j),..._}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:j,children:_,...$},_e)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{ref:_e,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",j),...$,children:[_,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content.displayName;const DialogHeader=({className:j,..._})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",j),..._});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:j,..._})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",j),..._});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Title,{ref:$,className:cn("text-lg font-semibold leading-none tracking-tight",j),..._}));DialogTitle.displayName=Title.displayName;const DialogDescription=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Description,{ref:$,className:cn("text-sm text-muted-foreground",j),..._}));DialogDescription.displayName=Description.displayName;const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:j,variant:_,...$}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:_}),j),...$})}var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((j,_)=>{const{__scopeProgress:$,value:_e=null,max:et,getValueLabel:tt=defaultGetValueLabel,...rt}=j;(et||et===0)&&!isValidMaxNumber(et)&&console.error(getInvalidMaxError(`${et}`,"Progress"));const nt=isValidMaxNumber(et)?et:DEFAULT_MAX;_e!==null&&!isValidValueNumber(_e,nt)&&console.error(getInvalidValueError(`${_e}`,"Progress"));const st=isValidValueNumber(_e,nt)?_e:null,it=isNumber$4(st)?tt(st,nt):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:$,value:st,max:nt,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":nt,"aria-valuemin":0,"aria-valuenow":isNumber$4(st)?st:void 0,"aria-valuetext":it,role:"progressbar","data-state":getProgressState(st,nt),"data-value":st??void 0,"data-max":nt,...rt,ref:_})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$2="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((j,_)=>{const{__scopeProgress:$,..._e}=j,et=useProgressContext(INDICATOR_NAME$2,$);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(et.value,et.max),"data-value":et.value??void 0,"data-max":et.max,..._e,ref:_})});ProgressIndicator.displayName=INDICATOR_NAME$2;function defaultGetValueLabel(j,_){return`${Math.round(j/_*100)}%`}function getProgressState(j,_){return j==null?"indeterminate":j===_?"complete":"loading"}function isNumber$4(j){return typeof j=="number"}function isValidMaxNumber(j){return isNumber$4(j)&&!isNaN(j)&&j>0}function isValidValueNumber(j,_){return isNumber$4(j)&&!isNaN(j)&&j<=_&&j>=0}function getInvalidMaxError(j,_){return`Invalid prop \`max\` of value \`${j}\` supplied to \`${_}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(j,_){return`Invalid prop \`value\` of value \`${j}\` supplied to \`${_}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$5=Progress$1,Indicator$2=ProgressIndicator;const Progress=reactExports.forwardRef(({className:j,value:_,...$},_e)=>jsxRuntimeExports.jsx(Root$5,{ref:_e,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",j),...$,children:jsxRuntimeExports.jsx(Indicator$2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(_||0)}%)`}})}));Progress.displayName=Root$5.displayName;function useStateMachine(j,_){return reactExports.useReducer(($,_e)=>_[$][_e]??$,j)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((j,_)=>{const{__scopeScrollArea:$,type:_e="hover",dir:et,scrollHideDelay:tt=600,...rt}=j,[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState(null),[ot,ct]=reactExports.useState(null),[dt,pt]=reactExports.useState(null),[ut,lt]=reactExports.useState(null),[ft,ht]=reactExports.useState(0),[yt,vt]=reactExports.useState(0),[gt,bt]=reactExports.useState(!1),[mt,Et]=reactExports.useState(!1),Rt=useComposedRefs(_,jt=>st(jt)),Tt=useDirection(et);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:$,type:_e,dir:Tt,scrollHideDelay:tt,scrollArea:nt,viewport:it,onViewportChange:at,content:ot,onContentChange:ct,scrollbarX:dt,onScrollbarXChange:pt,scrollbarXEnabled:gt,onScrollbarXEnabledChange:bt,scrollbarY:ut,onScrollbarYChange:lt,scrollbarYEnabled:mt,onScrollbarYEnabledChange:Et,onCornerWidthChange:ht,onCornerHeightChange:vt,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Tt,...rt,ref:Rt,style:{position:"relative","--radix-scroll-area-corner-width":ft+"px","--radix-scroll-area-corner-height":yt+"px",...j.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((j,_)=>{const{__scopeScrollArea:$,children:_e,nonce:et,...tt}=j,rt=useScrollAreaContext(VIEWPORT_NAME,$),nt=reactExports.useRef(null),st=useComposedRefs(_,nt,rt.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:et}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...tt,ref:st,style:{overflowX:rt.scrollbarXEnabled?"scroll":"hidden",overflowY:rt.scrollbarYEnabled?"scroll":"hidden",...j.style},children:jsxRuntimeExports.jsx("div",{ref:rt.onContentChange,style:{minWidth:"100%",display:"table"},children:_e})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((j,_)=>{const{forceMount:$,..._e}=j,et=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),{onScrollbarXEnabledChange:tt,onScrollbarYEnabledChange:rt}=et,nt=j.orientation==="horizontal";return reactExports.useEffect(()=>(nt?tt(!0):rt(!0),()=>{nt?tt(!1):rt(!1)}),[nt,tt,rt]),et.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{..._e,ref:_,forceMount:$}):et.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{..._e,ref:_,forceMount:$}):et.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{..._e,ref:_,forceMount:$}):et.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{..._e,ref:_}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((j,_)=>{const{forceMount:$,..._e}=j,et=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[tt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const nt=et.scrollArea;let st=0;if(nt){const it=()=>{window.clearTimeout(st),rt(!0)},at=()=>{st=window.setTimeout(()=>rt(!1),et.scrollHideDelay)};return nt.addEventListener("pointerenter",it),nt.addEventListener("pointerleave",at),()=>{window.clearTimeout(st),nt.removeEventListener("pointerenter",it),nt.removeEventListener("pointerleave",at)}}},[et.scrollArea,et.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:$||tt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":tt?"visible":"hidden",..._e,ref:_})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((j,_)=>{const{forceMount:$,..._e}=j,et=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),tt=j.orientation==="horizontal",rt=useDebounceCallback(()=>st("SCROLL_END"),100),[nt,st]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(nt==="idle"){const it=window.setTimeout(()=>st("HIDE"),et.scrollHideDelay);return()=>window.clearTimeout(it)}},[nt,et.scrollHideDelay,st]),reactExports.useEffect(()=>{const it=et.viewport,at=tt?"scrollLeft":"scrollTop";if(it){let ot=it[at];const ct=()=>{const dt=it[at];ot!==dt&&(st("SCROLL"),rt()),ot=dt};return it.addEventListener("scroll",ct),()=>it.removeEventListener("scroll",ct)}},[et.viewport,tt,st,rt]),jsxRuntimeExports.jsx(Presence,{present:$||nt!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":nt==="hidden"?"hidden":"visible",..._e,ref:_,onPointerEnter:composeEventHandlers(j.onPointerEnter,()=>st("POINTER_ENTER")),onPointerLeave:composeEventHandlers(j.onPointerLeave,()=>st("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((j,_)=>{const $=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),{forceMount:_e,...et}=j,[tt,rt]=reactExports.useState(!1),nt=j.orientation==="horizontal",st=useDebounceCallback(()=>{if($.viewport){const it=$.viewport.offsetWidth<$.viewport.scrollWidth,at=$.viewport.offsetHeight<$.viewport.scrollHeight;rt(nt?it:at)}},10);return useResizeObserver($.viewport,st),useResizeObserver($.content,st),jsxRuntimeExports.jsx(Presence,{present:_e||tt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":tt?"visible":"hidden",...et,ref:_})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((j,_)=>{const{orientation:$="vertical",..._e}=j,et=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),tt=reactExports.useRef(null),rt=reactExports.useRef(0),[nt,st]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),it=getThumbRatio(nt.viewport,nt.content),at={..._e,sizes:nt,onSizesChange:st,hasThumb:it>0&&it<1,onThumbChange:ct=>tt.current=ct,onThumbPointerUp:()=>rt.current=0,onThumbPointerDown:ct=>rt.current=ct};function ot(ct,dt){return getScrollPositionFromPointer(ct,rt.current,nt,dt)}return $==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...at,ref:_,onThumbPositionChange:()=>{if(et.viewport&&tt.current){const ct=et.viewport.scrollLeft,dt=getThumbOffsetFromScroll(ct,nt,et.dir);tt.current.style.transform=`translate3d(${dt}px, 0, 0)`}},onWheelScroll:ct=>{et.viewport&&(et.viewport.scrollLeft=ct)},onDragScroll:ct=>{et.viewport&&(et.viewport.scrollLeft=ot(ct,et.dir))}}):$==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...at,ref:_,onThumbPositionChange:()=>{if(et.viewport&&tt.current){const ct=et.viewport.scrollTop,dt=getThumbOffsetFromScroll(ct,nt);tt.current.style.transform=`translate3d(0, ${dt}px, 0)`}},onWheelScroll:ct=>{et.viewport&&(et.viewport.scrollTop=ct)},onDragScroll:ct=>{et.viewport&&(et.viewport.scrollTop=ot(ct))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((j,_)=>{const{sizes:$,onSizesChange:_e,...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[rt,nt]=reactExports.useState(),st=reactExports.useRef(null),it=useComposedRefs(_,st,tt.onScrollbarXChange);return reactExports.useEffect(()=>{st.current&&nt(getComputedStyle(st.current))},[st]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...et,ref:it,sizes:$,style:{bottom:0,left:tt.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:tt.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize($)+"px",...j.style},onThumbPointerDown:at=>j.onThumbPointerDown(at.x),onDragScroll:at=>j.onDragScroll(at.x),onWheelScroll:(at,ot)=>{if(tt.viewport){const ct=tt.viewport.scrollLeft+at.deltaX;j.onWheelScroll(ct),isScrollingWithinScrollbarBounds(ct,ot)&&at.preventDefault()}},onResize:()=>{st.current&&tt.viewport&&rt&&_e({content:tt.viewport.scrollWidth,viewport:tt.viewport.offsetWidth,scrollbar:{size:st.current.clientWidth,paddingStart:toInt(rt.paddingLeft),paddingEnd:toInt(rt.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((j,_)=>{const{sizes:$,onSizesChange:_e,...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[rt,nt]=reactExports.useState(),st=reactExports.useRef(null),it=useComposedRefs(_,st,tt.onScrollbarYChange);return reactExports.useEffect(()=>{st.current&&nt(getComputedStyle(st.current))},[st]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...et,ref:it,sizes:$,style:{top:0,right:tt.dir==="ltr"?0:void 0,left:tt.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize($)+"px",...j.style},onThumbPointerDown:at=>j.onThumbPointerDown(at.y),onDragScroll:at=>j.onDragScroll(at.y),onWheelScroll:(at,ot)=>{if(tt.viewport){const ct=tt.viewport.scrollTop+at.deltaY;j.onWheelScroll(ct),isScrollingWithinScrollbarBounds(ct,ot)&&at.preventDefault()}},onResize:()=>{st.current&&tt.viewport&&rt&&_e({content:tt.viewport.scrollHeight,viewport:tt.viewport.offsetHeight,scrollbar:{size:st.current.clientHeight,paddingStart:toInt(rt.paddingTop),paddingEnd:toInt(rt.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((j,_)=>{const{__scopeScrollArea:$,sizes:_e,hasThumb:et,onThumbChange:tt,onThumbPointerUp:rt,onThumbPointerDown:nt,onThumbPositionChange:st,onDragScroll:it,onWheelScroll:at,onResize:ot,...ct}=j,dt=useScrollAreaContext(SCROLLBAR_NAME,$),[pt,ut]=reactExports.useState(null),lt=useComposedRefs(_,Rt=>ut(Rt)),ft=reactExports.useRef(null),ht=reactExports.useRef(""),yt=dt.viewport,vt=_e.content-_e.viewport,gt=useCallbackRef$1(at),bt=useCallbackRef$1(st),mt=useDebounceCallback(ot,10);function Et(Rt){if(ft.current){const Tt=Rt.clientX-ft.current.left,jt=Rt.clientY-ft.current.top;it({x:Tt,y:jt})}}return reactExports.useEffect(()=>{const Rt=Tt=>{const jt=Tt.target;(pt==null?void 0:pt.contains(jt))&&gt(Tt,vt)};return document.addEventListener("wheel",Rt,{passive:!1}),()=>document.removeEventListener("wheel",Rt,{passive:!1})},[yt,pt,vt,gt]),reactExports.useEffect(bt,[_e,bt]),useResizeObserver(pt,mt),useResizeObserver(dt.content,mt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:$,scrollbar:pt,hasThumb:et,onThumbChange:useCallbackRef$1(tt),onThumbPointerUp:useCallbackRef$1(rt),onThumbPositionChange:bt,onThumbPointerDown:useCallbackRef$1(nt),children:jsxRuntimeExports.jsx(Primitive.div,{...ct,ref:lt,style:{position:"absolute",...ct.style},onPointerDown:composeEventHandlers(j.onPointerDown,Rt=>{Rt.button===0&&(Rt.target.setPointerCapture(Rt.pointerId),ft.current=pt.getBoundingClientRect(),ht.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",dt.viewport&&(dt.viewport.style.scrollBehavior="auto"),Et(Rt))}),onPointerMove:composeEventHandlers(j.onPointerMove,Et),onPointerUp:composeEventHandlers(j.onPointerUp,Rt=>{const Tt=Rt.target;Tt.hasPointerCapture(Rt.pointerId)&&Tt.releasePointerCapture(Rt.pointerId),document.body.style.webkitUserSelect=ht.current,dt.viewport&&(dt.viewport.style.scrollBehavior=""),ft.current=null})})})}),THUMB_NAME$1="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((j,_)=>{const{forceMount:$,..._e}=j,et=useScrollbarContext(THUMB_NAME$1,j.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:$||et.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:_,..._e})})}),ScrollAreaThumbImpl=reactExports.forwardRef((j,_)=>{const{__scopeScrollArea:$,style:_e,...et}=j,tt=useScrollAreaContext(THUMB_NAME$1,$),rt=useScrollbarContext(THUMB_NAME$1,$),{onThumbPositionChange:nt}=rt,st=useComposedRefs(_,ot=>rt.onThumbChange(ot)),it=reactExports.useRef(void 0),at=useDebounceCallback(()=>{it.current&&(it.current(),it.current=void 0)},100);return reactExports.useEffect(()=>{const ot=tt.viewport;if(ot){const ct=()=>{if(at(),!it.current){const dt=addUnlinkedScrollListener(ot,nt);it.current=dt,nt()}};return nt(),ot.addEventListener("scroll",ct),()=>ot.removeEventListener("scroll",ct)}},[tt.viewport,at,nt]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":rt.hasThumb?"visible":"hidden",...et,ref:st,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",..._e},onPointerDownCapture:composeEventHandlers(j.onPointerDownCapture,ot=>{const dt=ot.target.getBoundingClientRect(),pt=ot.clientX-dt.left,ut=ot.clientY-dt.top;rt.onThumbPointerDown({x:pt,y:ut})}),onPointerUp:composeEventHandlers(j.onPointerUp,rt.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$1;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((j,_)=>{const $=useScrollAreaContext(CORNER_NAME,j.__scopeScrollArea),_e=!!($.scrollbarX&&$.scrollbarY);return $.type!=="scroll"&&_e?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...j,ref:_}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((j,_)=>{const{__scopeScrollArea:$,..._e}=j,et=useScrollAreaContext(CORNER_NAME,$),[tt,rt]=reactExports.useState(0),[nt,st]=reactExports.useState(0),it=!!(tt&&nt);return useResizeObserver(et.scrollbarX,()=>{var ot;const at=((ot=et.scrollbarX)==null?void 0:ot.offsetHeight)||0;et.onCornerHeightChange(at),st(at)}),useResizeObserver(et.scrollbarY,()=>{var ot;const at=((ot=et.scrollbarY)==null?void 0:ot.offsetWidth)||0;et.onCornerWidthChange(at),rt(at)}),it?jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:_,style:{width:tt,height:nt,position:"absolute",right:et.dir==="ltr"?0:void 0,left:et.dir==="rtl"?0:void 0,bottom:0,...j.style}}):null});function toInt(j){return j?parseInt(j,10):0}function getThumbRatio(j,_){const $=j/_;return isNaN($)?0:$}function getThumbSize(j){const _=getThumbRatio(j.viewport,j.content),$=j.scrollbar.paddingStart+j.scrollbar.paddingEnd,_e=(j.scrollbar.size-$)*_;return Math.max(_e,18)}function getScrollPositionFromPointer(j,_,$,_e="ltr"){const et=getThumbSize($),tt=et/2,rt=_||tt,nt=et-rt,st=$.scrollbar.paddingStart+rt,it=$.scrollbar.size-$.scrollbar.paddingEnd-nt,at=$.content-$.viewport,ot=_e==="ltr"?[0,at]:[at*-1,0];return linearScale([st,it],ot)(j)}function getThumbOffsetFromScroll(j,_,$="ltr"){const _e=getThumbSize(_),et=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,tt=_.scrollbar.size-et,rt=_.content-_.viewport,nt=tt-_e,st=$==="ltr"?[0,rt]:[rt*-1,0],it=clamp(j,st);return linearScale([0,rt],[0,nt])(it)}function linearScale(j,_){return $=>{if(j[0]===j[1]||_[0]===_[1])return _[0];const _e=(_[1]-_[0])/(j[1]-j[0]);return _[0]+_e*($-j[0])}}function isScrollingWithinScrollbarBounds(j,_){return j>0&&j<_}var addUnlinkedScrollListener=(j,_=()=>{})=>{let $={left:j.scrollLeft,top:j.scrollTop},_e=0;return function et(){const tt={left:j.scrollLeft,top:j.scrollTop},rt=$.left!==tt.left,nt=$.top!==tt.top;(rt||nt)&&_(),$=tt,_e=window.requestAnimationFrame(et)}(),()=>window.cancelAnimationFrame(_e)};function useDebounceCallback(j,_){const $=useCallbackRef$1(j),_e=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(_e.current),[]),reactExports.useCallback(()=>{window.clearTimeout(_e.current),_e.current=window.setTimeout($,_)},[$,_])}function useResizeObserver(j,_){const $=useCallbackRef$1(_);useLayoutEffect2(()=>{let _e=0;if(j){const et=new ResizeObserver(()=>{cancelAnimationFrame(_e),_e=window.requestAnimationFrame($)});return et.observe(j),()=>{window.cancelAnimationFrame(_e),et.unobserve(j)}}},[j,$])}var Root$4=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:j,children:_,...$},_e)=>jsxRuntimeExports.jsxs(Root$4,{ref:_e,className:cn("relative overflow-hidden",j),...$,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:_}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$4.displayName;const ScrollBar=reactExports.forwardRef(({className:j,orientation:_="vertical",...$},_e)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:_e,orientation:_,className:cn("flex touch-none select-none transition-colors",_==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",_==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",j),...$,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function EnhancedNewLoanDialog({open:j,onOpenChange:_,onLoanCreated:$}){const{user:_e}=useAuth(),{toast:et}=useToast(),tt=useQueryClient(),[rt,nt]=reactExports.useState("ai"),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState(!1),[ct,dt]=reactExports.useState(!1),[pt,ut]=reactExports.useState(-1),[lt,ft]=reactExports.useState({loanNumber:"",loanType:"conventional",originalAmount:"",principalBalance:"",interestRate:"",rateType:"fixed",loanTerm:"",propertyType:"single_family",propertyAddress:"",propertyCity:"",propertyState:"",propertyZip:"",propertyValue:"",borrowerName:"",borrowerCompanyName:"",borrowerEmail:"",borrowerPhone:"",borrowerAddress:"",borrowerCity:"",borrowerState:"",borrowerZip:"",borrowerSSN:"",borrowerIncome:"",creditScoreEquifax:"",creditScoreExperian:"",creditScoreTransunion:"",coBorrowerName:"",coBorrowerCompanyName:"",coBorrowerEmail:"",coBorrowerPhone:"",coBorrowerAddress:"",coBorrowerCity:"",coBorrowerState:"",coBorrowerZip:"",coBorrowerSSN:"",coBorrowerIncome:"",coBorrowerCreditScoreEquifax:"",coBorrowerCreditScoreExperian:"",coBorrowerCreditScoreTransunion:"",trusteeName:"",trusteeCompanyName:"",trusteePhone:"",trusteeEmail:"",trusteeStreetAddress:"",trusteeCity:"",trusteeState:"",trusteeZipCode:"",beneficiaryName:"",beneficiaryCompanyName:"",beneficiaryPhone:"",beneficiaryEmail:"",beneficiaryStreetAddress:"",beneficiaryCity:"",beneficiaryState:"",beneficiaryZipCode:"",escrowCompanyName:"",escrowCompanyPhone:"",escrowCompanyEmail:"",escrowCompanyStreetAddress:"",escrowCompanyCity:"",escrowCompanyState:"",escrowCompanyZipCode:"",paymentAmount:"",escrowAmount:"",firstPaymentDate:"",nextPaymentDate:"",maturityDate:"",prepaymentExpirationDate:"",hazardInsurance:"",propertyTaxes:"",hoaFees:"",pmiAmount:"",servicingFee:"25",loanDocuments:null,defaultConditions:null,insuranceRequirements:null,crossDefaultParties:null,closingCosts:"",downPayment:""}),ht=reactExports.useCallback(xt=>{xt.preventDefault(),xt.stopPropagation(),xt.type==="dragenter"||xt.type==="dragover"?ot(!0):xt.type==="dragleave"&&ot(!1)},[]),yt=reactExports.useCallback(xt=>{if(xt.preventDefault(),xt.stopPropagation(),ot(!1),xt.dataTransfer.files&&xt.dataTransfer.files.length>0){const Ct=Array.from(xt.dataTransfer.files).map(kt=>({file:kt,status:"pending"}));it(kt=>[...kt,...Ct]),gt(Ct)}},[]),vt=xt=>{if(xt.target.files&&xt.target.files.length>0){const Ct=Array.from(xt.target.files).map(kt=>({file:kt,status:"pending"}));it(kt=>[...kt,...Ct]),gt(Ct)}},gt=async xt=>{dt(!0);try{for(let Ct=0;Ct<xt.length;Ct++){ut(Ct);const kt=xt[Ct];it(St=>St.map(Ot=>Ot.file===kt.file?{...Ot,status:"processing"}:Ot));const Nt=new FormData;Nt.append("file",kt.file);try{const St=await fetch("/api/documents/analyze",{method:"POST",body:Nt,credentials:"include"});if(!St.ok)throw new Error(`Failed to analyze document: ${St.statusText}`);const Ot=await St.json();console.log("Document analysis result:",Ot),it(Pt=>Pt.map(wt=>wt.file===kt.file?{...wt,status:"completed",documentType:Ot.documentType,extractedData:Ot.extractedData}:wt)),bt(Ot.extractedData),console.log("Form data updated with extracted data")}catch(St){console.error("Error processing file:",St),it(Ot=>Ot.map(Pt=>Pt.file===kt.file?{...Pt,status:"error",error:St instanceof Error?St.message:"Unknown error"}:Pt))}}}finally{dt(!1),ut(-1)}},bt=xt=>{if(!xt)return;console.log("=== UPDATING FORM WITH EXTRACTED DATA ==="),console.log("Extracted data received:",xt);const Ct=wt=>!wt||wt==="null"||wt==="extracted_value_or_null"||String(wt).includes("_or_null")||wt==="YYYY-MM-DD_or_null"?"":String(wt),kt=wt=>!wt||wt==="null"||wt==="extracted_value_or_null"||String(wt).includes("_or_null")?"":String(wt),Nt=wt=>{if(!wt)return"";const Vt=String(wt).replace(/[%$,]/g,"").trim();return isNaN(Number(Vt))?"":Vt},St=wt=>wt&&String(wt).includes("%")?"percentage":"amount",Ot=wt=>{if(!wt)return"single_family";const Dt=wt.toLowerCase();return Dt.includes("single")||Dt.includes("family")?"single_family":Dt.includes("condo")?"condo":Dt.includes("town")?"townhouse":Dt.includes("multi")?"multi_family":Dt.includes("manufactured")?"manufactured":Dt.includes("commercial")?"commercial":Dt.includes("land")?"land":Dt.includes("mixed")?"mixed_use":"single_family"},Pt=wt=>{if(!wt)return"conventional";const Dt=wt.toLowerCase();return Dt.includes("conventional")||Dt.includes("fixed")?"conventional":Dt.includes("fha")?"fha":Dt.includes("va")?"va":Dt.includes("usda")?"usda":"conventional"};console.log("Loan term extraction from AI:",{loanTermMonths:xt.loanTermMonths,loanTerm:xt.loanTerm,termMonths:xt.termMonths,term:xt.term,raw:xt}),ft(wt=>({...wt,loanNumber:kt(xt.loanNumber)||wt.loanNumber,loanType:xt.loanType?Pt(xt.loanType):wt.loanType,originalAmount:Ct(xt.loanAmount||xt.originalAmount||xt.principal)||wt.originalAmount,principalBalance:Ct(xt.principalBalance||xt.currentBalance||xt.loanAmount||xt.originalAmount)||wt.principalBalance,interestRate:Ct(xt.interestRate)||wt.interestRate,rateType:kt(xt.rateType)||wt.rateType,loanTerm:Ct(xt.loanTermMonths||xt.loanTerm||xt.termMonths||xt.term)||wt.loanTerm,propertyType:xt.propertyType?Ot(xt.propertyType):wt.propertyType,propertyAddress:kt(xt.propertyStreetAddress||xt.propertyAddress||xt.address)||wt.propertyAddress,propertyCity:kt(xt.propertyCity||xt.city)||wt.propertyCity,propertyState:kt(xt.propertyState||xt.state)||wt.propertyState,propertyZip:kt(xt.propertyZipCode||xt.propertyZip||xt.zipCode)||wt.propertyZip,propertyValue:Ct(xt.propertyValue||xt.appraisedValue)||wt.propertyValue,borrowerName:kt(xt.borrowerName||xt.primaryBorrower)||wt.borrowerName,borrowerEmail:kt(xt.borrowerEmail)||wt.borrowerEmail,borrowerPhone:kt(xt.borrowerPhone)||wt.borrowerPhone,borrowerAddress:kt(xt.borrowerStreetAddress)||wt.borrowerAddress,borrowerCity:kt(xt.borrowerCity)||wt.borrowerCity,borrowerState:kt(xt.borrowerState)||wt.borrowerState,borrowerZip:kt(xt.borrowerZipCode)||wt.borrowerZip,creditScoreEquifax:Ct(xt.creditScoreEquifax)||wt.creditScoreEquifax,creditScoreExperian:Ct(xt.creditScoreExperian)||wt.creditScoreExperian,creditScoreTransunion:Ct(xt.creditScoreTransunion)||wt.creditScoreTransunion,coBorrowerName:kt(xt.coBorrowerName)||wt.coBorrowerName,coBorrowerCompanyName:kt(xt.coBorrowerCompanyName)||wt.coBorrowerCompanyName,coBorrowerEmail:kt(xt.coBorrowerEmail)||wt.coBorrowerEmail,coBorrowerPhone:kt(xt.coBorrowerPhone)||wt.coBorrowerPhone,coBorrowerAddress:kt(xt.coBorrowerStreetAddress)||wt.coBorrowerAddress,coBorrowerCity:kt(xt.coBorrowerCity)||wt.coBorrowerCity,coBorrowerState:kt(xt.coBorrowerState)||wt.coBorrowerState,coBorrowerZip:kt(xt.coBorrowerZipCode)||wt.coBorrowerZip,coBorrowerSSN:kt(xt.coBorrowerSSN)||wt.coBorrowerSSN,coBorrowerIncome:Ct(xt.coBorrowerIncome)||wt.coBorrowerIncome,coBorrowerCreditScoreEquifax:Ct(xt.coBorrowerCreditScoreEquifax)||wt.coBorrowerCreditScoreEquifax,coBorrowerCreditScoreExperian:Ct(xt.coBorrowerCreditScoreExperian)||wt.coBorrowerCreditScoreExperian,coBorrowerCreditScoreTransunion:Ct(xt.coBorrowerCreditScoreTransunion)||wt.coBorrowerCreditScoreTransunion,paymentAmount:Ct(xt.paymentAmount||xt.monthlyPayment)||wt.paymentAmount,escrowAmount:Ct(xt.escrowAmount)||wt.escrowAmount,firstPaymentDate:kt(xt.firstPaymentDate)&&!kt(xt.firstPaymentDate).includes("YYYY-MM-DD")?kt(xt.firstPaymentDate):wt.firstPaymentDate,nextPaymentDate:kt(xt.nextPaymentDate)&&!kt(xt.nextPaymentDate).includes("YYYY-MM-DD")?kt(xt.nextPaymentDate):wt.nextPaymentDate,maturityDate:kt(xt.maturityDate)&&!kt(xt.maturityDate).includes("YYYY-MM-DD")?kt(xt.maturityDate):wt.maturityDate,prepaymentExpirationDate:kt(xt.prepaymentExpirationDate)&&!kt(xt.prepaymentExpirationDate).includes("YYYY-MM-DD")?kt(xt.prepaymentExpirationDate):wt.prepaymentExpirationDate,hazardInsurance:Ct(xt.hazardInsurance||xt.insuranceAmount||xt.insurance)||wt.hazardInsurance,propertyTaxes:Ct(xt.propertyTaxes||xt.taxAmount||xt.taxes)||wt.propertyTaxes,hoaFees:Ct(xt.hoaFees)||wt.hoaFees,pmiAmount:Ct(xt.pmiAmount||xt.pmi)||wt.pmiAmount,servicingFee:Nt(xt.servicingFee)||wt.servicingFee,servicingFeeType:xt.servicingFee?St(xt.servicingFee):kt(xt.servicingFeeType)||wt.servicingFeeType||"amount",lateCharge:Nt(xt.lateCharge||xt.lateChargeAmount)||wt.lateCharge,lateChargeType:xt.lateCharge||xt.lateChargeAmount?St(xt.lateCharge||xt.lateChargeAmount):kt(xt.lateChargeType)||wt.lateChargeType||"percentage",feePayer:kt(xt.feePayer)||wt.feePayer,gracePeriodDays:Nt(xt.gracePeriodDays||xt.gracePeriod)||wt.gracePeriodDays,investorLoanNumber:kt(xt.investorLoanNumber)||wt.investorLoanNumber,poolNumber:kt(xt.poolNumber)||wt.poolNumber,borrowerSSN:kt(xt.borrowerSSN)||wt.borrowerSSN,borrowerIncome:Ct(xt.borrowerIncome)||wt.borrowerIncome,trusteeName:kt(xt.trusteeName)||wt.trusteeName,trusteeCompanyName:kt(xt.trusteeCompanyName)||wt.trusteeCompanyName,trusteePhone:kt(xt.trusteePhone)||wt.trusteePhone,trusteeEmail:kt(xt.trusteeEmail)||wt.trusteeEmail,trusteeStreetAddress:kt(xt.trusteeStreetAddress)||wt.trusteeStreetAddress,trusteeCity:kt(xt.trusteeCity)||wt.trusteeCity,trusteeState:kt(xt.trusteeState)||wt.trusteeState,trusteeZipCode:kt(xt.trusteeZipCode)||wt.trusteeZipCode,beneficiaryName:kt(xt.beneficiaryName)||wt.beneficiaryName,beneficiaryCompanyName:kt(xt.beneficiaryCompanyName)||wt.beneficiaryCompanyName,beneficiaryPhone:kt(xt.beneficiaryPhone)||wt.beneficiaryPhone,beneficiaryEmail:kt(xt.beneficiaryEmail)||wt.beneficiaryEmail,beneficiaryStreetAddress:kt(xt.beneficiaryStreetAddress)||wt.beneficiaryStreetAddress,beneficiaryCity:kt(xt.beneficiaryCity)||wt.beneficiaryCity,beneficiaryState:kt(xt.beneficiaryState)||wt.beneficiaryState,beneficiaryZipCode:kt(xt.beneficiaryZipCode)||wt.beneficiaryZipCode,escrowCompanyName:kt(xt.escrowCompanyName)||wt.escrowCompanyName,escrowCompanyPhone:kt(xt.escrowCompanyPhone)||wt.escrowCompanyPhone,escrowCompanyEmail:kt(xt.escrowCompanyEmail)||wt.escrowCompanyEmail,escrowCompanyStreetAddress:kt(xt.escrowCompanyStreetAddress)||wt.escrowCompanyStreetAddress,escrowCompanyCity:kt(xt.escrowCompanyCity)||wt.escrowCompanyCity,escrowCompanyState:kt(xt.escrowCompanyState)||wt.escrowCompanyState,escrowCompanyZipCode:kt(xt.escrowCompanyZipCode)||wt.escrowCompanyZipCode,loanDocuments:xt.loanDocuments||wt.loanDocuments,defaultConditions:xt.defaultConditions||wt.defaultConditions,insuranceRequirements:xt.insuranceRequirements||wt.insuranceRequirements,crossDefaultParties:xt.crossDefaultParties||wt.crossDefaultParties,closingCosts:Ct(xt.closingCosts)||wt.closingCosts,downPayment:Ct(xt.downPayment)||wt.downPayment})),et({title:"Data extracted",description:"Form fields have been updated with extracted information"})},mt=xt=>{it(Ct=>Ct.filter((kt,Nt)=>Nt!==xt))},Et=useMutation({mutationFn:async xt=>{var Ht,Bt,Ut,zt,Qt,sr,Kt,fr,dr,xr,ar;console.log("=== STARTING LOAN CREATION ==="),console.log("Full form data received:",xt);const Ct={propertyType:xt.propertyType,address:xt.propertyAddress,city:xt.propertyCity,state:xt.propertyState,zipCode:xt.propertyZip,value:xt.propertyValue||"0"};console.log("Property data to be created:",Ct),console.log("Sending property creation request...");const kt=await apiRequest("/api/properties",{method:"POST",body:JSON.stringify(Ct)});if(console.log("Property response status:",kt.status),!kt.ok){const rr=await kt.json();throw console.error("Property creation failed:",rr),new Error(rr.error||rr.message||"Failed to create property")}let Nt;try{Nt=await kt.json(),console.log("Property created successfully:",Nt),console.log("Property ID:",Nt.id)}catch(rr){throw console.error("Error parsing property response:",rr),console.error("Response status:",kt.status),console.error("Response text:",await kt.text()),new Error("Failed to parse property response")}let St=xt.paymentAmount;if(!St&&xt.originalAmount&&xt.interestRate&&xt.loanTerm){const rr=parseFloat(xt.originalAmount),Lt=parseFloat(xt.interestRate)/100/12,Zt=parseInt(xt.loanTerm);rr>0&&Lt>0&&Zt>0&&(St=rr*Lt*Math.pow(1+Lt,Zt)/(Math.pow(1+Lt,Zt)-1))}const Ot=rr=>{if(!rr||rr==="YYYY-MM-DD_or_null"||rr==="null"||rr==="extracted_value_or_null"||rr.includes("_or_null"))return new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0];const Lt=new Date(rr);return isNaN(Lt.getTime())?new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]:rr},Pt=rr=>!rr||rr==="extracted_value_or_null"||rr==="null"||rr.includes("_or_null")?"":rr,wt=parseInt(xt.loanTerm),Dt=isNaN(wt)?360:wt;console.log("Loan term processing:",{input:xt.loanTerm,parsed:wt,final:Dt});const Vt=new Date,It=new Date(Vt.setMonth(Vt.getMonth()+Dt)).toISOString().split("T")[0];if(console.log("=== PREPARING LOAN DATA ==="),!Nt||!Nt.id)throw console.error("Property object or ID is missing:",Nt),new Error("Property creation did not return a valid ID");const At={loanNumber:xt.loanNumber||`LN${Date.now()}`,loanType:xt.loanType,propertyId:Nt.id,originalAmount:xt.originalAmount.toString(),principalBalance:(xt.principalBalance||xt.originalAmount).toString(),interestRate:xt.interestRate.toString(),rateType:xt.rateType,loanTerm:Dt,paymentAmount:(St==null?void 0:St.toString())||"0",escrowAmount:((Ht=xt.escrowAmount)==null?void 0:Ht.toString())||"0",status:"active",maturityDate:Ot(xt.maturityDate)||It,firstPaymentDate:Ot(xt.firstPaymentDate),nextPaymentDate:Ot(xt.nextPaymentDate),prepaymentExpirationDate:xt.prepaymentExpirationDate?Ot(xt.prepaymentExpirationDate):null,lenderId:_e==null?void 0:_e.id,servicerId:_e==null?void 0:_e.id,borrowerName:Pt(xt.borrowerName)||null,borrowerEmail:Pt(xt.borrowerEmail)||null,borrowerPhone:Pt(xt.borrowerPhone)||null,borrowerAddress:Pt(xt.borrowerAddress)||null,borrowerCity:Pt(xt.borrowerCity)||null,borrowerState:Pt(xt.borrowerState)||null,borrowerZip:Pt(xt.borrowerZip)||null,borrowerCompanyName:Pt(xt.borrowerCompanyName)||null,borrowerSSN:Pt(xt.borrowerSSN)||null,borrowerIncome:((Bt=xt.borrowerIncome)==null?void 0:Bt.toString())||null,creditScoreEquifax:xt.creditScoreEquifax?parseInt(xt.creditScoreEquifax):null,creditScoreExperian:xt.creditScoreExperian?parseInt(xt.creditScoreExperian):null,creditScoreTransunion:xt.creditScoreTransunion?parseInt(xt.creditScoreTransunion):null,coBorrowerName:Pt(xt.coBorrowerName)||null,coBorrowerCompanyName:Pt(xt.coBorrowerCompanyName)||null,coBorrowerEmail:Pt(xt.coBorrowerEmail)||null,coBorrowerPhone:Pt(xt.coBorrowerPhone)||null,coBorrowerAddress:Pt(xt.coBorrowerAddress)||null,coBorrowerCity:Pt(xt.coBorrowerCity)||null,coBorrowerState:Pt(xt.coBorrowerState)||null,coBorrowerZip:Pt(xt.coBorrowerZip)||null,coBorrowerSSN:Pt(xt.coBorrowerSSN)||null,coBorrowerIncome:((Ut=xt.coBorrowerIncome)==null?void 0:Ut.toString())||null,coBorrowerCreditScoreEquifax:xt.coBorrowerCreditScoreEquifax?parseInt(xt.coBorrowerCreditScoreEquifax):null,coBorrowerCreditScoreExperian:xt.coBorrowerCreditScoreExperian?parseInt(xt.coBorrowerCreditScoreExperian):null,coBorrowerCreditScoreTransunion:xt.coBorrowerCreditScoreTransunion?parseInt(xt.coBorrowerCreditScoreTransunion):null,trusteeName:Pt(xt.trusteeName)||null,trusteeCompanyName:Pt(xt.trusteeCompanyName)||null,trusteePhone:Pt(xt.trusteePhone)||null,trusteeEmail:Pt(xt.trusteeEmail)||null,trusteeStreetAddress:Pt(xt.trusteeStreetAddress)||null,trusteeCity:Pt(xt.trusteeCity)||null,trusteeState:Pt(xt.trusteeState)||null,trusteeZipCode:Pt(xt.trusteeZipCode)||null,beneficiaryName:Pt(xt.beneficiaryName)||null,beneficiaryCompanyName:Pt(xt.beneficiaryCompanyName)||null,beneficiaryPhone:Pt(xt.beneficiaryPhone)||null,beneficiaryEmail:Pt(xt.beneficiaryEmail)||null,beneficiaryStreetAddress:Pt(xt.beneficiaryStreetAddress)||null,beneficiaryCity:Pt(xt.beneficiaryCity)||null,beneficiaryState:Pt(xt.beneficiaryState)||null,beneficiaryZipCode:Pt(xt.beneficiaryZipCode)||null,escrowCompanyName:Pt(xt.escrowCompanyName)||null,escrowCompanyPhone:Pt(xt.escrowCompanyPhone)||null,escrowCompanyEmail:Pt(xt.escrowCompanyEmail)||null,escrowCompanyStreetAddress:Pt(xt.escrowCompanyStreetAddress)||null,escrowCompanyCity:Pt(xt.escrowCompanyCity)||null,escrowCompanyState:Pt(xt.escrowCompanyState)||null,escrowCompanyZipCode:Pt(xt.escrowCompanyZipCode)||null,loanDocuments:xt.loanDocuments?JSON.stringify(xt.loanDocuments):null,defaultConditions:xt.defaultConditions?JSON.stringify(xt.defaultConditions):null,insuranceRequirements:xt.insuranceRequirements?JSON.stringify(xt.insuranceRequirements):null,crossDefaultParties:xt.crossDefaultParties?JSON.stringify(xt.crossDefaultParties):null,closingCosts:((zt=xt.closingCosts)==null?void 0:zt.toString())||null,downPayment:((Qt=xt.downPayment)==null?void 0:Qt.toString())||null,hazardInsurance:((sr=xt.hazardInsurance)==null?void 0:sr.toString())||"0",propertyTaxes:((Kt=xt.propertyTaxes)==null?void 0:Kt.toString())||"0",hoaFees:((fr=xt.hoaFees)==null?void 0:fr.toString())||"0",pmiAmount:((dr=xt.pmiAmount)==null?void 0:dr.toString())||"0",servicingFee:((xr=xt.servicingFee)==null?void 0:xr.toString())||"25",servicingFeeType:Pt(xt.servicingFeeType)||"percentage",lateCharge:((ar=xt.lateCharge)==null?void 0:ar.toString())||null,lateChargeType:Pt(xt.lateChargeType)||"percentage",feePayer:Pt(xt.feePayer)||null,gracePeriodDays:xt.gracePeriodDays?parseInt(xt.gracePeriodDays):null,investorLoanNumber:Pt(xt.investorLoanNumber)||null,poolNumber:Pt(xt.poolNumber)||null};console.log("=== LOAN DATA TO BE SENT ==="),console.log(JSON.stringify(At,null,2)),console.log("Sending loan creation request...");const $t=await apiRequest("/api/loans",{method:"POST",body:JSON.stringify(At)});if(console.log("Loan response status:",$t.status),!$t.ok){const rr=await $t.json();throw console.error("=== LOAN CREATION FAILED ==="),console.error("Error details:",rr),console.error("Error message:",rr.error||rr.message),new Error(rr.error||rr.message||"Failed to create loan")}const Mt=await $t.json();return console.log("=== LOAN CREATED SUCCESSFULLY ==="),console.log("Created loan:",Mt),Mt},onSuccess:async xt=>{if(st.length>0)try{for(const Ct of st)if(Ct.status==="completed"&&Ct.file){const kt=Ot=>{if(!Ot)return"other";const Pt=Ot.toLowerCase();return Pt.includes("application")?"loan_application":Pt.includes("agreement")||Pt.includes("contract")?"loan_agreement":Pt.includes("note")||Pt.includes("promissory")?"promissory_note":Pt.includes("deed")?"deed_of_trust":Pt.includes("mortgage")?"mortgage":Pt.includes("security")?"security_agreement":Pt.includes("ucc")?"ucc_filing":Pt.includes("assignment")?"assignment":Pt.includes("modification")?"modification":Pt.includes("insurance")?"insurance_policy":Pt.includes("tax")?"tax_document":Pt.includes("escrow")?"escrow_statement":Pt.includes("title")?"title_report":Pt.includes("appraisal")?"appraisal":Pt.includes("closing")?"closing_disclosure":Pt.includes("settlement")?"settlement_statement":"other"},Nt=new FormData;Nt.append("file",Ct.file),Nt.append("loanId",xt.id.toString()),Nt.append("category",kt(Ct.documentType||"")),Nt.append("description",`AI-analyzed: ${Ct.documentType||"Unknown document type"}`),Ct.extractedData&&Nt.append("notes",JSON.stringify({documentType:Ct.documentType,extractedData:Ct.extractedData,analyzedAt:new Date().toISOString()})),(await fetch("/api/documents/upload",{method:"POST",credentials:"include",body:Nt})).ok||console.error("Failed to save document:",Ct.file.name)}}catch(Ct){console.error("Error saving documents:",Ct)}et({title:"Success",description:"Loan created successfully with documents"}),tt.invalidateQueries({queryKey:["/api/loans"]}),tt.invalidateQueries({queryKey:["/api/loans/metrics"]}),Rt(),_(!1),$&&$(xt.id.toString())},onError:xt=>{console.error("=== LOAN CREATION ERROR ==="),console.error("Error object:",xt),console.error("Error message:",xt.message),console.error("Error stack:",xt.stack),et({title:"Error",description:xt.message||"Failed to create loan",variant:"destructive"})}}),Rt=()=>{ft({loanNumber:"",loanType:"conventional",originalAmount:"",principalBalance:"",interestRate:"",rateType:"fixed",loanTerm:"",propertyType:"single_family",propertyAddress:"",propertyCity:"",propertyState:"",propertyZip:"",propertyValue:"",borrowerName:"",borrowerEmail:"",borrowerPhone:"",borrowerAddress:"",borrowerCity:"",borrowerState:"",borrowerZip:"",borrowerCompanyName:"",borrowerSSN:"",borrowerIncome:"",creditScoreEquifax:"",creditScoreExperian:"",creditScoreTransunion:"",coBorrowerName:"",coBorrowerCompanyName:"",coBorrowerEmail:"",coBorrowerPhone:"",coBorrowerAddress:"",coBorrowerCity:"",coBorrowerState:"",coBorrowerZip:"",coBorrowerSSN:"",coBorrowerIncome:"",coBorrowerCreditScoreEquifax:"",coBorrowerCreditScoreExperian:"",coBorrowerCreditScoreTransunion:"",trusteeName:"",trusteeCompanyName:"",trusteePhone:"",trusteeEmail:"",trusteeStreetAddress:"",trusteeCity:"",trusteeState:"",trusteeZipCode:"",beneficiaryName:"",beneficiaryCompanyName:"",beneficiaryPhone:"",beneficiaryEmail:"",beneficiaryStreetAddress:"",beneficiaryCity:"",beneficiaryState:"",beneficiaryZipCode:"",escrowCompanyName:"",escrowCompanyPhone:"",escrowCompanyEmail:"",escrowCompanyStreetAddress:"",escrowCompanyCity:"",escrowCompanyState:"",escrowCompanyZipCode:"",paymentAmount:"",escrowAmount:"",firstPaymentDate:"",nextPaymentDate:"",maturityDate:"",prepaymentExpirationDate:"",hazardInsurance:"",propertyTaxes:"",hoaFees:"",pmiAmount:"",servicingFee:"25",loanDocuments:null,defaultConditions:null,insuranceRequirements:null,crossDefaultParties:null,closingCosts:"",downPayment:""}),it([])},Tt=xt=>{if(xt&&xt.preventDefault(),console.log("=== FORM SUBMISSION STARTED ==="),console.log("Form data at submission:",lt),console.log("Form data keys:",Object.keys(lt)),console.log("Form data values that are empty:",Object.entries(lt).filter(([Ct,kt])=>!kt).map(([Ct])=>Ct)),!lt.originalAmount||!lt.interestRate||!lt.loanTerm||!lt.propertyAddress||!lt.propertyCity||!lt.propertyState||!lt.propertyZip){et({title:"Missing required fields",description:"Please fill in all required fields before submitting",variant:"destructive"});return}Et.mutate(lt)},jt=(xt,Ct)=>{ft(kt=>({...kt,[xt]:Ct}))};return jsxRuntimeExports.jsx(Dialog,{open:j,onOpenChange:_,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] p-0",children:[jsxRuntimeExports.jsxs(DialogHeader,{className:"px-6 pt-6",children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create New Loan"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Drop loan documents to auto-fill the form with AI, or enter details manually"})]}),jsxRuntimeExports.jsxs(Tabs,{value:rt,onValueChange:nt,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"mx-6 grid w-auto grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"ai",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"AI Document Analysis"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"manual",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(PenTool,{className:"h-4 w-4"}),"Manual Entry"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 px-6 py-3 border-b",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:Tt,disabled:Et.isPending,children:Et.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]}),jsxRuntimeExports.jsxs(ScrollArea,{className:"h-[calc(90vh-250px)] px-6",children:[jsxRuntimeExports.jsxs(TabsContent,{value:"ai",className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:cn("border-2 border-dashed transition-colors",at?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"),onDragEnter:ht,onDragLeave:ht,onDragOver:ht,onDrop:yt,children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(CloudUpload,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium mb-2",children:"Drag and drop loan documents here"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"AI will analyze and extract all loan information automatically"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{var xt;return(xt=document.getElementById("file-input"))==null?void 0:xt.click()},children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),"Browse Files"]}),jsxRuntimeExports.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",onChange:vt,accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supported: PDF, Word, Images, Text files"})]})}),st.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Processing Documents"}),st.map((xt,Ct)=>jsxRuntimeExports.jsx(Card,{className:"p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[jsxRuntimeExports.jsx(File,{className:"h-5 w-5 text-gray-500"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium truncate",children:xt.file.name}),xt.documentType&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:xt.documentType})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[xt.status==="pending"&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Waiting..."}),xt.status==="processing"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-blue-500",children:"Analyzing..."})]}),xt.status==="completed"&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),xt.status==="error"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-red-500",children:xt.error})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>mt(Ct),disabled:xt.status==="processing",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]})]})},Ct)),ct&&jsxRuntimeExports.jsx(Progress,{value:(pt+1)/st.length*100,className:"h-2"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Tt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Loan Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanNumber",children:"Loan Number"}),jsxRuntimeExports.jsx(Input,{id:"loanNumber",value:lt.loanNumber,onChange:xt=>jt("loanNumber",xt.target.value),placeholder:"Auto-generated if empty"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanType",children:"Loan Type"}),jsxRuntimeExports.jsxs(Select,{value:lt.loanType,onValueChange:xt=>jt("loanType",xt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"conventional",children:"Conventional"}),jsxRuntimeExports.jsx(SelectItem,{value:"fha",children:"FHA"}),jsxRuntimeExports.jsx(SelectItem,{value:"va",children:"VA"}),jsxRuntimeExports.jsx(SelectItem,{value:"usda",children:"USDA"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"originalAmount",children:"Original Amount *"}),jsxRuntimeExports.jsx(Input,{id:"originalAmount",type:"number",value:lt.originalAmount,onChange:xt=>jt("originalAmount",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"interestRate",children:"Interest Rate (%) *"}),jsxRuntimeExports.jsx(Input,{id:"interestRate",type:"number",step:"0.001",value:lt.interestRate,onChange:xt=>jt("interestRate",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanTerm",children:"Term (Months) *"}),jsxRuntimeExports.jsx(Input,{id:"loanTerm",type:"number",value:lt.loanTerm,onChange:xt=>jt("loanTerm",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"paymentAmount",children:"Monthly Payment"}),jsxRuntimeExports.jsx(Input,{id:"paymentAmount",type:"number",value:lt.paymentAmount,onChange:xt=>jt("paymentAmount",xt.target.value),placeholder:"Auto-calculated if empty"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Property Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyType",children:"Property Type"}),jsxRuntimeExports.jsxs(Select,{value:lt.propertyType,onValueChange:xt=>jt("propertyType",xt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"single_family",children:"Single Family"}),jsxRuntimeExports.jsx(SelectItem,{value:"condo",children:"Condo"}),jsxRuntimeExports.jsx(SelectItem,{value:"townhouse",children:"Townhouse"}),jsxRuntimeExports.jsx(SelectItem,{value:"multi_family",children:"Multi-Family"}),jsxRuntimeExports.jsx(SelectItem,{value:"manufactured",children:"Manufactured"}),jsxRuntimeExports.jsx(SelectItem,{value:"commercial",children:"Commercial"}),jsxRuntimeExports.jsx(SelectItem,{value:"land",children:"Land"}),jsxRuntimeExports.jsx(SelectItem,{value:"mixed_use",children:"Mixed Use"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyValue",children:"Property Value"}),jsxRuntimeExports.jsx(Input,{id:"propertyValue",type:"number",value:lt.propertyValue,onChange:xt=>jt("propertyValue",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyAddress",children:"Property Address *"}),jsxRuntimeExports.jsx(Input,{id:"propertyAddress",value:lt.propertyAddress,onChange:xt=>jt("propertyAddress",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyCity",children:"City *"}),jsxRuntimeExports.jsx(Input,{id:"propertyCity",value:lt.propertyCity,onChange:xt=>jt("propertyCity",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyState",children:"State *"}),jsxRuntimeExports.jsx(Input,{id:"propertyState",value:lt.propertyState,onChange:xt=>jt("propertyState",xt.target.value),maxLength:2,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyZip",children:"ZIP Code *"}),jsxRuntimeExports.jsx(Input,{id:"propertyZip",value:lt.propertyZip,onChange:xt=>jt("propertyZip",xt.target.value),required:!0})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Borrower Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerName",children:"Borrower Name"}),jsxRuntimeExports.jsx(Input,{id:"borrowerName",value:lt.borrowerName,onChange:xt=>jt("borrowerName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerCompanyName",children:"Borrower Company/Trust"}),jsxRuntimeExports.jsx(Input,{id:"borrowerCompanyName",value:lt.borrowerCompanyName,onChange:xt=>jt("borrowerCompanyName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"borrowerEmail",type:"email",value:lt.borrowerEmail,onChange:xt=>jt("borrowerEmail",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"borrowerPhone",value:lt.borrowerPhone,onChange:xt=>jt("borrowerPhone",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerSSN",children:"SSN"}),jsxRuntimeExports.jsx(Input,{id:"borrowerSSN",value:lt.borrowerSSN,onChange:xt=>jt("borrowerSSN",xt.target.value),placeholder:"XXX-XX-XXXX"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerIncome",children:"Annual Income"}),jsxRuntimeExports.jsx(Input,{id:"borrowerIncome",type:"number",value:lt.borrowerIncome,onChange:xt=>jt("borrowerIncome",xt.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-medium mb-3 text-gray-700",children:"Credit Scores"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreEquifax",children:"Equifax Score"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreEquifax",type:"number",value:lt.creditScoreEquifax,onChange:xt=>jt("creditScoreEquifax",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreExperian",children:"Experian Score"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreExperian",type:"number",value:lt.creditScoreExperian,onChange:xt=>jt("creditScoreExperian",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreTransunion",children:"TransUnion Score"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreTransunion",type:"number",value:lt.creditScoreTransunion,onChange:xt=>jt("creditScoreTransunion",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-medium mb-3 text-gray-700",children:"Borrower Mailing Address (if different from property)"})}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"borrowerAddress",value:lt.borrowerAddress,onChange:xt=>jt("borrowerAddress",xt.target.value),placeholder:"Leave blank if same as property address"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"borrowerCity",value:lt.borrowerCity,onChange:xt=>jt("borrowerCity",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"borrowerState",value:lt.borrowerState,onChange:xt=>jt("borrowerState",xt.target.value),maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerZip",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"borrowerZip",value:lt.borrowerZip,onChange:xt=>jt("borrowerZip",xt.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Co-Borrower Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerName",children:"Co-Borrower Name"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerName",value:lt.coBorrowerName,onChange:xt=>jt("coBorrowerName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCompanyName",children:"Co-Borrower Company/Trust"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCompanyName",value:lt.coBorrowerCompanyName,onChange:xt=>jt("coBorrowerCompanyName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerEmail",type:"email",value:lt.coBorrowerEmail,onChange:xt=>jt("coBorrowerEmail",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerPhone",value:lt.coBorrowerPhone,onChange:xt=>jt("coBorrowerPhone",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerSSN",children:"SSN"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerSSN",value:lt.coBorrowerSSN,onChange:xt=>jt("coBorrowerSSN",xt.target.value),placeholder:"XXX-XX-XXXX"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerIncome",children:"Annual Income"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerIncome",type:"number",value:lt.coBorrowerIncome,onChange:xt=>jt("coBorrowerIncome",xt.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-medium mb-3 text-gray-700",children:"Co-Borrower Credit Scores"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreEquifax",children:"Equifax Score"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreEquifax",type:"number",value:lt.coBorrowerCreditScoreEquifax,onChange:xt=>jt("coBorrowerCreditScoreEquifax",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreExperian",children:"Experian Score"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreExperian",type:"number",value:lt.coBorrowerCreditScoreExperian,onChange:xt=>jt("coBorrowerCreditScoreExperian",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreTransunion",children:"TransUnion Score"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreTransunion",type:"number",value:lt.coBorrowerCreditScoreTransunion,onChange:xt=>jt("coBorrowerCreditScoreTransunion",xt.target.value),placeholder:"300-850"})]}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-medium mb-3 text-gray-700",children:"Co-Borrower Mailing Address"})}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerAddress",value:lt.coBorrowerAddress,onChange:xt=>jt("coBorrowerAddress",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCity",value:lt.coBorrowerCity,onChange:xt=>jt("coBorrowerCity",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerState",value:lt.coBorrowerState,onChange:xt=>jt("coBorrowerState",xt.target.value),maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerZip",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerZip",value:lt.coBorrowerZip,onChange:xt=>jt("coBorrowerZip",xt.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Trustee Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeName",children:"Trustee Name"}),jsxRuntimeExports.jsx(Input,{id:"trusteeName",value:lt.trusteeName,onChange:xt=>jt("trusteeName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeCompanyName",children:"Trustee Company"}),jsxRuntimeExports.jsx(Input,{id:"trusteeCompanyName",value:lt.trusteeCompanyName,onChange:xt=>jt("trusteeCompanyName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteePhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"trusteePhone",value:lt.trusteePhone,onChange:xt=>jt("trusteePhone",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"trusteeEmail",type:"email",value:lt.trusteeEmail,onChange:xt=>jt("trusteeEmail",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"trusteeStreetAddress",value:lt.trusteeStreetAddress,onChange:xt=>jt("trusteeStreetAddress",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"trusteeCity",value:lt.trusteeCity,onChange:xt=>jt("trusteeCity",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"trusteeState",value:lt.trusteeState,onChange:xt=>jt("trusteeState",xt.target.value),maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeZipCode",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"trusteeZipCode",value:lt.trusteeZipCode,onChange:xt=>jt("trusteeZipCode",xt.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Beneficiary Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryName",children:"Beneficiary Name"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryName",value:lt.beneficiaryName,onChange:xt=>jt("beneficiaryName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryCompanyName",children:"Beneficiary Company"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryCompanyName",value:lt.beneficiaryCompanyName,onChange:xt=>jt("beneficiaryCompanyName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryPhone",value:lt.beneficiaryPhone,onChange:xt=>jt("beneficiaryPhone",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryEmail",type:"email",value:lt.beneficiaryEmail,onChange:xt=>jt("beneficiaryEmail",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryStreetAddress",value:lt.beneficiaryStreetAddress,onChange:xt=>jt("beneficiaryStreetAddress",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryCity",value:lt.beneficiaryCity,onChange:xt=>jt("beneficiaryCity",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryState",value:lt.beneficiaryState,onChange:xt=>jt("beneficiaryState",xt.target.value),maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryZipCode",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryZipCode",value:lt.beneficiaryZipCode,onChange:xt=>jt("beneficiaryZipCode",xt.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Escrow Company Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyName",children:"Escrow Company Name"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyName",value:lt.escrowCompanyName,onChange:xt=>jt("escrowCompanyName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyPhone",value:lt.escrowCompanyPhone,onChange:xt=>jt("escrowCompanyPhone",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyEmail",type:"email",value:lt.escrowCompanyEmail,onChange:xt=>jt("escrowCompanyEmail",xt.target.value)})]}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyStreetAddress",value:lt.escrowCompanyStreetAddress,onChange:xt=>jt("escrowCompanyStreetAddress",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyCity",value:lt.escrowCompanyCity,onChange:xt=>jt("escrowCompanyCity",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyState",value:lt.escrowCompanyState,onChange:xt=>jt("escrowCompanyState",xt.target.value),maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyZipCode",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyZipCode",value:lt.escrowCompanyZipCode,onChange:xt=>jt("escrowCompanyZipCode",xt.target.value)})]})]})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"manual",className:"space-y-4",children:jsxRuntimeExports.jsxs("form",{onSubmit:Tt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Loan Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanNumber-manual",children:"Loan Number"}),jsxRuntimeExports.jsx(Input,{id:"loanNumber-manual",value:lt.loanNumber,onChange:xt=>jt("loanNumber",xt.target.value),placeholder:"Auto-generated if empty"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanType-manual",children:"Loan Type"}),jsxRuntimeExports.jsxs(Select,{value:lt.loanType,onValueChange:xt=>jt("loanType",xt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"conventional",children:"Conventional"}),jsxRuntimeExports.jsx(SelectItem,{value:"fha",children:"FHA"}),jsxRuntimeExports.jsx(SelectItem,{value:"va",children:"VA"}),jsxRuntimeExports.jsx(SelectItem,{value:"usda",children:"USDA"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"originalAmount-manual",children:"Original Amount"}),jsxRuntimeExports.jsx(Input,{id:"originalAmount-manual",type:"number",value:lt.originalAmount,onChange:xt=>jt("originalAmount",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"interestRate-manual",children:"Interest Rate (%)"}),jsxRuntimeExports.jsx(Input,{id:"interestRate-manual",type:"number",step:"0.001",value:lt.interestRate,onChange:xt=>jt("interestRate",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanTerm-manual",children:"Term (Months)"}),jsxRuntimeExports.jsx(Input,{id:"loanTerm-manual",type:"number",value:lt.loanTerm,onChange:xt=>jt("loanTerm",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"paymentAmount-manual",children:"Monthly Payment"}),jsxRuntimeExports.jsx(Input,{id:"paymentAmount-manual",type:"number",value:lt.paymentAmount,onChange:xt=>jt("paymentAmount",xt.target.value),placeholder:"Auto-calculated if empty"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Property Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyAddress-manual",children:"Property Address"}),jsxRuntimeExports.jsx(Input,{id:"propertyAddress-manual",value:lt.propertyAddress,onChange:xt=>jt("propertyAddress",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyCity-manual",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"propertyCity-manual",value:lt.propertyCity,onChange:xt=>jt("propertyCity",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyState-manual",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"propertyState-manual",value:lt.propertyState,onChange:xt=>jt("propertyState",xt.target.value),maxLength:2,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyZip-manual",children:"ZIP Code"}),jsxRuntimeExports.jsx(Input,{id:"propertyZip-manual",value:lt.propertyZip,onChange:xt=>jt("propertyZip",xt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyValue-manual",children:"Property Value"}),jsxRuntimeExports.jsx(Input,{id:"propertyValue-manual",type:"number",value:lt.propertyValue,onChange:xt=>jt("propertyValue",xt.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Borrower Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerName-manual",children:"Borrower Name"}),jsxRuntimeExports.jsx(Input,{id:"borrowerName-manual",value:lt.borrowerName,onChange:xt=>jt("borrowerName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerName-manual",children:"Co-Borrower Name"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerName-manual",value:lt.coBorrowerName,onChange:xt=>jt("coBorrowerName",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerEmail-manual",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"borrowerEmail-manual",type:"email",value:lt.borrowerEmail,onChange:xt=>jt("borrowerEmail",xt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerPhone-manual",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"borrowerPhone-manual",value:lt.borrowerPhone,onChange:xt=>jt("borrowerPhone",xt.target.value)})]})]})]})]})})]})]})]})})}function Dashboard(){const[j,_]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Loan Portfolio Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Manage and monitor your mortgage loan servicing operations"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"icon",className:"relative",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>_(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"New Loan"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx(MetricsCards,{}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(RecentActivity,{})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsx(PortfolioOverview,{})})]})]})]}),jsxRuntimeExports.jsx(EnhancedNewLoanDialog,{open:j,onOpenChange:_,onLoanCreated:$=>{_(!1),console.log("Loan created with ID:",$)}})]})}var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProvider,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME),Checkbox$1=reactExports.forwardRef((j,_)=>{const{__scopeCheckbox:$,name:_e,checked:et,defaultChecked:tt,required:rt,disabled:nt,value:st="on",onCheckedChange:it,form:at,...ot}=j,[ct,dt]=reactExports.useState(null),pt=useComposedRefs(_,vt=>dt(vt)),ut=reactExports.useRef(!1),lt=ct?at||!!ct.closest("form"):!0,[ft=!1,ht]=useControllableState({prop:et,defaultProp:tt,onChange:it}),yt=reactExports.useRef(ft);return reactExports.useEffect(()=>{const vt=ct==null?void 0:ct.form;if(vt){const gt=()=>ht(yt.current);return vt.addEventListener("reset",gt),()=>vt.removeEventListener("reset",gt)}},[ct,ht]),jsxRuntimeExports.jsxs(CheckboxProvider,{scope:$,state:ft,disabled:nt,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(ft)?"mixed":ft,"aria-required":rt,"data-state":getState$3(ft),"data-disabled":nt?"":void 0,disabled:nt,value:st,...ot,ref:pt,onKeyDown:composeEventHandlers(j.onKeyDown,vt=>{vt.key==="Enter"&&vt.preventDefault()}),onClick:composeEventHandlers(j.onClick,vt=>{ht(gt=>isIndeterminate(gt)?!0:!gt),lt&&(ut.current=vt.isPropagationStopped(),ut.current||vt.stopPropagation())})}),lt&&jsxRuntimeExports.jsx(BubbleInput$2,{control:ct,bubbles:!ut.current,name:_e,value:st,checked:ft,required:rt,disabled:nt,form:at,style:{transform:"translateX(-100%)"},defaultChecked:isIndeterminate(tt)?!1:tt})]})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((j,_)=>{const{__scopeCheckbox:$,forceMount:_e,...et}=j,tt=useCheckboxContext(INDICATOR_NAME$1,$);return jsxRuntimeExports.jsx(Presence,{present:_e||isIndeterminate(tt.state)||tt.state===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$3(tt.state),"data-disabled":tt.disabled?"":void 0,...et,ref:_,style:{pointerEvents:"none",...j.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BubbleInput$2=j=>{const{control:_,checked:$,bubbles:_e=!0,defaultChecked:et,...tt}=j,rt=reactExports.useRef(null),nt=usePrevious($),st=useSize(_);reactExports.useEffect(()=>{const at=rt.current,ot=window.HTMLInputElement.prototype,dt=Object.getOwnPropertyDescriptor(ot,"checked").set;if(nt!==$&&dt){const pt=new Event("click",{bubbles:_e});at.indeterminate=isIndeterminate($),dt.call(at,isIndeterminate($)?!1:$),at.dispatchEvent(pt)}},[nt,$,_e]);const it=reactExports.useRef(isIndeterminate($)?!1:$);return jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:et??it.current,...tt,tabIndex:-1,ref:rt,style:{...j.style,...st,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function isIndeterminate(j){return j==="indeterminate"}function getState$3(j){return isIndeterminate(j)?"indeterminate":j?"checked":"unchecked"}var Root$3=Checkbox$1,Indicator$1=CheckboxIndicator;const Checkbox=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Root$3,{ref:$,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",j),..._,children:jsxRuntimeExports.jsx(Indicator$1,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Root$3.displayName;function LoanTable({onEditLoan:j,onViewLoan:_,onDeleteLoan:$}){reactExports.useState("");const[_e,et]=reactExports.useState("all"),[tt,rt]=reactExports.useState(0),[nt,st]=reactExports.useState(new Set),[it,at]=reactExports.useState(new Set),[ot,ct]=reactExports.useState(new Set),[dt,pt]=reactExports.useState("loanNumber"),[ut,lt]=reactExports.useState("asc"),ft=50,{toast:ht}=useToast(),{data:yt,isLoading:vt}=useQuery({queryKey:["/api/loans",{limit:ft,offset:tt*ft,status:_e==="all"?void 0:_e}]}),gt=useMutation({mutationFn:async wt=>{if(!(await fetch(`/api/loans/${wt}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete loan")},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/loans"]}),ht({title:"Loans deleted",description:`Successfully deleted ${ot.size} loan(s)`}),ct(new Set)},onError:wt=>{ht({title:"Error",description:"Failed to delete loans. Please try again.",variant:"destructive"})}}),bt=wt=>{const Dt=typeof wt=="string"?parseFloat(wt):wt;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Dt)},mt=wt=>{if(!wt)return"";const Dt=new Date(wt);return`${(Dt.getMonth()+1).toString().padStart(2,"0")}/${Dt.getDate().toString().padStart(2,"0")}/${Dt.getFullYear()}`},Et=wt=>{const Dt=new Set(nt);Dt.has(wt)?Dt.delete(wt):Dt.add(wt),st(Dt)},Rt=wt=>{const Dt=new Set(it);Dt.has(wt)?Dt.delete(wt):Dt.add(wt),at(Dt)},Tt=wt=>{const Dt=new Set(ot);Dt.has(wt)?Dt.delete(wt):Dt.add(wt),ct(Dt)},jt=wt=>{if(ot.size===wt.length&&wt.length>0)ct(new Set);else{const Dt=wt.map(Vt=>Vt.id);ct(new Set(Dt))}},xt=async()=>{if(ot.size!==0&&confirm(`Are you sure you want to delete ${ot.size} loan(s)?`)){const wt=Array.from(ot);for(const Dt of wt)await gt.mutateAsync(Dt)}},Ct=()=>{console.log("Email selected loans:",Array.from(ot))},kt=()=>{console.log("Process selected loans:",Array.from(ot))},Nt=yt&&Array.isArray(yt)?yt.reduce((wt,Dt)=>(wt.principal+=parseFloat(Dt.principalBalance||0),wt.payment+=parseFloat(Dt.paymentAmount||0),wt.count+=1,wt),{principal:0,payment:0,count:0}):{principal:0,payment:0,count:0};if(vt)return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((wt,Dt)=>jsxRuntimeExports.jsx("div",{className:"h-16 bg-slate-200 rounded"},Dt))})})});const St=wt=>{dt===wt?lt(ut==="asc"?"desc":"asc"):(pt(wt),lt("asc"))},Pt=Array.isArray(yt)?[...yt].sort((wt,Dt)=>{let Vt=wt,It=Dt;if(dt==="borrowerName")Vt=wt.borrowerName||"",It=Dt.borrowerName||"";else if(dt.includes(".")){const At=dt.split(".");Vt=At.reduce(($t,Mt)=>$t==null?void 0:$t[Mt],wt),It=At.reduce(($t,Mt)=>$t==null?void 0:$t[Mt],Dt)}else Vt=wt[dt],It=Dt[dt];return typeof Vt=="string"&&typeof It=="string"?ut==="asc"?Vt.localeCompare(It):It.localeCompare(Vt):Vt<It?ut==="asc"?-1:1:Vt>It?ut==="asc"?1:-1:0}):[];return jsxRuntimeExports.jsxs("div",{className:"w-full bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"All Loans"}),ot.size>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:xt,className:"h-8 w-8",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Delete selected loans"})})]})}),jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:Ct,className:"h-8 w-8",children:jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Email selected loans"})})]})}),jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:kt,className:"h-8 w-8",children:jsxRuntimeExports.jsx(Zap,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Process selected loans"})})]})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[ot.size," loan",ot.size!==1?"s":""," selected"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 border-y border-gray-300",children:[jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-2 py-2 text-xs font-medium text-gray-700 text-center",children:jsxRuntimeExports.jsx(Checkbox,{checked:ot.size===Pt.length&&Pt.length>0,onCheckedChange:()=>jt(Pt)})}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-2 py-2 text-xs font-medium text-gray-700 text-center",children:"ACH"}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-2 py-2 text-xs font-medium text-gray-700 text-center",children:"HOLD"}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-left",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("loanNumber"),className:"flex items-center hover:text-gray-900",children:["ACCOUNT",dt==="loanNumber"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1"}))]})}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-left",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("borrowerName"),className:"flex items-center hover:text-gray-900",children:["BORROWER NAME",dt==="borrowerName"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1"}))]})}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("interestPaidTo"),className:"hover:text-gray-900",children:["INTEREST PAID TO",dt==="interestPaidTo"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1 inline"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1 inline"}))]})}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("nextPaymentDate"),className:"hover:text-gray-900",children:["PAYMENT DUE DATE",dt==="nextPaymentDate"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1 inline"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1 inline"}))]})}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-center",children:"PAYMENT FREQUENCY"}),jsxRuntimeExports.jsx("th",{className:"border-r border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-right",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("paymentAmount"),className:"hover:text-gray-900",children:["REGULAR PAYMENT",dt==="paymentAmount"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1 inline"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1 inline"}))]})}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-xs font-medium text-gray-700 text-right",children:jsxRuntimeExports.jsxs("button",{onClick:()=>St("principalBalance"),className:"hover:text-gray-900",children:["APPLY TO P & I",dt==="principalBalance"&&(ut==="asc"?jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1 inline"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1 inline"}))]})})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white",children:Pt.length>0?Pt.map((wt,Dt)=>{const Vt=wt.borrowerName||"";return jsxRuntimeExports.jsxs("tr",{className:`border-b border-gray-200 ${Dt%2===0?"bg-blue-50":"bg-white"}`,children:[jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:jsxRuntimeExports.jsx(Checkbox,{checked:ot.has(wt.id),onCheckedChange:()=>Tt(wt.id)})}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:jsxRuntimeExports.jsx(Checkbox,{checked:nt.has(wt.id),onCheckedChange:()=>Et(wt.id)})}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:jsxRuntimeExports.jsx(Checkbox,{checked:it.has(wt.id),onCheckedChange:()=>Rt(wt.id)})}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm",children:jsxRuntimeExports.jsx("button",{onClick:()=>j==null?void 0:j(wt.id.toString()),className:"text-blue-600 hover:underline",children:wt.loanNumber})}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm",children:Vt}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm text-center",children:mt(wt.interestPaidTo)}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm text-center",children:mt(wt.nextPaymentDate)}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm text-center",children:wt.paymentFrequency||"Monthly"}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-200 px-3 py-2 text-sm text-right",children:bt(wt.paymentAmount)}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm text-right",children:bt(wt.principalBalance)})]},wt.id)}):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-500",children:"No loans found"})})}),Pt.length>0&&jsxRuntimeExports.jsx("tfoot",{className:"bg-gray-100 border-t-2 border-gray-400",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{colSpan:4,className:"border-r border-gray-300 px-3 py-2 text-sm font-semibold",children:[Nt.count," loans"]}),jsxRuntimeExports.jsx("td",{colSpan:4,className:"border-r border-gray-300"}),jsxRuntimeExports.jsx("td",{className:"border-r border-gray-300 px-3 py-2 text-sm font-semibold text-right",children:bt(Nt.payment)}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm font-semibold text-right",children:bt(Nt.principal)})]})})]})})]})}const Textarea=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",j),ref:$,..._}));Textarea.displayName="Textarea";var NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((j,_)=>{const{decorative:$,orientation:_e=DEFAULT_ORIENTATION,...et}=j,tt=isValidOrientation(_e)?_e:DEFAULT_ORIENTATION,nt=$?{role:"none"}:{"aria-orientation":tt==="vertical"?tt:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":tt,...nt,...et,ref:_})});Separator$1.displayName=NAME;function isValidOrientation(j){return ORIENTATIONS.includes(j)}var Root$2=Separator$1;const Separator=reactExports.forwardRef(({className:j,orientation:_="horizontal",decorative:$=!0,..._e},et)=>jsxRuntimeExports.jsx(Root$2,{ref:et,decorative:$,orientation:_,className:cn("shrink-0 bg-border",_==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",j),..._e}));Separator.displayName=Root$2.displayName;const Table$1=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:$,className:cn("w-full caption-bottom text-sm",j),..._})}));Table$1.displayName="Table";const TableHeader=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("thead",{ref:$,className:cn("[&_tr]:border-b",j),..._}));TableHeader.displayName="TableHeader";const TableBody=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("tbody",{ref:$,className:cn("[&_tr:last-child]:border-0",j),..._}));TableBody.displayName="TableBody";const TableFooter=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("tfoot",{ref:$,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",j),..._}));TableFooter.displayName="TableFooter";const TableRow=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("tr",{ref:$,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",j),..._}));TableRow.displayName="TableRow";const TableHead=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("th",{ref:$,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",j),..._}));TableHead.displayName="TableHead";const TableCell=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("td",{ref:$,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",j),..._}));TableCell.displayName="TableCell";const TableCaption=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("caption",{ref:$,className:cn("mt-4 text-sm text-muted-foreground",j),..._}));TableCaption.displayName="TableCaption";function DocumentUploader({loanId:j,onUploadComplete:_,standalone:$=!1}){const[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState(j),it=reactExports.useRef(null),at=reactExports.useRef(j),{toast:ot}=useToast();reactExports.useEffect(()=>{at.current=nt},[nt]);const{data:ct}=useQuery({queryKey:["/api/loans"],enabled:!j&&$});reactExports.useEffect(()=>{Array.isArray(ct)&&ct.length>0&&!j&&$&&(nt||(console.log("Auto-selecting first loan:",ct[0].id),st(ct[0].id)))},[ct]);const dt=useMutation({mutationFn:async({file:Et,loanId:Rt})=>{const Tt=new FormData;Tt.append("file",Et),Tt.append("loanId",Rt.toString()),Tt.append("category","other"),Tt.append("description",`Uploaded ${Et.name}`);const jt=await fetch("/api/documents/upload",{method:"POST",credentials:"include",body:Tt});if(!jt.ok)throw new Error("Upload failed");return jt.json()},onSuccess:(Et,Rt)=>{rt(Tt=>Tt.map(jt=>jt.file===Rt.file?{...jt,status:"success",documentId:Et.id}:jt)),queryClient.invalidateQueries({queryKey:["/api/documents"]}),ot({title:"Document uploaded",description:`${Rt.file.name} has been uploaded successfully.`})},onError:(Et,Rt)=>{rt(Tt=>Tt.map(jt=>jt.file===Rt.file?{...jt,status:"error",error:Et.message}:jt)),ot({title:"Upload failed",description:Et.message,variant:"destructive"})}}),pt=reactExports.useCallback(Et=>{Et.preventDefault(),Et.stopPropagation(),et(!0)},[]),ut=reactExports.useCallback(Et=>{Et.preventDefault(),Et.stopPropagation(),Et.currentTarget===Et.target&&et(!1)},[]),lt=reactExports.useCallback(Et=>{Et.preventDefault(),Et.stopPropagation()},[]),ft=reactExports.useCallback(Et=>{Et.preventDefault(),Et.stopPropagation(),et(!1);const Rt=Array.from(Et.dataTransfer.files);yt(Rt)},[]),ht=Et=>{if(Et.target.files){const Rt=Array.from(Et.target.files);yt(Rt)}},yt=Et=>{const Rt=at.current||j;if(console.log("handleFiles called with:",{selectedLoanId:at.current,propLoanId:j,loanIdToUse:Rt,standalone:$,filesCount:Et.length}),!Rt&&$){ot({title:"Select a loan",description:"Please select a loan to attach the documents to.",variant:"destructive"});return}const Tt=Et.map(jt=>({file:jt,progress:0,status:"pending"}));rt(jt=>[...jt,...Tt]),Tt.forEach(jt=>{vt(jt.file)})},vt=async Et=>{const Rt=at.current||j;if(console.log("uploadDocument called with:",{selectedLoanIdRef:at.current,propLoanId:j,loanIdToUse:Rt,fileName:Et.name}),!Rt){console.error("No loan ID available for upload");return}rt(Tt=>Tt.map(jt=>jt.file===Et?{...jt,status:"uploading",progress:50}:jt)),dt.mutate({file:Et,loanId:Rt})},gt=Et=>{rt(Rt=>Rt.filter(Tt=>Tt.file!==Et))},bt=Et=>{const Rt=Et.type.toLowerCase();return Rt.includes("image")?jsxRuntimeExports.jsx(FileImage,{className:"h-5 w-5"}):Rt.includes("video")?jsxRuntimeExports.jsx(FileVideo,{className:"h-5 w-5"}):Rt.includes("audio")?jsxRuntimeExports.jsx(FileAudio,{className:"h-5 w-5"}):Rt.includes("pdf")?jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-red-500"}):jsxRuntimeExports.jsx(File,{className:"h-5 w-5"})},mt=Et=>{if(Et===0)return"0 Bytes";const Rt=1024,Tt=["Bytes","KB","MB","GB"],jt=Math.floor(Math.log(Et)/Math.log(Rt));return Math.round(Et/Math.pow(Rt,jt)*100)/100+" "+Tt[jt]};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[$&&!j&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Select Loan"}),jsxRuntimeExports.jsxs(Select,{value:nt==null?void 0:nt.toString(),onValueChange:Et=>{console.log("Loan selected:",Et),st(parseInt(Et))},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose a loan to attach documents"})}),jsxRuntimeExports.jsx(SelectContent,{children:Array.isArray(ct)&&ct.map(Et=>{var Rt;return console.log("Loan in dropdown:",Et),jsxRuntimeExports.jsxs(SelectItem,{value:Et.id.toString(),children:[Et.loanNumber," - ",((Rt=Et.borrower)==null?void 0:Rt.name)||Et.borrowerName||"ALEX MARANTO"]},Et.id)})})]})]}),jsxRuntimeExports.jsx(Card,{className:`border-2 border-dashed transition-colors ${_e?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:pt,onDragLeave:ut,onDragOver:lt,onDrop:ft,children:jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium mb-2",children:"Drag and drop documents here"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse from your computer"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{var Et;return(Et=it.current)==null?void 0:Et.click()},children:"Select Files"}),jsxRuntimeExports.jsx("input",{ref:it,type:"file",multiple:!0,className:"hidden",onChange:ht,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.gif,.txt,.csv"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, Images, TXT, CSV"})]})}),tt.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Uploaded Files"}),tt.map((Et,Rt)=>jsxRuntimeExports.jsx(Card,{className:"p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[bt(Et.file),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium truncate",children:Et.file.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:mt(Et.file.size)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[Et.status==="pending"&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Waiting..."}),Et.status==="uploading"&&jsxRuntimeExports.jsx("div",{className:"w-24",children:jsxRuntimeExports.jsx(Progress,{value:Et.progress,className:"h-2"})}),Et.status==="success"&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),Et.status==="error"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-red-500",children:Et.error})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>gt(Et.file),disabled:Et.status==="uploading",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]})]})},Rt))]}),$&&tt.some(Et=>Et.status==="success")&&jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:_,children:"Complete Upload"})})]})}function commonjsRequire(j){throw new Error('Could not dynamically require "'+j+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_,$){module.exports=_.pdfjsLib=$()})(globalThis,()=>(()=>{var __webpack_modules__=[,(j,_)=>{var Wr;Object.defineProperty(_,"__esModule",{value:!0}),_.VerbosityLevel=_.Util=_.UnknownErrorException=_.UnexpectedResponseException=_.TextRenderingMode=_.RenderingIntentFlag=_.PromiseCapability=_.PermissionFlag=_.PasswordResponses=_.PasswordException=_.PageActionEventType=_.OPS=_.MissingPDFException=_.MAX_IMAGE_SIZE_TO_CACHE=_.LINE_FACTOR=_.LINE_DESCENT_FACTOR=_.InvalidPDFException=_.ImageKind=_.IDENTITY_MATRIX=_.FormatError=_.FeatureTest=_.FONT_IDENTITY_MATRIX=_.DocumentActionEventType=_.CMapCompressionType=_.BaseException=_.BASELINE_FACTOR=_.AnnotationType=_.AnnotationReplyType=_.AnnotationPrefix=_.AnnotationMode=_.AnnotationFlag=_.AnnotationFieldFlag=_.AnnotationEditorType=_.AnnotationEditorPrefix=_.AnnotationEditorParamsType=_.AnnotationBorderStyleType=_.AnnotationActionEventType=_.AbortException=void 0,_.assert=wt,_.bytesToString=sr,_.createValidAbsoluteUrl=Vt,_.getModificationDate=cr,_.getUuid=Dr,_.getVerbosityLevel=Nt,_.info=St,_.isArrayBuffer=Yt,_.isArrayEqual=hr,_.isNodeJS=void 0,_.normalizeUnicode=Sr,_.objectFromMap=xr,_.objectSize=dr,_.setVerbosityLevel=kt,_.shadow=It,_.string32=fr,_.stringToBytes=Kt,_.stringToPDFString=Ft,_.stringToUTF8String=Gt,_.unreachable=Pt,_.utf8StringToString=Jt,_.warn=Ot;const $=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_.isNodeJS=$;const _e=[1,0,0,1,0,0];_.IDENTITY_MATRIX=_e;const et=[.001,0,0,.001,0,0];_.FONT_IDENTITY_MATRIX=et;const tt=1e7;_.MAX_IMAGE_SIZE_TO_CACHE=tt;const rt=1.35;_.LINE_FACTOR=rt;const nt=.35;_.LINE_DESCENT_FACTOR=nt;const st=nt/rt;_.BASELINE_FACTOR=st;const it={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_.RenderingIntentFlag=it;const at={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_.AnnotationMode=at;const ot="pdfjs_internal_editor_";_.AnnotationEditorPrefix=ot;const ct={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_.AnnotationEditorType=ct;const dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_.AnnotationEditorParamsType=dt;const pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_.PermissionFlag=pt;const ut={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_.TextRenderingMode=ut;const lt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_.ImageKind=lt;const ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_.AnnotationType=ft;const ht={GROUP:"Group",REPLY:"R"};_.AnnotationReplyType=ht;const yt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_.AnnotationFlag=yt;const vt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_.AnnotationFieldFlag=vt;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_.AnnotationBorderStyleType=gt;const bt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_.AnnotationActionEventType=bt;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_.DocumentActionEventType=mt;const Et={O:"PageOpen",C:"PageClose"};_.PageActionEventType=Et;const Rt={ERRORS:0,WARNINGS:1,INFOS:5};_.VerbosityLevel=Rt;const Tt={NONE:0,BINARY:1};_.CMapCompressionType=Tt;const jt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_.OPS=jt;const xt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_.PasswordResponses=xt;let Ct=Rt.WARNINGS;function kt(vr){Number.isInteger(vr)&&(Ct=vr)}function Nt(){return Ct}function St(vr){Ct>=Rt.INFOS&&console.log(`Info: ${vr}`)}function Ot(vr){Ct>=Rt.WARNINGS&&console.log(`Warning: ${vr}`)}function Pt(vr){throw new Error(vr)}function wt(vr,ur){vr||Pt(ur)}function Dt(vr){switch(vr==null?void 0:vr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Vt(vr,ur=null,pr=null){if(!vr)return null;try{if(pr&&typeof vr=="string"){if(pr.addDefaultProtocol&&vr.startsWith("www.")){const Hr=vr.match(/\./g);(Hr==null?void 0:Hr.length)>=2&&(vr=`http://${vr}`)}if(pr.tryConvertEncoding)try{vr=Gt(vr)}catch{}}const Cr=ur?new URL(vr,ur):new URL(vr);if(Dt(Cr))return Cr}catch{}return null}function It(vr,ur,pr,Cr=!1){return Object.defineProperty(vr,ur,{value:pr,enumerable:!Cr,configurable:!0,writable:!1}),pr}const At=function(){function ur(pr,Cr){this.constructor===ur&&Pt("Cannot initialize BaseException."),this.message=pr,this.name=Cr}return ur.prototype=new Error,ur.constructor=ur,ur}();_.BaseException=At;class $t extends At{constructor(ur,pr){super(ur,"PasswordException"),this.code=pr}}_.PasswordException=$t;class Mt extends At{constructor(ur,pr){super(ur,"UnknownErrorException"),this.details=pr}}_.UnknownErrorException=Mt;class Ht extends At{constructor(ur){super(ur,"InvalidPDFException")}}_.InvalidPDFException=Ht;class Bt extends At{constructor(ur){super(ur,"MissingPDFException")}}_.MissingPDFException=Bt;class Ut extends At{constructor(ur,pr){super(ur,"UnexpectedResponseException"),this.status=pr}}_.UnexpectedResponseException=Ut;class zt extends At{constructor(ur){super(ur,"FormatError")}}_.FormatError=zt;class Qt extends At{constructor(ur){super(ur,"AbortException")}}_.AbortException=Qt;function sr(vr){(typeof vr!="object"||(vr==null?void 0:vr.length)===void 0)&&Pt("Invalid argument for bytesToString");const ur=vr.length,pr=8192;if(ur<pr)return String.fromCharCode.apply(null,vr);const Cr=[];for(let Hr=0;Hr<ur;Hr+=pr){const Vr=Math.min(Hr+pr,ur),Xt=vr.subarray(Hr,Vr);Cr.push(String.fromCharCode.apply(null,Xt))}return Cr.join("")}function Kt(vr){typeof vr!="string"&&Pt("Invalid argument for stringToBytes");const ur=vr.length,pr=new Uint8Array(ur);for(let Cr=0;Cr<ur;++Cr)pr[Cr]=vr.charCodeAt(Cr)&255;return pr}function fr(vr){return String.fromCharCode(vr>>24&255,vr>>16&255,vr>>8&255,vr&255)}function dr(vr){return Object.keys(vr).length}function xr(vr){const ur=Object.create(null);for(const[pr,Cr]of vr)ur[pr]=Cr;return ur}function ar(){const vr=new Uint8Array(4);return vr[0]=1,new Uint32Array(vr.buffer,0,1)[0]===1}function rr(){try{return new Function(""),!0}catch{return!1}}class Lt{static get isLittleEndian(){return It(this,"isLittleEndian",ar())}static get isEvalSupported(){return It(this,"isEvalSupported",rr())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?It(this,"platform",{isWin:!1,isMac:!1}):It(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ur,pr;return It(this,"isCSSRoundSupported",(pr=(ur=globalThis.CSS)==null?void 0:ur.supports)==null?void 0:pr.call(ur,"width: round(1.5px, 1px)"))}}_.FeatureTest=Lt;const Zt=[...Array(256).keys()].map(vr=>vr.toString(16).padStart(2,"0"));class or{static makeHexColor(ur,pr,Cr){return`#${Zt[ur]}${Zt[pr]}${Zt[Cr]}`}static scaleMinMax(ur,pr){let Cr;ur[0]?(ur[0]<0&&(Cr=pr[0],pr[0]=pr[1],pr[1]=Cr),pr[0]*=ur[0],pr[1]*=ur[0],ur[3]<0&&(Cr=pr[2],pr[2]=pr[3],pr[3]=Cr),pr[2]*=ur[3],pr[3]*=ur[3]):(Cr=pr[0],pr[0]=pr[2],pr[2]=Cr,Cr=pr[1],pr[1]=pr[3],pr[3]=Cr,ur[1]<0&&(Cr=pr[2],pr[2]=pr[3],pr[3]=Cr),pr[2]*=ur[1],pr[3]*=ur[1],ur[2]<0&&(Cr=pr[0],pr[0]=pr[1],pr[1]=Cr),pr[0]*=ur[2],pr[1]*=ur[2]),pr[0]+=ur[4],pr[1]+=ur[4],pr[2]+=ur[5],pr[3]+=ur[5]}static transform(ur,pr){return[ur[0]*pr[0]+ur[2]*pr[1],ur[1]*pr[0]+ur[3]*pr[1],ur[0]*pr[2]+ur[2]*pr[3],ur[1]*pr[2]+ur[3]*pr[3],ur[0]*pr[4]+ur[2]*pr[5]+ur[4],ur[1]*pr[4]+ur[3]*pr[5]+ur[5]]}static applyTransform(ur,pr){const Cr=ur[0]*pr[0]+ur[1]*pr[2]+pr[4],Hr=ur[0]*pr[1]+ur[1]*pr[3]+pr[5];return[Cr,Hr]}static applyInverseTransform(ur,pr){const Cr=pr[0]*pr[3]-pr[1]*pr[2],Hr=(ur[0]*pr[3]-ur[1]*pr[2]+pr[2]*pr[5]-pr[4]*pr[3])/Cr,Vr=(-ur[0]*pr[1]+ur[1]*pr[0]+pr[4]*pr[1]-pr[5]*pr[0])/Cr;return[Hr,Vr]}static getAxialAlignedBoundingBox(ur,pr){const Cr=this.applyTransform(ur,pr),Hr=this.applyTransform(ur.slice(2,4),pr),Vr=this.applyTransform([ur[0],ur[3]],pr),Xt=this.applyTransform([ur[2],ur[1]],pr);return[Math.min(Cr[0],Hr[0],Vr[0],Xt[0]),Math.min(Cr[1],Hr[1],Vr[1],Xt[1]),Math.max(Cr[0],Hr[0],Vr[0],Xt[0]),Math.max(Cr[1],Hr[1],Vr[1],Xt[1])]}static inverseTransform(ur){const pr=ur[0]*ur[3]-ur[1]*ur[2];return[ur[3]/pr,-ur[1]/pr,-ur[2]/pr,ur[0]/pr,(ur[2]*ur[5]-ur[4]*ur[3])/pr,(ur[4]*ur[1]-ur[5]*ur[0])/pr]}static singularValueDecompose2dScale(ur){const pr=[ur[0],ur[2],ur[1],ur[3]],Cr=ur[0]*pr[0]+ur[1]*pr[2],Hr=ur[0]*pr[1]+ur[1]*pr[3],Vr=ur[2]*pr[0]+ur[3]*pr[2],Xt=ur[2]*pr[1]+ur[3]*pr[3],yr=(Cr+Xt)/2,_r=Math.sqrt((Cr+Xt)**2-4*(Cr*Xt-Vr*Hr))/2,$r=yr+_r||1,Ir=yr-_r||1;return[Math.sqrt($r),Math.sqrt(Ir)]}static normalizeRect(ur){const pr=ur.slice(0);return ur[0]>ur[2]&&(pr[0]=ur[2],pr[2]=ur[0]),ur[1]>ur[3]&&(pr[1]=ur[3],pr[3]=ur[1]),pr}static intersect(ur,pr){const Cr=Math.max(Math.min(ur[0],ur[2]),Math.min(pr[0],pr[2])),Hr=Math.min(Math.max(ur[0],ur[2]),Math.max(pr[0],pr[2]));if(Cr>Hr)return null;const Vr=Math.max(Math.min(ur[1],ur[3]),Math.min(pr[1],pr[3])),Xt=Math.min(Math.max(ur[1],ur[3]),Math.max(pr[1],pr[3]));return Vr>Xt?null:[Cr,Vr,Hr,Xt]}static bezierBoundingBox(ur,pr,Cr,Hr,Vr,Xt,yr,_r){const $r=[],Ir=[[],[]];let Ar,qt,Wt,ir,mr,gr,br,Er;for(let Lr=0;Lr<2;++Lr){if(Lr===0?(qt=6*ur-12*Cr+6*Vr,Ar=-3*ur+9*Cr-9*Vr+3*yr,Wt=3*Cr-3*ur):(qt=6*pr-12*Hr+6*Xt,Ar=-3*pr+9*Hr-9*Xt+3*_r,Wt=3*Hr-3*pr),Math.abs(Ar)<1e-12){if(Math.abs(qt)<1e-12)continue;ir=-Wt/qt,0<ir&&ir<1&&$r.push(ir);continue}br=qt*qt-4*Wt*Ar,Er=Math.sqrt(br),!(br<0)&&(mr=(-qt+Er)/(2*Ar),0<mr&&mr<1&&$r.push(mr),gr=(-qt-Er)/(2*Ar),0<gr&&gr<1&&$r.push(gr))}let Nr=$r.length,Tr;const wr=Nr;for(;Nr--;)ir=$r[Nr],Tr=1-ir,Ir[0][Nr]=Tr*Tr*Tr*ur+3*Tr*Tr*ir*Cr+3*Tr*ir*ir*Vr+ir*ir*ir*yr,Ir[1][Nr]=Tr*Tr*Tr*pr+3*Tr*Tr*ir*Hr+3*Tr*ir*ir*Xt+ir*ir*ir*_r;return Ir[0][wr]=ur,Ir[1][wr]=pr,Ir[0][wr+1]=yr,Ir[1][wr+1]=_r,Ir[0].length=Ir[1].length=wr+2,[Math.min(...Ir[0]),Math.min(...Ir[1]),Math.max(...Ir[0]),Math.max(...Ir[1])]}}_.Util=or;const lr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ft(vr){if(vr[0]>="ï"){let pr;if(vr[0]==="þ"&&vr[1]==="ÿ"?pr="utf-16be":vr[0]==="ÿ"&&vr[1]==="þ"?pr="utf-16le":vr[0]==="ï"&&vr[1]==="»"&&vr[2]==="¿"&&(pr="utf-8"),pr)try{const Cr=new TextDecoder(pr,{fatal:!0}),Hr=Kt(vr);return Cr.decode(Hr)}catch(Cr){Ot(`stringToPDFString: "${Cr}".`)}}const ur=[];for(let pr=0,Cr=vr.length;pr<Cr;pr++){const Hr=lr[vr.charCodeAt(pr)];ur.push(Hr?String.fromCharCode(Hr):vr.charAt(pr))}return ur.join("")}function Gt(vr){return decodeURIComponent(escape(vr))}function Jt(vr){return unescape(encodeURIComponent(vr))}function Yt(vr){return typeof vr=="object"&&(vr==null?void 0:vr.byteLength)!==void 0}function hr(vr,ur){if(vr.length!==ur.length)return!1;for(let pr=0,Cr=vr.length;pr<Cr;pr++)if(vr[pr]!==ur[pr])return!1;return!0}function cr(vr=new Date){return[vr.getUTCFullYear().toString(),(vr.getUTCMonth()+1).toString().padStart(2,"0"),vr.getUTCDate().toString().padStart(2,"0"),vr.getUTCHours().toString().padStart(2,"0"),vr.getUTCMinutes().toString().padStart(2,"0"),vr.getUTCSeconds().toString().padStart(2,"0")].join("")}class jr{constructor(){nr(this,Wr,!1);this.promise=new Promise((ur,pr)=>{this.resolve=Cr=>{tr(this,Wr,!0),ur(Cr)},this.reject=Cr=>{tr(this,Wr,!0),pr(Cr)}})}get settled(){return _t(this,Wr)}}Wr=new WeakMap,_.PromiseCapability=jr;let Rr=null,Mr=null;function Sr(vr){return Rr||(Rr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Mr=new Map([["ﬅ","ſt"]])),vr.replaceAll(Rr,(ur,pr,Cr)=>pr?pr.normalize("NFKC"):Mr.get(Cr))}function Dr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const vr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(vr);else for(let ur=0;ur<32;ur++)vr[ur]=Math.floor(Math.random()*255);return sr(vr)}const Br="pdfjs_internal_id_";_.AnnotationPrefix=Br},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var j,$,_e,et,Un,ys,nt,st,it,at,ot,ct,dt,pt,ut,vs,ft,ht,Us,vt,gt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(mt){if(typeof mt=="string"||mt instanceof URL?mt={url:mt}:(0,_util.isArrayBuffer)(mt)&&(mt={data:mt}),typeof mt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!mt.url&&!mt.data&&!mt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Et=new PDFDocumentLoadingTask,{docId:Rt}=Et,Tt=mt.url?getUrlProp(mt.url):null,jt=mt.data?getDataProp(mt.data):null,xt=mt.httpHeaders||null,Ct=mt.withCredentials===!0,kt=mt.password??null,Nt=mt.range instanceof PDFDataRangeTransport?mt.range:null,St=Number.isInteger(mt.rangeChunkSize)&&mt.rangeChunkSize>0?mt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ot=mt.worker instanceof PDFWorker?mt.worker:null;const Pt=mt.verbosity,wt=typeof mt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(mt.docBaseUrl)?mt.docBaseUrl:null,Dt=typeof mt.cMapUrl=="string"?mt.cMapUrl:null,Vt=mt.cMapPacked!==!1,It=mt.CMapReaderFactory||DefaultCMapReaderFactory,At=typeof mt.standardFontDataUrl=="string"?mt.standardFontDataUrl:null,$t=mt.StandardFontDataFactory||DefaultStandardFontDataFactory,Mt=mt.stopAtErrors!==!0,Ht=Number.isInteger(mt.maxImageSize)&&mt.maxImageSize>-1?mt.maxImageSize:-1,Bt=mt.isEvalSupported!==!1,Ut=typeof mt.isOffscreenCanvasSupported=="boolean"?mt.isOffscreenCanvasSupported:!_util.isNodeJS,zt=Number.isInteger(mt.canvasMaxAreaInBytes)?mt.canvasMaxAreaInBytes:-1,Qt=typeof mt.disableFontFace=="boolean"?mt.disableFontFace:_util.isNodeJS,sr=mt.fontExtraProperties===!0,Kt=mt.enableXfa===!0,fr=mt.ownerDocument||globalThis.document,dr=mt.disableRange===!0,xr=mt.disableStream===!0,ar=mt.disableAutoFetch===!0,rr=mt.pdfBug===!0,Lt=Nt?Nt.length:mt.length??NaN,Zt=typeof mt.useSystemFonts=="boolean"?mt.useSystemFonts:!_util.isNodeJS&&!Qt,or=typeof mt.useWorkerFetch=="boolean"?mt.useWorkerFetch:It===_display_utils.DOMCMapReaderFactory&&$t===_display_utils.DOMStandardFontDataFactory&&Dt&&At&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI),lr=mt.canvasFactory||new DefaultCanvasFactory({ownerDocument:fr}),Ft=mt.filterFactory||new DefaultFilterFactory({docId:Rt,ownerDocument:fr}),Gt=null;(0,_util.setVerbosityLevel)(Pt);const Jt={canvasFactory:lr,filterFactory:Ft};if(or||(Jt.cMapReaderFactory=new It({baseUrl:Dt,isCompressed:Vt}),Jt.standardFontDataFactory=new $t({baseUrl:At})),!Ot){const cr={verbosity:Pt,port:_worker_options.GlobalWorkerOptions.workerPort};Ot=cr.port?PDFWorker.fromPort(cr):new PDFWorker(cr),Et._worker=Ot}const Yt={docId:Rt,apiVersion:"3.11.174",data:jt,password:kt,disableAutoFetch:ar,rangeChunkSize:St,length:Lt,docBaseUrl:wt,enableXfa:Kt,evaluatorOptions:{maxImageSize:Ht,disableFontFace:Qt,ignoreErrors:Mt,isEvalSupported:Bt,isOffscreenCanvasSupported:Ut,canvasMaxAreaInBytes:zt,fontExtraProperties:sr,useSystemFonts:Zt,cMapUrl:or?Dt:null,standardFontDataUrl:or?At:null}},hr={ignoreErrors:Mt,isEvalSupported:Bt,disableFontFace:Qt,fontExtraProperties:sr,enableXfa:Kt,ownerDocument:fr,disableAutoFetch:ar,pdfBug:rr,styleElement:Gt};return Ot.promise.then(function(){if(Et.destroyed)throw new Error("Loading aborted");const cr=_fetchDocument(Ot,Yt),jr=new Promise(function(Rr){let Mr;Nt?Mr=new _transport_stream.PDFDataTransportStream({length:Lt,initialData:Nt.initialData,progressiveDone:Nt.progressiveDone,contentDispositionFilename:Nt.contentDispositionFilename,disableRange:dr,disableStream:xr},Nt):jt||(Mr=(Dr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Dr):(0,_display_utils.isValidFetchUrl)(Dr.url)?new _displayFetch_stream.PDFFetchStream(Dr):new _displayNetwork.PDFNetworkStream(Dr))({url:Tt,length:Lt,httpHeaders:xt,withCredentials:Ct,rangeChunkSize:St,disableRange:dr,disableStream:xr})),Rr(Mr)});return Promise.all([cr,jr]).then(function([Rr,Mr]){if(Et.destroyed)throw new Error("Loading aborted");const Sr=new _message_handler.MessageHandler(Rt,Rr,Ot.port),Dr=new WorkerTransport(Sr,Et,Mr,hr,Jt);Et._transport=Dr,Sr.send("Ready",null)})}).catch(Et._capability.reject),Et}async function _fetchDocument(mt,Et){if(mt.destroyed)throw new Error("Worker was destroyed");const Rt=await mt.messageHandler.sendWithPromise("GetDocRequest",Et,Et.data?[Et.data.buffer]:null);if(mt.destroyed)throw new Error("Worker was destroyed");return Rt}function getUrlProp(mt){if(mt instanceof URL)return mt.href;try{return new URL(mt,window.location).href}catch{if(_util.isNodeJS&&typeof mt=="string")return mt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(mt){if(_util.isNodeJS&&typeof Buffer<"u"&&mt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(mt instanceof Uint8Array&&mt.byteLength===mt.buffer.byteLength)return mt;if(typeof mt=="string")return(0,_util.stringToBytes)(mt);if(typeof mt=="object"&&!isNaN(mt==null?void 0:mt.length)||(0,_util.isArrayBuffer)(mt))return new Uint8Array(mt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _=class _{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${jn(_,j)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Et,Rt,Tt;this.destroyed=!0;try{(Et=this._worker)!=null&&Et.port&&(this._worker._pendingDestroy=!0),await((Rt=this._transport)==null?void 0:Rt.destroy())}catch(jt){throw(Tt=this._worker)!=null&&Tt.port&&delete this._worker._pendingDestroy,jt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};j=new WeakMap,nr(_,j,0);let PDFDocumentLoadingTask=_;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Et,Rt,Tt=!1,jt=null){this.length=Et,this.initialData=Rt,this.progressiveDone=Tt,this.contentDispositionFilename=jt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Et){this._rangeListeners.push(Et)}addProgressListener(Et){this._progressListeners.push(Et)}addProgressiveReadListener(Et){this._progressiveReadListeners.push(Et)}addProgressiveDoneListener(Et){this._progressiveDoneListeners.push(Et)}onDataRange(Et,Rt){for(const Tt of this._rangeListeners)Tt(Et,Rt)}onDataProgress(Et,Rt){this._readyCapability.promise.then(()=>{for(const Tt of this._progressListeners)Tt(Et,Rt)})}onDataProgressiveRead(Et){this._readyCapability.promise.then(()=>{for(const Rt of this._progressiveReadListeners)Rt(Et)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Et of this._progressiveDoneListeners)Et()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Et,Rt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Et,Rt){this._pdfInfo=Et,this._transport=Rt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Tt=>{if(!Tt)return Tt;const jt=[];for(const xt in Tt)jt.push(...Tt[xt]);return jt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Et){return this._transport.getPage(Et)}getPageIndex(Et){return this._transport.getPageIndex(Et)}getDestinations(){return this._transport.getDestinations()}getDestination(Et){return this._transport.getDestination(Et)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Et=!1){return this._transport.startCleanup(Et||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Et,Rt,Tt,jt=!1){nr(this,et);nr(this,$,null);nr(this,_e,!1);this._pageIndex=Et,this._pageInfo=Rt,this._transport=Tt,this._stats=jt?new _display_utils.StatTimer:null,this._pdfBug=jt,this.commonObjs=Tt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Et,rotation:Rt=this.rotate,offsetX:Tt=0,offsetY:jt=0,dontFlip:xt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Et,rotation:Rt,offsetX:Tt,offsetY:jt,dontFlip:xt})}getAnnotations({intent:Et="display"}={}){const Rt=this._transport.getRenderingIntent(Et);return this._transport.getAnnotations(this._pageIndex,Rt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Et;return((Et=this._transport._htmlForXfa)==null?void 0:Et.children[this._pageIndex])||null}render({canvasContext:Et,viewport:Rt,intent:Tt="display",annotationMode:jt=_util.AnnotationMode.ENABLE,transform:xt=null,background:Ct=null,optionalContentConfigPromise:kt=null,annotationCanvasMap:Nt=null,pageColors:St=null,printAnnotationStorage:Ot=null}){var $t,Mt;($t=this._stats)==null||$t.time("Overall");const Pt=this._transport.getRenderingIntent(Tt,jt,Ot);tr(this,_e,!1),er(this,et,ys).call(this),kt||(kt=this._transport.getOptionalContentConfig());let wt=this._intentStates.get(Pt.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(Pt.cacheKey,wt)),wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null);const Dt=!!(Pt.renderingIntent&_util.RenderingIntentFlag.PRINT);wt.displayReadyCapability||(wt.displayReadyCapability=new _util.PromiseCapability,wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(Pt));const Vt=Ht=>{var Bt,Ut;wt.renderTasks.delete(It),(this._maybeCleanupAfterRender||Dt)&&tr(this,_e,!0),er(this,et,Un).call(this,!Dt),Ht?(It.capability.reject(Ht),this._abortOperatorList({intentState:wt,reason:Ht instanceof Error?Ht:new Error(Ht)})):It.capability.resolve(),(Bt=this._stats)==null||Bt.timeEnd("Rendering"),(Ut=this._stats)==null||Ut.timeEnd("Overall")},It=new InternalRenderTask({callback:Vt,params:{canvasContext:Et,viewport:Rt,transform:xt,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Nt,operatorList:wt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:St});(wt.renderTasks||(wt.renderTasks=new Set)).add(It);const At=It.task;return Promise.all([wt.displayReadyCapability.promise,kt]).then(([Ht,Bt])=>{var Ut;if(this.destroyed){Vt();return}(Ut=this._stats)==null||Ut.time("Rendering"),It.initializeGraphics({transparency:Ht,optionalContentConfig:Bt}),It.operatorListChanged()}).catch(Vt),At}getOperatorList({intent:Et="display",annotationMode:Rt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Tt=null}={}){var Nt;function jt(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(kt))}const xt=this._transport.getRenderingIntent(Et,Rt,Tt,!0);let Ct=this._intentStates.get(xt.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(xt.cacheKey,Ct));let kt;return Ct.opListReadCapability||(kt=Object.create(null),kt.operatorListChanged=jt,Ct.opListReadCapability=new _util.PromiseCapability,(Ct.renderTasks||(Ct.renderTasks=new Set)).add(kt),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Nt=this._stats)==null||Nt.time("Page Request"),this._pumpOperatorList(xt)),Ct.opListReadCapability.promise}streamTextContent({includeMarkedContent:Et=!1,disableNormalization:Rt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Et===!0,disableNormalization:Rt===!0},{highWaterMark:100,size(jt){return jt.items.length}})}getTextContent(Et={}){if(this._transport._htmlForXfa)return this.getXfa().then(Tt=>_xfa_text.XfaText.textContent(Tt));const Rt=this.streamTextContent(Et);return new Promise(function(Tt,jt){function xt(){Ct.read().then(function({value:Nt,done:St}){if(St){Tt(kt);return}Object.assign(kt.styles,Nt.styles),kt.items.push(...Nt.items),xt()},jt)}const Ct=Rt.getReader(),kt={items:[],styles:Object.create(null)};xt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Et=[];for(const Rt of this._intentStates.values())if(this._abortOperatorList({intentState:Rt,reason:new Error("Page was destroyed."),force:!0}),!Rt.opListReadCapability)for(const Tt of Rt.renderTasks)Et.push(Tt.completed),Tt.cancel();return this.objs.clear(),tr(this,_e,!1),er(this,et,ys).call(this),Promise.all(Et)}cleanup(Et=!1){tr(this,_e,!0);const Rt=er(this,et,Un).call(this,!1);return Et&&Rt&&this._stats&&(this._stats=new _display_utils.StatTimer),Rt}_startRenderPage(Et,Rt){var jt,xt;const Tt=this._intentStates.get(Rt);Tt&&((jt=this._stats)==null||jt.timeEnd("Page Request"),(xt=Tt.displayReadyCapability)==null||xt.resolve(Et))}_renderPageChunk(Et,Rt){for(let Tt=0,jt=Et.length;Tt<jt;Tt++)Rt.operatorList.fnArray.push(Et.fnArray[Tt]),Rt.operatorList.argsArray.push(Et.argsArray[Tt]);Rt.operatorList.lastChunk=Et.lastChunk,Rt.operatorList.separateAnnots=Et.separateAnnots;for(const Tt of Rt.renderTasks)Tt.operatorListChanged();Et.lastChunk&&er(this,et,Un).call(this,!0)}_pumpOperatorList({renderingIntent:Et,cacheKey:Rt,annotationStorageSerializable:Tt}){const{map:jt,transfers:xt}=Tt,kt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Et,cacheKey:Rt,annotationStorage:jt},xt).getReader(),Nt=this._intentStates.get(Rt);Nt.streamReader=kt;const St=()=>{kt.read().then(({value:Ot,done:Pt})=>{if(Pt){Nt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ot,Nt),St())},Ot=>{if(Nt.streamReader=null,!this._transport.destroyed){if(Nt.operatorList){Nt.operatorList.lastChunk=!0;for(const Pt of Nt.renderTasks)Pt.operatorListChanged();er(this,et,Un).call(this,!0)}if(Nt.displayReadyCapability)Nt.displayReadyCapability.reject(Ot);else if(Nt.opListReadCapability)Nt.opListReadCapability.reject(Ot);else throw Ot}})};St()}_abortOperatorList({intentState:Et,reason:Rt,force:Tt=!1}){if(Et.streamReader){if(Et.streamReaderCancelTimeout&&(clearTimeout(Et.streamReaderCancelTimeout),Et.streamReaderCancelTimeout=null),!Tt){if(Et.renderTasks.size>0)return;if(Rt instanceof _display_utils.RenderingCancelledException){let jt=RENDERING_CANCELLED_TIMEOUT;Rt.extraDelay>0&&Rt.extraDelay<1e3&&(jt+=Rt.extraDelay),Et.streamReaderCancelTimeout=setTimeout(()=>{Et.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Et,reason:Rt,force:!0})},jt);return}}if(Et.streamReader.cancel(new _util.AbortException(Rt.message)).catch(()=>{}),Et.streamReader=null,!this._transport.destroyed){for(const[jt,xt]of this._intentStates)if(xt===Et){this._intentStates.delete(jt);break}this.cleanup()}}}get stats(){return this._stats}}$=new WeakMap,_e=new WeakMap,et=new WeakSet,Un=function(Et=!1){if(er(this,et,ys).call(this),!_t(this,_e)||this.destroyed)return!1;if(Et)return tr(this,$,setTimeout(()=>{tr(this,$,null),er(this,et,Un).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Rt,operatorList:Tt}of this._intentStates.values())if(Rt.size>0||!Tt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),tr(this,_e,!1),!0},ys=function(){_t(this,$)&&(clearTimeout(_t(this,$)),tr(this,$,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){nr(this,nt,new Set);nr(this,st,Promise.resolve())}postMessage(Et,Rt){const Tt={data:structuredClone(Et,Rt?{transfer:Rt}:null)};_t(this,st).then(()=>{for(const jt of _t(this,nt))jt.call(this,Tt)})}addEventListener(Et,Rt){_t(this,nt).add(Rt)}removeEventListener(Et,Rt){_t(this,nt).delete(Rt)}terminate(){_t(this,nt).clear()}}nt=new WeakMap,st=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const mt=(it=document==null?void 0:document.currentScript)==null?void 0:it.src;mt&&(PDFWorkerUtil.fallbackWorkerSrc=mt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(mt,Et){let Rt;try{if(Rt=new URL(mt),!Rt.origin||Rt.origin==="null")return!1}catch{return!1}const Tt=new URL(Et,Rt);return Rt.origin===Tt.origin},PDFWorkerUtil.createCDNWrapper=function(mt){const Et=`importScripts("${mt}");`;return URL.createObjectURL(new Blob([Et]))}}const _PDFWorker=class _PDFWorker{constructor({name:mt=null,port:Et=null,verbosity:Rt=(0,_util.getVerbosityLevel)()}={}){var Tt;if(this.name=mt,this.destroyed=!1,this.verbosity=Rt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Et){if((Tt=_t(_PDFWorker,at))!=null&&Tt.has(Et))throw new Error("Cannot use more than one PDFWorker per port.");(_t(_PDFWorker,at)||tr(_PDFWorker,at,new WeakMap)).set(Et,this),this._initializeFromPort(Et);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(mt){this._port=mt,this._messageHandler=new _message_handler.MessageHandler("main","worker",mt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:mt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,mt)||(mt=PDFWorkerUtil.createCDNWrapper(new URL(mt,window.location).href));const Et=new Worker(mt),Rt=new _message_handler.MessageHandler("main","worker",Et),Tt=()=>{Et.removeEventListener("error",jt),Rt.destroy(),Et.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},jt=()=>{this._webWorker||Tt()};Et.addEventListener("error",jt),Rt.on("test",Ct=>{if(Et.removeEventListener("error",jt),this.destroyed){Tt();return}Ct?(this._messageHandler=Rt,this._port=Et,this._webWorker=Et,this._readyCapability.resolve(),Rt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Rt.destroy(),Et.terminate())}),Rt.on("ready",Ct=>{if(Et.removeEventListener("error",jt),this.destroyed){Tt();return}try{xt()}catch{this._setupFakeWorker()}});const xt=()=>{const Ct=new Uint8Array;Rt.send("test",Ct,[Ct.buffer])};xt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(mt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Et=new LoopbackPort;this._port=Et;const Rt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Tt=new _message_handler.MessageHandler(Rt+"_worker",Rt,Et);mt.setup(Tt,Et);const jt=new _message_handler.MessageHandler(Rt,Rt+"_worker",Et);this._messageHandler=jt,this._readyCapability.resolve(),jt.send("configure",{verbosity:this.verbosity})}).catch(mt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${mt.message}".`))})}destroy(){var mt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(mt=_t(_PDFWorker,at))==null||mt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(mt){var Rt;if(!(mt!=null&&mt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Et=(Rt=_t(this,at))==null?void 0:Rt.get(mt.port);if(Et){if(Et._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Et}return new _PDFWorker(mt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var mt;try{return((mt=globalThis.pdfjsWorker)==null?void 0:mt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};at=new WeakMap,nr(_PDFWorker,at);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Et,Rt,Tt,jt,xt){nr(this,ut);nr(this,ot,new Map);nr(this,ct,new Map);nr(this,dt,new Map);nr(this,pt,null);this.messageHandler=Et,this.loadingTask=Rt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:jt.ownerDocument,styleElement:jt.styleElement}),this._params=jt,this.canvasFactory=xt.canvasFactory,this.filterFactory=xt.filterFactory,this.cMapReaderFactory=xt.cMapReaderFactory,this.standardFontDataFactory=xt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Tt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Et,Rt=_util.AnnotationMode.ENABLE,Tt=null,jt=!1){let xt=_util.RenderingIntentFlag.DISPLAY,Ct=_annotation_storage.SerializableEmpty;switch(Et){case"any":xt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":xt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Et}`)}switch(Rt){case _util.AnnotationMode.DISABLE:xt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:xt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:xt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(xt&_util.RenderingIntentFlag.PRINT&&Tt instanceof _annotation_storage.PrintAnnotationStorage?Tt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Rt}`)}return jt&&(xt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:xt,cacheKey:`${xt}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var Tt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Tt=_t(this,pt))==null||Tt.reject(new Error("Worker was destroyed during onPassword callback"));const Et=[];for(const jt of _t(this,ct).values())Et.push(jt._destroy());_t(this,ct).clear(),_t(this,dt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Rt=this.messageHandler.sendWithPromise("Terminate",null);return Et.push(Rt),Promise.all(Et).then(()=>{var jt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,ot).clear(),this.filterFactory.destroy(),(jt=this._networkStream)==null||jt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Et,loadingTask:Rt}=this;Et.on("GetReader",(Tt,jt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xt=>{this._lastProgress={loaded:xt.loaded,total:xt.total}},jt.onPull=()=>{this._fullReader.read().then(function({value:xt,done:Ct}){if(Ct){jt.close();return}(0,_util.assert)(xt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),jt.enqueue(new Uint8Array(xt),1,[xt])}).catch(xt=>{jt.error(xt)})},jt.onCancel=xt=>{this._fullReader.cancel(xt),jt.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),Et.on("ReaderHeadersReady",Tt=>{const jt=new _util.PromiseCapability,xt=this._fullReader;return xt.headersReady.then(()=>{var Ct;(!xt.isStreamingSupported||!xt.isRangeSupported)&&(this._lastProgress&&((Ct=Rt.onProgress)==null||Ct.call(Rt,this._lastProgress)),xt.onProgress=kt=>{var Nt;(Nt=Rt.onProgress)==null||Nt.call(Rt,{loaded:kt.loaded,total:kt.total})}),jt.resolve({isStreamingSupported:xt.isStreamingSupported,isRangeSupported:xt.isRangeSupported,contentLength:xt.contentLength})},jt.reject),jt.promise}),Et.on("GetRangeReader",(Tt,jt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xt=this._networkStream.getRangeReader(Tt.begin,Tt.end);if(!xt){jt.close();return}jt.onPull=()=>{xt.read().then(function({value:Ct,done:kt}){if(kt){jt.close();return}(0,_util.assert)(Ct instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),jt.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{jt.error(Ct)})},jt.onCancel=Ct=>{xt.cancel(Ct),jt.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),Et.on("GetDoc",({pdfInfo:Tt})=>{this._numPages=Tt.numPages,this._htmlForXfa=Tt.htmlForXfa,delete Tt.htmlForXfa,Rt._capability.resolve(new PDFDocumentProxy(Tt,this))}),Et.on("DocException",function(Tt){let jt;switch(Tt.name){case"PasswordException":jt=new _util.PasswordException(Tt.message,Tt.code);break;case"InvalidPDFException":jt=new _util.InvalidPDFException(Tt.message);break;case"MissingPDFException":jt=new _util.MissingPDFException(Tt.message);break;case"UnexpectedResponseException":jt=new _util.UnexpectedResponseException(Tt.message,Tt.status);break;case"UnknownErrorException":jt=new _util.UnknownErrorException(Tt.message,Tt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Rt._capability.reject(jt)}),Et.on("PasswordRequest",Tt=>{if(tr(this,pt,new _util.PromiseCapability),Rt.onPassword){const jt=xt=>{xt instanceof Error?_t(this,pt).reject(xt):_t(this,pt).resolve({password:xt})};try{Rt.onPassword(jt,Tt.code)}catch(xt){_t(this,pt).reject(xt)}}else _t(this,pt).reject(new _util.PasswordException(Tt.message,Tt.code));return _t(this,pt).promise}),Et.on("DataLoaded",Tt=>{var jt;(jt=Rt.onProgress)==null||jt.call(Rt,{loaded:Tt.length,total:Tt.length}),this.downloadInfoCapability.resolve(Tt)}),Et.on("StartRenderPage",Tt=>{if(this.destroyed)return;_t(this,ct).get(Tt.pageIndex)._startRenderPage(Tt.transparency,Tt.cacheKey)}),Et.on("commonobj",([Tt,jt,xt])=>{var Ct;if(!this.destroyed&&!this.commonObjs.has(Tt))switch(jt){case"Font":const kt=this._params;if("error"in xt){const Ot=xt.error;(0,_util.warn)(`Error during font loading: ${Ot}`),this.commonObjs.resolve(Tt,Ot);break}const Nt=kt.pdfBug&&((Ct=globalThis.FontInspector)!=null&&Ct.enabled)?(Ot,Pt)=>globalThis.FontInspector.fontAdded(Ot,Pt):null,St=new _font_loader.FontFaceObject(xt,{isEvalSupported:kt.isEvalSupported,disableFontFace:kt.disableFontFace,ignoreErrors:kt.ignoreErrors,inspectFont:Nt});this.fontLoader.bind(St).catch(Ot=>Et.sendWithPromise("FontFallback",{id:Tt})).finally(()=>{!kt.fontExtraProperties&&St.data&&(St.data=null),this.commonObjs.resolve(Tt,St)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Tt,xt);break;default:throw new Error(`Got unknown common object type ${jt}`)}}),Et.on("obj",([Tt,jt,xt,Ct])=>{var Nt;if(this.destroyed)return;const kt=_t(this,ct).get(jt);if(!kt.objs.has(Tt))switch(xt){case"Image":if(kt.objs.resolve(Tt,Ct),Ct){let St;if(Ct.bitmap){const{width:Ot,height:Pt}=Ct;St=Ot*Pt*4}else St=((Nt=Ct.data)==null?void 0:Nt.length)||0;St>_util.MAX_IMAGE_SIZE_TO_CACHE&&(kt._maybeCleanupAfterRender=!0)}break;case"Pattern":kt.objs.resolve(Tt,Ct);break;default:throw new Error(`Got unknown object type ${xt}`)}}),Et.on("DocProgress",Tt=>{var jt;this.destroyed||(jt=Rt.onProgress)==null||jt.call(Rt,{loaded:Tt.loaded,total:Tt.total})}),Et.on("FetchBuiltInCMap",Tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Tt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Et.on("FetchStandardFontData",Tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Tt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Tt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Et,transfers:Rt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Et,filename:((Tt=this._fullReader)==null?void 0:Tt.filename)??null},Rt).finally(()=>{this.annotationStorage.resetModified()})}getPage(Et){if(!Number.isInteger(Et)||Et<=0||Et>this._numPages)return Promise.reject(new Error("Invalid page request."));const Rt=Et-1,Tt=_t(this,dt).get(Rt);if(Tt)return Tt;const jt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Rt}).then(xt=>{if(this.destroyed)throw new Error("Transport destroyed");const Ct=new PDFPageProxy(Rt,xt,this,this._params.pdfBug);return _t(this,ct).set(Rt,Ct),Ct});return _t(this,dt).set(Rt,jt),jt}getPageIndex(Et){return typeof Et!="object"||Et===null||!Number.isInteger(Et.num)||Et.num<0||!Number.isInteger(Et.gen)||Et.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Et.num,gen:Et.gen})}getAnnotations(Et,Rt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Et,intent:Rt})}getFieldObjects(){return er(this,ut,vs).call(this,"GetFieldObjects")}hasJSActions(){return er(this,ut,vs).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Et){return typeof Et!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Et})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return er(this,ut,vs).call(this,"GetDocJSActions")}getPageJSActions(Et){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Et})}getStructTree(Et){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Et})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Et=>new _optional_content_config.OptionalContentConfig(Et))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Et="GetMetadata",Rt=_t(this,ot).get(Et);if(Rt)return Rt;const Tt=this.messageHandler.sendWithPromise(Et,null).then(jt=>{var xt,Ct;return{info:jt[0],metadata:jt[1]?new _metadata.Metadata(jt[1]):null,contentDispositionFilename:((xt=this._fullReader)==null?void 0:xt.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return _t(this,ot).set(Et,Tt),Tt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Et=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Rt of _t(this,ct).values())if(!Rt.cleanup())throw new Error(`startCleanup: Page ${Rt.pageNumber} is currently rendering.`);this.commonObjs.clear(),Et||this.fontLoader.clear(),_t(this,ot).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Et,enableXfa:Rt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Et,enableXfa:Rt})}}ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakSet,vs=function(Et,Rt=null){const Tt=_t(this,ot).get(Et);if(Tt)return Tt;const jt=this.messageHandler.sendWithPromise(Et,Rt);return _t(this,ot).set(Et,jt),jt};class PDFObjects{constructor(){nr(this,ht);nr(this,ft,Object.create(null))}get(Et,Rt=null){if(Rt){const jt=er(this,ht,Us).call(this,Et);return jt.capability.promise.then(()=>Rt(jt.data)),null}const Tt=_t(this,ft)[Et];if(!(Tt!=null&&Tt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Et}.`);return Tt.data}has(Et){const Rt=_t(this,ft)[Et];return(Rt==null?void 0:Rt.capability.settled)||!1}resolve(Et,Rt=null){const Tt=er(this,ht,Us).call(this,Et);Tt.data=Rt,Tt.capability.resolve()}clear(){var Et;for(const Rt in _t(this,ft)){const{data:Tt}=_t(this,ft)[Rt];(Et=Tt==null?void 0:Tt.bitmap)==null||Et.close()}tr(this,ft,Object.create(null))}}ft=new WeakMap,ht=new WeakSet,Us=function(Et){var Rt;return(Rt=_t(this,ft))[Et]||(Rt[Et]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Et){nr(this,vt,null);tr(this,vt,Et),this.onContinue=null}get promise(){return _t(this,vt).capability.promise}cancel(Et=0){_t(this,vt).cancel(null,Et)}get separateAnnots(){const{separateAnnots:Et}=_t(this,vt).operatorList;if(!Et)return!1;const{annotationCanvasMap:Rt}=_t(this,vt);return Et.form||Et.canvas&&(Rt==null?void 0:Rt.size)>0}}vt=new WeakMap,exports.RenderTask=RenderTask;const bt=class bt{constructor({callback:Et,params:Rt,objs:Tt,commonObjs:jt,annotationCanvasMap:xt,operatorList:Ct,pageIndex:kt,canvasFactory:Nt,filterFactory:St,useRequestAnimationFrame:Ot=!1,pdfBug:Pt=!1,pageColors:wt=null}){this.callback=Et,this.params=Rt,this.objs=Tt,this.commonObjs=jt,this.annotationCanvasMap=xt,this.operatorListIdx=null,this.operatorList=Ct,this._pageIndex=kt,this.canvasFactory=Nt,this.filterFactory=St,this._pdfBug=Pt,this.pageColors=wt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ot===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Rt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Et=!1,optionalContentConfig:Rt}){var kt,Nt;if(this.cancelled)return;if(this._canvas){if(_t(bt,gt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(bt,gt).add(this._canvas)}this._pdfBug&&((kt=globalThis.StepperManager)!=null&&kt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Tt,viewport:jt,transform:xt,background:Ct}=this.params;this.gfx=new _canvas.CanvasGraphics(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Rt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xt,viewport:jt,transparency:Et,background:Ct}),this.operatorListIdx=0,this.graphicsReady=!0,(Nt=this.graphicsReadyCallback)==null||Nt.call(this)}cancel(Et=null,Rt=0){var Tt;this.running=!1,this.cancelled=!0,(Tt=this.gfx)==null||Tt.endDrawing(),_t(bt,gt).delete(this._canvas),this.callback(Et||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Rt))}operatorListChanged(){var Et;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Et=this.stepper)==null||Et.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(bt,gt).delete(this._canvas),this.callback())))}};gt=new WeakMap,nr(bt,gt,new WeakSet);let InternalRenderTask=bt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(j,_,$)=>{var it,at,ot,Ao,dt;Object.defineProperty(_,"__esModule",{value:!0}),_.SerializableEmpty=_.PrintAnnotationStorage=_.AnnotationStorage=void 0;var _e=$(1),et=$(4),tt=$(8);const rt=Object.freeze({map:null,hash:"",transfers:void 0});_.SerializableEmpty=rt;class nt{constructor(){nr(this,ot);nr(this,it,!1);nr(this,at,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ut,lt){const ft=_t(this,at).get(ut);return ft===void 0?lt:Object.assign(lt,ft)}getRawValue(ut){return _t(this,at).get(ut)}remove(ut){if(_t(this,at).delete(ut),_t(this,at).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const lt of _t(this,at).values())if(lt instanceof et.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ut,lt){const ft=_t(this,at).get(ut);let ht=!1;if(ft!==void 0)for(const[yt,vt]of Object.entries(lt))ft[yt]!==vt&&(ht=!0,ft[yt]=vt);else ht=!0,_t(this,at).set(ut,lt);ht&&er(this,ot,Ao).call(this),lt instanceof et.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(lt.constructor._type)}has(ut){return _t(this,at).has(ut)}getAll(){return _t(this,at).size>0?(0,_e.objectFromMap)(_t(this,at)):null}setAll(ut){for(const[lt,ft]of Object.entries(ut))this.setValue(lt,ft)}get size(){return _t(this,at).size}resetModified(){_t(this,it)&&(tr(this,it,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if(_t(this,at).size===0)return rt;const ut=new Map,lt=new tt.MurmurHash3_64,ft=[],ht=Object.create(null);let yt=!1;for(const[vt,gt]of _t(this,at)){const bt=gt instanceof et.AnnotationEditor?gt.serialize(!1,ht):gt;bt&&(ut.set(vt,bt),lt.update(`${vt}:${JSON.stringify(bt)}`),yt||(yt=!!bt.bitmap))}if(yt)for(const vt of ut.values())vt.bitmap&&ft.push(vt.bitmap);return ut.size>0?{map:ut,hash:lt.hexdigest(),transfers:ft}:rt}}it=new WeakMap,at=new WeakMap,ot=new WeakSet,Ao=function(){_t(this,it)||(tr(this,it,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_.AnnotationStorage=nt;class st extends nt{constructor(lt){super();nr(this,dt);const{map:ft,hash:ht,transfers:yt}=lt.serializable,vt=structuredClone(ft,yt?{transfer:yt}:null);tr(this,dt,{map:vt,hash:ht,transfers:yt})}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,dt)}}dt=new WeakMap,_.PrintAnnotationStorage=st},(j,_,$)=>{var st,it,at,ot,ct,dt,pt,ut,lt,ft,ht,yt,vt,gt,bt,Vs,Hs,Rt,Ws,zs,To,Po,$o,qs,No;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditor=void 0;var _e=$(5),et=$(1),tt=$(6);const Ot=class Ot{constructor(wt){nr(this,bt);nr(this,st,"");nr(this,it,!1);nr(this,at,null);nr(this,ot,null);nr(this,ct,null);nr(this,dt,!1);nr(this,pt,null);nr(this,ut,this.focusin.bind(this));nr(this,lt,this.focusout.bind(this));nr(this,ft,!1);nr(this,ht,!1);nr(this,yt,!1);Gr(this,"_initialOptions",Object.create(null));Gr(this,"_uiManager",null);Gr(this,"_focusEventsAllowed",!0);Gr(this,"_l10nPromise",null);nr(this,vt,!1);nr(this,gt,Ot._zIndex++);this.constructor===Ot&&(0,et.unreachable)("Cannot initialize AnnotationEditor."),this.parent=wt.parent,this.id=wt.id,this.width=this.height=null,this.pageIndex=wt.parent.pageIndex,this.name=wt.name,this.div=null,this._uiManager=wt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=wt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:Vt,pageHeight:It,pageX:At,pageY:$t}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Vt,It],this.pageTranslation=[At,$t];const[Mt,Ht]=this.parentDimensions;this.x=wt.x/Mt,this.y=wt.y/Ht,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,et.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(wt){const Dt=new nt({id:wt.parent.getNextId(),parent:wt.parent,uiManager:wt._uiManager});Dt.annotationElementId=wt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(wt,Dt=null){if(Ot._l10nPromise||(Ot._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(It=>[It,wt.get(It)]))),Dt!=null&&Dt.strings)for(const It of Dt.strings)Ot._l10nPromise.set(It,wt.get(It));if(Ot._borderLineWidth!==-1)return;const Vt=getComputedStyle(document.documentElement);Ot._borderLineWidth=parseFloat(Vt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(wt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(wt){return!1}static paste(wt,Dt){(0,et.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,vt)}set _isDraggable(wt){var Dt;tr(this,vt,wt),(Dt=this.div)==null||Dt.classList.toggle("draggable",wt)}center(){const[wt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(wt*2),this.y+=this.width*wt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(wt*2),this.y-=this.width*wt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(wt){this._uiManager.addCommands(wt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,gt)}setParent(wt){wt!==null&&(this.pageIndex=wt.pageIndex,this.pageDimensions=wt.pageDimensions),this.parent=wt}focusin(wt){this._focusEventsAllowed&&(_t(this,ft)?tr(this,ft,!1):this.parent.setSelected(this))}focusout(wt){var Vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=wt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(wt.preventDefault(),(Vt=this.parent)!=null&&Vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(wt,Dt,Vt,It){const[At,$t]=this.parentDimensions;[Vt,It]=this.screenToPageTranslation(Vt,It),this.x=(wt+Vt)/At,this.y=(Dt+It)/$t,this.fixAndSetPosition()}translate(wt,Dt){er(this,bt,Vs).call(this,this.parentDimensions,wt,Dt)}translateInPage(wt,Dt){er(this,bt,Vs).call(this,this.pageDimensions,wt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(wt,Dt){const[Vt,It]=this.parentDimensions;if(this.x+=wt/Vt,this.y+=Dt/It,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Bt,y:Ut}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Bt,Ut)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:At,y:$t}=this;const[Mt,Ht]=er(this,bt,Hs).call(this);At+=Mt,$t+=Ht,this.div.style.left=`${(100*At).toFixed(2)}%`,this.div.style.top=`${(100*$t).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[wt,Dt]=this.pageDimensions;let{x:Vt,y:It,width:At,height:$t}=this;switch(At*=wt,$t*=Dt,Vt*=wt,It*=Dt,this.rotation){case 0:Vt=Math.max(0,Math.min(wt-At,Vt)),It=Math.max(0,Math.min(Dt-$t,It));break;case 90:Vt=Math.max(0,Math.min(wt-$t,Vt)),It=Math.min(Dt,Math.max(At,It));break;case 180:Vt=Math.min(wt,Math.max(At,Vt)),It=Math.min(Dt,Math.max($t,It));break;case 270:Vt=Math.min(wt,Math.max($t,Vt)),It=Math.max(0,Math.min(Dt-At,It));break}this.x=Vt/=wt,this.y=It/=Dt;const[Mt,Ht]=er(this,bt,Hs).call(this);Vt+=Mt,It+=Ht;const{style:Bt}=this.div;Bt.left=`${(100*Vt).toFixed(2)}%`,Bt.top=`${(100*It).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(wt,Dt){var Vt;return er(Vt=Ot,Rt,Ws).call(Vt,wt,Dt,this.parentRotation)}pageTranslationToScreen(wt,Dt){var Vt;return er(Vt=Ot,Rt,Ws).call(Vt,wt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:wt,pageDimensions:[Dt,Vt]}=this,It=Dt*wt,At=Vt*wt;return et.FeatureTest.isCSSRoundSupported?[Math.round(It),Math.round(At)]:[It,At]}setDims(wt,Dt){var At;const[Vt,It]=this.parentDimensions;this.div.style.width=`${(100*wt/Vt).toFixed(2)}%`,_t(this,dt)||(this.div.style.height=`${(100*Dt/It).toFixed(2)}%`),(At=_t(this,at))==null||At.classList.toggle("small",wt<Ot.SMALL_EDITOR_SIZE||Dt<Ot.SMALL_EDITOR_SIZE)}fixDims(){const{style:wt}=this.div,{height:Dt,width:Vt}=wt,It=Vt.endsWith("%"),At=!_t(this,dt)&&Dt.endsWith("%");if(It&&At)return;const[$t,Mt]=this.parentDimensions;It||(wt.width=`${(100*parseFloat(Vt)/$t).toFixed(2)}%`),!_t(this,dt)&&!At&&(wt.height=`${(100*parseFloat(Dt)/Mt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_t(this,at))return;const wt=tr(this,at,document.createElement("button"));wt.className="altText";const Dt=await Ot._l10nPromise.get("editor_alt_text_button_label");wt.textContent=Dt,wt.setAttribute("aria-label",Dt),wt.tabIndex="0",wt.addEventListener("contextmenu",tt.noContextMenu),wt.addEventListener("pointerdown",Vt=>Vt.stopPropagation()),wt.addEventListener("click",Vt=>{Vt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),wt.addEventListener("keydown",Vt=>{Vt.target===wt&&Vt.key==="Enter"&&(Vt.preventDefault(),this._uiManager.editAltText(this))}),er(this,bt,qs).call(this),this.div.append(wt),Ot.SMALL_EDITOR_SIZE||(Ot.SMALL_EDITOR_SIZE=Math.min(128,Math.round(wt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_t(this,st),decorative:_t(this,it)}}set altTextData({altText:wt,decorative:Dt}){_t(this,st)===wt&&_t(this,it)===Dt||(tr(this,st,wt),tr(this,it,Dt),er(this,bt,qs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_t(this,ut)),this.div.addEventListener("focusout",_t(this,lt));const[wt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/wt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*wt/Dt).toFixed(2)}%`);const[Vt,It]=this.getInitialTranslation();return this.translate(Vt,It),(0,_e.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(wt){const{isMac:Dt}=et.FeatureTest.platform;if(wt.button!==0||wt.ctrlKey&&Dt){wt.preventDefault();return}tr(this,ft,!0),er(this,bt,No).call(this,wt)}moveInDOM(){var wt;(wt=this.parent)==null||wt.moveEditorInDOM(this)}_setParentAndPosition(wt,Dt,Vt){wt.changeParent(this),this.x=Dt,this.y=Vt,this.fixAndSetPosition()}getRect(wt,Dt){const Vt=this.parentScale,[It,At]=this.pageDimensions,[$t,Mt]=this.pageTranslation,Ht=wt/Vt,Bt=Dt/Vt,Ut=this.x*It,zt=this.y*At,Qt=this.width*It,sr=this.height*At;switch(this.rotation){case 0:return[Ut+Ht+$t,At-zt-Bt-sr+Mt,Ut+Ht+Qt+$t,At-zt-Bt+Mt];case 90:return[Ut+Bt+$t,At-zt+Ht+Mt,Ut+Bt+sr+$t,At-zt+Ht+Qt+Mt];case 180:return[Ut-Ht-Qt+$t,At-zt+Bt+Mt,Ut-Ht+$t,At-zt+Bt+sr+Mt];case 270:return[Ut-Bt-sr+$t,At-zt-Ht-Qt+Mt,Ut-Bt+$t,At-zt-Ht+Mt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(wt,Dt){const[Vt,It,At,$t]=wt,Mt=At-Vt,Ht=$t-It;switch(this.rotation){case 0:return[Vt,Dt-$t,Mt,Ht];case 90:return[Vt,Dt-It,Ht,Mt];case 180:return[At,Dt-It,Mt,Ht];case 270:return[At,Dt-$t,Ht,Mt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){tr(this,yt,!0)}disableEditMode(){tr(this,yt,!1)}isInEditMode(){return _t(this,yt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var wt,Dt;(wt=this.div)==null||wt.addEventListener("focusin",_t(this,ut)),(Dt=this.div)==null||Dt.addEventListener("focusout",_t(this,lt))}serialize(wt=!1,Dt=null){(0,et.unreachable)("An editor must be serializable")}static deserialize(wt,Dt,Vt){const It=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:Vt});It.rotation=wt.rotation;const[At,$t]=It.pageDimensions,[Mt,Ht,Bt,Ut]=It.getRectInCurrentCoords(wt.rect,$t);return It.x=Mt/At,It.y=Ht/$t,It.width=Bt/At,It.height=Ut/$t,It}remove(){var wt;this.div.removeEventListener("focusin",_t(this,ut)),this.div.removeEventListener("focusout",_t(this,lt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(wt=_t(this,at))==null||wt.remove(),tr(this,at,null),tr(this,ot,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(er(this,bt,To).call(this),_t(this,pt).classList.remove("hidden"))}select(){var wt;this.makeResizable(),(wt=this.div)==null||wt.classList.add("selectedEditor")}unselect(){var wt,Dt,Vt;(wt=_t(this,pt))==null||wt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(Vt=this.div)!=null&&Vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(wt,Dt){}disableEditing(){_t(this,at)&&(_t(this,at).hidden=!0)}enableEditing(){_t(this,at)&&(_t(this,at).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _t(this,ht)}set isEditing(wt){tr(this,ht,wt),this.parent&&(wt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(wt,Dt){tr(this,dt,!0);const Vt=wt/Dt,{style:It}=this.div;It.aspectRatio=Vt,It.height="auto"}static get MIN_SIZE(){return 16}};st=new WeakMap,it=new WeakMap,at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,yt=new WeakMap,vt=new WeakMap,gt=new WeakMap,bt=new WeakSet,Vs=function([wt,Dt],Vt,It){[Vt,It]=this.screenToPageTranslation(Vt,It),this.x+=Vt/wt,this.y+=It/Dt,this.fixAndSetPosition()},Hs=function(){const[wt,Dt]=this.parentDimensions,{_borderLineWidth:Vt}=Ot,It=Vt/wt,At=Vt/Dt;switch(this.rotation){case 90:return[-It,At];case 180:return[It,At];case 270:return[It,-At];default:return[-It,-At]}},Rt=new WeakSet,Ws=function(wt,Dt,Vt){switch(Vt){case 90:return[Dt,-wt];case 180:return[-wt,-Dt];case 270:return[-Dt,wt];default:return[wt,Dt]}},zs=function(wt){switch(wt){case 90:{const[Dt,Vt]=this.pageDimensions;return[0,-Dt/Vt,Vt/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,Vt]=this.pageDimensions;return[0,Dt/Vt,-Vt/Dt,0]}default:return[1,0,0,1]}},To=function(){if(_t(this,pt))return;tr(this,pt,document.createElement("div")),_t(this,pt).classList.add("resizers");const wt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||wt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of wt){const Vt=document.createElement("div");_t(this,pt).append(Vt),Vt.classList.add("resizer",Dt),Vt.addEventListener("pointerdown",er(this,bt,Po).bind(this,Dt)),Vt.addEventListener("contextmenu",tt.noContextMenu)}this.div.prepend(_t(this,pt))},Po=function(wt,Dt){Dt.preventDefault();const{isMac:Vt}=et.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&Vt)return;const It=er(this,bt,$o).bind(this,wt),At=this._isDraggable;this._isDraggable=!1;const $t={passive:!0,capture:!0};window.addEventListener("pointermove",It,$t);const Mt=this.x,Ht=this.y,Bt=this.width,Ut=this.height,zt=this.parent.div.style.cursor,Qt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const sr=()=>{this._isDraggable=At,window.removeEventListener("pointerup",sr),window.removeEventListener("blur",sr),window.removeEventListener("pointermove",It,$t),this.parent.div.style.cursor=zt,this.div.style.cursor=Qt;const Kt=this.x,fr=this.y,dr=this.width,xr=this.height;Kt===Mt&&fr===Ht&&dr===Bt&&xr===Ut||this.addCommands({cmd:()=>{this.width=dr,this.height=xr,this.x=Kt,this.y=fr;const[ar,rr]=this.parentDimensions;this.setDims(ar*dr,rr*xr),this.fixAndSetPosition()},undo:()=>{this.width=Bt,this.height=Ut,this.x=Mt,this.y=Ht;const[ar,rr]=this.parentDimensions;this.setDims(ar*Bt,rr*Ut),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",sr),window.addEventListener("blur",sr)},$o=function(wt,Dt){const[Vt,It]=this.parentDimensions,At=this.x,$t=this.y,Mt=this.width,Ht=this.height,Bt=Ot.MIN_SIZE/Vt,Ut=Ot.MIN_SIZE/It,zt=Sr=>Math.round(Sr*1e4)/1e4,Qt=er(this,bt,zs).call(this,this.rotation),sr=(Sr,Dr)=>[Qt[0]*Sr+Qt[2]*Dr,Qt[1]*Sr+Qt[3]*Dr],Kt=er(this,bt,zs).call(this,360-this.rotation),fr=(Sr,Dr)=>[Kt[0]*Sr+Kt[2]*Dr,Kt[1]*Sr+Kt[3]*Dr];let dr,xr,ar=!1,rr=!1;switch(wt){case"topLeft":ar=!0,dr=(Sr,Dr)=>[0,0],xr=(Sr,Dr)=>[Sr,Dr];break;case"topMiddle":dr=(Sr,Dr)=>[Sr/2,0],xr=(Sr,Dr)=>[Sr/2,Dr];break;case"topRight":ar=!0,dr=(Sr,Dr)=>[Sr,0],xr=(Sr,Dr)=>[0,Dr];break;case"middleRight":rr=!0,dr=(Sr,Dr)=>[Sr,Dr/2],xr=(Sr,Dr)=>[0,Dr/2];break;case"bottomRight":ar=!0,dr=(Sr,Dr)=>[Sr,Dr],xr=(Sr,Dr)=>[0,0];break;case"bottomMiddle":dr=(Sr,Dr)=>[Sr/2,Dr],xr=(Sr,Dr)=>[Sr/2,0];break;case"bottomLeft":ar=!0,dr=(Sr,Dr)=>[0,Dr],xr=(Sr,Dr)=>[Sr,0];break;case"middleLeft":rr=!0,dr=(Sr,Dr)=>[0,Dr/2],xr=(Sr,Dr)=>[Sr,Dr/2];break}const Lt=dr(Mt,Ht),Zt=xr(Mt,Ht);let or=sr(...Zt);const lr=zt(At+or[0]),Ft=zt($t+or[1]);let Gt=1,Jt=1,[Yt,hr]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([Yt,hr]=fr(Yt/Vt,hr/It),ar){const Sr=Math.hypot(Mt,Ht);Gt=Jt=Math.max(Math.min(Math.hypot(Zt[0]-Lt[0]-Yt,Zt[1]-Lt[1]-hr)/Sr,1/Mt,1/Ht),Bt/Mt,Ut/Ht)}else rr?Gt=Math.max(Bt,Math.min(1,Math.abs(Zt[0]-Lt[0]-Yt)))/Mt:Jt=Math.max(Ut,Math.min(1,Math.abs(Zt[1]-Lt[1]-hr)))/Ht;const cr=zt(Mt*Gt),jr=zt(Ht*Jt);or=sr(...xr(cr,jr));const Rr=lr-or[0],Mr=Ft-or[1];this.width=cr,this.height=jr,this.x=Rr,this.y=Mr,this.setDims(Vt*cr,It*jr),this.fixAndSetPosition()},qs=async function(){var Vt;const wt=_t(this,at);if(!wt)return;if(!_t(this,st)&&!_t(this,it)){wt.classList.remove("done"),(Vt=_t(this,ot))==null||Vt.remove();return}Ot._l10nPromise.get("editor_alt_text_edit_button_label").then(It=>{wt.setAttribute("aria-label",It)});let Dt=_t(this,ot);if(!Dt){tr(this,ot,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const It=Dt.id=`alt-text-tooltip-${this.id}`;wt.setAttribute("aria-describedby",It);const At=100;wt.addEventListener("mouseenter",()=>{tr(this,ct,setTimeout(()=>{tr(this,ct,null),_t(this,ot).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},At))}),wt.addEventListener("mouseleave",()=>{var $t;clearTimeout(_t(this,ct)),tr(this,ct,null),($t=_t(this,ot))==null||$t.classList.remove("show")})}wt.classList.add("done"),Dt.innerText=_t(this,it)?await Ot._l10nPromise.get("editor_alt_text_decorative_tooltip"):_t(this,st),Dt.parentNode||wt.append(Dt)},No=function(wt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Vt,It;Dt&&(Vt={passive:!0,capture:!0},It=$t=>{const[Mt,Ht]=this.screenToPageTranslation($t.movementX,$t.movementY);this._uiManager.dragSelectedEditors(Mt,Ht)},window.addEventListener("pointermove",It,Vt));const At=()=>{if(window.removeEventListener("pointerup",At),window.removeEventListener("blur",At),Dt&&window.removeEventListener("pointermove",It,Vt),tr(this,ft,!1),!this._uiManager.endDragSession()){const{isMac:$t}=et.FeatureTest.platform;wt.ctrlKey&&!$t||wt.shiftKey||wt.metaKey&&$t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",At),window.addEventListener("blur",At)},nr(Ot,Rt),Gr(Ot,"_borderLineWidth",-1),Gr(Ot,"_colorManager",new _e.ColorManager),Gr(Ot,"_zIndex",1),Gr(Ot,"SMALL_EDITOR_SIZE",0);let rt=Ot;_.AnnotationEditor=rt;class nt extends rt{constructor(wt){super(wt),this.annotationElementId=wt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(j,_,$)=>{var dt,pt,ut,lt,ft,Zs,vt,gt,bt,mt,Et,Oo,jt,xt,Ct,kt,Nt,St,Ot,Pt,wt,Dt,Vt,It,At,$t,Mt,Ht,Bt,Ut,zt,Qt,sr,Kt,fr,dr,xr,ar,rr,Lt,Zt,or,lr,Ft,Gt,Jt,Yt,ko,Ks,Gs,bs,Ys,Xs,an,as,Io,Do,Qs,os,Js;Object.defineProperty(_,"__esModule",{value:!0}),_.KeyboardManager=_.CommandManager=_.ColorManager=_.AnnotationEditorUIManager=void 0,_.bindEvents=tt,_.opacityToHex=rt;var _e=$(1),et=$(6);function tt(Vr,Xt,yr){for(const _r of yr)Xt.addEventListener(_r,Vr[_r].bind(Vr))}function rt(Vr){return Math.round(Math.min(255,Math.max(1,255*Vr))).toString(16).padStart(2,"0")}class nt{constructor(){nr(this,dt,0)}getId(){return`${_e.AnnotationEditorPrefix}${jn(this,dt)._++}`}}dt=new WeakMap;const yt=class yt{constructor(){nr(this,ft);nr(this,pt,(0,_e.getUuid)());nr(this,ut,0);nr(this,lt,null)}static get _isSVGFittingCanvas(){const Xt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',_r=new OffscreenCanvas(1,3).getContext("2d"),$r=new Image;$r.src=Xt;const Ir=$r.decode().then(()=>(_r.drawImage($r,0,0,1,1,0,0,1,3),new Uint32Array(_r.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_e.shadow)(this,"_isSVGFittingCanvas",Ir)}async getFromFile(Xt){const{lastModified:yr,name:_r,size:$r,type:Ir}=Xt;return er(this,ft,Zs).call(this,`${yr}_${_r}_${$r}_${Ir}`,Xt)}async getFromUrl(Xt){return er(this,ft,Zs).call(this,Xt,Xt)}async getFromId(Xt){_t(this,lt)||tr(this,lt,new Map);const yr=_t(this,lt).get(Xt);return yr?yr.bitmap?(yr.refCounter+=1,yr):yr.file?this.getFromFile(yr.file):this.getFromUrl(yr.url):null}getSvgUrl(Xt){const yr=_t(this,lt).get(Xt);return yr!=null&&yr.isSvg?yr.svgUrl:null}deleteId(Xt){_t(this,lt)||tr(this,lt,new Map);const yr=_t(this,lt).get(Xt);yr&&(yr.refCounter-=1,yr.refCounter===0&&(yr.bitmap=null))}isValidId(Xt){return Xt.startsWith(`image_${_t(this,pt)}_`)}};pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakSet,Zs=async function(Xt,yr){_t(this,lt)||tr(this,lt,new Map);let _r=_t(this,lt).get(Xt);if(_r===null)return null;if(_r!=null&&_r.bitmap)return _r.refCounter+=1,_r;try{_r||(_r={bitmap:null,id:`image_${_t(this,pt)}_${jn(this,ut)._++}`,refCounter:0,isSvg:!1});let $r;if(typeof yr=="string"){_r.url=yr;const Ir=await fetch(yr);if(!Ir.ok)throw new Error(Ir.statusText);$r=await Ir.blob()}else $r=_r.file=yr;if($r.type==="image/svg+xml"){const Ir=yt._isSVGFittingCanvas,Ar=new FileReader,qt=new Image,Wt=new Promise((ir,mr)=>{qt.onload=()=>{_r.bitmap=qt,_r.isSvg=!0,ir()},Ar.onload=async()=>{const gr=_r.svgUrl=Ar.result;qt.src=await Ir?`${gr}#svgView(preserveAspectRatio(none))`:gr},qt.onerror=Ar.onerror=mr});Ar.readAsDataURL($r),await Wt}else _r.bitmap=await createImageBitmap($r);_r.refCounter=1}catch($r){console.error($r),_r=null}return _t(this,lt).set(Xt,_r),_r&&_t(this,lt).set(_r.id,_r),_r};let st=yt;class it{constructor(Xt=128){nr(this,vt,[]);nr(this,gt,!1);nr(this,bt);nr(this,mt,-1);tr(this,bt,Xt)}add({cmd:Xt,undo:yr,mustExec:_r,type:$r=NaN,overwriteIfSameType:Ir=!1,keepUndo:Ar=!1}){if(_r&&Xt(),_t(this,gt))return;const qt={cmd:Xt,undo:yr,type:$r};if(_t(this,mt)===-1){_t(this,vt).length>0&&(_t(this,vt).length=0),tr(this,mt,0),_t(this,vt).push(qt);return}if(Ir&&_t(this,vt)[_t(this,mt)].type===$r){Ar&&(qt.undo=_t(this,vt)[_t(this,mt)].undo),_t(this,vt)[_t(this,mt)]=qt;return}const Wt=_t(this,mt)+1;Wt===_t(this,bt)?_t(this,vt).splice(0,1):(tr(this,mt,Wt),Wt<_t(this,vt).length&&_t(this,vt).splice(Wt)),_t(this,vt).push(qt)}undo(){_t(this,mt)!==-1&&(tr(this,gt,!0),_t(this,vt)[_t(this,mt)].undo(),tr(this,gt,!1),tr(this,mt,_t(this,mt)-1))}redo(){_t(this,mt)<_t(this,vt).length-1&&(tr(this,mt,_t(this,mt)+1),tr(this,gt,!0),_t(this,vt)[_t(this,mt)].cmd(),tr(this,gt,!1))}hasSomethingToUndo(){return _t(this,mt)!==-1}hasSomethingToRedo(){return _t(this,mt)<_t(this,vt).length-1}destroy(){tr(this,vt,null)}}vt=new WeakMap,gt=new WeakMap,bt=new WeakMap,mt=new WeakMap,_.CommandManager=it;class at{constructor(Xt){nr(this,Et);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:yr}=_e.FeatureTest.platform;for(const[_r,$r,Ir={}]of Xt)for(const Ar of _r){const qt=Ar.startsWith("mac+");yr&&qt?(this.callbacks.set(Ar.slice(4),{callback:$r,options:Ir}),this.allKeys.add(Ar.split("+").at(-1))):!yr&&!qt&&(this.callbacks.set(Ar,{callback:$r,options:Ir}),this.allKeys.add(Ar.split("+").at(-1)))}}exec(Xt,yr){if(!this.allKeys.has(yr.key))return;const _r=this.callbacks.get(er(this,Et,Oo).call(this,yr));if(!_r)return;const{callback:$r,options:{bubbles:Ir=!1,args:Ar=[],checker:qt=null}}=_r;qt&&!qt(Xt,yr)||($r.bind(Xt,...Ar)(),Ir||(yr.stopPropagation(),yr.preventDefault()))}}Et=new WeakSet,Oo=function(Xt){Xt.altKey&&this.buffer.push("alt"),Xt.ctrlKey&&this.buffer.push("ctrl"),Xt.metaKey&&this.buffer.push("meta"),Xt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Xt.key);const yr=this.buffer.join("+");return this.buffer.length=0,yr},_.KeyboardManager=at;const Tt=class Tt{get _colors(){const Xt=new Map([["CanvasText",null],["Canvas",null]]);return(0,et.getColorValues)(Xt),(0,_e.shadow)(this,"_colors",Xt)}convert(Xt){const yr=(0,et.getRGB)(Xt);if(!window.matchMedia("(forced-colors: active)").matches)return yr;for(const[_r,$r]of this._colors)if($r.every((Ir,Ar)=>Ir===yr[Ar]))return Tt._colorsMapping.get(_r);return yr}getHexCode(Xt){const yr=this._colors.get(Xt);return yr?_e.Util.makeHexColor(...yr):Xt}};Gr(Tt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ot=Tt;_.ColorManager=ot;const Hr=class Hr{constructor(Xt,yr,_r,$r,Ir,Ar){nr(this,Yt);nr(this,jt,null);nr(this,xt,new Map);nr(this,Ct,new Map);nr(this,kt,null);nr(this,Nt,null);nr(this,St,new it);nr(this,Ot,0);nr(this,Pt,new Set);nr(this,wt,null);nr(this,Dt,null);nr(this,Vt,new Set);nr(this,It,null);nr(this,At,new nt);nr(this,$t,!1);nr(this,Mt,!1);nr(this,Ht,null);nr(this,Bt,_e.AnnotationEditorType.NONE);nr(this,Ut,new Set);nr(this,zt,null);nr(this,Qt,this.blur.bind(this));nr(this,sr,this.focus.bind(this));nr(this,Kt,this.copy.bind(this));nr(this,fr,this.cut.bind(this));nr(this,dr,this.paste.bind(this));nr(this,xr,this.keydown.bind(this));nr(this,ar,this.onEditingAction.bind(this));nr(this,rr,this.onPageChanging.bind(this));nr(this,Lt,this.onScaleChanging.bind(this));nr(this,Zt,this.onRotationChanging.bind(this));nr(this,or,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});nr(this,lr,[0,0]);nr(this,Ft,null);nr(this,Gt,null);nr(this,Jt,null);tr(this,Gt,Xt),tr(this,Jt,yr),tr(this,kt,_r),this._eventBus=$r,this._eventBus._on("editingaction",_t(this,ar)),this._eventBus._on("pagechanging",_t(this,rr)),this._eventBus._on("scalechanging",_t(this,Lt)),this._eventBus._on("rotationchanging",_t(this,Zt)),tr(this,Nt,Ir.annotationStorage),tr(this,It,Ir.filterFactory),tr(this,zt,Ar),this.viewParameters={realScale:et.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Xt=Hr.prototype,yr=Ir=>{const{activeElement:Ar}=document;return Ar&&_t(Ir,Gt).contains(Ar)&&Ir.hasSomethingToControl()},_r=this.TRANSLATE_SMALL,$r=this.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new at([[["ctrl+a","mac+meta+a"],Xt.selectAll],[["ctrl+z","mac+meta+z"],Xt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Xt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Xt.delete],[["Escape","mac+Escape"],Xt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Xt.translateSelectedEditors,{args:[-_r,0],checker:yr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Xt.translateSelectedEditors,{args:[-$r,0],checker:yr}],[["ArrowRight","mac+ArrowRight"],Xt.translateSelectedEditors,{args:[_r,0],checker:yr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Xt.translateSelectedEditors,{args:[$r,0],checker:yr}],[["ArrowUp","mac+ArrowUp"],Xt.translateSelectedEditors,{args:[0,-_r],checker:yr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Xt.translateSelectedEditors,{args:[0,-$r],checker:yr}],[["ArrowDown","mac+ArrowDown"],Xt.translateSelectedEditors,{args:[0,_r],checker:yr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Xt.translateSelectedEditors,{args:[0,$r],checker:yr}]]))}destroy(){er(this,Yt,bs).call(this),er(this,Yt,Ks).call(this),this._eventBus._off("editingaction",_t(this,ar)),this._eventBus._off("pagechanging",_t(this,rr)),this._eventBus._off("scalechanging",_t(this,Lt)),this._eventBus._off("rotationchanging",_t(this,Zt));for(const Xt of _t(this,Ct).values())Xt.destroy();_t(this,Ct).clear(),_t(this,xt).clear(),_t(this,Vt).clear(),tr(this,jt,null),_t(this,Ut).clear(),_t(this,St).destroy(),_t(this,kt).destroy()}get hcmFilter(){return(0,_e.shadow)(this,"hcmFilter",_t(this,zt)?_t(this,It).addHCMFilter(_t(this,zt).foreground,_t(this,zt).background):"none")}get direction(){return(0,_e.shadow)(this,"direction",getComputedStyle(_t(this,Gt)).direction)}editAltText(Xt){var yr;(yr=_t(this,kt))==null||yr.editAltText(this,Xt)}onPageChanging({pageNumber:Xt}){tr(this,Ot,Xt-1)}focusMainContainer(){_t(this,Gt).focus()}findParent(Xt,yr){for(const _r of _t(this,Ct).values()){const{x:$r,y:Ir,width:Ar,height:qt}=_r.div.getBoundingClientRect();if(Xt>=$r&&Xt<=$r+Ar&&yr>=Ir&&yr<=Ir+qt)return _r}return null}disableUserSelect(Xt=!1){_t(this,Jt).classList.toggle("noUserSelect",Xt)}addShouldRescale(Xt){_t(this,Vt).add(Xt)}removeShouldRescale(Xt){_t(this,Vt).delete(Xt)}onScaleChanging({scale:Xt}){this.commitOrRemove(),this.viewParameters.realScale=Xt*et.PixelsPerInch.PDF_TO_CSS_UNITS;for(const yr of _t(this,Vt))yr.onScaleChanging()}onRotationChanging({pagesRotation:Xt}){this.commitOrRemove(),this.viewParameters.rotation=Xt}addToAnnotationStorage(Xt){!Xt.isEmpty()&&_t(this,Nt)&&!_t(this,Nt).has(Xt.id)&&_t(this,Nt).setValue(Xt.id,Xt)}blur(){if(!this.hasSelection)return;const{activeElement:Xt}=document;for(const yr of _t(this,Ut))if(yr.div.contains(Xt)){tr(this,Ht,[yr,Xt]),yr._focusEventsAllowed=!1;break}}focus(){if(!_t(this,Ht))return;const[Xt,yr]=_t(this,Ht);tr(this,Ht,null),yr.addEventListener("focusin",()=>{Xt._focusEventsAllowed=!0},{once:!0}),yr.focus()}addEditListeners(){er(this,Yt,Gs).call(this),er(this,Yt,Ys).call(this)}removeEditListeners(){er(this,Yt,bs).call(this),er(this,Yt,Xs).call(this)}copy(Xt){var _r;if(Xt.preventDefault(),(_r=_t(this,jt))==null||_r.commitOrRemove(),!this.hasSelection)return;const yr=[];for(const $r of _t(this,Ut)){const Ir=$r.serialize(!0);Ir&&yr.push(Ir)}yr.length!==0&&Xt.clipboardData.setData("application/pdfjs",JSON.stringify(yr))}cut(Xt){this.copy(Xt),this.delete()}paste(Xt){Xt.preventDefault();const{clipboardData:yr}=Xt;for(const Ir of yr.items)for(const Ar of _t(this,Dt))if(Ar.isHandlingMimeForPasting(Ir.type)){Ar.paste(Ir,this.currentLayer);return}let _r=yr.getData("application/pdfjs");if(!_r)return;try{_r=JSON.parse(_r)}catch(Ir){(0,_e.warn)(`paste: "${Ir.message}".`);return}if(!Array.isArray(_r))return;this.unselectAll();const $r=this.currentLayer;try{const Ir=[];for(const Wt of _r){const ir=$r.deserialize(Wt);if(!ir)return;Ir.push(ir)}const Ar=()=>{for(const Wt of Ir)er(this,Yt,Qs).call(this,Wt);er(this,Yt,Js).call(this,Ir)},qt=()=>{for(const Wt of Ir)Wt.remove()};this.addCommands({cmd:Ar,undo:qt,mustExec:!0})}catch(Ir){(0,_e.warn)(`paste: "${Ir.message}".`)}}keydown(Xt){var yr;(yr=this.getActive())!=null&&yr.shouldGetKeyboardEvents()||Hr._keyboardManager.exec(this,Xt)}onEditingAction(Xt){["undo","redo","delete","selectAll"].includes(Xt.name)&&this[Xt.name]()}setEditingState(Xt){Xt?(er(this,Yt,ko).call(this),er(this,Yt,Gs).call(this),er(this,Yt,Ys).call(this),er(this,Yt,an).call(this,{isEditing:_t(this,Bt)!==_e.AnnotationEditorType.NONE,isEmpty:er(this,Yt,os).call(this),hasSomethingToUndo:_t(this,St).hasSomethingToUndo(),hasSomethingToRedo:_t(this,St).hasSomethingToRedo(),hasSelectedEditor:!1})):(er(this,Yt,Ks).call(this),er(this,Yt,bs).call(this),er(this,Yt,Xs).call(this),er(this,Yt,an).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Xt){if(!_t(this,Dt)){tr(this,Dt,Xt);for(const yr of _t(this,Dt))er(this,Yt,as).call(this,yr.defaultPropertiesToUpdate)}}getId(){return _t(this,At).getId()}get currentLayer(){return _t(this,Ct).get(_t(this,Ot))}getLayer(Xt){return _t(this,Ct).get(Xt)}get currentPageIndex(){return _t(this,Ot)}addLayer(Xt){_t(this,Ct).set(Xt.pageIndex,Xt),_t(this,$t)?Xt.enable():Xt.disable()}removeLayer(Xt){_t(this,Ct).delete(Xt.pageIndex)}updateMode(Xt,yr=null){if(_t(this,Bt)!==Xt){if(tr(this,Bt,Xt),Xt===_e.AnnotationEditorType.NONE){this.setEditingState(!1),er(this,Yt,Do).call(this);return}this.setEditingState(!0),er(this,Yt,Io).call(this),this.unselectAll();for(const _r of _t(this,Ct).values())_r.updateMode(Xt);if(yr){for(const _r of _t(this,xt).values())if(_r.annotationElementId===yr){this.setSelected(_r),_r.enterInEditMode();break}}}}updateToolbar(Xt){Xt!==_t(this,Bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Xt})}updateParams(Xt,yr){if(_t(this,Dt)){if(Xt===_e.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Xt);return}for(const _r of _t(this,Ut))_r.updateParams(Xt,yr);for(const _r of _t(this,Dt))_r.updateDefaultParams(Xt,yr)}}enableWaiting(Xt=!1){if(_t(this,Mt)!==Xt){tr(this,Mt,Xt);for(const yr of _t(this,Ct).values())Xt?yr.disableClick():yr.enableClick(),yr.div.classList.toggle("waiting",Xt)}}getEditors(Xt){const yr=[];for(const _r of _t(this,xt).values())_r.pageIndex===Xt&&yr.push(_r);return yr}getEditor(Xt){return _t(this,xt).get(Xt)}addEditor(Xt){_t(this,xt).set(Xt.id,Xt)}removeEditor(Xt){var yr;_t(this,xt).delete(Xt.id),this.unselect(Xt),(!Xt.annotationElementId||!_t(this,Pt).has(Xt.annotationElementId))&&((yr=_t(this,Nt))==null||yr.remove(Xt.id))}addDeletedAnnotationElement(Xt){_t(this,Pt).add(Xt.annotationElementId),Xt.deleted=!0}isDeletedAnnotationElement(Xt){return _t(this,Pt).has(Xt)}removeDeletedAnnotationElement(Xt){_t(this,Pt).delete(Xt.annotationElementId),Xt.deleted=!1}setActiveEditor(Xt){_t(this,jt)!==Xt&&(tr(this,jt,Xt),Xt&&er(this,Yt,as).call(this,Xt.propertiesToUpdate))}toggleSelected(Xt){if(_t(this,Ut).has(Xt)){_t(this,Ut).delete(Xt),Xt.unselect(),er(this,Yt,an).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,Ut).add(Xt),Xt.select(),er(this,Yt,as).call(this,Xt.propertiesToUpdate),er(this,Yt,an).call(this,{hasSelectedEditor:!0})}setSelected(Xt){for(const yr of _t(this,Ut))yr!==Xt&&yr.unselect();_t(this,Ut).clear(),_t(this,Ut).add(Xt),Xt.select(),er(this,Yt,as).call(this,Xt.propertiesToUpdate),er(this,Yt,an).call(this,{hasSelectedEditor:!0})}isSelected(Xt){return _t(this,Ut).has(Xt)}unselect(Xt){Xt.unselect(),_t(this,Ut).delete(Xt),er(this,Yt,an).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,Ut).size!==0}undo(){_t(this,St).undo(),er(this,Yt,an).call(this,{hasSomethingToUndo:_t(this,St).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:er(this,Yt,os).call(this)})}redo(){_t(this,St).redo(),er(this,Yt,an).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,St).hasSomethingToRedo(),isEmpty:er(this,Yt,os).call(this)})}addCommands(Xt){_t(this,St).add(Xt),er(this,Yt,an).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:er(this,Yt,os).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Xt=[..._t(this,Ut)],yr=()=>{for(const $r of Xt)$r.remove()},_r=()=>{for(const $r of Xt)er(this,Yt,Qs).call(this,$r)};this.addCommands({cmd:yr,undo:_r,mustExec:!0})}commitOrRemove(){var Xt;(Xt=_t(this,jt))==null||Xt.commitOrRemove()}hasSomethingToControl(){return _t(this,jt)||this.hasSelection}selectAll(){for(const Xt of _t(this,Ut))Xt.commit();er(this,Yt,Js).call(this,_t(this,xt).values())}unselectAll(){if(_t(this,jt)){_t(this,jt).commitOrRemove();return}if(this.hasSelection){for(const Xt of _t(this,Ut))Xt.unselect();_t(this,Ut).clear(),er(this,Yt,an).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Xt,yr,_r=!1){if(_r||this.commitOrRemove(),!this.hasSelection)return;_t(this,lr)[0]+=Xt,_t(this,lr)[1]+=yr;const[$r,Ir]=_t(this,lr),Ar=[..._t(this,Ut)],qt=1e3;_t(this,Ft)&&clearTimeout(_t(this,Ft)),tr(this,Ft,setTimeout(()=>{tr(this,Ft,null),_t(this,lr)[0]=_t(this,lr)[1]=0,this.addCommands({cmd:()=>{for(const Wt of Ar)_t(this,xt).has(Wt.id)&&Wt.translateInPage($r,Ir)},undo:()=>{for(const Wt of Ar)_t(this,xt).has(Wt.id)&&Wt.translateInPage(-$r,-Ir)},mustExec:!1})},qt));for(const Wt of Ar)Wt.translateInPage(Xt,yr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),tr(this,wt,new Map);for(const Xt of _t(this,Ut))_t(this,wt).set(Xt,{savedX:Xt.x,savedY:Xt.y,savedPageIndex:Xt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,wt))return!1;this.disableUserSelect(!1);const Xt=_t(this,wt);tr(this,wt,null);let yr=!1;for(const[{x:$r,y:Ir,pageIndex:Ar},qt]of Xt)qt.newX=$r,qt.newY=Ir,qt.newPageIndex=Ar,yr||(yr=$r!==qt.savedX||Ir!==qt.savedY||Ar!==qt.savedPageIndex);if(!yr)return!1;const _r=($r,Ir,Ar,qt)=>{if(_t(this,xt).has($r.id)){const Wt=_t(this,Ct).get(qt);Wt?$r._setParentAndPosition(Wt,Ir,Ar):($r.pageIndex=qt,$r.x=Ir,$r.y=Ar)}};return this.addCommands({cmd:()=>{for(const[$r,{newX:Ir,newY:Ar,newPageIndex:qt}]of Xt)_r($r,Ir,Ar,qt)},undo:()=>{for(const[$r,{savedX:Ir,savedY:Ar,savedPageIndex:qt}]of Xt)_r($r,Ir,Ar,qt)},mustExec:!0}),!0}dragSelectedEditors(Xt,yr){if(_t(this,wt))for(const _r of _t(this,wt).keys())_r.drag(Xt,yr)}rebuild(Xt){if(Xt.parent===null){const yr=this.getLayer(Xt.pageIndex);yr?(yr.changeParent(Xt),yr.addOrRebuild(Xt)):(this.addEditor(Xt),this.addToAnnotationStorage(Xt),Xt.rebuild())}else Xt.parent.addOrRebuild(Xt)}isActive(Xt){return _t(this,jt)===Xt}getActive(){return _t(this,jt)}getMode(){return _t(this,Bt)}get imageManager(){return(0,_e.shadow)(this,"imageManager",new st)}};jt=new WeakMap,xt=new WeakMap,Ct=new WeakMap,kt=new WeakMap,Nt=new WeakMap,St=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,wt=new WeakMap,Dt=new WeakMap,Vt=new WeakMap,It=new WeakMap,At=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,zt=new WeakMap,Qt=new WeakMap,sr=new WeakMap,Kt=new WeakMap,fr=new WeakMap,dr=new WeakMap,xr=new WeakMap,ar=new WeakMap,rr=new WeakMap,Lt=new WeakMap,Zt=new WeakMap,or=new WeakMap,lr=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Yt=new WeakSet,ko=function(){window.addEventListener("focus",_t(this,sr)),window.addEventListener("blur",_t(this,Qt))},Ks=function(){window.removeEventListener("focus",_t(this,sr)),window.removeEventListener("blur",_t(this,Qt))},Gs=function(){window.addEventListener("keydown",_t(this,xr),{capture:!0})},bs=function(){window.removeEventListener("keydown",_t(this,xr),{capture:!0})},Ys=function(){document.addEventListener("copy",_t(this,Kt)),document.addEventListener("cut",_t(this,fr)),document.addEventListener("paste",_t(this,dr))},Xs=function(){document.removeEventListener("copy",_t(this,Kt)),document.removeEventListener("cut",_t(this,fr)),document.removeEventListener("paste",_t(this,dr))},an=function(Xt){Object.entries(Xt).some(([_r,$r])=>_t(this,or)[_r]!==$r)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,or),Xt)})},as=function(Xt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Xt})},Io=function(){if(!_t(this,$t)){tr(this,$t,!0);for(const Xt of _t(this,Ct).values())Xt.enable()}},Do=function(){if(this.unselectAll(),_t(this,$t)){tr(this,$t,!1);for(const Xt of _t(this,Ct).values())Xt.disable()}},Qs=function(Xt){const yr=_t(this,Ct).get(Xt.pageIndex);yr?yr.addOrRebuild(Xt):this.addEditor(Xt)},os=function(){if(_t(this,xt).size===0)return!0;if(_t(this,xt).size===1)for(const Xt of _t(this,xt).values())return Xt.isEmpty();return!1},Js=function(Xt){_t(this,Ut).clear();for(const yr of Xt)yr.isEmpty()||(_t(this,Ut).add(yr),yr.select());er(this,Yt,an).call(this,{hasSelectedEditor:!0})},Gr(Hr,"TRANSLATE_SMALL",1),Gr(Hr,"TRANSLATE_BIG",10);let ct=Hr;_.AnnotationEditorUIManager=ct},(j,_,$)=>{var Ot,Pt,wt,Dt,Vt,It,At,$t,Mt,Ht,Bt,Ut,Vn,Hn,_i,Es,js,ls,cs;Object.defineProperty(_,"__esModule",{value:!0}),_.StatTimer=_.RenderingCancelledException=_.PixelsPerInch=_.PageViewport=_.PDFDateString=_.DOMStandardFontDataFactory=_.DOMSVGFactory=_.DOMFilterFactory=_.DOMCanvasFactory=_.DOMCMapReaderFactory=void 0,_.deprecated=mt,_.getColorValues=xt,_.getCurrentTransform=Ct,_.getCurrentTransformInverse=kt,_.getFilenameFromUrl=ft,_.getPdfFilenameFromUrl=ht,_.getRGB=jt,_.getXfaPageViewport=Tt,_.isDataScheme=ut,_.isPdfFile=lt,_.isValidFetchUrl=vt,_.loadScript=bt,_.noContextMenu=gt,_.setLayerDimensions=Nt;var _e=$(7),et=$(1);const tt="http://www.w3.org/2000/svg",St=class St{};Gr(St,"CSS",96),Gr(St,"PDF",72),Gr(St,"PDF_TO_CSS_UNITS",St.CSS/St.PDF);let rt=St;_.PixelsPerInch=rt;class nt extends _e.BaseFilterFactory{constructor({docId:Lt,ownerDocument:Zt=globalThis.document}={}){super();nr(this,Ut);nr(this,Ot);nr(this,Pt);nr(this,wt);nr(this,Dt);nr(this,Vt);nr(this,It);nr(this,At);nr(this,$t);nr(this,Mt);nr(this,Ht);nr(this,Bt,0);tr(this,wt,Lt),tr(this,Dt,Zt)}addFilter(Lt){if(!Lt)return"none";let Zt=_t(this,Ut,Vn).get(Lt);if(Zt)return Zt;let or,lr,Ft,Gt;if(Lt.length===1){const cr=Lt[0],jr=new Array(256);for(let Rr=0;Rr<256;Rr++)jr[Rr]=cr[Rr]/255;Gt=or=lr=Ft=jr.join(",")}else{const[cr,jr,Rr]=Lt,Mr=new Array(256),Sr=new Array(256),Dr=new Array(256);for(let Br=0;Br<256;Br++)Mr[Br]=cr[Br]/255,Sr[Br]=jr[Br]/255,Dr[Br]=Rr[Br]/255;or=Mr.join(","),lr=Sr.join(","),Ft=Dr.join(","),Gt=`${or}${lr}${Ft}`}if(Zt=_t(this,Ut,Vn).get(Gt),Zt)return _t(this,Ut,Vn).set(Lt,Zt),Zt;const Jt=`g_${_t(this,wt)}_transfer_map_${jn(this,Bt)._++}`,Yt=`url(#${Jt})`;_t(this,Ut,Vn).set(Lt,Yt),_t(this,Ut,Vn).set(Gt,Yt);const hr=er(this,Ut,Es).call(this,Jt);return er(this,Ut,ls).call(this,or,lr,Ft,hr),Yt}addHCMFilter(Lt,Zt){var jr;const or=`${Lt}-${Zt}`;if(_t(this,It)===or)return _t(this,At);if(tr(this,It,or),tr(this,At,"none"),(jr=_t(this,Vt))==null||jr.remove(),!Lt||!Zt)return _t(this,At);const lr=er(this,Ut,cs).call(this,Lt);Lt=et.Util.makeHexColor(...lr);const Ft=er(this,Ut,cs).call(this,Zt);if(Zt=et.Util.makeHexColor(...Ft),_t(this,Ut,Hn).style.color="",Lt==="#000000"&&Zt==="#ffffff"||Lt===Zt)return _t(this,At);const Gt=new Array(256);for(let Rr=0;Rr<=255;Rr++){const Mr=Rr/255;Gt[Rr]=Mr<=.03928?Mr/12.92:((Mr+.055)/1.055)**2.4}const Jt=Gt.join(","),Yt=`g_${_t(this,wt)}_hcm_filter`,hr=tr(this,$t,er(this,Ut,Es).call(this,Yt));er(this,Ut,ls).call(this,Jt,Jt,Jt,hr),er(this,Ut,_i).call(this,hr);const cr=(Rr,Mr)=>{const Sr=lr[Rr]/255,Dr=Ft[Rr]/255,Br=new Array(Mr+1);for(let Wr=0;Wr<=Mr;Wr++)Br[Wr]=Sr+Wr/Mr*(Dr-Sr);return Br.join(",")};return er(this,Ut,ls).call(this,cr(0,5),cr(1,5),cr(2,5),hr),tr(this,At,`url(#${Yt})`),_t(this,At)}addHighlightHCMFilter(Lt,Zt,or,lr){var Dr;const Ft=`${Lt}-${Zt}-${or}-${lr}`;if(_t(this,Mt)===Ft)return _t(this,Ht);if(tr(this,Mt,Ft),tr(this,Ht,"none"),(Dr=_t(this,$t))==null||Dr.remove(),!Lt||!Zt)return _t(this,Ht);const[Gt,Jt]=[Lt,Zt].map(er(this,Ut,cs).bind(this));let Yt=Math.round(.2126*Gt[0]+.7152*Gt[1]+.0722*Gt[2]),hr=Math.round(.2126*Jt[0]+.7152*Jt[1]+.0722*Jt[2]),[cr,jr]=[or,lr].map(er(this,Ut,cs).bind(this));hr<Yt&&([Yt,hr,cr,jr]=[hr,Yt,jr,cr]),_t(this,Ut,Hn).style.color="";const Rr=(Br,Wr,vr)=>{const ur=new Array(256),pr=(hr-Yt)/vr,Cr=Br/255,Hr=(Wr-Br)/(255*vr);let Vr=0;for(let Xt=0;Xt<=vr;Xt++){const yr=Math.round(Yt+Xt*pr),_r=Cr+Xt*Hr;for(let $r=Vr;$r<=yr;$r++)ur[$r]=_r;Vr=yr+1}for(let Xt=Vr;Xt<256;Xt++)ur[Xt]=ur[Vr-1];return ur.join(",")},Mr=`g_${_t(this,wt)}_hcm_highlight_filter`,Sr=tr(this,$t,er(this,Ut,Es).call(this,Mr));return er(this,Ut,_i).call(this,Sr),er(this,Ut,ls).call(this,Rr(cr[0],jr[0],5),Rr(cr[1],jr[1],5),Rr(cr[2],jr[2],5),Sr),tr(this,Ht,`url(#${Mr})`),_t(this,Ht)}destroy(Lt=!1){Lt&&(_t(this,At)||_t(this,Ht))||(_t(this,Pt)&&(_t(this,Pt).parentNode.parentNode.remove(),tr(this,Pt,null)),_t(this,Ot)&&(_t(this,Ot).clear(),tr(this,Ot,null)),tr(this,Bt,0))}}Ot=new WeakMap,Pt=new WeakMap,wt=new WeakMap,Dt=new WeakMap,Vt=new WeakMap,It=new WeakMap,At=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,Ut=new WeakSet,Vn=function(){return _t(this,Ot)||tr(this,Ot,new Map)},Hn=function(){if(!_t(this,Pt)){const Lt=_t(this,Dt).createElement("div"),{style:Zt}=Lt;Zt.visibility="hidden",Zt.contain="strict",Zt.width=Zt.height=0,Zt.position="absolute",Zt.top=Zt.left=0,Zt.zIndex=-1;const or=_t(this,Dt).createElementNS(tt,"svg");or.setAttribute("width",0),or.setAttribute("height",0),tr(this,Pt,_t(this,Dt).createElementNS(tt,"defs")),Lt.append(or),or.append(_t(this,Pt)),_t(this,Dt).body.append(Lt)}return _t(this,Pt)},_i=function(Lt){const Zt=_t(this,Dt).createElementNS(tt,"feColorMatrix");Zt.setAttribute("type","matrix"),Zt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Lt.append(Zt)},Es=function(Lt){const Zt=_t(this,Dt).createElementNS(tt,"filter");return Zt.setAttribute("color-interpolation-filters","sRGB"),Zt.setAttribute("id",Lt),_t(this,Ut,Hn).append(Zt),Zt},js=function(Lt,Zt,or){const lr=_t(this,Dt).createElementNS(tt,Zt);lr.setAttribute("type","discrete"),lr.setAttribute("tableValues",or),Lt.append(lr)},ls=function(Lt,Zt,or,lr){const Ft=_t(this,Dt).createElementNS(tt,"feComponentTransfer");lr.append(Ft),er(this,Ut,js).call(this,Ft,"feFuncR",Lt),er(this,Ut,js).call(this,Ft,"feFuncG",Zt),er(this,Ut,js).call(this,Ft,"feFuncB",or)},cs=function(Lt){return _t(this,Ut,Hn).style.color=Lt,jt(getComputedStyle(_t(this,Ut,Hn)).getPropertyValue("color"))},_.DOMFilterFactory=nt;class st extends _e.BaseCanvasFactory{constructor({ownerDocument:rr=globalThis.document}={}){super(),this._document=rr}_createCanvas(rr,Lt){const Zt=this._document.createElement("canvas");return Zt.width=rr,Zt.height=Lt,Zt}}_.DOMCanvasFactory=st;async function it(ar,rr=!1){if(vt(ar,document.baseURI)){const Lt=await fetch(ar);if(!Lt.ok)throw new Error(Lt.statusText);return rr?new Uint8Array(await Lt.arrayBuffer()):(0,et.stringToBytes)(await Lt.text())}return new Promise((Lt,Zt)=>{const or=new XMLHttpRequest;or.open("GET",ar,!0),rr&&(or.responseType="arraybuffer"),or.onreadystatechange=()=>{if(or.readyState===XMLHttpRequest.DONE){if(or.status===200||or.status===0){let lr;if(rr&&or.response?lr=new Uint8Array(or.response):!rr&&or.responseText&&(lr=(0,et.stringToBytes)(or.responseText)),lr){Lt(lr);return}}Zt(new Error(or.statusText))}},or.send(null)})}class at extends _e.BaseCMapReaderFactory{_fetchData(rr,Lt){return it(rr,this.isCompressed).then(Zt=>({cMapData:Zt,compressionType:Lt}))}}_.DOMCMapReaderFactory=at;class ot extends _e.BaseStandardFontDataFactory{_fetchData(rr){return it(rr,!0)}}_.DOMStandardFontDataFactory=ot;class ct extends _e.BaseSVGFactory{_createSVG(rr){return document.createElementNS(tt,rr)}}_.DOMSVGFactory=ct;class dt{constructor({viewBox:rr,scale:Lt,rotation:Zt,offsetX:or=0,offsetY:lr=0,dontFlip:Ft=!1}){this.viewBox=rr,this.scale=Lt,this.rotation=Zt,this.offsetX=or,this.offsetY=lr;const Gt=(rr[2]+rr[0])/2,Jt=(rr[3]+rr[1])/2;let Yt,hr,cr,jr;switch(Zt%=360,Zt<0&&(Zt+=360),Zt){case 180:Yt=-1,hr=0,cr=0,jr=1;break;case 90:Yt=0,hr=1,cr=1,jr=0;break;case 270:Yt=0,hr=-1,cr=-1,jr=0;break;case 0:Yt=1,hr=0,cr=0,jr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ft&&(cr=-cr,jr=-jr);let Rr,Mr,Sr,Dr;Yt===0?(Rr=Math.abs(Jt-rr[1])*Lt+or,Mr=Math.abs(Gt-rr[0])*Lt+lr,Sr=(rr[3]-rr[1])*Lt,Dr=(rr[2]-rr[0])*Lt):(Rr=Math.abs(Gt-rr[0])*Lt+or,Mr=Math.abs(Jt-rr[1])*Lt+lr,Sr=(rr[2]-rr[0])*Lt,Dr=(rr[3]-rr[1])*Lt),this.transform=[Yt*Lt,hr*Lt,cr*Lt,jr*Lt,Rr-Yt*Lt*Gt-cr*Lt*Jt,Mr-hr*Lt*Gt-jr*Lt*Jt],this.width=Sr,this.height=Dr}get rawDims(){const{viewBox:rr}=this;return(0,et.shadow)(this,"rawDims",{pageWidth:rr[2]-rr[0],pageHeight:rr[3]-rr[1],pageX:rr[0],pageY:rr[1]})}clone({scale:rr=this.scale,rotation:Lt=this.rotation,offsetX:Zt=this.offsetX,offsetY:or=this.offsetY,dontFlip:lr=!1}={}){return new dt({viewBox:this.viewBox.slice(),scale:rr,rotation:Lt,offsetX:Zt,offsetY:or,dontFlip:lr})}convertToViewportPoint(rr,Lt){return et.Util.applyTransform([rr,Lt],this.transform)}convertToViewportRectangle(rr){const Lt=et.Util.applyTransform([rr[0],rr[1]],this.transform),Zt=et.Util.applyTransform([rr[2],rr[3]],this.transform);return[Lt[0],Lt[1],Zt[0],Zt[1]]}convertToPdfPoint(rr,Lt){return et.Util.applyInverseTransform([rr,Lt],this.transform)}}_.PageViewport=dt;class pt extends et.BaseException{constructor(rr,Lt=0){super(rr,"RenderingCancelledException"),this.extraDelay=Lt}}_.RenderingCancelledException=pt;function ut(ar){const rr=ar.length;let Lt=0;for(;Lt<rr&&ar[Lt].trim()==="";)Lt++;return ar.substring(Lt,Lt+5).toLowerCase()==="data:"}function lt(ar){return typeof ar=="string"&&/\.pdf$/i.test(ar)}function ft(ar,rr=!1){return rr||([ar]=ar.split(/[#?]/,1)),ar.substring(ar.lastIndexOf("/")+1)}function ht(ar,rr="document.pdf"){if(typeof ar!="string")return rr;if(ut(ar))return(0,et.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),rr;const Lt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Zt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,or=Lt.exec(ar);let lr=Zt.exec(or[1])||Zt.exec(or[2])||Zt.exec(or[3]);if(lr&&(lr=lr[0],lr.includes("%")))try{lr=Zt.exec(decodeURIComponent(lr))[0]}catch{}return lr||rr}class yt{constructor(){Gr(this,"started",Object.create(null));Gr(this,"times",[])}time(rr){rr in this.started&&(0,et.warn)(`Timer is already running for ${rr}`),this.started[rr]=Date.now()}timeEnd(rr){rr in this.started||(0,et.warn)(`Timer has not been started for ${rr}`),this.times.push({name:rr,start:this.started[rr],end:Date.now()}),delete this.started[rr]}toString(){const rr=[];let Lt=0;for(const{name:Zt}of this.times)Lt=Math.max(Zt.length,Lt);for(const{name:Zt,start:or,end:lr}of this.times)rr.push(`${Zt.padEnd(Lt)} ${lr-or}ms
`);return rr.join("")}}_.StatTimer=yt;function vt(ar,rr){try{const{protocol:Lt}=rr?new URL(ar,rr):new URL(ar);return Lt==="http:"||Lt==="https:"}catch{return!1}}function gt(ar){ar.preventDefault()}function bt(ar,rr=!1){return new Promise((Lt,Zt)=>{const or=document.createElement("script");or.src=ar,or.onload=function(lr){rr&&or.remove(),Lt(lr)},or.onerror=function(){Zt(new Error(`Cannot load script at: ${or.src}`))},(document.head||document.documentElement).append(or)})}function mt(ar){console.log("Deprecated API usage: "+ar)}let Et;class Rt{static toDateObject(rr){if(!rr||typeof rr!="string")return null;Et||(Et=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Lt=Et.exec(rr);if(!Lt)return null;const Zt=parseInt(Lt[1],10);let or=parseInt(Lt[2],10);or=or>=1&&or<=12?or-1:0;let lr=parseInt(Lt[3],10);lr=lr>=1&&lr<=31?lr:1;let Ft=parseInt(Lt[4],10);Ft=Ft>=0&&Ft<=23?Ft:0;let Gt=parseInt(Lt[5],10);Gt=Gt>=0&&Gt<=59?Gt:0;let Jt=parseInt(Lt[6],10);Jt=Jt>=0&&Jt<=59?Jt:0;const Yt=Lt[7]||"Z";let hr=parseInt(Lt[8],10);hr=hr>=0&&hr<=23?hr:0;let cr=parseInt(Lt[9],10)||0;return cr=cr>=0&&cr<=59?cr:0,Yt==="-"?(Ft+=hr,Gt+=cr):Yt==="+"&&(Ft-=hr,Gt-=cr),new Date(Date.UTC(Zt,or,lr,Ft,Gt,Jt))}}_.PDFDateString=Rt;function Tt(ar,{scale:rr=1,rotation:Lt=0}){const{width:Zt,height:or}=ar.attributes.style,lr=[0,0,parseInt(Zt),parseInt(or)];return new dt({viewBox:lr,scale:rr,rotation:Lt})}function jt(ar){if(ar.startsWith("#")){const rr=parseInt(ar.slice(1),16);return[(rr&16711680)>>16,(rr&65280)>>8,rr&255]}return ar.startsWith("rgb(")?ar.slice(4,-1).split(",").map(rr=>parseInt(rr)):ar.startsWith("rgba(")?ar.slice(5,-1).split(",").map(rr=>parseInt(rr)).slice(0,3):((0,et.warn)(`Not a valid color format: "${ar}"`),[0,0,0])}function xt(ar){const rr=document.createElement("span");rr.style.visibility="hidden",document.body.append(rr);for(const Lt of ar.keys()){rr.style.color=Lt;const Zt=window.getComputedStyle(rr).color;ar.set(Lt,jt(Zt))}rr.remove()}function Ct(ar){const{a:rr,b:Lt,c:Zt,d:or,e:lr,f:Ft}=ar.getTransform();return[rr,Lt,Zt,or,lr,Ft]}function kt(ar){const{a:rr,b:Lt,c:Zt,d:or,e:lr,f:Ft}=ar.getTransform().invertSelf();return[rr,Lt,Zt,or,lr,Ft]}function Nt(ar,rr,Lt=!1,Zt=!0){if(rr instanceof dt){const{pageWidth:or,pageHeight:lr}=rr.rawDims,{style:Ft}=ar,Gt=et.FeatureTest.isCSSRoundSupported,Jt=`var(--scale-factor) * ${or}px`,Yt=`var(--scale-factor) * ${lr}px`,hr=Gt?`round(${Jt}, 1px)`:`calc(${Jt})`,cr=Gt?`round(${Yt}, 1px)`:`calc(${Yt})`;!Lt||rr.rotation%180===0?(Ft.width=hr,Ft.height=cr):(Ft.width=cr,Ft.height=hr)}Zt&&ar.setAttribute("data-main-rotation",rr.rotation)}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseStandardFontDataFactory=_.BaseSVGFactory=_.BaseFilterFactory=_.BaseCanvasFactory=_.BaseCMapReaderFactory=void 0;var _e=$(1);class et{constructor(){this.constructor===et&&(0,_e.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(at){return"none"}addHCMFilter(at,ot){return"none"}addHighlightHCMFilter(at,ot,ct,dt){return"none"}destroy(at=!1){}}_.BaseFilterFactory=et;class tt{constructor(){this.constructor===tt&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(at,ot){if(at<=0||ot<=0)throw new Error("Invalid canvas size");const ct=this._createCanvas(at,ot);return{canvas:ct,context:ct.getContext("2d")}}reset(at,ot,ct){if(!at.canvas)throw new Error("Canvas is not specified");if(ot<=0||ct<=0)throw new Error("Invalid canvas size");at.canvas.width=ot,at.canvas.height=ct}destroy(at){if(!at.canvas)throw new Error("Canvas is not specified");at.canvas.width=0,at.canvas.height=0,at.canvas=null,at.context=null}_createCanvas(at,ot){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}_.BaseCanvasFactory=tt;class rt{constructor({baseUrl:at=null,isCompressed:ot=!0}){this.constructor===rt&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=at,this.isCompressed=ot}async fetch({name:at}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!at)throw new Error("CMap name must be specified.");const ot=this.baseUrl+at+(this.isCompressed?".bcmap":""),ct=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(ot,ct).catch(dt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ot}`)})}_fetchData(at,ot){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}_.BaseCMapReaderFactory=rt;class nt{constructor({baseUrl:at=null}){this.constructor===nt&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=at}async fetch({filename:at}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!at)throw new Error("Font filename must be specified.");const ot=`${this.baseUrl}${at}`;return this._fetchData(ot).catch(ct=>{throw new Error(`Unable to load font data at: ${ot}`)})}_fetchData(at){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}_.BaseStandardFontDataFactory=nt;class st{constructor(){this.constructor===st&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(at,ot,ct=!1){if(at<=0||ot<=0)throw new Error("Invalid SVG dimensions");const dt=this._createSVG("svg:svg");return dt.setAttribute("version","1.1"),ct||(dt.setAttribute("width",`${at}px`),dt.setAttribute("height",`${ot}px`)),dt.setAttribute("preserveAspectRatio","none"),dt.setAttribute("viewBox",`0 0 ${at} ${ot}`),dt}createElement(at){if(typeof at!="string")throw new Error("Invalid SVG element type");return this._createSVG(at)}_createSVG(at){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}_.BaseSVGFactory=st},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.MurmurHash3_64=void 0;var _e=$(1);const et=3285377520,tt=4294901760,rt=65535;class nt{constructor(it){this.h1=it?it&4294967295:et,this.h2=it?it&4294967295:et}update(it){let at,ot;if(typeof it=="string"){at=new Uint8Array(it.length*2),ot=0;for(let mt=0,Et=it.length;mt<Et;mt++){const Rt=it.charCodeAt(mt);Rt<=255?at[ot++]=Rt:(at[ot++]=Rt>>>8,at[ot++]=Rt&255)}}else if((0,_e.isArrayBuffer)(it))at=it.slice(),ot=at.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ct=ot>>2,dt=ot-ct*4,pt=new Uint32Array(at.buffer,0,ct);let ut=0,lt=0,ft=this.h1,ht=this.h2;const yt=3432918353,vt=461845907,gt=yt&rt,bt=vt&rt;for(let mt=0;mt<ct;mt++)mt&1?(ut=pt[mt],ut=ut*yt&tt|ut*gt&rt,ut=ut<<15|ut>>>17,ut=ut*vt&tt|ut*bt&rt,ft^=ut,ft=ft<<13|ft>>>19,ft=ft*5+3864292196):(lt=pt[mt],lt=lt*yt&tt|lt*gt&rt,lt=lt<<15|lt>>>17,lt=lt*vt&tt|lt*bt&rt,ht^=lt,ht=ht<<13|ht>>>19,ht=ht*5+3864292196);switch(ut=0,dt){case 3:ut^=at[ct*4+2]<<16;case 2:ut^=at[ct*4+1]<<8;case 1:ut^=at[ct*4],ut=ut*yt&tt|ut*gt&rt,ut=ut<<15|ut>>>17,ut=ut*vt&tt|ut*bt&rt,ct&1?ft^=ut:ht^=ut}this.h1=ft,this.h2=ht}hexdigest(){let it=this.h1,at=this.h2;return it^=at>>>1,it=it*3981806797&tt|it*36045&rt,at=at*4283543511&tt|((at<<16|it>>>16)*2950163797&tt)>>>16,it^=at>>>1,it=it*444984403&tt|it*60499&rt,at=at*3301882366&tt|((at<<16|it>>>16)*3120437893&tt)>>>16,it^=at>>>1,(it>>>0).toString(16).padStart(8,"0")+(at>>>0).toString(16).padStart(8,"0")}}_.MurmurHash3_64=nt},(j,_,$)=>{var rt;Object.defineProperty(_,"__esModule",{value:!0}),_.FontLoader=_.FontFaceObject=void 0;var _e=$(1);class et{constructor({ownerDocument:st=globalThis.document,styleElement:it=null}){nr(this,rt,new Set);this._document=st,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(st){this.nativeFontFaces.add(st),this._document.fonts.add(st)}removeNativeFontFace(st){this.nativeFontFaces.delete(st),this._document.fonts.delete(st)}insertRule(st){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const it=this.styleElement.sheet;it.insertRule(st,it.cssRules.length)}clear(){for(const st of this.nativeFontFaces)this._document.fonts.delete(st);this.nativeFontFaces.clear(),_t(this,rt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(st){if(!(!st||_t(this,rt).has(st.loadedName))){if((0,_e.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:it,src:at,style:ot}=st,ct=new FontFace(it,at,ot);this.addNativeFontFace(ct);try{await ct.load(),_t(this,rt).add(it)}catch{(0,_e.warn)(`Cannot load system font: ${st.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ct)}return}(0,_e.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(st){if(st.attached||st.missingFile&&!st.systemFontInfo)return;if(st.attached=!0,st.systemFontInfo){await this.loadSystemFont(st.systemFontInfo);return}if(this.isFontLoadingAPISupported){const at=st.createNativeFontFace();if(at){this.addNativeFontFace(at);try{await at.loaded}catch(ot){throw(0,_e.warn)(`Failed to load font '${at.family}': '${ot}'.`),st.disableFontFace=!0,ot}}return}const it=st.createFontFaceRule();if(it){if(this.insertRule(it),this.isSyncFontLoadingSupported)return;await new Promise(at=>{const ot=this._queueLoadingCallback(at);this._prepareFontLoadEvent(st,ot)})}}get isFontLoadingAPISupported(){var it;const st=!!((it=this._document)!=null&&it.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",st)}get isSyncFontLoadingSupported(){let st=!1;return(_e.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(st=!0),(0,_e.shadow)(this,"isSyncFontLoadingSupported",st)}_queueLoadingCallback(st){function it(){for((0,_e.assert)(!ot.done,"completeRequest() cannot be called twice."),ot.done=!0;at.length>0&&at[0].done;){const ct=at.shift();setTimeout(ct.callback,0)}}const{loadingRequests:at}=this,ot={done:!1,complete:it,callback:st};return at.push(ot),ot}get _loadTestFont(){const st=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_e.shadow)(this,"_loadTestFont",st)}_prepareFontLoadEvent(st,it){function at(jt,xt){return jt.charCodeAt(xt)<<24|jt.charCodeAt(xt+1)<<16|jt.charCodeAt(xt+2)<<8|jt.charCodeAt(xt+3)&255}function ot(jt,xt,Ct,kt){const Nt=jt.substring(0,xt),St=jt.substring(xt+Ct);return Nt+kt+St}let ct,dt;const pt=this._document.createElement("canvas");pt.width=1,pt.height=1;const ut=pt.getContext("2d");let lt=0;function ft(jt,xt){if(++lt>30){(0,_e.warn)("Load test font never loaded."),xt();return}if(ut.font="30px "+jt,ut.fillText(".",0,20),ut.getImageData(0,0,1,1).data[3]>0){xt();return}setTimeout(ft.bind(null,jt,xt))}const ht=`lt${Date.now()}${this.loadTestFontId++}`;let yt=this._loadTestFont;yt=ot(yt,976,ht.length,ht);const gt=16,bt=1482184792;let mt=at(yt,gt);for(ct=0,dt=ht.length-3;ct<dt;ct+=4)mt=mt-bt+at(ht,ct)|0;ct<ht.length&&(mt=mt-bt+at(ht+"XXX",ct)|0),yt=ot(yt,gt,4,(0,_e.string32)(mt));const Et=`url(data:font/opentype;base64,${btoa(yt)});`,Rt=`@font-face {font-family:"${ht}";src:${Et}}`;this.insertRule(Rt);const Tt=this._document.createElement("div");Tt.style.visibility="hidden",Tt.style.width=Tt.style.height="10px",Tt.style.position="absolute",Tt.style.top=Tt.style.left="0px";for(const jt of[st.loadedName,ht]){const xt=this._document.createElement("span");xt.textContent="Hi",xt.style.fontFamily=jt,Tt.append(xt)}this._document.body.append(Tt),ft(ht,()=>{Tt.remove(),it.complete()})}}rt=new WeakMap,_.FontLoader=et;class tt{constructor(st,{isEvalSupported:it=!0,disableFontFace:at=!1,ignoreErrors:ot=!1,inspectFont:ct=null}){this.compiledGlyphs=Object.create(null);for(const dt in st)this[dt]=st[dt];this.isEvalSupported=it!==!1,this.disableFontFace=at===!0,this.ignoreErrors=ot===!0,this._inspectFont=ct}createNativeFontFace(){var it;if(!this.data||this.disableFontFace)return null;let st;if(!this.cssFontInfo)st=new FontFace(this.loadedName,this.data,{});else{const at={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(at.style=`oblique ${this.cssFontInfo.italicAngle}deg`),st=new FontFace(this.cssFontInfo.fontFamily,this.data,at)}return(it=this._inspectFont)==null||it.call(this,this),st}createFontFaceRule(){var ot;if(!this.data||this.disableFontFace)return null;const st=(0,_e.bytesToString)(this.data),it=`url(data:${this.mimetype};base64,${btoa(st)});`;let at;if(!this.cssFontInfo)at=`@font-face {font-family:"${this.loadedName}";src:${it}}`;else{let ct=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ct+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),at=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ct}src:${it}}`}return(ot=this._inspectFont)==null||ot.call(this,this,it),at}getPathGenerator(st,it){if(this.compiledGlyphs[it]!==void 0)return this.compiledGlyphs[it];let at;try{at=st.get(this.loadedName+"_path_"+it)}catch(ot){if(!this.ignoreErrors)throw ot;return(0,_e.warn)(`getPathGenerator - ignoring character: "${ot}".`),this.compiledGlyphs[it]=function(ct,dt){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const ot=[];for(const ct of at){const dt=ct.args!==void 0?ct.args.join(","):"";ot.push("c.",ct.cmd,"(",dt,`);
`)}return this.compiledGlyphs[it]=new Function("c","size",ot.join(""))}return this.compiledGlyphs[it]=function(ot,ct){for(const dt of at)dt.cmd==="scale"&&(dt.args=[ct,-ct]),ot[dt.cmd].apply(ot,dt.args)}}}_.FontFaceObject=tt},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NodeStandardFontDataFactory=_.NodeFilterFactory=_.NodeCanvasFactory=_.NodeCMapReaderFactory=void 0;var _e=$(7);$(1);const et=function(it){return new Promise((at,ot)=>{require$$5.readFile(it,(dt,pt)=>{if(dt||!pt){ot(new Error(dt));return}at(new Uint8Array(pt))})})};class tt extends _e.BaseFilterFactory{}_.NodeFilterFactory=tt;class rt extends _e.BaseCanvasFactory{_createCanvas(at,ot){return require$$5.createCanvas(at,ot)}}_.NodeCanvasFactory=rt;class nt extends _e.BaseCMapReaderFactory{_fetchData(at,ot){return et(at).then(ct=>({cMapData:ct,compressionType:ot}))}}_.NodeCMapReaderFactory=nt;class st extends _e.BaseStandardFontDataFactory{_fetchData(at){return et(at)}}_.NodeStandardFontDataFactory=st},(j,_,$)=>{var Pt,na,xa;Object.defineProperty(_,"__esModule",{value:!0}),_.CanvasGraphics=void 0;var _e=$(1),et=$(6),tt=$(12),rt=$(13);const nt=16,st=100,it=4096,at=15,ot=10,ct=1e3,dt=16;function pt(It,At){if(It._removeMirroring)throw new Error("Context is already forwarding operations.");It.__originalSave=It.save,It.__originalRestore=It.restore,It.__originalRotate=It.rotate,It.__originalScale=It.scale,It.__originalTranslate=It.translate,It.__originalTransform=It.transform,It.__originalSetTransform=It.setTransform,It.__originalResetTransform=It.resetTransform,It.__originalClip=It.clip,It.__originalMoveTo=It.moveTo,It.__originalLineTo=It.lineTo,It.__originalBezierCurveTo=It.bezierCurveTo,It.__originalRect=It.rect,It.__originalClosePath=It.closePath,It.__originalBeginPath=It.beginPath,It._removeMirroring=()=>{It.save=It.__originalSave,It.restore=It.__originalRestore,It.rotate=It.__originalRotate,It.scale=It.__originalScale,It.translate=It.__originalTranslate,It.transform=It.__originalTransform,It.setTransform=It.__originalSetTransform,It.resetTransform=It.__originalResetTransform,It.clip=It.__originalClip,It.moveTo=It.__originalMoveTo,It.lineTo=It.__originalLineTo,It.bezierCurveTo=It.__originalBezierCurveTo,It.rect=It.__originalRect,It.closePath=It.__originalClosePath,It.beginPath=It.__originalBeginPath,delete It._removeMirroring},It.save=function(){At.save(),this.__originalSave()},It.restore=function(){At.restore(),this.__originalRestore()},It.translate=function(Mt,Ht){At.translate(Mt,Ht),this.__originalTranslate(Mt,Ht)},It.scale=function(Mt,Ht){At.scale(Mt,Ht),this.__originalScale(Mt,Ht)},It.transform=function(Mt,Ht,Bt,Ut,zt,Qt){At.transform(Mt,Ht,Bt,Ut,zt,Qt),this.__originalTransform(Mt,Ht,Bt,Ut,zt,Qt)},It.setTransform=function(Mt,Ht,Bt,Ut,zt,Qt){At.setTransform(Mt,Ht,Bt,Ut,zt,Qt),this.__originalSetTransform(Mt,Ht,Bt,Ut,zt,Qt)},It.resetTransform=function(){At.resetTransform(),this.__originalResetTransform()},It.rotate=function(Mt){At.rotate(Mt),this.__originalRotate(Mt)},It.clip=function(Mt){At.clip(Mt),this.__originalClip(Mt)},It.moveTo=function($t,Mt){At.moveTo($t,Mt),this.__originalMoveTo($t,Mt)},It.lineTo=function($t,Mt){At.lineTo($t,Mt),this.__originalLineTo($t,Mt)},It.bezierCurveTo=function($t,Mt,Ht,Bt,Ut,zt){At.bezierCurveTo($t,Mt,Ht,Bt,Ut,zt),this.__originalBezierCurveTo($t,Mt,Ht,Bt,Ut,zt)},It.rect=function($t,Mt,Ht,Bt){At.rect($t,Mt,Ht,Bt),this.__originalRect($t,Mt,Ht,Bt)},It.closePath=function(){At.closePath(),this.__originalClosePath()},It.beginPath=function(){At.beginPath(),this.__originalBeginPath()}}class ut{constructor(At){this.canvasFactory=At,this.cache=Object.create(null)}getCanvas(At,$t,Mt){let Ht;return this.cache[At]!==void 0?(Ht=this.cache[At],this.canvasFactory.reset(Ht,$t,Mt)):(Ht=this.canvasFactory.create($t,Mt),this.cache[At]=Ht),Ht}delete(At){delete this.cache[At]}clear(){for(const At in this.cache){const $t=this.cache[At];this.canvasFactory.destroy($t),delete this.cache[At]}}}function lt(It,At,$t,Mt,Ht,Bt,Ut,zt,Qt,sr){const[Kt,fr,dr,xr,ar,rr]=(0,et.getCurrentTransform)(It);if(fr===0&&dr===0){const or=Ut*Kt+ar,lr=Math.round(or),Ft=zt*xr+rr,Gt=Math.round(Ft),Jt=(Ut+Qt)*Kt+ar,Yt=Math.abs(Math.round(Jt)-lr)||1,hr=(zt+sr)*xr+rr,cr=Math.abs(Math.round(hr)-Gt)||1;return It.setTransform(Math.sign(Kt),0,0,Math.sign(xr),lr,Gt),It.drawImage(At,$t,Mt,Ht,Bt,0,0,Yt,cr),It.setTransform(Kt,fr,dr,xr,ar,rr),[Yt,cr]}if(Kt===0&&xr===0){const or=zt*dr+ar,lr=Math.round(or),Ft=Ut*fr+rr,Gt=Math.round(Ft),Jt=(zt+sr)*dr+ar,Yt=Math.abs(Math.round(Jt)-lr)||1,hr=(Ut+Qt)*fr+rr,cr=Math.abs(Math.round(hr)-Gt)||1;return It.setTransform(0,Math.sign(fr),Math.sign(dr),0,lr,Gt),It.drawImage(At,$t,Mt,Ht,Bt,0,0,cr,Yt),It.setTransform(Kt,fr,dr,xr,ar,rr),[cr,Yt]}It.drawImage(At,$t,Mt,Ht,Bt,Ut,zt,Qt,sr);const Lt=Math.hypot(Kt,fr),Zt=Math.hypot(dr,xr);return[Lt*Qt,Zt*sr]}function ft(It){const{width:At,height:$t}=It;if(At>ct||$t>ct)return null;const Mt=1e3,Ht=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Bt=At+1;let Ut=new Uint8Array(Bt*($t+1)),zt,Qt,sr;const Kt=At+7&-8;let fr=new Uint8Array(Kt*$t),dr=0;for(const Zt of It.data){let or=128;for(;or>0;)fr[dr++]=Zt&or?0:255,or>>=1}let xr=0;for(dr=0,fr[dr]!==0&&(Ut[0]=1,++xr),Qt=1;Qt<At;Qt++)fr[dr]!==fr[dr+1]&&(Ut[Qt]=fr[dr]?2:1,++xr),dr++;for(fr[dr]!==0&&(Ut[Qt]=2,++xr),zt=1;zt<$t;zt++){dr=zt*Kt,sr=zt*Bt,fr[dr-Kt]!==fr[dr]&&(Ut[sr]=fr[dr]?1:8,++xr);let Zt=(fr[dr]?4:0)+(fr[dr-Kt]?8:0);for(Qt=1;Qt<At;Qt++)Zt=(Zt>>2)+(fr[dr+1]?4:0)+(fr[dr-Kt+1]?8:0),Ht[Zt]&&(Ut[sr+Qt]=Ht[Zt],++xr),dr++;if(fr[dr-Kt]!==fr[dr]&&(Ut[sr+Qt]=fr[dr]?2:4,++xr),xr>Mt)return null}for(dr=Kt*($t-1),sr=zt*Bt,fr[dr]!==0&&(Ut[sr]=8,++xr),Qt=1;Qt<At;Qt++)fr[dr]!==fr[dr+1]&&(Ut[sr+Qt]=fr[dr]?4:8,++xr),dr++;if(fr[dr]!==0&&(Ut[sr+Qt]=4,++xr),xr>Mt)return null;const ar=new Int32Array([0,Bt,-1,0,-Bt,0,0,0,1]),rr=new Path2D;for(zt=0;xr&&zt<=$t;zt++){let Zt=zt*Bt;const or=Zt+At;for(;Zt<or&&!Ut[Zt];)Zt++;if(Zt===or)continue;rr.moveTo(Zt%Bt,zt);const lr=Zt;let Ft=Ut[Zt];do{const Gt=ar[Ft];do Zt+=Gt;while(!Ut[Zt]);const Jt=Ut[Zt];Jt!==5&&Jt!==10?(Ft=Jt,Ut[Zt]=0):(Ft=Jt&51*Ft>>4,Ut[Zt]&=Ft>>2|Ft<<2),rr.lineTo(Zt%Bt,Zt/Bt|0),Ut[Zt]||--xr}while(lr!==Zt);--zt}return fr=null,Ut=null,function(Zt){Zt.save(),Zt.scale(1/At,-1/$t),Zt.translate(0,-$t),Zt.fill(rr),Zt.beginPath(),Zt.restore()}}class ht{constructor(At,$t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,At,$t])}clone(){const At=Object.create(this);return At.clipBox=this.clipBox.slice(),At}setCurrentPoint(At,$t){this.x=At,this.y=$t}updatePathMinMax(At,$t,Mt){[$t,Mt]=_e.Util.applyTransform([$t,Mt],At),this.minX=Math.min(this.minX,$t),this.minY=Math.min(this.minY,Mt),this.maxX=Math.max(this.maxX,$t),this.maxY=Math.max(this.maxY,Mt)}updateRectMinMax(At,$t){const Mt=_e.Util.applyTransform($t,At),Ht=_e.Util.applyTransform($t.slice(2),At);this.minX=Math.min(this.minX,Mt[0],Ht[0]),this.minY=Math.min(this.minY,Mt[1],Ht[1]),this.maxX=Math.max(this.maxX,Mt[0],Ht[0]),this.maxY=Math.max(this.maxY,Mt[1],Ht[1])}updateScalingPathMinMax(At,$t){_e.Util.scaleMinMax(At,$t),this.minX=Math.min(this.minX,$t[0]),this.maxX=Math.max(this.maxX,$t[1]),this.minY=Math.min(this.minY,$t[2]),this.maxY=Math.max(this.maxY,$t[3])}updateCurvePathMinMax(At,$t,Mt,Ht,Bt,Ut,zt,Qt,sr,Kt){const fr=_e.Util.bezierBoundingBox($t,Mt,Ht,Bt,Ut,zt,Qt,sr);if(Kt){Kt[0]=Math.min(Kt[0],fr[0],fr[2]),Kt[1]=Math.max(Kt[1],fr[0],fr[2]),Kt[2]=Math.min(Kt[2],fr[1],fr[3]),Kt[3]=Math.max(Kt[3],fr[1],fr[3]);return}this.updateRectMinMax(At,fr)}getPathBoundingBox(At=tt.PathType.FILL,$t=null){const Mt=[this.minX,this.minY,this.maxX,this.maxY];if(At===tt.PathType.STROKE){$t||(0,_e.unreachable)("Stroke bounding box must include transform.");const Ht=_e.Util.singularValueDecompose2dScale($t),Bt=Ht[0]*this.lineWidth/2,Ut=Ht[1]*this.lineWidth/2;Mt[0]-=Bt,Mt[1]-=Ut,Mt[2]+=Bt,Mt[3]+=Ut}return Mt}updateClipFromPath(){const At=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(At||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(At){this.clipBox=At,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(At=tt.PathType.FILL,$t=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(At,$t))}}function yt(It,At){if(typeof ImageData<"u"&&At instanceof ImageData){It.putImageData(At,0,0);return}const $t=At.height,Mt=At.width,Ht=$t%dt,Bt=($t-Ht)/dt,Ut=Ht===0?Bt:Bt+1,zt=It.createImageData(Mt,dt);let Qt=0,sr;const Kt=At.data,fr=zt.data;let dr,xr,ar,rr;if(At.kind===_e.ImageKind.GRAYSCALE_1BPP){const Lt=Kt.byteLength,Zt=new Uint32Array(fr.buffer,0,fr.byteLength>>2),or=Zt.length,lr=Mt+7>>3,Ft=4294967295,Gt=_e.FeatureTest.isLittleEndian?4278190080:255;for(dr=0;dr<Ut;dr++){for(ar=dr<Bt?dt:Ht,sr=0,xr=0;xr<ar;xr++){const Jt=Lt-Qt;let Yt=0;const hr=Jt>lr?Mt:Jt*8-7,cr=hr&-8;let jr=0,Rr=0;for(;Yt<cr;Yt+=8)Rr=Kt[Qt++],Zt[sr++]=Rr&128?Ft:Gt,Zt[sr++]=Rr&64?Ft:Gt,Zt[sr++]=Rr&32?Ft:Gt,Zt[sr++]=Rr&16?Ft:Gt,Zt[sr++]=Rr&8?Ft:Gt,Zt[sr++]=Rr&4?Ft:Gt,Zt[sr++]=Rr&2?Ft:Gt,Zt[sr++]=Rr&1?Ft:Gt;for(;Yt<hr;Yt++)jr===0&&(Rr=Kt[Qt++],jr=128),Zt[sr++]=Rr&jr?Ft:Gt,jr>>=1}for(;sr<or;)Zt[sr++]=0;It.putImageData(zt,0,dr*dt)}}else if(At.kind===_e.ImageKind.RGBA_32BPP){for(xr=0,rr=Mt*dt*4,dr=0;dr<Bt;dr++)fr.set(Kt.subarray(Qt,Qt+rr)),Qt+=rr,It.putImageData(zt,0,xr),xr+=dt;dr<Ut&&(rr=Mt*Ht*4,fr.set(Kt.subarray(Qt,Qt+rr)),It.putImageData(zt,0,xr))}else if(At.kind===_e.ImageKind.RGB_24BPP)for(ar=dt,rr=Mt*ar,dr=0;dr<Ut;dr++){for(dr>=Bt&&(ar=Ht,rr=Mt*ar),sr=0,xr=rr;xr--;)fr[sr++]=Kt[Qt++],fr[sr++]=Kt[Qt++],fr[sr++]=Kt[Qt++],fr[sr++]=255;It.putImageData(zt,0,dr*dt)}else throw new Error(`bad image kind: ${At.kind}`)}function vt(It,At){if(At.bitmap){It.drawImage(At.bitmap,0,0);return}const $t=At.height,Mt=At.width,Ht=$t%dt,Bt=($t-Ht)/dt,Ut=Ht===0?Bt:Bt+1,zt=It.createImageData(Mt,dt);let Qt=0;const sr=At.data,Kt=zt.data;for(let fr=0;fr<Ut;fr++){const dr=fr<Bt?dt:Ht;({srcPos:Qt}=(0,rt.convertBlackAndWhiteToRGBA)({src:sr,srcPos:Qt,dest:Kt,width:Mt,height:dr,nonBlackColor:0})),It.putImageData(zt,0,fr*dt)}}function gt(It,At){const $t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Mt of $t)It[Mt]!==void 0&&(At[Mt]=It[Mt]);It.setLineDash!==void 0&&(At.setLineDash(It.getLineDash()),At.lineDashOffset=It.lineDashOffset)}function bt(It){if(It.strokeStyle=It.fillStyle="#000000",It.fillRule="nonzero",It.globalAlpha=1,It.lineWidth=1,It.lineCap="butt",It.lineJoin="miter",It.miterLimit=10,It.globalCompositeOperation="source-over",It.font="10px sans-serif",It.setLineDash!==void 0&&(It.setLineDash([]),It.lineDashOffset=0),!_e.isNodeJS){const{filter:At}=It;At!=="none"&&At!==""&&(It.filter="none")}}function mt(It,At,$t,Mt){const Ht=It.length;for(let Bt=3;Bt<Ht;Bt+=4){const Ut=It[Bt];if(Ut===0)It[Bt-3]=At,It[Bt-2]=$t,It[Bt-1]=Mt;else if(Ut<255){const zt=255-Ut;It[Bt-3]=It[Bt-3]*Ut+At*zt>>8,It[Bt-2]=It[Bt-2]*Ut+$t*zt>>8,It[Bt-1]=It[Bt-1]*Ut+Mt*zt>>8}}}function Et(It,At,$t){const Mt=It.length,Ht=1/255;for(let Bt=3;Bt<Mt;Bt+=4){const Ut=$t?$t[It[Bt]]:It[Bt];At[Bt]=At[Bt]*Ut*Ht|0}}function Rt(It,At,$t){const Mt=It.length;for(let Ht=3;Ht<Mt;Ht+=4){const Bt=It[Ht-3]*77+It[Ht-2]*152+It[Ht-1]*28;At[Ht]=$t?At[Ht]*$t[Bt>>8]>>8:At[Ht]*Bt>>16}}function Tt(It,At,$t,Mt,Ht,Bt,Ut,zt,Qt,sr,Kt){const fr=!!Bt,dr=fr?Bt[0]:0,xr=fr?Bt[1]:0,ar=fr?Bt[2]:0,rr=Ht==="Luminosity"?Rt:Et,Zt=Math.min(Mt,Math.ceil(1048576/$t));for(let or=0;or<Mt;or+=Zt){const lr=Math.min(Zt,Mt-or),Ft=It.getImageData(zt-sr,or+(Qt-Kt),$t,lr),Gt=At.getImageData(zt,or+Qt,$t,lr);fr&&mt(Ft.data,dr,xr,ar),rr(Ft.data,Gt.data,Ut),At.putImageData(Gt,zt,or+Qt)}}function jt(It,At,$t,Mt){const Ht=Mt[0],Bt=Mt[1],Ut=Mt[2]-Ht,zt=Mt[3]-Bt;Ut===0||zt===0||(Tt(At.context,$t,Ut,zt,At.subtype,At.backdrop,At.transferMap,Ht,Bt,At.offsetX,At.offsetY),It.save(),It.globalAlpha=1,It.globalCompositeOperation="source-over",It.setTransform(1,0,0,1,0,0),It.drawImage($t.canvas,0,0),It.restore())}function xt(It,At){const $t=_e.Util.singularValueDecompose2dScale(It);$t[0]=Math.fround($t[0]),$t[1]=Math.fround($t[1]);const Mt=Math.fround((globalThis.devicePixelRatio||1)*et.PixelsPerInch.PDF_TO_CSS_UNITS);return At!==void 0?At:$t[0]<=Mt||$t[1]<=Mt}const Ct=["butt","round","square"],kt=["miter","round","bevel"],Nt={},St={},Vt=class Vt{constructor(At,$t,Mt,Ht,Bt,{optionalContentConfig:Ut,markedContentStack:zt=null},Qt,sr){nr(this,Pt);this.ctx=At,this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$t,this.objs=Mt,this.canvasFactory=Ht,this.filterFactory=Bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=zt||[],this.optionalContentConfig=Ut,this.cachedCanvases=new ut(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Qt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=sr,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(At,$t=null){return typeof At=="string"?At.startsWith("g_")?this.commonObjs.get(At):this.objs.get(At):$t}beginDrawing({transform:At,viewport:$t,transparency:Mt=!1,background:Ht=null}){const Bt=this.ctx.canvas.width,Ut=this.ctx.canvas.height,zt=this.ctx.fillStyle;if(this.ctx.fillStyle=Ht||"#ffffff",this.ctx.fillRect(0,0,Bt,Ut),this.ctx.fillStyle=zt,Mt){const Qt=this.cachedCanvases.getCanvas("transparent",Bt,Ut);this.compositeCtx=this.ctx,this.transparentCanvas=Qt.canvas,this.ctx=Qt.context,this.ctx.save(),this.ctx.transform(...(0,et.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),bt(this.ctx),At&&(this.ctx.transform(...At),this.outputScaleX=At[0],this.outputScaleY=At[0]),this.ctx.transform(...$t.transform),this.viewportScale=$t.scale,this.baseTransform=(0,et.getCurrentTransform)(this.ctx)}executeOperatorList(At,$t,Mt,Ht){const Bt=At.argsArray,Ut=At.fnArray;let zt=$t||0;const Qt=Bt.length;if(Qt===zt)return zt;const sr=Qt-zt>ot&&typeof Mt=="function",Kt=sr?Date.now()+at:0;let fr=0;const dr=this.commonObjs,xr=this.objs;let ar;for(;;){if(Ht!==void 0&&zt===Ht.nextBreakPoint)return Ht.breakIt(zt,Mt),zt;if(ar=Ut[zt],ar!==_e.OPS.dependency)this[ar].apply(this,Bt[zt]);else for(const rr of Bt[zt]){const Lt=rr.startsWith("g_")?dr:xr;if(!Lt.has(rr))return Lt.get(rr,Mt),zt}if(zt++,zt===Qt)return zt;if(sr&&++fr>ot){if(Date.now()>Kt)return Mt(),zt;fr=0}}}endDrawing(){er(this,Pt,na).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const At of this._cachedBitmapsMap.values()){for(const $t of At.values())typeof HTMLCanvasElement<"u"&&$t instanceof HTMLCanvasElement&&($t.width=$t.height=0);At.clear()}this._cachedBitmapsMap.clear(),er(this,Pt,xa).call(this)}_scaleImage(At,$t){const Mt=At.width,Ht=At.height;let Bt=Math.max(Math.hypot($t[0],$t[1]),1),Ut=Math.max(Math.hypot($t[2],$t[3]),1),zt=Mt,Qt=Ht,sr="prescale1",Kt,fr;for(;Bt>2&&zt>1||Ut>2&&Qt>1;){let dr=zt,xr=Qt;Bt>2&&zt>1&&(dr=zt>=16384?Math.floor(zt/2)-1||1:Math.ceil(zt/2),Bt/=zt/dr),Ut>2&&Qt>1&&(xr=Qt>=16384?Math.floor(Qt/2)-1||1:Math.ceil(Qt)/2,Ut/=Qt/xr),Kt=this.cachedCanvases.getCanvas(sr,dr,xr),fr=Kt.context,fr.clearRect(0,0,dr,xr),fr.drawImage(At,0,0,zt,Qt,0,0,dr,xr),At=Kt.canvas,zt=dr,Qt=xr,sr=sr==="prescale1"?"prescale2":"prescale1"}return{img:At,paintWidth:zt,paintHeight:Qt}}_createMaskCanvas(At){const $t=this.ctx,{width:Mt,height:Ht}=At,Bt=this.current.fillColor,Ut=this.current.patternFill,zt=(0,et.getCurrentTransform)($t);let Qt,sr,Kt,fr;if((At.bitmap||At.data)&&At.count>1){const Yt=At.bitmap||At.data.buffer;sr=JSON.stringify(Ut?zt:[zt.slice(0,4),Bt]),Qt=this._cachedBitmapsMap.get(Yt),Qt||(Qt=new Map,this._cachedBitmapsMap.set(Yt,Qt));const hr=Qt.get(sr);if(hr&&!Ut){const cr=Math.round(Math.min(zt[0],zt[2])+zt[4]),jr=Math.round(Math.min(zt[1],zt[3])+zt[5]);return{canvas:hr,offsetX:cr,offsetY:jr}}Kt=hr}Kt||(fr=this.cachedCanvases.getCanvas("maskCanvas",Mt,Ht),vt(fr.context,At));let dr=_e.Util.transform(zt,[1/Mt,0,0,-1/Ht,0,0]);dr=_e.Util.transform(dr,[1,0,0,1,0,-Ht]);const xr=_e.Util.applyTransform([0,0],dr),ar=_e.Util.applyTransform([Mt,Ht],dr),rr=_e.Util.normalizeRect([xr[0],xr[1],ar[0],ar[1]]),Lt=Math.round(rr[2]-rr[0])||1,Zt=Math.round(rr[3]-rr[1])||1,or=this.cachedCanvases.getCanvas("fillCanvas",Lt,Zt),lr=or.context,Ft=Math.min(xr[0],ar[0]),Gt=Math.min(xr[1],ar[1]);lr.translate(-Ft,-Gt),lr.transform(...dr),Kt||(Kt=this._scaleImage(fr.canvas,(0,et.getCurrentTransformInverse)(lr)),Kt=Kt.img,Qt&&Ut&&Qt.set(sr,Kt)),lr.imageSmoothingEnabled=xt((0,et.getCurrentTransform)(lr),At.interpolate),lt(lr,Kt,0,0,Kt.width,Kt.height,0,0,Mt,Ht),lr.globalCompositeOperation="source-in";const Jt=_e.Util.transform((0,et.getCurrentTransformInverse)(lr),[1,0,0,1,-Ft,-Gt]);return lr.fillStyle=Ut?Bt.getPattern($t,this,Jt,tt.PathType.FILL):Bt,lr.fillRect(0,0,Mt,Ht),Qt&&!Ut&&(this.cachedCanvases.delete("fillCanvas"),Qt.set(sr,or.canvas)),{canvas:or.canvas,offsetX:Math.round(Ft),offsetY:Math.round(Gt)}}setLineWidth(At){At!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=At,this.ctx.lineWidth=At}setLineCap(At){this.ctx.lineCap=Ct[At]}setLineJoin(At){this.ctx.lineJoin=kt[At]}setMiterLimit(At){this.ctx.miterLimit=At}setDash(At,$t){const Mt=this.ctx;Mt.setLineDash!==void 0&&(Mt.setLineDash(At),Mt.lineDashOffset=$t)}setRenderingIntent(At){}setFlatness(At){}setGState(At){for(const[$t,Mt]of At)switch($t){case"LW":this.setLineWidth(Mt);break;case"LC":this.setLineCap(Mt);break;case"LJ":this.setLineJoin(Mt);break;case"ML":this.setMiterLimit(Mt);break;case"D":this.setDash(Mt[0],Mt[1]);break;case"RI":this.setRenderingIntent(Mt);break;case"FL":this.setFlatness(Mt);break;case"Font":this.setFont(Mt[0],Mt[1]);break;case"CA":this.current.strokeAlpha=Mt;break;case"ca":this.current.fillAlpha=Mt,this.ctx.globalAlpha=Mt;break;case"BM":this.ctx.globalCompositeOperation=Mt;break;case"SMask":this.current.activeSMask=Mt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Mt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const At=this.inSMaskMode;this.current.activeSMask&&!At?this.beginSMaskMode():!this.current.activeSMask&&At&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const At=this.ctx.canvas.width,$t=this.ctx.canvas.height,Mt="smaskGroupAt"+this.groupLevel,Ht=this.cachedCanvases.getCanvas(Mt,At,$t);this.suspendedCtx=this.ctx,this.ctx=Ht.context;const Bt=this.ctx;Bt.setTransform(...(0,et.getCurrentTransform)(this.suspendedCtx)),gt(this.suspendedCtx,Bt),pt(Bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(At){if(!this.current.activeSMask)return;At?(At[0]=Math.floor(At[0]),At[1]=Math.floor(At[1]),At[2]=Math.ceil(At[2]),At[3]=Math.ceil(At[3])):At=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const $t=this.current.activeSMask,Mt=this.suspendedCtx;jt(Mt,$t,this.ctx,At),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(gt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const At=this.current;this.stateStack.push(At),this.current=At.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(At,$t,Mt,Ht,Bt,Ut){this.ctx.transform(At,$t,Mt,Ht,Bt,Ut),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(At,$t,Mt){const Ht=this.ctx,Bt=this.current;let Ut=Bt.x,zt=Bt.y,Qt,sr;const Kt=(0,et.getCurrentTransform)(Ht),fr=Kt[0]===0&&Kt[3]===0||Kt[1]===0&&Kt[2]===0,dr=fr?Mt.slice(0):null;for(let xr=0,ar=0,rr=At.length;xr<rr;xr++)switch(At[xr]|0){case _e.OPS.rectangle:Ut=$t[ar++],zt=$t[ar++];const Lt=$t[ar++],Zt=$t[ar++],or=Ut+Lt,lr=zt+Zt;Ht.moveTo(Ut,zt),Lt===0||Zt===0?Ht.lineTo(or,lr):(Ht.lineTo(or,zt),Ht.lineTo(or,lr),Ht.lineTo(Ut,lr)),fr||Bt.updateRectMinMax(Kt,[Ut,zt,or,lr]),Ht.closePath();break;case _e.OPS.moveTo:Ut=$t[ar++],zt=$t[ar++],Ht.moveTo(Ut,zt),fr||Bt.updatePathMinMax(Kt,Ut,zt);break;case _e.OPS.lineTo:Ut=$t[ar++],zt=$t[ar++],Ht.lineTo(Ut,zt),fr||Bt.updatePathMinMax(Kt,Ut,zt);break;case _e.OPS.curveTo:Qt=Ut,sr=zt,Ut=$t[ar+4],zt=$t[ar+5],Ht.bezierCurveTo($t[ar],$t[ar+1],$t[ar+2],$t[ar+3],Ut,zt),Bt.updateCurvePathMinMax(Kt,Qt,sr,$t[ar],$t[ar+1],$t[ar+2],$t[ar+3],Ut,zt,dr),ar+=6;break;case _e.OPS.curveTo2:Qt=Ut,sr=zt,Ht.bezierCurveTo(Ut,zt,$t[ar],$t[ar+1],$t[ar+2],$t[ar+3]),Bt.updateCurvePathMinMax(Kt,Qt,sr,Ut,zt,$t[ar],$t[ar+1],$t[ar+2],$t[ar+3],dr),Ut=$t[ar+2],zt=$t[ar+3],ar+=4;break;case _e.OPS.curveTo3:Qt=Ut,sr=zt,Ut=$t[ar+2],zt=$t[ar+3],Ht.bezierCurveTo($t[ar],$t[ar+1],Ut,zt,Ut,zt),Bt.updateCurvePathMinMax(Kt,Qt,sr,$t[ar],$t[ar+1],Ut,zt,Ut,zt,dr),ar+=4;break;case _e.OPS.closePath:Ht.closePath();break}fr&&Bt.updateScalingPathMinMax(Kt,dr),Bt.setCurrentPoint(Ut,zt)}closePath(){this.ctx.closePath()}stroke(At=!0){const $t=this.ctx,Mt=this.current.strokeColor;$t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Mt=="object"&&(Mt!=null&&Mt.getPattern)?($t.save(),$t.strokeStyle=Mt.getPattern($t,this,(0,et.getCurrentTransformInverse)($t),tt.PathType.STROKE),this.rescaleAndStroke(!1),$t.restore()):this.rescaleAndStroke(!0)),At&&this.consumePath(this.current.getClippedPathBoundingBox()),$t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(At=!0){const $t=this.ctx,Mt=this.current.fillColor,Ht=this.current.patternFill;let Bt=!1;Ht&&($t.save(),$t.fillStyle=Mt.getPattern($t,this,(0,et.getCurrentTransformInverse)($t),tt.PathType.FILL),Bt=!0);const Ut=this.current.getClippedPathBoundingBox();this.contentVisible&&Ut!==null&&(this.pendingEOFill?($t.fill("evenodd"),this.pendingEOFill=!1):$t.fill()),Bt&&$t.restore(),At&&this.consumePath(Ut)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Nt}eoClip(){this.pendingClip=St}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const At=this.pendingTextPaths,$t=this.ctx;if(At===void 0){$t.beginPath();return}$t.save(),$t.beginPath();for(const Mt of At)$t.setTransform(...Mt.transform),$t.translate(Mt.x,Mt.y),Mt.addToPath($t,Mt.fontSize);$t.restore(),$t.clip(),$t.beginPath(),delete this.pendingTextPaths}setCharSpacing(At){this.current.charSpacing=At}setWordSpacing(At){this.current.wordSpacing=At}setHScale(At){this.current.textHScale=At/100}setLeading(At){this.current.leading=-At}setFont(At,$t){var Kt;const Mt=this.commonObjs.get(At),Ht=this.current;if(!Mt)throw new Error(`Can't find font for ${At}`);if(Ht.fontMatrix=Mt.fontMatrix||_e.FONT_IDENTITY_MATRIX,(Ht.fontMatrix[0]===0||Ht.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+At),$t<0?($t=-$t,Ht.fontDirection=-1):Ht.fontDirection=1,this.current.font=Mt,this.current.fontSize=$t,Mt.isType3Font)return;const Bt=Mt.loadedName||"sans-serif",Ut=((Kt=Mt.systemFontInfo)==null?void 0:Kt.css)||`"${Bt}", ${Mt.fallbackName}`;let zt="normal";Mt.black?zt="900":Mt.bold&&(zt="bold");const Qt=Mt.italic?"italic":"normal";let sr=$t;$t<nt?sr=nt:$t>st&&(sr=st),this.current.fontSizeScale=$t/sr,this.ctx.font=`${Qt} ${zt} ${sr}px ${Ut}`}setTextRenderingMode(At){this.current.textRenderingMode=At}setTextRise(At){this.current.textRise=At}moveText(At,$t){this.current.x=this.current.lineX+=At,this.current.y=this.current.lineY+=$t}setLeadingMoveText(At,$t){this.setLeading(-$t),this.moveText(At,$t)}setTextMatrix(At,$t,Mt,Ht,Bt,Ut){this.current.textMatrix=[At,$t,Mt,Ht,Bt,Ut],this.current.textMatrixScale=Math.hypot(At,$t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(At,$t,Mt,Ht){const Bt=this.ctx,Ut=this.current,zt=Ut.font,Qt=Ut.textRenderingMode,sr=Ut.fontSize/Ut.fontSizeScale,Kt=Qt&_e.TextRenderingMode.FILL_STROKE_MASK,fr=!!(Qt&_e.TextRenderingMode.ADD_TO_PATH_FLAG),dr=Ut.patternFill&&!zt.missingFile;let xr;(zt.disableFontFace||fr||dr)&&(xr=zt.getPathGenerator(this.commonObjs,At)),zt.disableFontFace||dr?(Bt.save(),Bt.translate($t,Mt),Bt.beginPath(),xr(Bt,sr),Ht&&Bt.setTransform(...Ht),(Kt===_e.TextRenderingMode.FILL||Kt===_e.TextRenderingMode.FILL_STROKE)&&Bt.fill(),(Kt===_e.TextRenderingMode.STROKE||Kt===_e.TextRenderingMode.FILL_STROKE)&&Bt.stroke(),Bt.restore()):((Kt===_e.TextRenderingMode.FILL||Kt===_e.TextRenderingMode.FILL_STROKE)&&Bt.fillText(At,$t,Mt),(Kt===_e.TextRenderingMode.STROKE||Kt===_e.TextRenderingMode.FILL_STROKE)&&Bt.strokeText(At,$t,Mt)),fr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,et.getCurrentTransform)(Bt),x:$t,y:Mt,fontSize:sr,addToPath:xr})}get isFontSubpixelAAEnabled(){const{context:At}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);At.scale(1.5,1),At.fillText("I",0,10);const $t=At.getImageData(0,0,10,10).data;let Mt=!1;for(let Ht=3;Ht<$t.length;Ht+=4)if($t[Ht]>0&&$t[Ht]<255){Mt=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",Mt)}showText(At){const $t=this.current,Mt=$t.font;if(Mt.isType3Font)return this.showType3Text(At);const Ht=$t.fontSize;if(Ht===0)return;const Bt=this.ctx,Ut=$t.fontSizeScale,zt=$t.charSpacing,Qt=$t.wordSpacing,sr=$t.fontDirection,Kt=$t.textHScale*sr,fr=At.length,dr=Mt.vertical,xr=dr?1:-1,ar=Mt.defaultVMetrics,rr=Ht*$t.fontMatrix[0],Lt=$t.textRenderingMode===_e.TextRenderingMode.FILL&&!Mt.disableFontFace&&!$t.patternFill;Bt.save(),Bt.transform(...$t.textMatrix),Bt.translate($t.x,$t.y+$t.textRise),sr>0?Bt.scale(Kt,-1):Bt.scale(Kt,1);let Zt;if($t.patternFill){Bt.save();const Jt=$t.fillColor.getPattern(Bt,this,(0,et.getCurrentTransformInverse)(Bt),tt.PathType.FILL);Zt=(0,et.getCurrentTransform)(Bt),Bt.restore(),Bt.fillStyle=Jt}let or=$t.lineWidth;const lr=$t.textMatrixScale;if(lr===0||or===0){const Jt=$t.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;(Jt===_e.TextRenderingMode.STROKE||Jt===_e.TextRenderingMode.FILL_STROKE)&&(or=this.getSinglePixelWidth())}else or/=lr;if(Ut!==1&&(Bt.scale(Ut,Ut),or/=Ut),Bt.lineWidth=or,Mt.isInvalidPDFjsFont){const Jt=[];let Yt=0;for(const hr of At)Jt.push(hr.unicode),Yt+=hr.width;Bt.fillText(Jt.join(""),0,0),$t.x+=Yt*rr*Kt,Bt.restore(),this.compose();return}let Ft=0,Gt;for(Gt=0;Gt<fr;++Gt){const Jt=At[Gt];if(typeof Jt=="number"){Ft+=xr*Jt*Ht/1e3;continue}let Yt=!1;const hr=(Jt.isSpace?Qt:0)+zt,cr=Jt.fontChar,jr=Jt.accent;let Rr,Mr,Sr=Jt.width;if(dr){const Br=Jt.vmetric||ar,Wr=-(Jt.vmetric?Br[1]:Sr*.5)*rr,vr=Br[2]*rr;Sr=Br?-Br[0]:Sr,Rr=Wr/Ut,Mr=(Ft+vr)/Ut}else Rr=Ft/Ut,Mr=0;if(Mt.remeasure&&Sr>0){const Br=Bt.measureText(cr).width*1e3/Ht*Ut;if(Sr<Br&&this.isFontSubpixelAAEnabled){const Wr=Sr/Br;Yt=!0,Bt.save(),Bt.scale(Wr,1),Rr/=Wr}else Sr!==Br&&(Rr+=(Sr-Br)/2e3*Ht/Ut)}if(this.contentVisible&&(Jt.isInFont||Mt.missingFile)){if(Lt&&!jr)Bt.fillText(cr,Rr,Mr);else if(this.paintChar(cr,Rr,Mr,Zt),jr){const Br=Rr+Ht*jr.offset.x/Ut,Wr=Mr-Ht*jr.offset.y/Ut;this.paintChar(jr.fontChar,Br,Wr,Zt)}}const Dr=dr?Sr*rr-hr*sr:Sr*rr+hr*sr;Ft+=Dr,Yt&&Bt.restore()}dr?$t.y-=Ft:$t.x+=Ft*Kt,Bt.restore(),this.compose()}showType3Text(At){const $t=this.ctx,Mt=this.current,Ht=Mt.font,Bt=Mt.fontSize,Ut=Mt.fontDirection,zt=Ht.vertical?1:-1,Qt=Mt.charSpacing,sr=Mt.wordSpacing,Kt=Mt.textHScale*Ut,fr=Mt.fontMatrix||_e.FONT_IDENTITY_MATRIX,dr=At.length,xr=Mt.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let ar,rr,Lt,Zt;if(!(xr||Bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,$t.save(),$t.transform(...Mt.textMatrix),$t.translate(Mt.x,Mt.y),$t.scale(Kt,Ut),ar=0;ar<dr;++ar){if(rr=At[ar],typeof rr=="number"){Zt=zt*rr*Bt/1e3,this.ctx.translate(Zt,0),Mt.x+=Zt*Kt;continue}const or=(rr.isSpace?sr:0)+Qt,lr=Ht.charProcOperatorList[rr.operatorListId];if(!lr){(0,_e.warn)(`Type3 character "${rr.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=rr,this.save(),$t.scale(Bt,Bt),$t.transform(...fr),this.executeOperatorList(lr),this.restore()),Lt=_e.Util.applyTransform([rr.width,0],fr)[0]*Bt+or,$t.translate(Lt,0),Mt.x+=Lt*Kt}$t.restore(),this.processingType3=null}}setCharWidth(At,$t){}setCharWidthAndBounds(At,$t,Mt,Ht,Bt,Ut){this.ctx.rect(Mt,Ht,Bt-Mt,Ut-Ht),this.ctx.clip(),this.endPath()}getColorN_Pattern(At){let $t;if(At[0]==="TilingPattern"){const Mt=At[1],Ht=this.baseTransform||(0,et.getCurrentTransform)(this.ctx),Bt={createCanvasGraphics:Ut=>new Vt(Ut,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};$t=new tt.TilingPattern(At,Mt,this.ctx,Bt,Ht)}else $t=this._getPattern(At[1],At[2]);return $t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(At,$t,Mt){const Ht=_e.Util.makeHexColor(At,$t,Mt);this.ctx.strokeStyle=Ht,this.current.strokeColor=Ht}setFillRGBColor(At,$t,Mt){const Ht=_e.Util.makeHexColor(At,$t,Mt);this.ctx.fillStyle=Ht,this.current.fillColor=Ht,this.current.patternFill=!1}_getPattern(At,$t=null){let Mt;return this.cachedPatterns.has(At)?Mt=this.cachedPatterns.get(At):(Mt=(0,tt.getShadingPattern)(this.getObject(At)),this.cachedPatterns.set(At,Mt)),$t&&(Mt.matrix=$t),Mt}shadingFill(At){if(!this.contentVisible)return;const $t=this.ctx;this.save();const Mt=this._getPattern(At);$t.fillStyle=Mt.getPattern($t,this,(0,et.getCurrentTransformInverse)($t),tt.PathType.SHADING);const Ht=(0,et.getCurrentTransformInverse)($t);if(Ht){const{width:Bt,height:Ut}=$t.canvas,[zt,Qt,sr,Kt]=_e.Util.getAxialAlignedBoundingBox([0,0,Bt,Ut],Ht);this.ctx.fillRect(zt,Qt,sr-zt,Kt-Qt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(At,$t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(At)&&At.length===6&&this.transform(...At),this.baseTransform=(0,et.getCurrentTransform)(this.ctx),$t)){const Mt=$t[2]-$t[0],Ht=$t[3]-$t[1];this.ctx.rect($t[0],$t[1],Mt,Ht),this.current.updateRectMinMax((0,et.getCurrentTransform)(this.ctx),$t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(At){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const $t=this.ctx;At.isolated||(0,_e.info)("TODO: Support non-isolated groups."),At.knockout&&(0,_e.warn)("Knockout groups not supported.");const Mt=(0,et.getCurrentTransform)($t);if(At.matrix&&$t.transform(...At.matrix),!At.bbox)throw new Error("Bounding box is required.");let Ht=_e.Util.getAxialAlignedBoundingBox(At.bbox,(0,et.getCurrentTransform)($t));const Bt=[0,0,$t.canvas.width,$t.canvas.height];Ht=_e.Util.intersect(Ht,Bt)||[0,0,0,0];const Ut=Math.floor(Ht[0]),zt=Math.floor(Ht[1]);let Qt=Math.max(Math.ceil(Ht[2])-Ut,1),sr=Math.max(Math.ceil(Ht[3])-zt,1),Kt=1,fr=1;Qt>it&&(Kt=Qt/it,Qt=it),sr>it&&(fr=sr/it,sr=it),this.current.startNewPathAndClipBox([0,0,Qt,sr]);let dr="groupAt"+this.groupLevel;At.smask&&(dr+="_smask_"+this.smaskCounter++%2);const xr=this.cachedCanvases.getCanvas(dr,Qt,sr),ar=xr.context;ar.scale(1/Kt,1/fr),ar.translate(-Ut,-zt),ar.transform(...Mt),At.smask?this.smaskStack.push({canvas:xr.canvas,context:ar,offsetX:Ut,offsetY:zt,scaleX:Kt,scaleY:fr,subtype:At.smask.subtype,backdrop:At.smask.backdrop,transferMap:At.smask.transferMap||null,startTransformInverse:null}):($t.setTransform(1,0,0,1,0,0),$t.translate(Ut,zt),$t.scale(Kt,fr),$t.save()),gt($t,ar),this.ctx=ar,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($t),this.groupLevel++}endGroup(At){if(!this.contentVisible)return;this.groupLevel--;const $t=this.ctx,Mt=this.groupStack.pop();if(this.ctx=Mt,this.ctx.imageSmoothingEnabled=!1,At.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ht=(0,et.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ht);const Bt=_e.Util.getAxialAlignedBoundingBox([0,0,$t.canvas.width,$t.canvas.height],Ht);this.ctx.drawImage($t.canvas,0,0),this.ctx.restore(),this.compose(Bt)}}beginAnnotation(At,$t,Mt,Ht,Bt){if(er(this,Pt,na).call(this),bt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray($t)&&$t.length===4){const Ut=$t[2]-$t[0],zt=$t[3]-$t[1];if(Bt&&this.annotationCanvasMap){Mt=Mt.slice(),Mt[4]-=$t[0],Mt[5]-=$t[1],$t=$t.slice(),$t[0]=$t[1]=0,$t[2]=Ut,$t[3]=zt;const[Qt,sr]=_e.Util.singularValueDecompose2dScale((0,et.getCurrentTransform)(this.ctx)),{viewportScale:Kt}=this,fr=Math.ceil(Ut*this.outputScaleX*Kt),dr=Math.ceil(zt*this.outputScaleY*Kt);this.annotationCanvas=this.canvasFactory.create(fr,dr);const{canvas:xr,context:ar}=this.annotationCanvas;this.annotationCanvasMap.set(At,xr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ar,this.ctx.save(),this.ctx.setTransform(Qt,0,0,-sr,0,zt*sr),bt(this.ctx)}else bt(this.ctx),this.ctx.rect($t[0],$t[1],Ut,zt),this.ctx.clip(),this.endPath()}this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Mt),this.transform(...Ht)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),er(this,Pt,xa).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(At){if(!this.contentVisible)return;const $t=At.count;At=this.getObject(At.data,At),At.count=$t;const Mt=this.ctx,Ht=this.processingType3;if(Ht&&(Ht.compiled===void 0&&(Ht.compiled=ft(At)),Ht.compiled)){Ht.compiled(Mt);return}const Bt=this._createMaskCanvas(At),Ut=Bt.canvas;Mt.save(),Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(Ut,Bt.offsetX,Bt.offsetY),Mt.restore(),this.compose()}paintImageMaskXObjectRepeat(At,$t,Mt=0,Ht=0,Bt,Ut){if(!this.contentVisible)return;At=this.getObject(At.data,At);const zt=this.ctx;zt.save();const Qt=(0,et.getCurrentTransform)(zt);zt.transform($t,Mt,Ht,Bt,0,0);const sr=this._createMaskCanvas(At);zt.setTransform(1,0,0,1,sr.offsetX-Qt[4],sr.offsetY-Qt[5]);for(let Kt=0,fr=Ut.length;Kt<fr;Kt+=2){const dr=_e.Util.transform(Qt,[$t,Mt,Ht,Bt,Ut[Kt],Ut[Kt+1]]),[xr,ar]=_e.Util.applyTransform([0,0],dr);zt.drawImage(sr.canvas,xr,ar)}zt.restore(),this.compose()}paintImageMaskXObjectGroup(At){if(!this.contentVisible)return;const $t=this.ctx,Mt=this.current.fillColor,Ht=this.current.patternFill;for(const Bt of At){const{data:Ut,width:zt,height:Qt,transform:sr}=Bt,Kt=this.cachedCanvases.getCanvas("maskCanvas",zt,Qt),fr=Kt.context;fr.save();const dr=this.getObject(Ut,Bt);vt(fr,dr),fr.globalCompositeOperation="source-in",fr.fillStyle=Ht?Mt.getPattern(fr,this,(0,et.getCurrentTransformInverse)($t),tt.PathType.FILL):Mt,fr.fillRect(0,0,zt,Qt),fr.restore(),$t.save(),$t.transform(...sr),$t.scale(1,-1),lt($t,Kt.canvas,0,0,zt,Qt,0,-1,1,1),$t.restore()}this.compose()}paintImageXObject(At){if(!this.contentVisible)return;const $t=this.getObject(At);if(!$t){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject($t)}paintImageXObjectRepeat(At,$t,Mt,Ht){if(!this.contentVisible)return;const Bt=this.getObject(At);if(!Bt){(0,_e.warn)("Dependent image isn't ready yet");return}const Ut=Bt.width,zt=Bt.height,Qt=[];for(let sr=0,Kt=Ht.length;sr<Kt;sr+=2)Qt.push({transform:[$t,0,0,Mt,Ht[sr],Ht[sr+1]],x:0,y:0,w:Ut,h:zt});this.paintInlineImageXObjectGroup(Bt,Qt)}applyTransferMapsToCanvas(At){return this.current.transferMaps!=="none"&&(At.filter=this.current.transferMaps,At.drawImage(At.canvas,0,0),At.filter="none"),At.canvas}applyTransferMapsToBitmap(At){if(this.current.transferMaps==="none")return At.bitmap;const{bitmap:$t,width:Mt,height:Ht}=At,Bt=this.cachedCanvases.getCanvas("inlineImage",Mt,Ht),Ut=Bt.context;return Ut.filter=this.current.transferMaps,Ut.drawImage($t,0,0),Ut.filter="none",Bt.canvas}paintInlineImageXObject(At){if(!this.contentVisible)return;const $t=At.width,Mt=At.height,Ht=this.ctx;if(this.save(),!_e.isNodeJS){const{filter:zt}=Ht;zt!=="none"&&zt!==""&&(Ht.filter="none")}Ht.scale(1/$t,-1/Mt);let Bt;if(At.bitmap)Bt=this.applyTransferMapsToBitmap(At);else if(typeof HTMLElement=="function"&&At instanceof HTMLElement||!At.data)Bt=At;else{const Qt=this.cachedCanvases.getCanvas("inlineImage",$t,Mt).context;yt(Qt,At),Bt=this.applyTransferMapsToCanvas(Qt)}const Ut=this._scaleImage(Bt,(0,et.getCurrentTransformInverse)(Ht));Ht.imageSmoothingEnabled=xt((0,et.getCurrentTransform)(Ht),At.interpolate),lt(Ht,Ut.img,0,0,Ut.paintWidth,Ut.paintHeight,0,-Mt,$t,Mt),this.compose(),this.restore()}paintInlineImageXObjectGroup(At,$t){if(!this.contentVisible)return;const Mt=this.ctx;let Ht;if(At.bitmap)Ht=At.bitmap;else{const Bt=At.width,Ut=At.height,Qt=this.cachedCanvases.getCanvas("inlineImage",Bt,Ut).context;yt(Qt,At),Ht=this.applyTransferMapsToCanvas(Qt)}for(const Bt of $t)Mt.save(),Mt.transform(...Bt.transform),Mt.scale(1,-1),lt(Mt,Ht,Bt.x,Bt.y,Bt.w,Bt.h,0,-1,1,1),Mt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(At){}markPointProps(At,$t){}beginMarkedContent(At){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(At,$t){At==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible($t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(At){const $t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(At);const Mt=this.ctx;this.pendingClip&&($t||(this.pendingClip===St?Mt.clip("evenodd"):Mt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Mt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const At=(0,et.getCurrentTransform)(this.ctx);if(At[1]===0&&At[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(At[0]),Math.abs(At[3]));else{const $t=Math.abs(At[0]*At[3]-At[2]*At[1]),Mt=Math.hypot(At[0],At[2]),Ht=Math.hypot(At[1],At[3]);this._cachedGetSinglePixelWidth=Math.max(Mt,Ht)/$t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:At}=this.current,{a:$t,b:Mt,c:Ht,d:Bt}=this.ctx.getTransform();let Ut,zt;if(Mt===0&&Ht===0){const Qt=Math.abs($t),sr=Math.abs(Bt);if(Qt===sr)if(At===0)Ut=zt=1/Qt;else{const Kt=Qt*At;Ut=zt=Kt<1?1/Kt:1}else if(At===0)Ut=1/Qt,zt=1/sr;else{const Kt=Qt*At,fr=sr*At;Ut=Kt<1?1/Kt:1,zt=fr<1?1/fr:1}}else{const Qt=Math.abs($t*Bt-Mt*Ht),sr=Math.hypot($t,Mt),Kt=Math.hypot(Ht,Bt);if(At===0)Ut=Kt/Qt,zt=sr/Qt;else{const fr=At*Qt;Ut=Kt>fr?Kt/fr:1,zt=sr>fr?sr/fr:1}}this._cachedScaleForStroking[0]=Ut,this._cachedScaleForStroking[1]=zt}return this._cachedScaleForStroking}rescaleAndStroke(At){const{ctx:$t}=this,{lineWidth:Mt}=this.current,[Ht,Bt]=this.getScaleForStroking();if($t.lineWidth=Mt||1,Ht===1&&Bt===1){$t.stroke();return}const Ut=$t.getLineDash();if(At&&$t.save(),$t.scale(Ht,Bt),Ut.length>0){const zt=Math.max(Ht,Bt);$t.setLineDash(Ut.map(Qt=>Qt/zt)),$t.lineDashOffset/=zt}$t.stroke(),At&&$t.restore()}isContentVisible(){for(let At=this.markedContentStack.length-1;At>=0;At--)if(!this.markedContentStack[At].visible)return!1;return!0}};Pt=new WeakSet,na=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xa=function(){if(this.pageColors){const At=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(At!=="none"){const $t=this.ctx.filter;this.ctx.filter=At,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=$t}}};let Ot=Vt;_.CanvasGraphics=Ot;for(const It in _e.OPS)Ot.prototype[It]!==void 0&&(Ot.prototype[_e.OPS[It]]=Ot.prototype[It])},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TilingPattern=_.PathType=void 0,_.getShadingPattern=dt;var _e=$(1),et=$(6);const tt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_.PathType=tt;function rt(ft,ht){if(!ht)return;const yt=ht[2]-ht[0],vt=ht[3]-ht[1],gt=new Path2D;gt.rect(ht[0],ht[1],yt,vt),ft.clip(gt)}class nt{constructor(){this.constructor===nt&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class st extends nt{constructor(ht){super(),this._type=ht[1],this._bbox=ht[2],this._colorStops=ht[3],this._p0=ht[4],this._p1=ht[5],this._r0=ht[6],this._r1=ht[7],this.matrix=null}_createGradient(ht){let yt;this._type==="axial"?yt=ht.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(yt=ht.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)yt.addColorStop(vt[0],vt[1]);return yt}getPattern(ht,yt,vt,gt){let bt;if(gt===tt.STROKE||gt===tt.FILL){const mt=yt.current.getClippedPathBoundingBox(gt,(0,et.getCurrentTransform)(ht))||[0,0,0,0],Et=Math.ceil(mt[2]-mt[0])||1,Rt=Math.ceil(mt[3]-mt[1])||1,Tt=yt.cachedCanvases.getCanvas("pattern",Et,Rt,!0),jt=Tt.context;jt.clearRect(0,0,jt.canvas.width,jt.canvas.height),jt.beginPath(),jt.rect(0,0,jt.canvas.width,jt.canvas.height),jt.translate(-mt[0],-mt[1]),vt=_e.Util.transform(vt,[1,0,0,1,mt[0],mt[1]]),jt.transform(...yt.baseTransform),this.matrix&&jt.transform(...this.matrix),rt(jt,this._bbox),jt.fillStyle=this._createGradient(jt),jt.fill(),bt=ht.createPattern(Tt.canvas,"no-repeat");const xt=new DOMMatrix(vt);bt.setTransform(xt)}else rt(ht,this._bbox),bt=this._createGradient(ht);return bt}}function it(ft,ht,yt,vt,gt,bt,mt,Et){const Rt=ht.coords,Tt=ht.colors,jt=ft.data,xt=ft.width*4;let Ct;Rt[yt+1]>Rt[vt+1]&&(Ct=yt,yt=vt,vt=Ct,Ct=bt,bt=mt,mt=Ct),Rt[vt+1]>Rt[gt+1]&&(Ct=vt,vt=gt,gt=Ct,Ct=mt,mt=Et,Et=Ct),Rt[yt+1]>Rt[vt+1]&&(Ct=yt,yt=vt,vt=Ct,Ct=bt,bt=mt,mt=Ct);const kt=(Rt[yt]+ht.offsetX)*ht.scaleX,Nt=(Rt[yt+1]+ht.offsetY)*ht.scaleY,St=(Rt[vt]+ht.offsetX)*ht.scaleX,Ot=(Rt[vt+1]+ht.offsetY)*ht.scaleY,Pt=(Rt[gt]+ht.offsetX)*ht.scaleX,wt=(Rt[gt+1]+ht.offsetY)*ht.scaleY;if(Nt>=wt)return;const Dt=Tt[bt],Vt=Tt[bt+1],It=Tt[bt+2],At=Tt[mt],$t=Tt[mt+1],Mt=Tt[mt+2],Ht=Tt[Et],Bt=Tt[Et+1],Ut=Tt[Et+2],zt=Math.round(Nt),Qt=Math.round(wt);let sr,Kt,fr,dr,xr,ar,rr,Lt;for(let Zt=zt;Zt<=Qt;Zt++){if(Zt<Ot){const Jt=Zt<Nt?0:(Nt-Zt)/(Nt-Ot);sr=kt-(kt-St)*Jt,Kt=Dt-(Dt-At)*Jt,fr=Vt-(Vt-$t)*Jt,dr=It-(It-Mt)*Jt}else{let Jt;Zt>wt?Jt=1:Ot===wt?Jt=0:Jt=(Ot-Zt)/(Ot-wt),sr=St-(St-Pt)*Jt,Kt=At-(At-Ht)*Jt,fr=$t-($t-Bt)*Jt,dr=Mt-(Mt-Ut)*Jt}let or;Zt<Nt?or=0:Zt>wt?or=1:or=(Nt-Zt)/(Nt-wt),xr=kt-(kt-Pt)*or,ar=Dt-(Dt-Ht)*or,rr=Vt-(Vt-Bt)*or,Lt=It-(It-Ut)*or;const lr=Math.round(Math.min(sr,xr)),Ft=Math.round(Math.max(sr,xr));let Gt=xt*Zt+lr*4;for(let Jt=lr;Jt<=Ft;Jt++)or=(sr-Jt)/(sr-xr),or<0?or=0:or>1&&(or=1),jt[Gt++]=Kt-(Kt-ar)*or|0,jt[Gt++]=fr-(fr-rr)*or|0,jt[Gt++]=dr-(dr-Lt)*or|0,jt[Gt++]=255}}function at(ft,ht,yt){const vt=ht.coords,gt=ht.colors;let bt,mt;switch(ht.type){case"lattice":const Et=ht.verticesPerRow,Rt=Math.floor(vt.length/Et)-1,Tt=Et-1;for(bt=0;bt<Rt;bt++){let jt=bt*Et;for(let xt=0;xt<Tt;xt++,jt++)it(ft,yt,vt[jt],vt[jt+1],vt[jt+Et],gt[jt],gt[jt+1],gt[jt+Et]),it(ft,yt,vt[jt+Et+1],vt[jt+1],vt[jt+Et],gt[jt+Et+1],gt[jt+1],gt[jt+Et])}break;case"triangles":for(bt=0,mt=vt.length;bt<mt;bt+=3)it(ft,yt,vt[bt],vt[bt+1],vt[bt+2],gt[bt],gt[bt+1],gt[bt+2]);break;default:throw new Error("illegal figure")}}class ot extends nt{constructor(ht){super(),this._coords=ht[2],this._colors=ht[3],this._figures=ht[4],this._bounds=ht[5],this._bbox=ht[7],this._background=ht[8],this.matrix=null}_createMeshCanvas(ht,yt,vt){const Et=Math.floor(this._bounds[0]),Rt=Math.floor(this._bounds[1]),Tt=Math.ceil(this._bounds[2])-Et,jt=Math.ceil(this._bounds[3])-Rt,xt=Math.min(Math.ceil(Math.abs(Tt*ht[0]*1.1)),3e3),Ct=Math.min(Math.ceil(Math.abs(jt*ht[1]*1.1)),3e3),kt=Tt/xt,Nt=jt/Ct,St={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-Rt,scaleX:1/kt,scaleY:1/Nt},Ot=xt+2*2,Pt=Ct+2*2,wt=vt.getCanvas("mesh",Ot,Pt,!1),Dt=wt.context,Vt=Dt.createImageData(xt,Ct);if(yt){const At=Vt.data;for(let $t=0,Mt=At.length;$t<Mt;$t+=4)At[$t]=yt[0],At[$t+1]=yt[1],At[$t+2]=yt[2],At[$t+3]=255}for(const At of this._figures)at(Vt,At,St);return Dt.putImageData(Vt,2,2),{canvas:wt.canvas,offsetX:Et-2*kt,offsetY:Rt-2*Nt,scaleX:kt,scaleY:Nt}}getPattern(ht,yt,vt,gt){rt(ht,this._bbox);let bt;if(gt===tt.SHADING)bt=_e.Util.singularValueDecompose2dScale((0,et.getCurrentTransform)(ht));else if(bt=_e.Util.singularValueDecompose2dScale(yt.baseTransform),this.matrix){const Et=_e.Util.singularValueDecompose2dScale(this.matrix);bt=[bt[0]*Et[0],bt[1]*Et[1]]}const mt=this._createMeshCanvas(bt,gt===tt.SHADING?null:this._background,yt.cachedCanvases);return gt!==tt.SHADING&&(ht.setTransform(...yt.baseTransform),this.matrix&&ht.transform(...this.matrix)),ht.translate(mt.offsetX,mt.offsetY),ht.scale(mt.scaleX,mt.scaleY),ht.createPattern(mt.canvas,"no-repeat")}}class ct extends nt{getPattern(){return"hotpink"}}function dt(ft){switch(ft[0]){case"RadialAxial":return new st(ft);case"Mesh":return new ot(ft);case"Dummy":return new ct}throw new Error(`Unknown IR type: ${ft[0]}`)}const pt={COLORED:1,UNCOLORED:2},lt=class lt{constructor(ht,yt,vt,gt,bt){this.operatorList=ht[2],this.matrix=ht[3]||[1,0,0,1,0,0],this.bbox=ht[4],this.xstep=ht[5],this.ystep=ht[6],this.paintType=ht[7],this.tilingType=ht[8],this.color=yt,this.ctx=vt,this.canvasGraphicsFactory=gt,this.baseTransform=bt}createPatternCanvas(ht){const yt=this.operatorList,vt=this.bbox,gt=this.xstep,bt=this.ystep,mt=this.paintType,Et=this.tilingType,Rt=this.color,Tt=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+Et);const jt=vt[0],xt=vt[1],Ct=vt[2],kt=vt[3],Nt=_e.Util.singularValueDecompose2dScale(this.matrix),St=_e.Util.singularValueDecompose2dScale(this.baseTransform),Ot=[Nt[0]*St[0],Nt[1]*St[1]],Pt=this.getSizeAndScale(gt,this.ctx.canvas.width,Ot[0]),wt=this.getSizeAndScale(bt,this.ctx.canvas.height,Ot[1]),Dt=ht.cachedCanvases.getCanvas("pattern",Pt.size,wt.size,!0),Vt=Dt.context,It=Tt.createCanvasGraphics(Vt);It.groupLevel=ht.groupLevel,this.setFillAndStrokeStyleToContext(It,mt,Rt);let At=jt,$t=xt,Mt=Ct,Ht=kt;return jt<0&&(At=0,Mt+=Math.abs(jt)),xt<0&&($t=0,Ht+=Math.abs(xt)),Vt.translate(-(Pt.scale*At),-(wt.scale*$t)),It.transform(Pt.scale,0,0,wt.scale,0,0),Vt.save(),this.clipBbox(It,At,$t,Mt,Ht),It.baseTransform=(0,et.getCurrentTransform)(It.ctx),It.executeOperatorList(yt),It.endDrawing(),{canvas:Dt.canvas,scaleX:Pt.scale,scaleY:wt.scale,offsetX:At,offsetY:$t}}getSizeAndScale(ht,yt,vt){ht=Math.abs(ht);const gt=Math.max(lt.MAX_PATTERN_SIZE,yt);let bt=Math.ceil(ht*vt);return bt>=gt?bt=gt:vt=bt/ht,{scale:vt,size:bt}}clipBbox(ht,yt,vt,gt,bt){const mt=gt-yt,Et=bt-vt;ht.ctx.rect(yt,vt,mt,Et),ht.current.updateRectMinMax((0,et.getCurrentTransform)(ht.ctx),[yt,vt,gt,bt]),ht.clip(),ht.endPath()}setFillAndStrokeStyleToContext(ht,yt,vt){const gt=ht.ctx,bt=ht.current;switch(yt){case pt.COLORED:const mt=this.ctx;gt.fillStyle=mt.fillStyle,gt.strokeStyle=mt.strokeStyle,bt.fillColor=mt.fillStyle,bt.strokeColor=mt.strokeStyle;break;case pt.UNCOLORED:const Et=_e.Util.makeHexColor(vt[0],vt[1],vt[2]);gt.fillStyle=Et,gt.strokeStyle=Et,bt.fillColor=Et,bt.strokeColor=Et;break;default:throw new _e.FormatError(`Unsupported paint type: ${yt}`)}}getPattern(ht,yt,vt,gt){let bt=vt;gt!==tt.SHADING&&(bt=_e.Util.transform(bt,yt.baseTransform),this.matrix&&(bt=_e.Util.transform(bt,this.matrix)));const mt=this.createPatternCanvas(yt);let Et=new DOMMatrix(bt);Et=Et.translate(mt.offsetX,mt.offsetY),Et=Et.scale(1/mt.scaleX,1/mt.scaleY);const Rt=ht.createPattern(mt.canvas,"repeat");return Rt.setTransform(Et),Rt}};Gr(lt,"MAX_PATTERN_SIZE",3e3);let ut=lt;_.TilingPattern=ut},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.convertBlackAndWhiteToRGBA=tt,_.convertToRGBA=et,_.grayToRGBA=nt;var _e=$(1);function et(st){switch(st.kind){case _e.ImageKind.GRAYSCALE_1BPP:return tt(st);case _e.ImageKind.RGB_24BPP:return rt(st)}return null}function tt({src:st,srcPos:it=0,dest:at,width:ot,height:ct,nonBlackColor:dt=4294967295,inverseDecode:pt=!1}){const ut=_e.FeatureTest.isLittleEndian?4278190080:255,[lt,ft]=pt?[dt,ut]:[ut,dt],ht=ot>>3,yt=ot&7,vt=st.length;at=new Uint32Array(at.buffer);let gt=0;for(let bt=0;bt<ct;bt++){for(const Et=it+ht;it<Et;it++){const Rt=it<vt?st[it]:255;at[gt++]=Rt&128?ft:lt,at[gt++]=Rt&64?ft:lt,at[gt++]=Rt&32?ft:lt,at[gt++]=Rt&16?ft:lt,at[gt++]=Rt&8?ft:lt,at[gt++]=Rt&4?ft:lt,at[gt++]=Rt&2?ft:lt,at[gt++]=Rt&1?ft:lt}if(yt===0)continue;const mt=it<vt?st[it++]:255;for(let Et=0;Et<yt;Et++)at[gt++]=mt&1<<7-Et?ft:lt}return{srcPos:it,destPos:gt}}function rt({src:st,srcPos:it=0,dest:at,destPos:ot=0,width:ct,height:dt}){let pt=0;const ut=st.length>>2,lt=new Uint32Array(st.buffer,it,ut);if(_e.FeatureTest.isLittleEndian){for(;pt<ut-2;pt+=3,ot+=4){const ft=lt[pt],ht=lt[pt+1],yt=lt[pt+2];at[ot]=ft|4278190080,at[ot+1]=ft>>>24|ht<<8|4278190080,at[ot+2]=ht>>>16|yt<<16|4278190080,at[ot+3]=yt>>>8|4278190080}for(let ft=pt*4,ht=st.length;ft<ht;ft+=3)at[ot++]=st[ft]|st[ft+1]<<8|st[ft+2]<<16|4278190080}else{for(;pt<ut-2;pt+=3,ot+=4){const ft=lt[pt],ht=lt[pt+1],yt=lt[pt+2];at[ot]=ft|255,at[ot+1]=ft<<24|ht>>>8|255,at[ot+2]=ht<<16|yt>>>16|255,at[ot+3]=yt<<8|255}for(let ft=pt*4,ht=st.length;ft<ht;ft+=3)at[ot++]=st[ft]<<24|st[ft+1]<<16|st[ft+2]<<8|255}return{srcPos:it,destPos:ot}}function nt(st,it){if(_e.FeatureTest.isLittleEndian)for(let at=0,ot=st.length;at<ot;at++)it[at]=st[at]*65793|4278190080;else for(let at=0,ot=st.length;at<ot;at++)it[at]=st[at]*16843008|255}},(j,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlobalWorkerOptions=void 0;const $=Object.create(null);_.GlobalWorkerOptions=$,$.workerPort=null,$.workerSrc=""},(j,_,$)=>{var st,Mo,Fo,_s;Object.defineProperty(_,"__esModule",{value:!0}),_.MessageHandler=void 0;var _e=$(1);const et={UNKNOWN:0,DATA:1,ERROR:2},tt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rt(ct){switch(ct instanceof Error||typeof ct=="object"&&ct!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ct.name){case"AbortException":return new _e.AbortException(ct.message);case"MissingPDFException":return new _e.MissingPDFException(ct.message);case"PasswordException":return new _e.PasswordException(ct.message,ct.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(ct.message,ct.status);case"UnknownErrorException":return new _e.UnknownErrorException(ct.message,ct.details);default:return new _e.UnknownErrorException(ct.message,ct.toString())}}class nt{constructor(dt,pt,ut){nr(this,st);this.sourceName=dt,this.targetName=pt,this.comObj=ut,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=lt=>{const ft=lt.data;if(ft.targetName!==this.sourceName)return;if(ft.stream){er(this,st,Fo).call(this,ft);return}if(ft.callback){const yt=ft.callbackId,vt=this.callbackCapabilities[yt];if(!vt)throw new Error(`Cannot resolve callback ${yt}`);if(delete this.callbackCapabilities[yt],ft.callback===et.DATA)vt.resolve(ft.data);else if(ft.callback===et.ERROR)vt.reject(rt(ft.reason));else throw new Error("Unexpected callback case");return}const ht=this.actionHandler[ft.action];if(!ht)throw new Error(`Unknown action from worker: ${ft.action}`);if(ft.callbackId){const yt=this.sourceName,vt=ft.sourceName;new Promise(function(gt){gt(ht(ft.data))}).then(function(gt){ut.postMessage({sourceName:yt,targetName:vt,callback:et.DATA,callbackId:ft.callbackId,data:gt})},function(gt){ut.postMessage({sourceName:yt,targetName:vt,callback:et.ERROR,callbackId:ft.callbackId,reason:rt(gt)})});return}if(ft.streamId){er(this,st,Mo).call(this,ft);return}ht(ft.data)},ut.addEventListener("message",this._onComObjOnMessage)}on(dt,pt){const ut=this.actionHandler;if(ut[dt])throw new Error(`There is already an actionName called "${dt}"`);ut[dt]=pt}send(dt,pt,ut){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:pt},ut)}sendWithPromise(dt,pt,ut){const lt=this.callbackId++,ft=new _e.PromiseCapability;this.callbackCapabilities[lt]=ft;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:lt,data:pt},ut)}catch(ht){ft.reject(ht)}return ft.promise}sendWithStream(dt,pt,ut,lt){const ft=this.streamId++,ht=this.sourceName,yt=this.targetName,vt=this.comObj;return new ReadableStream({start:gt=>{const bt=new _e.PromiseCapability;return this.streamControllers[ft]={controller:gt,startCall:bt,pullCall:null,cancelCall:null,isClosed:!1},vt.postMessage({sourceName:ht,targetName:yt,action:dt,streamId:ft,data:pt,desiredSize:gt.desiredSize},lt),bt.promise},pull:gt=>{const bt=new _e.PromiseCapability;return this.streamControllers[ft].pullCall=bt,vt.postMessage({sourceName:ht,targetName:yt,stream:tt.PULL,streamId:ft,desiredSize:gt.desiredSize}),bt.promise},cancel:gt=>{(0,_e.assert)(gt instanceof Error,"cancel must have a valid reason");const bt=new _e.PromiseCapability;return this.streamControllers[ft].cancelCall=bt,this.streamControllers[ft].isClosed=!0,vt.postMessage({sourceName:ht,targetName:yt,stream:tt.CANCEL,streamId:ft,reason:rt(gt)}),bt.promise}},ut)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}st=new WeakSet,Mo=function(dt){const pt=dt.streamId,ut=this.sourceName,lt=dt.sourceName,ft=this.comObj,ht=this,yt=this.actionHandler[dt.action],vt={enqueue(gt,bt=1,mt){if(this.isCancelled)return;const Et=this.desiredSize;this.desiredSize-=bt,Et>0&&this.desiredSize<=0&&(this.sinkCapability=new _e.PromiseCapability,this.ready=this.sinkCapability.promise),ft.postMessage({sourceName:ut,targetName:lt,stream:tt.ENQUEUE,streamId:pt,chunk:gt},mt)},close(){this.isCancelled||(this.isCancelled=!0,ft.postMessage({sourceName:ut,targetName:lt,stream:tt.CLOSE,streamId:pt}),delete ht.streamSinks[pt])},error(gt){(0,_e.assert)(gt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ft.postMessage({sourceName:ut,targetName:lt,stream:tt.ERROR,streamId:pt,reason:rt(gt)}))},sinkCapability:new _e.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};vt.sinkCapability.resolve(),vt.ready=vt.sinkCapability.promise,this.streamSinks[pt]=vt,new Promise(function(gt){gt(yt(dt.data,vt))}).then(function(){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.START_COMPLETE,streamId:pt,success:!0})},function(gt){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.START_COMPLETE,streamId:pt,reason:rt(gt)})})},Fo=function(dt){const pt=dt.streamId,ut=this.sourceName,lt=dt.sourceName,ft=this.comObj,ht=this.streamControllers[pt],yt=this.streamSinks[pt];switch(dt.stream){case tt.START_COMPLETE:dt.success?ht.startCall.resolve():ht.startCall.reject(rt(dt.reason));break;case tt.PULL_COMPLETE:dt.success?ht.pullCall.resolve():ht.pullCall.reject(rt(dt.reason));break;case tt.PULL:if(!yt){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.PULL_COMPLETE,streamId:pt,success:!0});break}yt.desiredSize<=0&&dt.desiredSize>0&&yt.sinkCapability.resolve(),yt.desiredSize=dt.desiredSize,new Promise(function(vt){var gt;vt((gt=yt.onPull)==null?void 0:gt.call(yt))}).then(function(){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.PULL_COMPLETE,streamId:pt,success:!0})},function(vt){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.PULL_COMPLETE,streamId:pt,reason:rt(vt)})});break;case tt.ENQUEUE:if((0,_e.assert)(ht,"enqueue should have stream controller"),ht.isClosed)break;ht.controller.enqueue(dt.chunk);break;case tt.CLOSE:if((0,_e.assert)(ht,"close should have stream controller"),ht.isClosed)break;ht.isClosed=!0,ht.controller.close(),er(this,st,_s).call(this,ht,pt);break;case tt.ERROR:(0,_e.assert)(ht,"error should have stream controller"),ht.controller.error(rt(dt.reason)),er(this,st,_s).call(this,ht,pt);break;case tt.CANCEL_COMPLETE:dt.success?ht.cancelCall.resolve():ht.cancelCall.reject(rt(dt.reason)),er(this,st,_s).call(this,ht,pt);break;case tt.CANCEL:if(!yt)break;new Promise(function(vt){var gt;vt((gt=yt.onCancel)==null?void 0:gt.call(yt,rt(dt.reason)))}).then(function(){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.CANCEL_COMPLETE,streamId:pt,success:!0})},function(vt){ft.postMessage({sourceName:ut,targetName:lt,stream:tt.CANCEL_COMPLETE,streamId:pt,reason:rt(vt)})}),yt.sinkCapability.reject(rt(dt.reason)),yt.isCancelled=!0,delete this.streamSinks[pt];break;default:throw new Error("Unexpected stream case")}},_s=async function(dt,pt){var ut,lt,ft;await Promise.allSettled([(ut=dt.startCall)==null?void 0:ut.promise,(lt=dt.pullCall)==null?void 0:lt.promise,(ft=dt.cancelCall)==null?void 0:ft.promise]),delete this.streamControllers[pt]},_.MessageHandler=nt},(j,_,$)=>{var tt,rt;Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var _e=$(1);class et{constructor({parsedData:st,rawData:it}){nr(this,tt);nr(this,rt);tr(this,tt,st),tr(this,rt,it)}getRaw(){return _t(this,rt)}get(st){return _t(this,tt).get(st)??null}getAll(){return(0,_e.objectFromMap)(_t(this,tt))}has(st){return _t(this,tt).has(st)}}tt=new WeakMap,rt=new WeakMap,_.Metadata=et},(j,_,$)=>{var st,it,at,ot,ct,dt,ga;Object.defineProperty(_,"__esModule",{value:!0}),_.OptionalContentConfig=void 0;var _e=$(1),et=$(8);const tt=Symbol("INTERNAL");class rt{constructor(lt,ft){nr(this,st,!0);this.name=lt,this.intent=ft}get visible(){return _t(this,st)}_setVisible(lt,ft){lt!==tt&&(0,_e.unreachable)("Internal method `_setVisible` called."),tr(this,st,ft)}}st=new WeakMap;class nt{constructor(lt){nr(this,dt);nr(this,it,null);nr(this,at,new Map);nr(this,ot,null);nr(this,ct,null);if(this.name=null,this.creator=null,lt!==null){this.name=lt.name,this.creator=lt.creator,tr(this,ct,lt.order);for(const ft of lt.groups)_t(this,at).set(ft.id,new rt(ft.name,ft.intent));if(lt.baseState==="OFF")for(const ft of _t(this,at).values())ft._setVisible(tt,!1);for(const ft of lt.on)_t(this,at).get(ft)._setVisible(tt,!0);for(const ft of lt.off)_t(this,at).get(ft)._setVisible(tt,!1);tr(this,ot,this.getHash())}}isVisible(lt){if(_t(this,at).size===0)return!0;if(!lt)return(0,_e.warn)("Optional content group not defined."),!0;if(lt.type==="OCG")return _t(this,at).has(lt.id)?_t(this,at).get(lt.id).visible:((0,_e.warn)(`Optional content group not found: ${lt.id}`),!0);if(lt.type==="OCMD"){if(lt.expression)return er(this,dt,ga).call(this,lt.expression);if(!lt.policy||lt.policy==="AnyOn"){for(const ft of lt.ids){if(!_t(this,at).has(ft))return(0,_e.warn)(`Optional content group not found: ${ft}`),!0;if(_t(this,at).get(ft).visible)return!0}return!1}else if(lt.policy==="AllOn"){for(const ft of lt.ids){if(!_t(this,at).has(ft))return(0,_e.warn)(`Optional content group not found: ${ft}`),!0;if(!_t(this,at).get(ft).visible)return!1}return!0}else if(lt.policy==="AnyOff"){for(const ft of lt.ids){if(!_t(this,at).has(ft))return(0,_e.warn)(`Optional content group not found: ${ft}`),!0;if(!_t(this,at).get(ft).visible)return!0}return!1}else if(lt.policy==="AllOff"){for(const ft of lt.ids){if(!_t(this,at).has(ft))return(0,_e.warn)(`Optional content group not found: ${ft}`),!0;if(_t(this,at).get(ft).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${lt.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${lt.type}.`),!0}setVisibility(lt,ft=!0){if(!_t(this,at).has(lt)){(0,_e.warn)(`Optional content group not found: ${lt}`);return}_t(this,at).get(lt)._setVisible(tt,!!ft),tr(this,it,null)}get hasInitialVisibility(){return _t(this,ot)===null||this.getHash()===_t(this,ot)}getOrder(){return _t(this,at).size?_t(this,ct)?_t(this,ct).slice():[..._t(this,at).keys()]:null}getGroups(){return _t(this,at).size>0?(0,_e.objectFromMap)(_t(this,at)):null}getGroup(lt){return _t(this,at).get(lt)||null}getHash(){if(_t(this,it)!==null)return _t(this,it);const lt=new et.MurmurHash3_64;for(const[ft,ht]of _t(this,at))lt.update(`${ft}:${ht.visible}`);return tr(this,it,lt.hexdigest())}}it=new WeakMap,at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakSet,ga=function(lt){const ft=lt.length;if(ft<2)return!0;const ht=lt[0];for(let yt=1;yt<ft;yt++){const vt=lt[yt];let gt;if(Array.isArray(vt))gt=er(this,dt,ga).call(this,vt);else if(_t(this,at).has(vt))gt=_t(this,at).get(vt).visible;else return(0,_e.warn)(`Optional content group not found: ${vt}`),!0;switch(ht){case"And":if(!gt)return!1;break;case"Or":if(gt)return!0;break;case"Not":return!gt;default:return!0}}return ht==="And"},_.OptionalContentConfig=nt},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFDataTransportStream=void 0;var _e=$(1),et=$(6);class tt{constructor({length:it,initialData:at,progressiveDone:ot=!1,contentDispositionFilename:ct=null,disableRange:dt=!1,disableStream:pt=!1},ut){if((0,_e.assert)(ut,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ot,this._contentDispositionFilename=ct,(at==null?void 0:at.length)>0){const lt=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;this._queuedChunks.push(lt)}this._pdfDataRangeTransport=ut,this._isStreamingSupported=!pt,this._isRangeSupported=!dt,this._contentLength=it,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((lt,ft)=>{this._onReceiveData({begin:lt,chunk:ft})}),this._pdfDataRangeTransport.addProgressListener((lt,ft)=>{this._onProgress({loaded:lt,total:ft})}),this._pdfDataRangeTransport.addProgressiveReadListener(lt=>{this._onReceiveData({chunk:lt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:it,chunk:at}){const ot=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;if(it===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ot):this._queuedChunks.push(ot);else{const ct=this._rangeReaders.some(function(dt){return dt._begin!==it?!1:(dt._enqueue(ot),!0)});(0,_e.assert)(ct,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var it;return((it=this._fullRequestReader)==null?void 0:it._loaded)??0}_onProgress(it){var at,ot,ct,dt;it.total===void 0?(ot=(at=this._rangeReaders[0])==null?void 0:at.onProgress)==null||ot.call(at,{loaded:it.loaded}):(dt=(ct=this._fullRequestReader)==null?void 0:ct.onProgress)==null||dt.call(ct,{loaded:it.loaded,total:it.total})}_onProgressiveDone(){var it;(it=this._fullRequestReader)==null||it.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(it){const at=this._rangeReaders.indexOf(it);at>=0&&this._rangeReaders.splice(at,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const it=this._queuedChunks;return this._queuedChunks=null,new rt(this,it,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(it,at){if(at<=this._progressiveDataLength)return null;const ot=new nt(this,it,at);return this._pdfDataRangeTransport.requestDataRange(it,at),this._rangeReaders.push(ot),ot}cancelAllRequests(it){var at;(at=this._fullRequestReader)==null||at.cancel(it);for(const ot of this._rangeReaders.slice(0))ot.cancel(it);this._pdfDataRangeTransport.abort()}}_.PDFDataTransportStream=tt;class rt{constructor(it,at,ot=!1,ct=null){this._stream=it,this._done=ot||!1,this._filename=(0,et.isPdfFile)(ct)?ct:null,this._queuedChunks=at||[],this._loaded=0;for(const dt of this._queuedChunks)this._loaded+=dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),it._fullRequestReader=this,this.onProgress=null}_enqueue(it){this._done||(this._requests.length>0?this._requests.shift().resolve({value:it,done:!1}):this._queuedChunks.push(it),this._loaded+=it.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const it=new _e.PromiseCapability;return this._requests.push(it),it.promise}cancel(it){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nt{constructor(it,at,ot){this._stream=it,this._begin=at,this._end=ot,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(it){if(!this._done){if(this._requests.length===0)this._queuedChunk=it;else{this._requests.shift().resolve({value:it,done:!1});for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const it=new _e.PromiseCapability;return this._requests.push(it),it.promise}cancel(it){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFetchStream=void 0;var _e=$(1),et=$(20);function tt(ot,ct,dt){return{method:"GET",headers:ot,signal:dt.signal,mode:"cors",credentials:ct?"include":"same-origin",redirect:"follow"}}function rt(ot){const ct=new Headers;for(const dt in ot){const pt=ot[dt];pt!==void 0&&ct.append(dt,pt)}return ct}function nt(ot){return ot instanceof Uint8Array?ot.buffer:ot instanceof ArrayBuffer?ot:((0,_e.warn)(`getArrayBuffer - unexpected data format: ${ot}`),new Uint8Array(ot).buffer)}class st{constructor(ct){this.source=ct,this.isHttp=/^https?:/i.test(ct.url),this.httpHeaders=this.isHttp&&ct.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ct;return((ct=this._fullRequestReader)==null?void 0:ct._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new it(this),this._fullRequestReader}getRangeReader(ct,dt){if(dt<=this._progressiveDataLength)return null;const pt=new at(this,ct,dt);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(ct){var dt;(dt=this._fullRequestReader)==null||dt.cancel(ct);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(ct)}}_.PDFFetchStream=st;class it{constructor(ct){this._stream=ct,this._reader=null,this._loaded=0,this._filename=null;const dt=ct.source;this._withCredentials=dt.withCredentials||!1,this._contentLength=dt.length,this._headersCapability=new _e.PromiseCapability,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._headers=rt(this._stream.httpHeaders);const pt=dt.url;fetch(pt,tt(this._headers,this._withCredentials,this._abortController)).then(ut=>{if(!(0,et.validateResponseStatus)(ut.status))throw(0,et.createResponseStatusError)(ut.status,pt);this._reader=ut.body.getReader(),this._headersCapability.resolve();const lt=yt=>ut.headers.get(yt),{allowRangeRequests:ft,suggestedLength:ht}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=ht||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(lt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._headersCapability.promise;const{value:ct,done:dt}=await this._reader.read();return dt?{value:ct,done:dt}:(this._loaded+=ct.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nt(ct),done:!1})}cancel(ct){var dt;(dt=this._reader)==null||dt.cancel(ct),this._abortController.abort()}}class at{constructor(ct,dt,pt){this._stream=ct,this._reader=null,this._loaded=0;const ut=ct.source;this._withCredentials=ut.withCredentials||!1,this._readCapability=new _e.PromiseCapability,this._isStreamingSupported=!ut.disableStream,this._abortController=new AbortController,this._headers=rt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${dt}-${pt-1}`);const lt=ut.url;fetch(lt,tt(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,et.validateResponseStatus)(ft.status))throw(0,et.createResponseStatusError)(ft.status,lt);this._readCapability.resolve(),this._reader=ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._readCapability.promise;const{value:ct,done:dt}=await this._reader.read();return dt?{value:ct,done:dt}:(this._loaded+=ct.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded}),{value:nt(ct),done:!1})}cancel(ct){var dt;(dt=this._reader)==null||dt.cancel(ct),this._abortController.abort()}}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createResponseStatusError=st,_.extractFilenameFromHeader=nt,_.validateRangeRequestCapabilities=rt,_.validateResponseStatus=it;var _e=$(1),et=$(21),tt=$(6);function rt({getResponseHeader:at,isHttp:ot,rangeChunkSize:ct,disableRange:dt}){const pt={allowRangeRequests:!1,suggestedLength:void 0},ut=parseInt(at("Content-Length"),10);return!Number.isInteger(ut)||(pt.suggestedLength=ut,ut<=2*ct)||dt||!ot||at("Accept-Ranges")!=="bytes"||(at("Content-Encoding")||"identity")!=="identity"||(pt.allowRangeRequests=!0),pt}function nt(at){const ot=at("Content-Disposition");if(ot){let ct=(0,et.getFilenameFromContentDispositionHeader)(ot);if(ct.includes("%"))try{ct=decodeURIComponent(ct)}catch{}if((0,tt.isPdfFile)(ct))return ct}return null}function st(at,ot){return at===404||at===0&&ot.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+ot+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${at}) while retrieving PDF "${ot}".`,at)}function it(at){return at===200||at===206}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getFilenameFromContentDispositionHeader=et;var _e=$(1);function et(tt){let rt=!0,nt=st("filename\\*","i").exec(tt);if(nt){nt=nt[1];let ut=ct(nt);return ut=unescape(ut),ut=dt(ut),ut=pt(ut),at(ut)}if(nt=ot(tt),nt){const ut=pt(nt);return at(ut)}if(nt=st("filename","i").exec(tt),nt){nt=nt[1];let ut=ct(nt);return ut=pt(ut),at(ut)}function st(ut,lt){return new RegExp("(?:^|;)\\s*"+ut+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',lt)}function it(ut,lt){if(ut){if(!/^[\x00-\xFF]+$/.test(lt))return lt;try{const ft=new TextDecoder(ut,{fatal:!0}),ht=(0,_e.stringToBytes)(lt);lt=ft.decode(ht),rt=!1}catch{}}return lt}function at(ut){return rt&&/[\x80-\xff]/.test(ut)&&(ut=it("utf-8",ut),rt&&(ut=it("iso-8859-1",ut))),ut}function ot(ut){const lt=[];let ft;const ht=st("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ft=ht.exec(ut))!==null;){let[,vt,gt,bt]=ft;if(vt=parseInt(vt,10),vt in lt){if(vt===0)break;continue}lt[vt]=[gt,bt]}const yt=[];for(let vt=0;vt<lt.length&&vt in lt;++vt){let[gt,bt]=lt[vt];bt=ct(bt),gt&&(bt=unescape(bt),vt===0&&(bt=dt(bt))),yt.push(bt)}return yt.join("")}function ct(ut){if(ut.startsWith('"')){const lt=ut.slice(1).split('\\"');for(let ft=0;ft<lt.length;++ft){const ht=lt[ft].indexOf('"');ht!==-1&&(lt[ft]=lt[ft].slice(0,ht),lt.length=ft+1),lt[ft]=lt[ft].replaceAll(/\\(.)/g,"$1")}ut=lt.join('"')}return ut}function dt(ut){const lt=ut.indexOf("'");if(lt===-1)return ut;const ft=ut.slice(0,lt),yt=ut.slice(lt+1).replace(/^[^']*'/,"");return it(ft,yt)}function pt(ut){return!ut.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ut)?ut:ut.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(lt,ft,ht,yt){if(ht==="q"||ht==="Q")return yt=yt.replaceAll("_"," "),yt=yt.replaceAll(/=([0-9a-fA-F]{2})/g,function(vt,gt){return String.fromCharCode(parseInt(gt,16))}),it(ft,yt);try{yt=atob(yt)}catch{}return it(ft,yt)})}return""}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNetworkStream=void 0;var _e=$(1),et=$(20);const tt=200,rt=206;function nt(ct){const dt=ct.response;return typeof dt!="string"?dt:(0,_e.stringToBytes)(dt).buffer}class st{constructor(dt,pt={}){this.url=dt,this.isHttp=/^https?:/i.test(dt),this.httpHeaders=this.isHttp&&pt.httpHeaders||Object.create(null),this.withCredentials=pt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(dt,pt,ut){const lt={begin:dt,end:pt};for(const ft in ut)lt[ft]=ut[ft];return this.request(lt)}requestFull(dt){return this.request(dt)}request(dt){const pt=new XMLHttpRequest,ut=this.currXhrId++,lt=this.pendingRequests[ut]={xhr:pt};pt.open("GET",this.url),pt.withCredentials=this.withCredentials;for(const ft in this.httpHeaders){const ht=this.httpHeaders[ft];ht!==void 0&&pt.setRequestHeader(ft,ht)}return this.isHttp&&"begin"in dt&&"end"in dt?(pt.setRequestHeader("Range",`bytes=${dt.begin}-${dt.end-1}`),lt.expectedStatus=rt):lt.expectedStatus=tt,pt.responseType="arraybuffer",dt.onError&&(pt.onerror=function(ft){dt.onError(pt.status)}),pt.onreadystatechange=this.onStateChange.bind(this,ut),pt.onprogress=this.onProgress.bind(this,ut),lt.onHeadersReceived=dt.onHeadersReceived,lt.onDone=dt.onDone,lt.onError=dt.onError,lt.onProgress=dt.onProgress,pt.send(null),ut}onProgress(dt,pt){var lt;const ut=this.pendingRequests[dt];ut&&((lt=ut.onProgress)==null||lt.call(ut,pt))}onStateChange(dt,pt){var vt,gt,bt;const ut=this.pendingRequests[dt];if(!ut)return;const lt=ut.xhr;if(lt.readyState>=2&&ut.onHeadersReceived&&(ut.onHeadersReceived(),delete ut.onHeadersReceived),lt.readyState!==4||!(dt in this.pendingRequests))return;if(delete this.pendingRequests[dt],lt.status===0&&this.isHttp){(vt=ut.onError)==null||vt.call(ut,lt.status);return}const ft=lt.status||tt;if(!(ft===tt&&ut.expectedStatus===rt)&&ft!==ut.expectedStatus){(gt=ut.onError)==null||gt.call(ut,lt.status);return}const yt=nt(lt);if(ft===rt){const mt=lt.getResponseHeader("Content-Range"),Et=/bytes (\d+)-(\d+)\/(\d+)/.exec(mt);ut.onDone({begin:parseInt(Et[1],10),chunk:yt})}else yt?ut.onDone({begin:0,chunk:yt}):(bt=ut.onError)==null||bt.call(ut,lt.status)}getRequestXhr(dt){return this.pendingRequests[dt].xhr}isPendingRequest(dt){return dt in this.pendingRequests}abortRequest(dt){const pt=this.pendingRequests[dt].xhr;delete this.pendingRequests[dt],pt.abort()}}class it{constructor(dt){this._source=dt,this._manager=new st(dt.url,{httpHeaders:dt.httpHeaders,withCredentials:dt.withCredentials}),this._rangeChunkSize=dt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(dt){const pt=this._rangeRequestReaders.indexOf(dt);pt>=0&&this._rangeRequestReaders.splice(pt,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new at(this._manager,this._source),this._fullRequestReader}getRangeReader(dt,pt){const ut=new ot(this._manager,dt,pt);return ut.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ut),ut}cancelAllRequests(dt){var pt;(pt=this._fullRequestReader)==null||pt.cancel(dt);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(dt)}}_.PDFNetworkStream=it;class at{constructor(dt,pt){this._manager=dt;const ut={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._fullRequestId=dt.requestFull(ut),this._headersReceivedCapability=new _e.PromiseCapability,this._disableRange=pt.disableRange||!1,this._contentLength=pt.length,this._rangeChunkSize=pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const dt=this._fullRequestId,pt=this._manager.getRequestXhr(dt),ut=ht=>pt.getResponseHeader(ht),{allowRangeRequests:lt,suggestedLength:ft}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});lt&&(this._isRangeSupported=!0),this._contentLength=ft||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(ut),this._isRangeSupported&&this._manager.abortRequest(dt),this._headersReceivedCapability.resolve()}_onDone(dt){if(dt&&(this._requests.length>0?this._requests.shift().resolve({value:dt.chunk,done:!1}):this._cachedChunks.push(dt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(dt){this._storedError=(0,et.createResponseStatusError)(dt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(dt){var pt;(pt=this.onProgress)==null||pt.call(this,{loaded:dt.loaded,total:dt.lengthComputable?dt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const dt=new _e.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0,this._headersReceivedCapability.reject(dt);for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ot{constructor(dt,pt,ut){this._manager=dt;const lt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=dt.url,this._requestId=dt.requestRange(pt,ut,lt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var dt;(dt=this.onClosed)==null||dt.call(this,this)}_onDone(dt){const pt=dt.chunk;this._requests.length>0?this._requests.shift().resolve({value:pt,done:!1}):this._queuedChunk=pt,this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(dt){this._storedError=(0,et.createResponseStatusError)(dt,this._url);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(dt){var pt;this.isStreamingSupported||(pt=this.onProgress)==null||pt.call(this,{loaded:dt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const pt=this._queuedChunk;return this._queuedChunk=null,{value:pt,done:!1}}if(this._done)return{value:void 0,done:!0};const dt=new _e.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNodeStream=void 0;var _e=$(1),et=$(20);const tt=/^file:\/\/\/[a-zA-Z]:\//;function rt(ut){const lt=require$$5,ft=lt.parse(ut);return ft.protocol==="file:"||ft.host?ft:/^[a-z]:[/\\]/i.test(ut)?lt.parse(`file:///${ut}`):(ft.host||(ft.protocol="file:"),ft)}class nt{constructor(lt){this.source=lt,this.url=rt(lt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&lt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new ot(this),this._fullRequestReader}getRangeReader(lt,ft){if(ft<=this._progressiveDataLength)return null;const ht=this.isFsUrl?new pt(this,lt,ft):new ct(this,lt,ft);return this._rangeRequestReaders.push(ht),ht}cancelAllRequests(lt){var ft;(ft=this._fullRequestReader)==null||ft.cancel(lt);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(lt)}}_.PDFNodeStream=nt;class st{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ft=lt.source;this._contentLength=ft.length,this._loaded=0,this._filename=null,this._disableRange=ft.disableRange||!1,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ft.disableStream,this._isRangeSupported=!ft.disableRange,this._readableStream=null,this._readCapability=new _e.PromiseCapability,this._headersCapability=new _e.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=lt.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",ft=>{this._error(ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class it{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _e.PromiseCapability;const ft=lt.source;this._isStreamingSupported=!ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=lt.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",ft=>{this._error(ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function at(ut,lt){return{protocol:ut.protocol,auth:ut.auth,host:ut.hostname,port:ut.port,path:ut.path,method:"GET",headers:lt}}class ot extends st{constructor(lt){super(lt);const ft=ht=>{if(ht.statusCode===404){const bt=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=bt,this._headersCapability.reject(bt);return}this._headersCapability.resolve(),this._setReadableStream(ht);const yt=bt=>this._readableStream.headers[bt.toLowerCase()],{allowRangeRequests:vt,suggestedLength:gt}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:lt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=vt,this._contentLength=gt||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(yt)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(at(this._url,lt.httpHeaders),ft)}else{const ht=require$$5;this._request=ht.request(at(this._url,lt.httpHeaders),ft)}this._request.on("error",ht=>{this._storedError=ht,this._headersCapability.reject(ht)}),this._request.end()}}class ct extends it{constructor(lt,ft,ht){super(lt),this._httpHeaders={};for(const vt in lt.httpHeaders){const gt=lt.httpHeaders[vt];gt!==void 0&&(this._httpHeaders[vt]=gt)}this._httpHeaders.Range=`bytes=${ft}-${ht-1}`;const yt=vt=>{if(vt.statusCode===404){const gt=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=gt;return}this._setReadableStream(vt)};if(this._request=null,this._url.protocol==="http:"){const vt=require$$5;this._request=vt.request(at(this._url,this._httpHeaders),yt)}else{const vt=require$$5;this._request=vt.request(at(this._url,this._httpHeaders),yt)}this._request.on("error",vt=>{this._storedError=vt}),this._request.end()}}class dt extends st{constructor(lt){super(lt);let ft=decodeURIComponent(this._url.path);tt.test(this._url.href)&&(ft=ft.replace(/^\//,""));const ht=require$$5;ht.lstat(ft,(yt,vt)=>{if(yt){yt.code==="ENOENT"&&(yt=new _e.MissingPDFException(`Missing PDF "${ft}".`)),this._storedError=yt,this._headersCapability.reject(yt);return}this._contentLength=vt.size,this._setReadableStream(ht.createReadStream(ft)),this._headersCapability.resolve()})}}class pt extends it{constructor(lt,ft,ht){super(lt);let yt=decodeURIComponent(this._url.path);tt.test(this._url.href)&&(yt=yt.replace(/^\//,""));const vt=require$$5;this._setReadableStream(vt.createReadStream(yt,{start:ft,end:ht-1}))}}},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SVGGraphics=void 0;var _e=$(6),et=$(1);const tt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},rt="http://www.w3.org/XML/1998/namespace",nt="http://www.w3.org/1999/xlink",st=["butt","round","square"],it=["miter","round","bevel"],at=function(vt,gt="",bt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!bt)return URL.createObjectURL(new Blob([vt],{type:gt}));const mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Et=`data:${gt};base64,`;for(let Rt=0,Tt=vt.length;Rt<Tt;Rt+=3){const jt=vt[Rt]&255,xt=vt[Rt+1]&255,Ct=vt[Rt+2]&255,kt=jt>>2,Nt=(jt&3)<<4|xt>>4,St=Rt+1<Tt?(xt&15)<<2|Ct>>6:64,Ot=Rt+2<Tt?Ct&63:64;Et+=mt[kt]+mt[Nt]+mt[St]+mt[Ot]}return Et},ot=function(){const vt=new Uint8Array([137,80,78,71,13,10,26,10]),gt=12,bt=new Int32Array(256);for(let Ct=0;Ct<256;Ct++){let kt=Ct;for(let Nt=0;Nt<8;Nt++)kt=kt&1?3988292384^kt>>1&2147483647:kt>>1&2147483647;bt[Ct]=kt}function mt(Ct,kt,Nt){let St=-1;for(let Ot=kt;Ot<Nt;Ot++){const Pt=(St^Ct[Ot])&255,wt=bt[Pt];St=St>>>8^wt}return St^-1}function Et(Ct,kt,Nt,St){let Ot=St;const Pt=kt.length;Nt[Ot]=Pt>>24&255,Nt[Ot+1]=Pt>>16&255,Nt[Ot+2]=Pt>>8&255,Nt[Ot+3]=Pt&255,Ot+=4,Nt[Ot]=Ct.charCodeAt(0)&255,Nt[Ot+1]=Ct.charCodeAt(1)&255,Nt[Ot+2]=Ct.charCodeAt(2)&255,Nt[Ot+3]=Ct.charCodeAt(3)&255,Ot+=4,Nt.set(kt,Ot),Ot+=kt.length;const wt=mt(Nt,St+4,Ot);Nt[Ot]=wt>>24&255,Nt[Ot+1]=wt>>16&255,Nt[Ot+2]=wt>>8&255,Nt[Ot+3]=wt&255}function Rt(Ct,kt,Nt){let St=1,Ot=0;for(let Pt=kt;Pt<Nt;++Pt)St=(St+(Ct[Pt]&255))%65521,Ot=(Ot+St)%65521;return Ot<<16|St}function Tt(Ct){if(!et.isNodeJS)return jt(Ct);try{const kt=parseInt(process.versions.node)>=8?Ct:Buffer.from(Ct),Nt=require$$5.deflateSync(kt,{level:9});return Nt instanceof Uint8Array?Nt:new Uint8Array(Nt)}catch(kt){(0,et.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+kt)}return jt(Ct)}function jt(Ct){let kt=Ct.length;const Nt=65535,St=Math.ceil(kt/Nt),Ot=new Uint8Array(2+kt+St*5+4);let Pt=0;Ot[Pt++]=120,Ot[Pt++]=156;let wt=0;for(;kt>Nt;)Ot[Pt++]=0,Ot[Pt++]=255,Ot[Pt++]=255,Ot[Pt++]=0,Ot[Pt++]=0,Ot.set(Ct.subarray(wt,wt+Nt),Pt),Pt+=Nt,wt+=Nt,kt-=Nt;Ot[Pt++]=1,Ot[Pt++]=kt&255,Ot[Pt++]=kt>>8&255,Ot[Pt++]=~kt&65535&255,Ot[Pt++]=(~kt&65535)>>8&255,Ot.set(Ct.subarray(wt),Pt),Pt+=Ct.length-wt;const Dt=Rt(Ct,0,Ct.length);return Ot[Pt++]=Dt>>24&255,Ot[Pt++]=Dt>>16&255,Ot[Pt++]=Dt>>8&255,Ot[Pt++]=Dt&255,Ot}function xt(Ct,kt,Nt,St){const Ot=Ct.width,Pt=Ct.height;let wt,Dt,Vt;const It=Ct.data;switch(kt){case et.ImageKind.GRAYSCALE_1BPP:Dt=0,wt=1,Vt=Ot+7>>3;break;case et.ImageKind.RGB_24BPP:Dt=2,wt=8,Vt=Ot*3;break;case et.ImageKind.RGBA_32BPP:Dt=6,wt=8,Vt=Ot*4;break;default:throw new Error("invalid format")}const At=new Uint8Array((1+Vt)*Pt);let $t=0,Mt=0;for(let sr=0;sr<Pt;++sr)At[$t++]=0,At.set(It.subarray(Mt,Mt+Vt),$t),Mt+=Vt,$t+=Vt;if(kt===et.ImageKind.GRAYSCALE_1BPP&&St){$t=0;for(let sr=0;sr<Pt;sr++){$t++;for(let Kt=0;Kt<Vt;Kt++)At[$t++]^=255}}const Ht=new Uint8Array([Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255,Pt>>24&255,Pt>>16&255,Pt>>8&255,Pt&255,wt,Dt,0,0,0]),Bt=Tt(At),Ut=vt.length+gt*3+Ht.length+Bt.length,zt=new Uint8Array(Ut);let Qt=0;return zt.set(vt,Qt),Qt+=vt.length,Et("IHDR",Ht,zt,Qt),Qt+=gt+Ht.length,Et("IDATA",Bt,zt,Qt),Qt+=gt+Bt.length,Et("IEND",new Uint8Array(0),zt,Qt),at(zt,"image/png",Nt)}return function(kt,Nt,St){const Ot=kt.kind===void 0?et.ImageKind.GRAYSCALE_1BPP:kt.kind;return xt(kt,Ot,Nt,St)}}();class ct{constructor(){this.fontSizeScale=1,this.fontWeight=tt.fontWeight,this.fontSize=0,this.textMatrix=et.IDENTITY_MATRIX,this.fontMatrix=et.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=et.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=tt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(gt,bt){this.x=gt,this.y=bt}}function dt(vt){let gt=[];const bt=[];for(const mt of vt){if(mt.fn==="save"){gt.push({fnId:92,fn:"group",items:[]}),bt.push(gt),gt=gt.at(-1).items;continue}mt.fn==="restore"?gt=bt.pop():gt.push(mt)}return gt}function pt(vt){if(Number.isInteger(vt))return vt.toString();const gt=vt.toFixed(10);let bt=gt.length-1;if(gt[bt]!=="0")return gt;do bt--;while(gt[bt]==="0");return gt.substring(0,gt[bt]==="."?bt:bt+1)}function ut(vt){if(vt[4]===0&&vt[5]===0){if(vt[1]===0&&vt[2]===0)return vt[0]===1&&vt[3]===1?"":`scale(${pt(vt[0])} ${pt(vt[3])})`;if(vt[0]===vt[3]&&vt[1]===-vt[2]){const gt=Math.acos(vt[0])*180/Math.PI;return`rotate(${pt(gt)})`}}else if(vt[0]===1&&vt[1]===0&&vt[2]===0&&vt[3]===1)return`translate(${pt(vt[4])} ${pt(vt[5])})`;return`matrix(${pt(vt[0])} ${pt(vt[1])} ${pt(vt[2])} ${pt(vt[3])} ${pt(vt[4])} ${pt(vt[5])})`}let lt=0,ft=0,ht=0;class yt{constructor(gt,bt,mt=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new ct,this.transformMatrix=et.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=gt,this.objs=bt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const Et in et.OPS)this._operatorIdMapping[et.OPS[Et]]=Et}getObject(gt,bt=null){return typeof gt=="string"?gt.startsWith("g_")?this.commonObjs.get(gt):this.objs.get(gt):bt}save(){this.transformStack.push(this.transformMatrix);const gt=this.current;this.extraStack.push(gt),this.current=gt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(gt){this.save(),this.executeOpTree(gt),this.restore()}loadDependencies(gt){const bt=gt.fnArray,mt=gt.argsArray;for(let Et=0,Rt=bt.length;Et<Rt;Et++)if(bt[Et]===et.OPS.dependency)for(const Tt of mt[Et]){const jt=Tt.startsWith("g_")?this.commonObjs:this.objs,xt=new Promise(Ct=>{jt.get(Tt,Ct)});this.current.dependencies.push(xt)}return Promise.all(this.current.dependencies)}transform(gt,bt,mt,Et,Rt,Tt){const jt=[gt,bt,mt,Et,Rt,Tt];this.transformMatrix=et.Util.transform(this.transformMatrix,jt),this.tgrp=null}getSVG(gt,bt){this.viewport=bt;const mt=this._initialize(bt);return this.loadDependencies(gt).then(()=>(this.transformMatrix=et.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(gt)),mt))}convertOpList(gt){const bt=this._operatorIdMapping,mt=gt.argsArray,Et=gt.fnArray,Rt=[];for(let Tt=0,jt=Et.length;Tt<jt;Tt++){const xt=Et[Tt];Rt.push({fnId:xt,fn:bt[xt],args:mt[Tt]})}return dt(Rt)}executeOpTree(gt){for(const bt of gt){const mt=bt.fn,Et=bt.fnId,Rt=bt.args;switch(Et|0){case et.OPS.beginText:this.beginText();break;case et.OPS.dependency:break;case et.OPS.setLeading:this.setLeading(Rt);break;case et.OPS.setLeadingMoveText:this.setLeadingMoveText(Rt[0],Rt[1]);break;case et.OPS.setFont:this.setFont(Rt);break;case et.OPS.showText:this.showText(Rt[0]);break;case et.OPS.showSpacedText:this.showText(Rt[0]);break;case et.OPS.endText:this.endText();break;case et.OPS.moveText:this.moveText(Rt[0],Rt[1]);break;case et.OPS.setCharSpacing:this.setCharSpacing(Rt[0]);break;case et.OPS.setWordSpacing:this.setWordSpacing(Rt[0]);break;case et.OPS.setHScale:this.setHScale(Rt[0]);break;case et.OPS.setTextMatrix:this.setTextMatrix(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5]);break;case et.OPS.setTextRise:this.setTextRise(Rt[0]);break;case et.OPS.setTextRenderingMode:this.setTextRenderingMode(Rt[0]);break;case et.OPS.setLineWidth:this.setLineWidth(Rt[0]);break;case et.OPS.setLineJoin:this.setLineJoin(Rt[0]);break;case et.OPS.setLineCap:this.setLineCap(Rt[0]);break;case et.OPS.setMiterLimit:this.setMiterLimit(Rt[0]);break;case et.OPS.setFillRGBColor:this.setFillRGBColor(Rt[0],Rt[1],Rt[2]);break;case et.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Rt[0],Rt[1],Rt[2]);break;case et.OPS.setStrokeColorN:this.setStrokeColorN(Rt);break;case et.OPS.setFillColorN:this.setFillColorN(Rt);break;case et.OPS.shadingFill:this.shadingFill(Rt[0]);break;case et.OPS.setDash:this.setDash(Rt[0],Rt[1]);break;case et.OPS.setRenderingIntent:this.setRenderingIntent(Rt[0]);break;case et.OPS.setFlatness:this.setFlatness(Rt[0]);break;case et.OPS.setGState:this.setGState(Rt[0]);break;case et.OPS.fill:this.fill();break;case et.OPS.eoFill:this.eoFill();break;case et.OPS.stroke:this.stroke();break;case et.OPS.fillStroke:this.fillStroke();break;case et.OPS.eoFillStroke:this.eoFillStroke();break;case et.OPS.clip:this.clip("nonzero");break;case et.OPS.eoClip:this.clip("evenodd");break;case et.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case et.OPS.paintImageXObject:this.paintImageXObject(Rt[0]);break;case et.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Rt[0]);break;case et.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Rt[0]);break;case et.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Rt[0],Rt[1]);break;case et.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case et.OPS.closePath:this.closePath();break;case et.OPS.closeStroke:this.closeStroke();break;case et.OPS.closeFillStroke:this.closeFillStroke();break;case et.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case et.OPS.nextLine:this.nextLine();break;case et.OPS.transform:this.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5]);break;case et.OPS.constructPath:this.constructPath(Rt[0],Rt[1]);break;case et.OPS.endPath:this.endPath();break;case 92:this.group(bt.items);break;default:(0,et.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(gt){this.current.wordSpacing=gt}setCharSpacing(gt){this.current.charSpacing=gt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(gt,bt,mt,Et,Rt,Tt){const jt=this.current;jt.textMatrix=jt.lineMatrix=[gt,bt,mt,Et,Rt,Tt],jt.textMatrixScale=Math.hypot(gt,bt),jt.x=jt.lineX=0,jt.y=jt.lineY=0,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${pt(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",pt(-jt.y)),jt.txtElement=this.svgFactory.createElement("svg:text"),jt.txtElement.append(jt.tspan)}beginText(){const gt=this.current;gt.x=gt.lineX=0,gt.y=gt.lineY=0,gt.textMatrix=et.IDENTITY_MATRIX,gt.lineMatrix=et.IDENTITY_MATRIX,gt.textMatrixScale=1,gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.txtElement=this.svgFactory.createElement("svg:text"),gt.txtgrp=this.svgFactory.createElement("svg:g"),gt.xcoords=[],gt.ycoords=[]}moveText(gt,bt){const mt=this.current;mt.x=mt.lineX+=gt,mt.y=mt.lineY+=bt,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${pt(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",pt(-mt.y))}showText(gt){const bt=this.current,mt=bt.font,Et=bt.fontSize;if(Et===0)return;const Rt=bt.fontSizeScale,Tt=bt.charSpacing,jt=bt.wordSpacing,xt=bt.fontDirection,Ct=bt.textHScale*xt,kt=mt.vertical,Nt=kt?1:-1,St=mt.defaultVMetrics,Ot=Et*bt.fontMatrix[0];let Pt=0;for(const Vt of gt){if(Vt===null){Pt+=xt*jt;continue}else if(typeof Vt=="number"){Pt+=Nt*Vt*Et/1e3;continue}const It=(Vt.isSpace?jt:0)+Tt,At=Vt.fontChar;let $t,Mt,Ht=Vt.width;if(kt){let Ut;const zt=Vt.vmetric||St;Ut=Vt.vmetric?zt[1]:Ht*.5,Ut=-Ut*Ot;const Qt=zt[2]*Ot;Ht=zt?-zt[0]:Ht,$t=Ut/Rt,Mt=(Pt+Qt)/Rt}else $t=Pt/Rt,Mt=0;(Vt.isInFont||mt.missingFile)&&(bt.xcoords.push(bt.x+$t),kt&&bt.ycoords.push(-bt.y+Mt),bt.tspan.textContent+=At);const Bt=kt?Ht*Ot-It*xt:Ht*Ot+It*xt;Pt+=Bt}bt.tspan.setAttributeNS(null,"x",bt.xcoords.map(pt).join(" ")),kt?bt.tspan.setAttributeNS(null,"y",bt.ycoords.map(pt).join(" ")):bt.tspan.setAttributeNS(null,"y",pt(-bt.y)),kt?bt.y-=Pt:bt.x+=Pt*Ct,bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${pt(bt.fontSize)}px`),bt.fontStyle!==tt.fontStyle&&bt.tspan.setAttributeNS(null,"font-style",bt.fontStyle),bt.fontWeight!==tt.fontWeight&&bt.tspan.setAttributeNS(null,"font-weight",bt.fontWeight);const wt=bt.textRenderingMode&et.TextRenderingMode.FILL_STROKE_MASK;if(wt===et.TextRenderingMode.FILL||wt===et.TextRenderingMode.FILL_STROKE?(bt.fillColor!==tt.fillColor&&bt.tspan.setAttributeNS(null,"fill",bt.fillColor),bt.fillAlpha<1&&bt.tspan.setAttributeNS(null,"fill-opacity",bt.fillAlpha)):bt.textRenderingMode===et.TextRenderingMode.ADD_TO_PATH?bt.tspan.setAttributeNS(null,"fill","transparent"):bt.tspan.setAttributeNS(null,"fill","none"),wt===et.TextRenderingMode.STROKE||wt===et.TextRenderingMode.FILL_STROKE){const Vt=1/(bt.textMatrixScale||1);this._setStrokeAttributes(bt.tspan,Vt)}let Dt=bt.textMatrix;bt.textRise!==0&&(Dt=Dt.slice(),Dt[5]+=bt.textRise),bt.txtElement.setAttributeNS(null,"transform",`${ut(Dt)} scale(${pt(Ct)}, -1)`),bt.txtElement.setAttributeNS(rt,"xml:space","preserve"),bt.txtElement.append(bt.tspan),bt.txtgrp.append(bt.txtElement),this._ensureTransformGroup().append(bt.txtElement)}setLeadingMoveText(gt,bt){this.setLeading(-bt),this.moveText(gt,bt)}addFontStyle(gt){if(!gt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const bt=at(gt.data,gt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${gt.loadedName}"; src: url(${bt}); }
`}setFont(gt){const bt=this.current,mt=this.commonObjs.get(gt[0]);let Et=gt[1];bt.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),bt.fontMatrix=mt.fontMatrix||et.FONT_IDENTITY_MATRIX;let Rt="normal";mt.black?Rt="900":mt.bold&&(Rt="bold");const Tt=mt.italic?"italic":"normal";Et<0?(Et=-Et,bt.fontDirection=-1):bt.fontDirection=1,bt.fontSize=Et,bt.fontFamily=mt.loadedName,bt.fontWeight=Rt,bt.fontStyle=Tt,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"y",pt(-bt.y)),bt.xcoords=[],bt.ycoords=[]}endText(){var bt;const gt=this.current;gt.textRenderingMode&et.TextRenderingMode.ADD_TO_PATH_FLAG&&((bt=gt.txtElement)!=null&&bt.hasChildNodes())&&(gt.element=gt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(gt){gt>0&&(this.current.lineWidth=gt)}setLineCap(gt){this.current.lineCap=st[gt]}setLineJoin(gt){this.current.lineJoin=it[gt]}setMiterLimit(gt){this.current.miterLimit=gt}setStrokeAlpha(gt){this.current.strokeAlpha=gt}setStrokeRGBColor(gt,bt,mt){this.current.strokeColor=et.Util.makeHexColor(gt,bt,mt)}setFillAlpha(gt){this.current.fillAlpha=gt}setFillRGBColor(gt,bt,mt){this.current.fillColor=et.Util.makeHexColor(gt,bt,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(gt){this.current.strokeColor=this._makeColorN_Pattern(gt)}setFillColorN(gt){this.current.fillColor=this._makeColorN_Pattern(gt)}shadingFill(gt){const{width:bt,height:mt}=this.viewport,Et=et.Util.inverseTransform(this.transformMatrix),[Rt,Tt,jt,xt]=et.Util.getAxialAlignedBoundingBox([0,0,bt,mt],Et),Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",Rt),Ct.setAttributeNS(null,"y",Tt),Ct.setAttributeNS(null,"width",jt-Rt),Ct.setAttributeNS(null,"height",xt-Tt),Ct.setAttributeNS(null,"fill",this._makeShadingPattern(gt)),this.current.fillAlpha<1&&Ct.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ct)}_makeColorN_Pattern(gt){return gt[0]==="TilingPattern"?this._makeTilingPattern(gt):this._makeShadingPattern(gt)}_makeTilingPattern(gt){const bt=gt[1],mt=gt[2],Et=gt[3]||et.IDENTITY_MATRIX,[Rt,Tt,jt,xt]=gt[4],Ct=gt[5],kt=gt[6],Nt=gt[7],St=`shading${ht++}`,[Ot,Pt,wt,Dt]=et.Util.normalizeRect([...et.Util.applyTransform([Rt,Tt],Et),...et.Util.applyTransform([jt,xt],Et)]),[Vt,It]=et.Util.singularValueDecompose2dScale(Et),At=Ct*Vt,$t=kt*It,Mt=this.svgFactory.createElement("svg:pattern");Mt.setAttributeNS(null,"id",St),Mt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Mt.setAttributeNS(null,"width",At),Mt.setAttributeNS(null,"height",$t),Mt.setAttributeNS(null,"x",`${Ot}`),Mt.setAttributeNS(null,"y",`${Pt}`);const Ht=this.svg,Bt=this.transformMatrix,Ut=this.current.fillColor,zt=this.current.strokeColor,Qt=this.svgFactory.create(wt-Ot,Dt-Pt);if(this.svg=Qt,this.transformMatrix=Et,Nt===2){const sr=et.Util.makeHexColor(...bt);this.current.fillColor=sr,this.current.strokeColor=sr}return this.executeOpTree(this.convertOpList(mt)),this.svg=Ht,this.transformMatrix=Bt,this.current.fillColor=Ut,this.current.strokeColor=zt,Mt.append(Qt.childNodes[0]),this.defs.append(Mt),`url(#${St})`}_makeShadingPattern(gt){switch(typeof gt=="string"&&(gt=this.objs.get(gt)),gt[0]){case"RadialAxial":const bt=`shading${ht++}`,mt=gt[3];let Et;switch(gt[1]){case"axial":const Rt=gt[4],Tt=gt[5];Et=this.svgFactory.createElement("svg:linearGradient"),Et.setAttributeNS(null,"id",bt),Et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Et.setAttributeNS(null,"x1",Rt[0]),Et.setAttributeNS(null,"y1",Rt[1]),Et.setAttributeNS(null,"x2",Tt[0]),Et.setAttributeNS(null,"y2",Tt[1]);break;case"radial":const jt=gt[4],xt=gt[5],Ct=gt[6],kt=gt[7];Et=this.svgFactory.createElement("svg:radialGradient"),Et.setAttributeNS(null,"id",bt),Et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Et.setAttributeNS(null,"cx",xt[0]),Et.setAttributeNS(null,"cy",xt[1]),Et.setAttributeNS(null,"r",kt),Et.setAttributeNS(null,"fx",jt[0]),Et.setAttributeNS(null,"fy",jt[1]),Et.setAttributeNS(null,"fr",Ct);break;default:throw new Error(`Unknown RadialAxial type: ${gt[1]}`)}for(const Rt of mt){const Tt=this.svgFactory.createElement("svg:stop");Tt.setAttributeNS(null,"offset",Rt[0]),Tt.setAttributeNS(null,"stop-color",Rt[1]),Et.append(Tt)}return this.defs.append(Et),`url(#${bt})`;case"Mesh":return(0,et.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${gt[0]}`)}}setDash(gt,bt){this.current.dashArray=gt,this.current.dashPhase=bt}constructPath(gt,bt){const mt=this.current;let Et=mt.x,Rt=mt.y,Tt=[],jt=0;for(const xt of gt)switch(xt|0){case et.OPS.rectangle:Et=bt[jt++],Rt=bt[jt++];const Ct=bt[jt++],kt=bt[jt++],Nt=Et+Ct,St=Rt+kt;Tt.push("M",pt(Et),pt(Rt),"L",pt(Nt),pt(Rt),"L",pt(Nt),pt(St),"L",pt(Et),pt(St),"Z");break;case et.OPS.moveTo:Et=bt[jt++],Rt=bt[jt++],Tt.push("M",pt(Et),pt(Rt));break;case et.OPS.lineTo:Et=bt[jt++],Rt=bt[jt++],Tt.push("L",pt(Et),pt(Rt));break;case et.OPS.curveTo:Et=bt[jt+4],Rt=bt[jt+5],Tt.push("C",pt(bt[jt]),pt(bt[jt+1]),pt(bt[jt+2]),pt(bt[jt+3]),pt(Et),pt(Rt)),jt+=6;break;case et.OPS.curveTo2:Tt.push("C",pt(Et),pt(Rt),pt(bt[jt]),pt(bt[jt+1]),pt(bt[jt+2]),pt(bt[jt+3])),Et=bt[jt+2],Rt=bt[jt+3],jt+=4;break;case et.OPS.curveTo3:Et=bt[jt+2],Rt=bt[jt+3],Tt.push("C",pt(bt[jt]),pt(bt[jt+1]),pt(Et),pt(Rt),pt(Et),pt(Rt)),jt+=4;break;case et.OPS.closePath:Tt.push("Z");break}Tt=Tt.join(" "),mt.path&&gt.length>0&&gt[0]!==et.OPS.rectangle&&gt[0]!==et.OPS.moveTo?Tt=mt.path.getAttributeNS(null,"d")+Tt:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",Tt),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(Et,Rt)}endPath(){const gt=this.current;if(gt.path=null,!this.pendingClip)return;if(!gt.element){this.pendingClip=null;return}const bt=`clippath${lt++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",bt),mt.setAttributeNS(null,"transform",ut(this.transformMatrix));const Et=gt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Et.setAttributeNS(null,"clip-rule","evenodd"):Et.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(Et),this.defs.append(mt),gt.activeClipUrl){gt.clipGroup=null;for(const Rt of this.extraStack)Rt.clipGroup=null;mt.setAttributeNS(null,"clip-path",gt.activeClipUrl)}gt.activeClipUrl=`url(#${bt})`,this.tgrp=null}clip(gt){this.pendingClip=gt}closePath(){const gt=this.current;if(gt.path){const bt=`${gt.path.getAttributeNS(null,"d")}Z`;gt.path.setAttributeNS(null,"d",bt)}}setLeading(gt){this.current.leading=-gt}setTextRise(gt){this.current.textRise=gt}setTextRenderingMode(gt){this.current.textRenderingMode=gt}setHScale(gt){this.current.textHScale=gt/100}setRenderingIntent(gt){}setFlatness(gt){}setGState(gt){for(const[bt,mt]of gt)switch(bt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,et.warn)(`Unimplemented graphic state operator ${bt}`);break}}fill(){const gt=this.current;gt.element&&(gt.element.setAttributeNS(null,"fill",gt.fillColor),gt.element.setAttributeNS(null,"fill-opacity",gt.fillAlpha),this.endPath())}stroke(){const gt=this.current;gt.element&&(this._setStrokeAttributes(gt.element),gt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(gt,bt=1){const mt=this.current;let Et=mt.dashArray;bt!==1&&Et.length>0&&(Et=Et.map(function(Rt){return bt*Rt})),gt.setAttributeNS(null,"stroke",mt.strokeColor),gt.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),gt.setAttributeNS(null,"stroke-miterlimit",pt(mt.miterLimit)),gt.setAttributeNS(null,"stroke-linecap",mt.lineCap),gt.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),gt.setAttributeNS(null,"stroke-width",pt(bt*mt.lineWidth)+"px"),gt.setAttributeNS(null,"stroke-dasharray",Et.map(pt).join(" ")),gt.setAttributeNS(null,"stroke-dashoffset",pt(bt*mt.dashPhase)+"px")}eoFill(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width","1px"),gt.setAttributeNS(null,"height","1px"),gt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(gt)}paintImageXObject(gt){const bt=this.getObject(gt);if(!bt){(0,et.warn)(`Dependent image with object ID ${gt} is not ready yet`);return}this.paintInlineImageXObject(bt)}paintInlineImageXObject(gt,bt){const mt=gt.width,Et=gt.height,Rt=ot(gt,this.forceDataSchema,!!bt),Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x","0"),Tt.setAttributeNS(null,"y","0"),Tt.setAttributeNS(null,"width",pt(mt)),Tt.setAttributeNS(null,"height",pt(Et)),this.current.element=Tt,this.clip("nonzero");const jt=this.svgFactory.createElement("svg:image");jt.setAttributeNS(nt,"xlink:href",Rt),jt.setAttributeNS(null,"x","0"),jt.setAttributeNS(null,"y",pt(-Et)),jt.setAttributeNS(null,"width",pt(mt)+"px"),jt.setAttributeNS(null,"height",pt(Et)+"px"),jt.setAttributeNS(null,"transform",`scale(${pt(1/mt)} ${pt(-1/Et)})`),bt?bt.append(jt):this._ensureTransformGroup().append(jt)}paintImageMaskXObject(gt){const bt=this.getObject(gt.data,gt);if(bt.bitmap){(0,et.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const mt=this.current,Et=bt.width,Rt=bt.height,Tt=mt.fillColor;mt.maskId=`mask${ft++}`;const jt=this.svgFactory.createElement("svg:mask");jt.setAttributeNS(null,"id",mt.maskId);const xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width",pt(Et)),xt.setAttributeNS(null,"height",pt(Rt)),xt.setAttributeNS(null,"fill",Tt),xt.setAttributeNS(null,"mask",`url(#${mt.maskId})`),this.defs.append(jt),this._ensureTransformGroup().append(xt),this.paintInlineImageXObject(bt,jt)}paintFormXObjectBegin(gt,bt){if(Array.isArray(gt)&&gt.length===6&&this.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),bt){const mt=bt[2]-bt[0],Et=bt[3]-bt[1],Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x",bt[0]),Rt.setAttributeNS(null,"y",bt[1]),Rt.setAttributeNS(null,"width",pt(mt)),Rt.setAttributeNS(null,"height",pt(Et)),this.current.element=Rt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(gt){const bt=this.svgFactory.create(gt.width,gt.height),mt=this.svgFactory.createElement("svg:defs");bt.append(mt),this.defs=mt;const Et=this.svgFactory.createElement("svg:g");return Et.setAttributeNS(null,"transform",ut(gt.transform)),bt.append(Et),this.svg=Et,bt}_ensureClipGroup(){if(!this.current.clipGroup){const gt=this.svgFactory.createElement("svg:g");gt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(gt),this.current.clipGroup=gt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ut(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_.SVGGraphics=yt},(j,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaText=void 0;class ${static textContent(et){const tt=[],rt={items:tt,styles:Object.create(null)};function nt(st){var ot;if(!st)return;let it=null;const at=st.name;if(at==="#text")it=st.value;else if($.shouldBuildText(at))(ot=st==null?void 0:st.attributes)!=null&&ot.textContent?it=st.attributes.textContent:st.value&&(it=st.value);else return;if(it!==null&&tt.push({str:it}),!!st.children)for(const ct of st.children)nt(ct)}return nt(et),rt}static shouldBuildText(et){return!(et==="textarea"||et==="input"||et==="option"||et==="select")}}_.XfaText=$},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerRenderTask=void 0,_.renderTextLayer=ut,_.updateTextLayer=lt;var _e=$(1),et=$(6);const tt=1e5,rt=30,nt=.8,st=new Map;function it(ft,ht){let yt;if(ht&&_e.FeatureTest.isOffscreenCanvasSupported)yt=new OffscreenCanvas(ft,ft).getContext("2d",{alpha:!1});else{const vt=document.createElement("canvas");vt.width=vt.height=ft,yt=vt.getContext("2d",{alpha:!1})}return yt}function at(ft,ht){const yt=st.get(ft);if(yt)return yt;const vt=it(rt,ht);vt.font=`${rt}px ${ft}`;const gt=vt.measureText("");let bt=gt.fontBoundingBoxAscent,mt=Math.abs(gt.fontBoundingBoxDescent);if(bt){const Rt=bt/(bt+mt);return st.set(ft,Rt),vt.canvas.width=vt.canvas.height=0,Rt}vt.strokeStyle="red",vt.clearRect(0,0,rt,rt),vt.strokeText("g",0,0);let Et=vt.getImageData(0,0,rt,rt).data;mt=0;for(let Rt=Et.length-1-3;Rt>=0;Rt-=4)if(Et[Rt]>0){mt=Math.ceil(Rt/4/rt);break}vt.clearRect(0,0,rt,rt),vt.strokeText("A",0,rt),Et=vt.getImageData(0,0,rt,rt).data,bt=0;for(let Rt=0,Tt=Et.length;Rt<Tt;Rt+=4)if(Et[Rt]>0){bt=rt-Math.floor(Rt/4/rt);break}if(vt.canvas.width=vt.canvas.height=0,bt){const Rt=bt/(bt+mt);return st.set(ft,Rt),Rt}return st.set(ft,nt),nt}function ot(ft,ht,yt){const vt=document.createElement("span"),gt={angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,fontSize:0};ft._textDivs.push(vt);const bt=_e.Util.transform(ft._transform,ht.transform);let mt=Math.atan2(bt[1],bt[0]);const Et=yt[ht.fontName];Et.vertical&&(mt+=Math.PI/2);const Rt=Math.hypot(bt[2],bt[3]),Tt=Rt*at(Et.fontFamily,ft._isOffscreenCanvasSupported);let jt,xt;mt===0?(jt=bt[4],xt=bt[5]-Tt):(jt=bt[4]+Tt*Math.sin(mt),xt=bt[5]-Tt*Math.cos(mt));const Ct="calc(var(--scale-factor)*",kt=vt.style;ft._container===ft._rootContainer?(kt.left=`${(100*jt/ft._pageWidth).toFixed(2)}%`,kt.top=`${(100*xt/ft._pageHeight).toFixed(2)}%`):(kt.left=`${Ct}${jt.toFixed(2)}px)`,kt.top=`${Ct}${xt.toFixed(2)}px)`),kt.fontSize=`${Ct}${Rt.toFixed(2)}px)`,kt.fontFamily=Et.fontFamily,gt.fontSize=Rt,vt.setAttribute("role","presentation"),vt.textContent=ht.str,vt.dir=ht.dir,ft._fontInspectorEnabled&&(vt.dataset.fontName=ht.fontName),mt!==0&&(gt.angle=mt*(180/Math.PI));let Nt=!1;if(ht.str.length>1)Nt=!0;else if(ht.str!==" "&&ht.transform[0]!==ht.transform[3]){const St=Math.abs(ht.transform[0]),Ot=Math.abs(ht.transform[3]);St!==Ot&&Math.max(St,Ot)/Math.min(St,Ot)>1.5&&(Nt=!0)}Nt&&(gt.canvasWidth=Et.vertical?ht.height:ht.width),ft._textDivProperties.set(vt,gt),ft._isReadableStream&&ft._layoutText(vt)}function ct(ft){const{div:ht,scale:yt,properties:vt,ctx:gt,prevFontSize:bt,prevFontFamily:mt}=ft,{style:Et}=ht;let Rt="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Tt}=Et,{canvasWidth:jt,fontSize:xt}=vt;(bt!==xt||mt!==Tt)&&(gt.font=`${xt*yt}px ${Tt}`,ft.prevFontSize=xt,ft.prevFontFamily=Tt);const{width:Ct}=gt.measureText(ht.textContent);Ct>0&&(Rt=`scaleX(${jt*yt/Ct})`)}vt.angle!==0&&(Rt=`rotate(${vt.angle}deg) ${Rt}`),Rt.length>0&&(Et.transform=Rt)}function dt(ft){if(ft._canceled)return;const ht=ft._textDivs,yt=ft._capability;if(ht.length>tt){yt.resolve();return}if(!ft._isReadableStream)for(const gt of ht)ft._layoutText(gt);yt.resolve()}class pt{constructor({textContentSource:ht,container:yt,viewport:vt,textDivs:gt,textDivProperties:bt,textContentItemsStr:mt,isOffscreenCanvasSupported:Et}){var Ct;this._textContentSource=ht,this._isReadableStream=ht instanceof ReadableStream,this._container=this._rootContainer=yt,this._textDivs=gt||[],this._textContentItemsStr=mt||[],this._isOffscreenCanvasSupported=Et,this._fontInspectorEnabled=!!((Ct=globalThis.FontInspector)!=null&&Ct.enabled),this._reader=null,this._textDivProperties=bt||new WeakMap,this._canceled=!1,this._capability=new _e.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:vt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:it(0,Et)};const{pageWidth:Rt,pageHeight:Tt,pageX:jt,pageY:xt}=vt.rawDims;this._transform=[1,0,0,-1,-jt,xt+Tt],this._pageWidth=Rt,this._pageHeight=Tt,(0,et.setLayerDimensions)(yt,vt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _e.AbortException("TextLayer task cancelled."))}_processItems(ht,yt){for(const vt of ht){if(vt.str===void 0){if(vt.type==="beginMarkedContentProps"||vt.type==="beginMarkedContent"){const gt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),vt.id!==null&&this._container.setAttribute("id",`${vt.id}`),gt.append(this._container)}else vt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(vt.str),ot(this,vt,yt)}}_layoutText(ht){const yt=this._layoutTextParams.properties=this._textDivProperties.get(ht);if(this._layoutTextParams.div=ht,ct(this._layoutTextParams),yt.hasText&&this._container.append(ht),yt.hasEOL){const vt=document.createElement("br");vt.setAttribute("role","presentation"),this._container.append(vt)}}_render(){const ht=new _e.PromiseCapability;let yt=Object.create(null);if(this._isReadableStream){const vt=()=>{this._reader.read().then(({value:gt,done:bt})=>{if(bt){ht.resolve();return}Object.assign(yt,gt.styles),this._processItems(gt.items,yt),vt()},ht.reject)};this._reader=this._textContentSource.getReader(),vt()}else if(this._textContentSource){const{items:vt,styles:gt}=this._textContentSource;this._processItems(vt,gt),ht.resolve()}else throw new Error('No "textContentSource" parameter specified.');ht.promise.then(()=>{yt=null,dt(this)},this._capability.reject)}}_.TextLayerRenderTask=pt;function ut(ft){!ft.textContentSource&&(ft.textContent||ft.textContentStream)&&((0,et.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ft.textContentSource=ft.textContent||ft.textContentStream);const{container:ht,viewport:yt}=ft,vt=getComputedStyle(ht),gt=vt.getPropertyValue("visibility"),bt=parseFloat(vt.getPropertyValue("--scale-factor"));gt==="visible"&&(!bt||Math.abs(bt-yt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const mt=new pt(ft);return mt._render(),mt}function lt({container:ft,viewport:ht,textDivs:yt,textDivProperties:vt,isOffscreenCanvasSupported:gt,mustRotate:bt=!0,mustRescale:mt=!0}){if(bt&&(0,et.setLayerDimensions)(ft,{rotation:ht.rotation}),mt){const Et=it(0,gt),Tt={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Et};for(const jt of yt)Tt.properties=vt.get(jt),Tt.div=jt,ct(Tt)}}},(j,_,$)=>{var at,ot,ct,dt,pt,ut,lt,ft,ht,yt,vt,ba,Rs,_a,$a;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditorLayer=void 0;var _e=$(1),et=$(4),tt=$(28),rt=$(33),nt=$(6),st=$(34);const Rt=class Rt{constructor({uiManager:jt,pageIndex:xt,div:Ct,accessibilityManager:kt,annotationLayer:Nt,viewport:St,l10n:Ot}){nr(this,vt);nr(this,at);nr(this,ot,!1);nr(this,ct,null);nr(this,dt,this.pointerup.bind(this));nr(this,pt,this.pointerdown.bind(this));nr(this,ut,new Map);nr(this,lt,!1);nr(this,ft,!1);nr(this,ht,!1);nr(this,yt);const Pt=[tt.FreeTextEditor,rt.InkEditor,st.StampEditor];if(!Rt._initialized){Rt._initialized=!0;for(const wt of Pt)wt.initialize(Ot)}jt.registerEditorTypes(Pt),tr(this,yt,jt),this.pageIndex=xt,this.div=Ct,tr(this,at,kt),tr(this,ct,Nt),this.viewport=St,_t(this,yt).addLayer(this)}get isEmpty(){return _t(this,ut).size===0}updateToolbar(jt){_t(this,yt).updateToolbar(jt)}updateMode(jt=_t(this,yt).getMode()){er(this,vt,$a).call(this),jt===_e.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),jt!==_e.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",jt===_e.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",jt===_e.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",jt===_e.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(jt){if(!jt&&_t(this,yt).getMode()!==_e.AnnotationEditorType.INK)return;if(!jt){for(const Ct of _t(this,ut).values())if(Ct.isEmpty()){Ct.setInBackground();return}}er(this,vt,Rs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(jt){_t(this,yt).setEditingState(jt)}addCommands(jt){_t(this,yt).addCommands(jt)}enable(){this.div.style.pointerEvents="auto";const jt=new Set;for(const Ct of _t(this,ut).values())Ct.enableEditing(),Ct.annotationElementId&&jt.add(Ct.annotationElementId);if(!_t(this,ct))return;const xt=_t(this,ct).getEditableAnnotations();for(const Ct of xt){if(Ct.hide(),_t(this,yt).isDeletedAnnotationElement(Ct.data.id)||jt.has(Ct.data.id))continue;const kt=this.deserialize(Ct);kt&&(this.addOrRebuild(kt),kt.enableEditing())}}disable(){var xt;tr(this,ht,!0),this.div.style.pointerEvents="none";const jt=new Set;for(const Ct of _t(this,ut).values()){if(Ct.disableEditing(),!Ct.annotationElementId||Ct.serialize()!==null){jt.add(Ct.annotationElementId);continue}(xt=this.getEditableAnnotation(Ct.annotationElementId))==null||xt.show(),Ct.remove()}if(_t(this,ct)){const Ct=_t(this,ct).getEditableAnnotations();for(const kt of Ct){const{id:Nt}=kt.data;jt.has(Nt)||_t(this,yt).isDeletedAnnotationElement(Nt)||kt.show()}}er(this,vt,$a).call(this),this.isEmpty&&(this.div.hidden=!0),tr(this,ht,!1)}getEditableAnnotation(jt){var xt;return((xt=_t(this,ct))==null?void 0:xt.getEditableAnnotation(jt))||null}setActiveEditor(jt){_t(this,yt).getActive()!==jt&&_t(this,yt).setActiveEditor(jt)}enableClick(){this.div.addEventListener("pointerdown",_t(this,pt)),this.div.addEventListener("pointerup",_t(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",_t(this,pt)),this.div.removeEventListener("pointerup",_t(this,dt))}attach(jt){_t(this,ut).set(jt.id,jt);const{annotationElementId:xt}=jt;xt&&_t(this,yt).isDeletedAnnotationElement(xt)&&_t(this,yt).removeDeletedAnnotationElement(jt)}detach(jt){var xt;_t(this,ut).delete(jt.id),(xt=_t(this,at))==null||xt.removePointerInTextLayer(jt.contentDiv),!_t(this,ht)&&jt.annotationElementId&&_t(this,yt).addDeletedAnnotationElement(jt)}remove(jt){this.detach(jt),_t(this,yt).removeEditor(jt),jt.div.contains(document.activeElement)&&setTimeout(()=>{_t(this,yt).focusMainContainer()},0),jt.div.remove(),jt.isAttachedToDOM=!1,_t(this,ft)||this.addInkEditorIfNeeded(!1)}changeParent(jt){var xt;jt.parent!==this&&(jt.annotationElementId&&(_t(this,yt).addDeletedAnnotationElement(jt.annotationElementId),et.AnnotationEditor.deleteAnnotationElement(jt),jt.annotationElementId=null),this.attach(jt),(xt=jt.parent)==null||xt.detach(jt),jt.setParent(this),jt.div&&jt.isAttachedToDOM&&(jt.div.remove(),this.div.append(jt.div)))}add(jt){if(this.changeParent(jt),_t(this,yt).addEditor(jt),this.attach(jt),!jt.isAttachedToDOM){const xt=jt.render();this.div.append(xt),jt.isAttachedToDOM=!0}jt.fixAndSetPosition(),jt.onceAdded(),_t(this,yt).addToAnnotationStorage(jt)}moveEditorInDOM(jt){var Ct;if(!jt.isAttachedToDOM)return;const{activeElement:xt}=document;jt.div.contains(xt)&&(jt._focusEventsAllowed=!1,setTimeout(()=>{jt.div.contains(document.activeElement)?jt._focusEventsAllowed=!0:(jt.div.addEventListener("focusin",()=>{jt._focusEventsAllowed=!0},{once:!0}),xt.focus())},0)),jt._structTreeParentId=(Ct=_t(this,at))==null?void 0:Ct.moveElementInDOM(this.div,jt.div,jt.contentDiv,!0)}addOrRebuild(jt){jt.needsToBeRebuilt()?jt.rebuild():this.add(jt)}addUndoableEditor(jt){const xt=()=>jt._uiManager.rebuild(jt),Ct=()=>{jt.remove()};this.addCommands({cmd:xt,undo:Ct,mustExec:!1})}getNextId(){return _t(this,yt).getId()}pasteEditor(jt,xt){_t(this,yt).updateToolbar(jt),_t(this,yt).updateMode(jt);const{offsetX:Ct,offsetY:kt}=er(this,vt,_a).call(this),Nt=this.getNextId(),St=er(this,vt,ba).call(this,{parent:this,id:Nt,x:Ct,y:kt,uiManager:_t(this,yt),isCentered:!0,...xt});St&&this.add(St)}deserialize(jt){switch(jt.annotationType??jt.annotationEditorType){case _e.AnnotationEditorType.FREETEXT:return tt.FreeTextEditor.deserialize(jt,this,_t(this,yt));case _e.AnnotationEditorType.INK:return rt.InkEditor.deserialize(jt,this,_t(this,yt));case _e.AnnotationEditorType.STAMP:return st.StampEditor.deserialize(jt,this,_t(this,yt))}return null}addNewEditor(){er(this,vt,Rs).call(this,er(this,vt,_a).call(this),!0)}setSelected(jt){_t(this,yt).setSelected(jt)}toggleSelected(jt){_t(this,yt).toggleSelected(jt)}isSelected(jt){return _t(this,yt).isSelected(jt)}unselect(jt){_t(this,yt).unselect(jt)}pointerup(jt){const{isMac:xt}=_e.FeatureTest.platform;if(!(jt.button!==0||jt.ctrlKey&&xt)&&jt.target===this.div&&_t(this,lt)){if(tr(this,lt,!1),!_t(this,ot)){tr(this,ot,!0);return}if(_t(this,yt).getMode()===_e.AnnotationEditorType.STAMP){_t(this,yt).unselectAll();return}er(this,vt,Rs).call(this,jt,!1)}}pointerdown(jt){if(_t(this,lt)){tr(this,lt,!1);return}const{isMac:xt}=_e.FeatureTest.platform;if(jt.button!==0||jt.ctrlKey&&xt||jt.target!==this.div)return;tr(this,lt,!0);const Ct=_t(this,yt).getActive();tr(this,ot,!Ct||Ct.isEmpty())}findNewParent(jt,xt,Ct){const kt=_t(this,yt).findParent(xt,Ct);return kt===null||kt===this?!1:(kt.changeParent(jt),!0)}destroy(){var jt,xt;((jt=_t(this,yt).getActive())==null?void 0:jt.parent)===this&&(_t(this,yt).commitOrRemove(),_t(this,yt).setActiveEditor(null));for(const Ct of _t(this,ut).values())(xt=_t(this,at))==null||xt.removePointerInTextLayer(Ct.contentDiv),Ct.setParent(null),Ct.isAttachedToDOM=!1,Ct.div.remove();this.div=null,_t(this,ut).clear(),_t(this,yt).removeLayer(this)}render({viewport:jt}){this.viewport=jt,(0,nt.setLayerDimensions)(this.div,jt);for(const xt of _t(this,yt).getEditors(this.pageIndex))this.add(xt);this.updateMode()}update({viewport:jt}){_t(this,yt).commitOrRemove(),this.viewport=jt,(0,nt.setLayerDimensions)(this.div,{rotation:jt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:jt,pageHeight:xt}=this.viewport.rawDims;return[jt,xt]}};at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,yt=new WeakMap,vt=new WeakSet,ba=function(jt){switch(_t(this,yt).getMode()){case _e.AnnotationEditorType.FREETEXT:return new tt.FreeTextEditor(jt);case _e.AnnotationEditorType.INK:return new rt.InkEditor(jt);case _e.AnnotationEditorType.STAMP:return new st.StampEditor(jt)}return null},Rs=function(jt,xt){const Ct=this.getNextId(),kt=er(this,vt,ba).call(this,{parent:this,id:Ct,x:jt.offsetX,y:jt.offsetY,uiManager:_t(this,yt),isCentered:xt});return kt&&this.add(kt),kt},_a=function(){const{x:jt,y:xt,width:Ct,height:kt}=this.div.getBoundingClientRect(),Nt=Math.max(0,jt),St=Math.max(0,xt),Ot=Math.min(window.innerWidth,jt+Ct),Pt=Math.min(window.innerHeight,xt+kt),wt=(Nt+Ot)/2-jt,Dt=(St+Pt)/2-xt,[Vt,It]=this.viewport.rotation%180===0?[wt,Dt]:[Dt,wt];return{offsetX:Vt,offsetY:It}},$a=function(){tr(this,ft,!0);for(const jt of _t(this,ut).values())jt.isEmpty()&&jt.remove();tr(this,ft,!1)},Gr(Rt,"_initialized",!1);let it=Rt;_.AnnotationEditorLayer=it},(j,_,$)=>{var st,it,at,ot,ct,dt,pt,ut,lt,ft,Lo,Bo,Uo,us,eo,Vo,to;Object.defineProperty(_,"__esModule",{value:!0}),_.FreeTextEditor=void 0;var _e=$(1),et=$(5),tt=$(4),rt=$(29);const Rt=class Rt extends tt.AnnotationEditor{constructor(xt){super({...xt,name:"freeTextEditor"});nr(this,ft);nr(this,st,this.editorDivBlur.bind(this));nr(this,it,this.editorDivFocus.bind(this));nr(this,at,this.editorDivInput.bind(this));nr(this,ot,this.editorDivKeydown.bind(this));nr(this,ct);nr(this,dt,"");nr(this,pt,`${this.id}-editor`);nr(this,ut);nr(this,lt,null);tr(this,ct,xt.color||Rt._defaultColor||tt.AnnotationEditor._defaultLineColor),tr(this,ut,xt.fontSize||Rt._defaultFontSize)}static get _keyboardManager(){const xt=Rt.prototype,Ct=St=>St.isEmpty(),kt=et.AnnotationEditorUIManager.TRANSLATE_SMALL,Nt=et.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new et.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xt._translateEmpty,{args:[-kt,0],checker:Ct}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xt._translateEmpty,{args:[-Nt,0],checker:Ct}],[["ArrowRight","mac+ArrowRight"],xt._translateEmpty,{args:[kt,0],checker:Ct}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xt._translateEmpty,{args:[Nt,0],checker:Ct}],[["ArrowUp","mac+ArrowUp"],xt._translateEmpty,{args:[0,-kt],checker:Ct}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xt._translateEmpty,{args:[0,-Nt],checker:Ct}],[["ArrowDown","mac+ArrowDown"],xt._translateEmpty,{args:[0,kt],checker:Ct}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xt._translateEmpty,{args:[0,Nt],checker:Ct}]]))}static initialize(xt){tt.AnnotationEditor.initialize(xt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ct=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ct.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xt,Ct){switch(xt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:Rt._defaultFontSize=Ct;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:Rt._defaultColor=Ct;break}}updateParams(xt,Ct){switch(xt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:er(this,ft,Lo).call(this,Ct);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:er(this,ft,Bo).call(this,Ct);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Rt._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Rt._defaultColor||tt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,ut)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,ct)]]}_translateEmpty(xt,Ct){this._uiManager.translateSelectedEditors(xt,Ct,!0)}getInitialTranslation(){const xt=this.parentScale;return[-Rt._internalPadding*xt,-(Rt._internalPadding+_t(this,ut))*xt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,ot)),this.editorDiv.addEventListener("focus",_t(this,it)),this.editorDiv.addEventListener("blur",_t(this,st)),this.editorDiv.addEventListener("input",_t(this,at)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,pt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,ot)),this.editorDiv.removeEventListener("focus",_t(this,it)),this.editorDiv.removeEventListener("blur",_t(this,st)),this.editorDiv.removeEventListener("input",_t(this,at)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),xt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var xt;if(this.width){er(this,ft,to).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(xt=this._initialOptions)!=null&&xt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xt=_t(this,dt),Ct=tr(this,dt,er(this,ft,Uo).call(this).trimEnd());if(xt===Ct)return;const kt=Nt=>{if(tr(this,dt,Nt),!Nt){this.remove();return}er(this,ft,eo).call(this),this._uiManager.rebuild(this),er(this,ft,us).call(this)};this.addCommands({cmd:()=>{kt(Ct)},undo:()=>{kt(xt)},mustExec:!1}),er(this,ft,us).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xt){this.enterInEditMode()}keydown(xt){xt.target===this.div&&xt.key==="Enter"&&(this.enterInEditMode(),xt.preventDefault())}editorDivKeydown(xt){Rt._keyboardManager.exec(this,xt)}editorDivFocus(xt){this.isEditing=!0}editorDivBlur(xt){this.isEditing=!1}editorDivInput(xt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xt,Ct;this.width&&(xt=this.x,Ct=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,pt)),this.enableEditing(),tt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Nt=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("aria-label",Nt)}),tt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Nt=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("default-content",Nt)}),this.editorDiv.contentEditable=!0;const{style:kt}=this.editorDiv;if(kt.fontSize=`calc(${_t(this,ut)}px * var(--scale-factor))`,kt.color=_t(this,ct),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,et.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Nt,St]=this.parentDimensions;if(this.annotationElementId){const{position:Ot}=_t(this,lt);let[Pt,wt]=this.getInitialTranslation();[Pt,wt]=this.pageTranslationToScreen(Pt,wt);const[Dt,Vt]=this.pageDimensions,[It,At]=this.pageTranslation;let $t,Mt;switch(this.rotation){case 0:$t=xt+(Ot[0]-It)/Dt,Mt=Ct+this.height-(Ot[1]-At)/Vt;break;case 90:$t=xt+(Ot[0]-It)/Dt,Mt=Ct-(Ot[1]-At)/Vt,[Pt,wt]=[wt,-Pt];break;case 180:$t=xt-this.width+(Ot[0]-It)/Dt,Mt=Ct-(Ot[1]-At)/Vt,[Pt,wt]=[-Pt,-wt];break;case 270:$t=xt+(Ot[0]-It-this.height*Vt)/Dt,Mt=Ct+(Ot[1]-At-this.width*Dt)/Vt,[Pt,wt]=[-wt,Pt];break}this.setAt($t*Nt,Mt*St,Pt,wt)}else this.setAt(xt*Nt,Ct*St,this.width*Nt,this.height*St);er(this,ft,eo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(xt,Ct,kt){let Nt=null;if(xt instanceof rt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ot,fontColor:Pt},rect:wt,rotation:Dt,id:Vt},textContent:It,textPosition:At,parent:{page:{pageNumber:$t}}}=xt;if(!It||It.length===0)return null;Nt=xt={annotationType:_e.AnnotationEditorType.FREETEXT,color:Array.from(Pt),fontSize:Ot,value:It.join(`
`),position:At,pageIndex:$t-1,rect:wt,rotation:Dt,id:Vt,deleted:!1}}const St=super.deserialize(xt,Ct,kt);return tr(St,ut,xt.fontSize),tr(St,ct,_e.Util.makeHexColor(...xt.color)),tr(St,dt,xt.value),St.annotationElementId=xt.id||null,tr(St,lt,Nt),St}serialize(xt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ct=Rt._internalPadding*this.parentScale,kt=this.getRect(Ct,Ct),Nt=tt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,ct)),St={annotationType:_e.AnnotationEditorType.FREETEXT,color:Nt,fontSize:_t(this,ut),value:_t(this,dt),pageIndex:this.pageIndex,rect:kt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xt?St:this.annotationElementId&&!er(this,ft,Vo).call(this,St)?null:(St.id=this.annotationElementId,St)}};st=new WeakMap,it=new WeakMap,at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakSet,Lo=function(xt){const Ct=Nt=>{this.editorDiv.style.fontSize=`calc(${Nt}px * var(--scale-factor))`,this.translate(0,-(Nt-_t(this,ut))*this.parentScale),tr(this,ut,Nt),er(this,ft,us).call(this)},kt=_t(this,ut);this.addCommands({cmd:()=>{Ct(xt)},undo:()=>{Ct(kt)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Bo=function(xt){const Ct=_t(this,ct);this.addCommands({cmd:()=>{tr(this,ct,this.editorDiv.style.color=xt)},undo:()=>{tr(this,ct,this.editorDiv.style.color=Ct)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Uo=function(){const xt=this.editorDiv.getElementsByTagName("div");if(xt.length===0)return this.editorDiv.innerText;const Ct=[];for(const kt of xt)Ct.push(kt.innerText.replace(/\r\n?|\n/,""));return Ct.join(`
`)},us=function(){const[xt,Ct]=this.parentDimensions;let kt;if(this.isAttachedToDOM)kt=this.div.getBoundingClientRect();else{const{currentLayer:Nt,div:St}=this,Ot=St.style.display;St.style.display="hidden",Nt.div.append(this.div),kt=St.getBoundingClientRect(),St.remove(),St.style.display=Ot}this.rotation%180===this.parentRotation%180?(this.width=kt.width/xt,this.height=kt.height/Ct):(this.width=kt.height/xt,this.height=kt.width/Ct),this.fixAndSetPosition()},eo=function(){if(this.editorDiv.replaceChildren(),!!_t(this,dt))for(const xt of _t(this,dt).split(`
`)){const Ct=document.createElement("div");Ct.append(xt?document.createTextNode(xt):document.createElement("br")),this.editorDiv.append(Ct)}},Vo=function(xt){const{value:Ct,fontSize:kt,color:Nt,rect:St,pageIndex:Ot}=_t(this,lt);return xt.value!==Ct||xt.fontSize!==kt||xt.rect.some((Pt,wt)=>Math.abs(Pt-St[wt])>=1)||xt.color.some((Pt,wt)=>Pt!==Nt[wt])||xt.pageIndex!==Ot},to=function(xt=!1){if(!this.annotationElementId)return;if(er(this,ft,us).call(this),!xt&&(this.width===0||this.height===0)){setTimeout(()=>er(this,ft,to).call(this,!0),0);return}const Ct=Rt._internalPadding*this.parentScale;_t(this,lt).rect=this.getRect(Ct,Ct)},Gr(Rt,"_freeTextDefaultContent",""),Gr(Rt,"_internalPadding",0),Gr(Rt,"_defaultColor",null),Gr(Rt,"_defaultFontSize",10),Gr(Rt,"_type","freetext");let nt=Rt;_.FreeTextEditor=nt},(j,_,$)=>{var Mt,Bt,On,Ho,Qt,sr,Kt,fr,dr,xr,ar,rr,Lt,Zt,or,lr,Ft,Gt,Jt,Yt,hr,cr,Wo,Ss,ro,no,Dr,Br,Wr,vr,ur,pr,Cr,so,Vr,Xt,yr,_r,zo,io;Object.defineProperty(_,"__esModule",{value:!0}),_.StampAnnotationElement=_.InkAnnotationElement=_.FreeTextAnnotationElement=_.AnnotationLayer=void 0;var _e=$(1),et=$(6),tt=$(3),rt=$(30),nt=$(31),st=$(32);const it=1e3,at=9,ot=new WeakSet;function ct(Ar){return{width:Ar[2]-Ar[0],height:Ar[3]-Ar[1]}}class dt{static create(qt){switch(qt.data.annotationType){case _e.AnnotationType.LINK:return new ut(qt);case _e.AnnotationType.TEXT:return new lt(qt);case _e.AnnotationType.WIDGET:switch(qt.data.fieldType){case"Tx":return new ht(qt);case"Btn":return qt.data.radioButton?new gt(qt):qt.data.checkBox?new vt(qt):new bt(qt);case"Ch":return new mt(qt);case"Sig":return new yt(qt)}return new ft(qt);case _e.AnnotationType.POPUP:return new Et(qt);case _e.AnnotationType.FREETEXT:return new Tt(qt);case _e.AnnotationType.LINE:return new jt(qt);case _e.AnnotationType.SQUARE:return new xt(qt);case _e.AnnotationType.CIRCLE:return new Ct(qt);case _e.AnnotationType.POLYLINE:return new kt(qt);case _e.AnnotationType.CARET:return new St(qt);case _e.AnnotationType.INK:return new Ot(qt);case _e.AnnotationType.POLYGON:return new Nt(qt);case _e.AnnotationType.HIGHLIGHT:return new Pt(qt);case _e.AnnotationType.UNDERLINE:return new wt(qt);case _e.AnnotationType.SQUIGGLY:return new Dt(qt);case _e.AnnotationType.STRIKEOUT:return new Vt(qt);case _e.AnnotationType.STAMP:return new It(qt);case _e.AnnotationType.FILEATTACHMENT:return new At(qt);default:return new pt(qt)}}}const Ht=class Ht{constructor(qt,{isRenderable:Wt=!1,ignoreBorder:ir=!1,createQuadrilaterals:mr=!1}={}){nr(this,Mt,!1);this.isRenderable=Wt,this.data=qt.data,this.layer=qt.layer,this.linkService=qt.linkService,this.downloadManager=qt.downloadManager,this.imageResourcesPath=qt.imageResourcesPath,this.renderForms=qt.renderForms,this.svgFactory=qt.svgFactory,this.annotationStorage=qt.annotationStorage,this.enableScripting=qt.enableScripting,this.hasJSActions=qt.hasJSActions,this._fieldObjects=qt.fieldObjects,this.parent=qt.parent,Wt&&(this.container=this._createContainer(ir)),mr&&this._createQuadrilaterals()}static _hasPopupData({titleObj:qt,contentsObj:Wt,richText:ir}){return!!(qt!=null&&qt.str||Wt!=null&&Wt.str||ir!=null&&ir.str)}get hasPopupData(){return Ht._hasPopupData(this.data)}_createContainer(qt){const{data:Wt,parent:{page:ir,viewport:mr}}=this,gr=document.createElement("section");gr.setAttribute("data-annotation-id",Wt.id),this instanceof ft||(gr.tabIndex=it),gr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&gr.setAttribute("aria-haspopup","dialog"),Wt.noRotate&&gr.classList.add("norotate");const{pageWidth:br,pageHeight:Er,pageX:Nr,pageY:Tr}=mr.rawDims;if(!Wt.rect||this instanceof Et){const{rotation:Fr}=Wt;return!Wt.hasOwnCanvas&&Fr!==0&&this.setRotation(Fr,gr),gr}const{width:wr,height:Lr}=ct(Wt.rect),Pr=_e.Util.normalizeRect([Wt.rect[0],ir.view[3]-Wt.rect[1]+ir.view[1],Wt.rect[2],ir.view[3]-Wt.rect[3]+ir.view[1]]);if(!qt&&Wt.borderStyle.width>0){gr.style.borderWidth=`${Wt.borderStyle.width}px`;const Fr=Wt.borderStyle.horizontalCornerRadius,Ur=Wt.borderStyle.verticalCornerRadius;if(Fr>0||Ur>0){const Zr=`calc(${Fr}px * var(--scale-factor)) / calc(${Ur}px * var(--scale-factor))`;gr.style.borderRadius=Zr}else if(this instanceof gt){const Zr=`calc(${wr}px * var(--scale-factor)) / calc(${Lr}px * var(--scale-factor))`;gr.style.borderRadius=Zr}switch(Wt.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:gr.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:gr.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:gr.style.borderBottomStyle="solid";break}const zr=Wt.borderColor||null;zr?(tr(this,Mt,!0),gr.style.borderColor=_e.Util.makeHexColor(zr[0]|0,zr[1]|0,zr[2]|0)):gr.style.borderWidth=0}gr.style.left=`${100*(Pr[0]-Nr)/br}%`,gr.style.top=`${100*(Pr[1]-Tr)/Er}%`;const{rotation:Or}=Wt;return Wt.hasOwnCanvas||Or===0?(gr.style.width=`${100*wr/br}%`,gr.style.height=`${100*Lr/Er}%`):this.setRotation(Or,gr),gr}setRotation(qt,Wt=this.container){if(!this.data.rect)return;const{pageWidth:ir,pageHeight:mr}=this.parent.viewport.rawDims,{width:gr,height:br}=ct(this.data.rect);let Er,Nr;qt%180===0?(Er=100*gr/ir,Nr=100*br/mr):(Er=100*br/ir,Nr=100*gr/mr),Wt.style.width=`${Er}%`,Wt.style.height=`${Nr}%`,Wt.setAttribute("data-main-rotation",(360-qt)%360)}get _commonActions(){const qt=(Wt,ir,mr)=>{const gr=mr.detail[Wt],br=gr[0],Er=gr.slice(1);mr.target.style[ir]=rt.ColorConverters[`${br}_HTML`](Er),this.annotationStorage.setValue(this.data.id,{[ir]:rt.ColorConverters[`${br}_rgb`](Er)})};return(0,_e.shadow)(this,"_commonActions",{display:Wt=>{const{display:ir}=Wt.detail,mr=ir%2===1;this.container.style.visibility=mr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:mr,noPrint:ir===1||ir===2})},print:Wt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Wt.detail.print})},hidden:Wt=>{const{hidden:ir}=Wt.detail;this.container.style.visibility=ir?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ir,noView:ir})},focus:Wt=>{setTimeout(()=>Wt.target.focus({preventScroll:!1}),0)},userName:Wt=>{Wt.target.title=Wt.detail.userName},readonly:Wt=>{Wt.target.disabled=Wt.detail.readonly},required:Wt=>{this._setRequired(Wt.target,Wt.detail.required)},bgColor:Wt=>{qt("bgColor","backgroundColor",Wt)},fillColor:Wt=>{qt("fillColor","backgroundColor",Wt)},fgColor:Wt=>{qt("fgColor","color",Wt)},textColor:Wt=>{qt("textColor","color",Wt)},borderColor:Wt=>{qt("borderColor","borderColor",Wt)},strokeColor:Wt=>{qt("strokeColor","borderColor",Wt)},rotation:Wt=>{const ir=Wt.detail.rotation;this.setRotation(ir),this.annotationStorage.setValue(this.data.id,{rotation:ir})}})}_dispatchEventFromSandbox(qt,Wt){const ir=this._commonActions;for(const mr of Object.keys(Wt.detail)){const gr=qt[mr]||ir[mr];gr==null||gr(Wt)}}_setDefaultPropertiesFromJS(qt){if(!this.enableScripting)return;const Wt=this.annotationStorage.getRawValue(this.data.id);if(!Wt)return;const ir=this._commonActions;for(const[mr,gr]of Object.entries(Wt)){const br=ir[mr];if(br){const Er={detail:{[mr]:gr},target:qt};br(Er),delete Wt[mr]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:qt}=this.data;if(!qt)return;const[Wt,ir,mr,gr]=this.data.rect;if(qt.length===1){const[,{x:Ur,y:zr},{x:Zr,y:Qr}]=qt[0];if(mr===Ur&&gr===zr&&Wt===Zr&&ir===Qr)return}const{style:br}=this.container;let Er;if(_t(this,Mt)){const{borderColor:Ur,borderWidth:zr}=br;br.borderWidth=0,Er=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ur}" stroke-width="${zr}">`],this.container.classList.add("hasBorder")}const Nr=mr-Wt,Tr=gr-ir,{svgFactory:wr}=this,Lr=wr.createElement("svg");Lr.classList.add("quadrilateralsContainer"),Lr.setAttribute("width",0),Lr.setAttribute("height",0);const Pr=wr.createElement("defs");Lr.append(Pr);const Or=wr.createElement("clipPath"),Fr=`clippath_${this.data.id}`;Or.setAttribute("id",Fr),Or.setAttribute("clipPathUnits","objectBoundingBox"),Pr.append(Or);for(const[,{x:Ur,y:zr},{x:Zr,y:Qr}]of qt){const Yr=wr.createElement("rect"),mn=(Zr-Wt)/Nr,bn=(gr-zr)/Tr,En=(Ur-Zr)/Nr,mo=(zr-Qr)/Tr;Yr.setAttribute("x",mn),Yr.setAttribute("y",bn),Yr.setAttribute("width",En),Yr.setAttribute("height",mo),Or.append(Yr),Er==null||Er.push(`<rect vector-effect="non-scaling-stroke" x="${mn}" y="${bn}" width="${En}" height="${mo}"/>`)}_t(this,Mt)&&(Er.push("</g></svg>')"),br.backgroundImage=Er.join("")),this.container.append(Lr),this.container.style.clipPath=`url(#${Fr})`}_createPopup(){const{container:qt,data:Wt}=this;qt.setAttribute("aria-haspopup","dialog");const ir=new Et({data:{color:Wt.color,titleObj:Wt.titleObj,modificationDate:Wt.modificationDate,contentsObj:Wt.contentsObj,richText:Wt.richText,parentRect:Wt.rect,borderStyle:0,id:`popup_${Wt.id}`,rotation:Wt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ir.render())}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(qt,Wt=null){const ir=[];if(this._fieldObjects){const mr=this._fieldObjects[qt];if(mr)for(const{page:gr,id:br,exportValues:Er}of mr){if(gr===-1||br===Wt)continue;const Nr=typeof Er=="string"?Er:null,Tr=document.querySelector(`[data-element-id="${br}"]`);if(Tr&&!ot.has(Tr)){(0,_e.warn)(`_getElementsByName - element not allowed: ${br}`);continue}ir.push({id:br,exportValue:Nr,domElement:Tr})}return ir}for(const mr of document.getElementsByName(qt)){const{exportValue:gr}=mr,br=mr.getAttribute("data-element-id");br!==Wt&&ot.has(mr)&&ir.push({id:br,exportValue:gr,domElement:mr})}return ir}show(){var qt;this.container&&(this.container.hidden=!1),(qt=this.popup)==null||qt.maybeShow()}hide(){var qt;this.container&&(this.container.hidden=!0),(qt=this.popup)==null||qt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const qt=this.getElementsToTriggerPopup();if(Array.isArray(qt))for(const Wt of qt)Wt.classList.add("highlightArea");else qt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:qt,data:{id:Wt}}=this;this.container.addEventListener("dblclick",()=>{var ir;(ir=this.linkService.eventBus)==null||ir.dispatch("switchannotationeditormode",{source:this,mode:qt,editId:Wt})})}};Mt=new WeakMap;let pt=Ht;class ut extends pt{constructor(Wt,ir=null){super(Wt,{isRenderable:!0,ignoreBorder:!!(ir!=null&&ir.ignoreBorder),createQuadrilaterals:!0});nr(this,Bt);this.isTooltipOnly=Wt.data.isTooltipOnly}render(){const{data:Wt,linkService:ir}=this,mr=document.createElement("a");mr.setAttribute("data-element-id",Wt.id);let gr=!1;return Wt.url?(ir.addLinkAttributes(mr,Wt.url,Wt.newWindow),gr=!0):Wt.action?(this._bindNamedAction(mr,Wt.action),gr=!0):Wt.attachment?(this._bindAttachment(mr,Wt.attachment),gr=!0):Wt.setOCGState?(er(this,Bt,Ho).call(this,mr,Wt.setOCGState),gr=!0):Wt.dest?(this._bindLink(mr,Wt.dest),gr=!0):(Wt.actions&&(Wt.actions.Action||Wt.actions["Mouse Up"]||Wt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(mr,Wt),gr=!0),Wt.resetForm?(this._bindResetFormAction(mr,Wt.resetForm),gr=!0):this.isTooltipOnly&&!gr&&(this._bindLink(mr,""),gr=!0)),this.container.classList.add("linkAnnotation"),gr&&this.container.append(mr),this.container}_bindLink(Wt,ir){Wt.href=this.linkService.getDestinationHash(ir),Wt.onclick=()=>(ir&&this.linkService.goToDestination(ir),!1),(ir||ir==="")&&er(this,Bt,On).call(this)}_bindNamedAction(Wt,ir){Wt.href=this.linkService.getAnchorUrl(""),Wt.onclick=()=>(this.linkService.executeNamedAction(ir),!1),er(this,Bt,On).call(this)}_bindAttachment(Wt,ir){Wt.href=this.linkService.getAnchorUrl(""),Wt.onclick=()=>{var mr;return(mr=this.downloadManager)==null||mr.openOrDownloadData(this.container,ir.content,ir.filename),!1},er(this,Bt,On).call(this)}_bindJSAction(Wt,ir){Wt.href=this.linkService.getAnchorUrl("");const mr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const gr of Object.keys(ir.actions)){const br=mr.get(gr);br&&(Wt[br]=()=>{var Er;return(Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ir.id,name:gr}}),!1})}Wt.onclick||(Wt.onclick=()=>!1),er(this,Bt,On).call(this)}_bindResetFormAction(Wt,ir){const mr=Wt.onclick;if(mr||(Wt.href=this.linkService.getAnchorUrl("")),er(this,Bt,On).call(this),!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),mr||(Wt.onclick=()=>!1);return}Wt.onclick=()=>{var Lr;mr==null||mr();const{fields:gr,refs:br,include:Er}=ir,Nr=[];if(gr.length!==0||br.length!==0){const Pr=new Set(br);for(const Or of gr){const Fr=this._fieldObjects[Or]||[];for(const{id:Ur}of Fr)Pr.add(Ur)}for(const Or of Object.values(this._fieldObjects))for(const Fr of Or)Pr.has(Fr.id)===Er&&Nr.push(Fr)}else for(const Pr of Object.values(this._fieldObjects))Nr.push(...Pr);const Tr=this.annotationStorage,wr=[];for(const Pr of Nr){const{id:Or}=Pr;switch(wr.push(Or),Pr.type){case"text":{const Ur=Pr.defaultValue||"";Tr.setValue(Or,{value:Ur});break}case"checkbox":case"radiobutton":{const Ur=Pr.defaultValue===Pr.exportValues;Tr.setValue(Or,{value:Ur});break}case"combobox":case"listbox":{const Ur=Pr.defaultValue||"";Tr.setValue(Or,{value:Ur});break}default:continue}const Fr=document.querySelector(`[data-element-id="${Or}"]`);if(Fr){if(!ot.has(Fr)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${Or}`);continue}}else continue;Fr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:wr,name:"ResetForm"}})),!1}}}Bt=new WeakSet,On=function(){this.container.setAttribute("data-internal-link","")},Ho=function(Wt,ir){Wt.href=this.linkService.getAnchorUrl(""),Wt.onclick=()=>(this.linkService.executeSetOCGState(ir),!1),er(this,Bt,On).call(this)};class lt extends pt{constructor(qt){super(qt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const qt=document.createElement("img");return qt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",qt.alt="[{{type}} Annotation]",qt.dataset.l10nId="text_annotation_type",qt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(qt),this.container}}class ft extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(qt){var Wt;this.data.hasOwnCanvas&&(((Wt=qt.previousSibling)==null?void 0:Wt.nodeName)==="CANVAS"&&(qt.previousSibling.hidden=!0),qt.hidden=!1)}_getKeyModifier(qt){const{isWin:Wt,isMac:ir}=_e.FeatureTest.platform;return Wt&&qt.ctrlKey||ir&&qt.metaKey}_setEventListener(qt,Wt,ir,mr,gr){ir.includes("mouse")?qt.addEventListener(ir,br=>{var Er;(Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mr,value:gr(br),shift:br.shiftKey,modifier:this._getKeyModifier(br)}})}):qt.addEventListener(ir,br=>{var Er;if(ir==="blur"){if(!Wt.focused||!br.relatedTarget)return;Wt.focused=!1}else if(ir==="focus"){if(Wt.focused)return;Wt.focused=!0}gr&&((Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mr,value:gr(br)}}))})}_setEventListeners(qt,Wt,ir,mr){var gr,br,Er;for(const[Nr,Tr]of ir)(Tr==="Action"||(gr=this.data.actions)!=null&&gr[Tr])&&((Tr==="Focus"||Tr==="Blur")&&(Wt||(Wt={focused:!1})),this._setEventListener(qt,Wt,Nr,Tr,mr),Tr==="Focus"&&!((br=this.data.actions)!=null&&br.Blur)?this._setEventListener(qt,Wt,"blur","Blur",null):Tr==="Blur"&&!((Er=this.data.actions)!=null&&Er.Focus)&&this._setEventListener(qt,Wt,"focus","Focus",null))}_setBackgroundColor(qt){const Wt=this.data.backgroundColor||null;qt.style.backgroundColor=Wt===null?"transparent":_e.Util.makeHexColor(Wt[0],Wt[1],Wt[2])}_setTextStyle(qt){const Wt=["left","center","right"],{fontColor:ir}=this.data.defaultAppearanceData,mr=this.data.defaultAppearanceData.fontSize||at,gr=qt.style;let br;const Er=2,Nr=Tr=>Math.round(10*Tr)/10;if(this.data.multiLine){const Tr=Math.abs(this.data.rect[3]-this.data.rect[1]-Er),wr=Math.round(Tr/(_e.LINE_FACTOR*mr))||1,Lr=Tr/wr;br=Math.min(mr,Nr(Lr/_e.LINE_FACTOR))}else{const Tr=Math.abs(this.data.rect[3]-this.data.rect[1]-Er);br=Math.min(mr,Nr(Tr/_e.LINE_FACTOR))}gr.fontSize=`calc(${br}px * var(--scale-factor))`,gr.color=_e.Util.makeHexColor(ir[0],ir[1],ir[2]),this.data.textAlignment!==null&&(gr.textAlign=Wt[this.data.textAlignment])}_setRequired(qt,Wt){Wt?qt.setAttribute("required",!0):qt.removeAttribute("required"),qt.setAttribute("aria-required",Wt)}}class ht extends ft{constructor(qt){const Wt=qt.renderForms||!qt.data.hasAppearance&&!!qt.data.fieldValue;super(qt,{isRenderable:Wt})}setPropertyOnSiblings(qt,Wt,ir,mr){const gr=this.annotationStorage;for(const br of this._getElementsByName(qt.name,qt.id))br.domElement&&(br.domElement[Wt]=ir),gr.setValue(br.id,{[mr]:ir})}render(){var mr,gr;const qt=this.annotationStorage,Wt=this.data.id;this.container.classList.add("textWidgetAnnotation");let ir=null;if(this.renderForms){const br=qt.getValue(Wt,{value:this.data.fieldValue});let Er=br.value||"";const Nr=qt.getValue(Wt,{charLimit:this.data.maxLen}).charLimit;Nr&&Er.length>Nr&&(Er=Er.slice(0,Nr));let Tr=br.formattedValue||((mr=this.data.textContent)==null?void 0:mr.join(`
`))||null;Tr&&this.data.comb&&(Tr=Tr.replaceAll(/\s+/g,""));const wr={userValue:Er,formattedValue:Tr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ir=document.createElement("textarea"),ir.textContent=Tr??Er,this.data.doNotScroll&&(ir.style.overflowY="hidden")):(ir=document.createElement("input"),ir.type="text",ir.setAttribute("value",Tr??Er),this.data.doNotScroll&&(ir.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ir.hidden=!0),ot.add(ir),ir.setAttribute("data-element-id",Wt),ir.disabled=this.data.readOnly,ir.name=this.data.fieldName,ir.tabIndex=it,this._setRequired(ir,this.data.required),Nr&&(ir.maxLength=Nr),ir.addEventListener("input",Pr=>{qt.setValue(Wt,{value:Pr.target.value}),this.setPropertyOnSiblings(ir,"value",Pr.target.value,"value"),wr.formattedValue=null}),ir.addEventListener("resetform",Pr=>{const Or=this.data.defaultFieldValue??"";ir.value=wr.userValue=Or,wr.formattedValue=null});let Lr=Pr=>{const{formattedValue:Or}=wr;Or!=null&&(Pr.target.value=Or),Pr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ir.addEventListener("focus",Or=>{if(wr.focused)return;const{target:Fr}=Or;wr.userValue&&(Fr.value=wr.userValue),wr.lastCommittedValue=Fr.value,wr.commitKey=1,wr.focused=!0}),ir.addEventListener("updatefromsandbox",Or=>{this.showElementAndHideCanvas(Or.target);const Fr={value(Ur){wr.userValue=Ur.detail.value??"",qt.setValue(Wt,{value:wr.userValue.toString()}),Ur.target.value=wr.userValue},formattedValue(Ur){const{formattedValue:zr}=Ur.detail;wr.formattedValue=zr,zr!=null&&Ur.target!==document.activeElement&&(Ur.target.value=zr),qt.setValue(Wt,{formattedValue:zr})},selRange(Ur){Ur.target.setSelectionRange(...Ur.detail.selRange)},charLimit:Ur=>{var Yr;const{charLimit:zr}=Ur.detail,{target:Zr}=Ur;if(zr===0){Zr.removeAttribute("maxLength");return}Zr.setAttribute("maxLength",zr);let Qr=wr.userValue;!Qr||Qr.length<=zr||(Qr=Qr.slice(0,zr),Zr.value=wr.userValue=Qr,qt.setValue(Wt,{value:Qr}),(Yr=this.linkService.eventBus)==null||Yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt,name:"Keystroke",value:Qr,willCommit:!0,commitKey:1,selStart:Zr.selectionStart,selEnd:Zr.selectionEnd}}))}};this._dispatchEventFromSandbox(Fr,Or)}),ir.addEventListener("keydown",Or=>{var zr;wr.commitKey=1;let Fr=-1;if(Or.key==="Escape"?Fr=0:Or.key==="Enter"&&!this.data.multiLine?Fr=2:Or.key==="Tab"&&(wr.commitKey=3),Fr===-1)return;const{value:Ur}=Or.target;wr.lastCommittedValue!==Ur&&(wr.lastCommittedValue=Ur,wr.userValue=Ur,(zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt,name:"Keystroke",value:Ur,willCommit:!0,commitKey:Fr,selStart:Or.target.selectionStart,selEnd:Or.target.selectionEnd}}))});const Pr=Lr;Lr=null,ir.addEventListener("blur",Or=>{var Ur;if(!wr.focused||!Or.relatedTarget)return;wr.focused=!1;const{value:Fr}=Or.target;wr.userValue=Fr,wr.lastCommittedValue!==Fr&&((Ur=this.linkService.eventBus)==null||Ur.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt,name:"Keystroke",value:Fr,willCommit:!0,commitKey:wr.commitKey,selStart:Or.target.selectionStart,selEnd:Or.target.selectionEnd}})),Pr(Or)}),(gr=this.data.actions)!=null&&gr.Keystroke&&ir.addEventListener("beforeinput",Or=>{var bn;wr.lastCommittedValue=null;const{data:Fr,target:Ur}=Or,{value:zr,selectionStart:Zr,selectionEnd:Qr}=Ur;let Yr=Zr,mn=Qr;switch(Or.inputType){case"deleteWordBackward":{const En=zr.substring(0,Zr).match(/\w*[^\w]*$/);En&&(Yr-=En[0].length);break}case"deleteWordForward":{const En=zr.substring(Zr).match(/^[^\w]*\w*/);En&&(mn+=En[0].length);break}case"deleteContentBackward":Zr===Qr&&(Yr-=1);break;case"deleteContentForward":Zr===Qr&&(mn+=1);break}Or.preventDefault(),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt,name:"Keystroke",value:zr,change:Fr||"",willCommit:!1,selStart:Yr,selEnd:mn}})}),this._setEventListeners(ir,wr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Or=>Or.target.value)}if(Lr&&ir.addEventListener("blur",Lr),this.data.comb){const Or=(this.data.rect[2]-this.data.rect[0])/Nr;ir.classList.add("comb"),ir.style.letterSpacing=`calc(${Or}px * var(--scale-factor) - 1ch)`}}else ir=document.createElement("div"),ir.textContent=this.data.fieldValue,ir.style.verticalAlign="middle",ir.style.display="table-cell";return this._setTextStyle(ir),this._setBackgroundColor(ir),this._setDefaultPropertiesFromJS(ir),this.container.append(ir),this.container}}class yt extends ft{constructor(qt){super(qt,{isRenderable:!!qt.data.hasOwnCanvas})}}class vt extends ft{constructor(qt){super(qt,{isRenderable:qt.renderForms})}render(){const qt=this.annotationStorage,Wt=this.data,ir=Wt.id;let mr=qt.getValue(ir,{value:Wt.exportValue===Wt.fieldValue}).value;typeof mr=="string"&&(mr=mr!=="Off",qt.setValue(ir,{value:mr})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const gr=document.createElement("input");return ot.add(gr),gr.setAttribute("data-element-id",ir),gr.disabled=Wt.readOnly,this._setRequired(gr,this.data.required),gr.type="checkbox",gr.name=Wt.fieldName,mr&&gr.setAttribute("checked",!0),gr.setAttribute("exportValue",Wt.exportValue),gr.tabIndex=it,gr.addEventListener("change",br=>{const{name:Er,checked:Nr}=br.target;for(const Tr of this._getElementsByName(Er,ir)){const wr=Nr&&Tr.exportValue===Wt.exportValue;Tr.domElement&&(Tr.domElement.checked=wr),qt.setValue(Tr.id,{value:wr})}qt.setValue(ir,{value:Nr})}),gr.addEventListener("resetform",br=>{const Er=Wt.defaultFieldValue||"Off";br.target.checked=Er===Wt.exportValue}),this.enableScripting&&this.hasJSActions&&(gr.addEventListener("updatefromsandbox",br=>{const Er={value(Nr){Nr.target.checked=Nr.detail.value!=="Off",qt.setValue(ir,{value:Nr.target.checked})}};this._dispatchEventFromSandbox(Er,br)}),this._setEventListeners(gr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],br=>br.target.checked)),this._setBackgroundColor(gr),this._setDefaultPropertiesFromJS(gr),this.container.append(gr),this.container}}class gt extends ft{constructor(qt){super(qt,{isRenderable:qt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const qt=this.annotationStorage,Wt=this.data,ir=Wt.id;let mr=qt.getValue(ir,{value:Wt.fieldValue===Wt.buttonValue}).value;typeof mr=="string"&&(mr=mr!==Wt.buttonValue,qt.setValue(ir,{value:mr}));const gr=document.createElement("input");if(ot.add(gr),gr.setAttribute("data-element-id",ir),gr.disabled=Wt.readOnly,this._setRequired(gr,this.data.required),gr.type="radio",gr.name=Wt.fieldName,mr&&gr.setAttribute("checked",!0),gr.tabIndex=it,gr.addEventListener("change",br=>{const{name:Er,checked:Nr}=br.target;for(const Tr of this._getElementsByName(Er,ir))qt.setValue(Tr.id,{value:!1});qt.setValue(ir,{value:Nr})}),gr.addEventListener("resetform",br=>{const Er=Wt.defaultFieldValue;br.target.checked=Er!=null&&Er===Wt.buttonValue}),this.enableScripting&&this.hasJSActions){const br=Wt.buttonValue;gr.addEventListener("updatefromsandbox",Er=>{const Nr={value:Tr=>{const wr=br===Tr.detail.value;for(const Lr of this._getElementsByName(Tr.target.name)){const Pr=wr&&Lr.id===ir;Lr.domElement&&(Lr.domElement.checked=Pr),qt.setValue(Lr.id,{value:Pr})}}};this._dispatchEventFromSandbox(Nr,Er)}),this._setEventListeners(gr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Er=>Er.target.checked)}return this._setBackgroundColor(gr),this._setDefaultPropertiesFromJS(gr),this.container.append(gr),this.container}}class bt extends ut{constructor(qt){super(qt,{ignoreBorder:qt.data.hasAppearance})}render(){const qt=super.render();qt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(qt.title=this.data.alternativeText);const Wt=qt.lastChild;return this.enableScripting&&this.hasJSActions&&Wt&&(this._setDefaultPropertiesFromJS(Wt),Wt.addEventListener("updatefromsandbox",ir=>{this._dispatchEventFromSandbox({},ir)})),qt}}class mt extends ft{constructor(qt){super(qt,{isRenderable:qt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const qt=this.annotationStorage,Wt=this.data.id,ir=qt.getValue(Wt,{value:this.data.fieldValue}),mr=document.createElement("select");ot.add(mr),mr.setAttribute("data-element-id",Wt),mr.disabled=this.data.readOnly,this._setRequired(mr,this.data.required),mr.name=this.data.fieldName,mr.tabIndex=it;let gr=this.data.combo&&this.data.options.length>0;this.data.combo||(mr.size=this.data.options.length,this.data.multiSelect&&(mr.multiple=!0)),mr.addEventListener("resetform",wr=>{const Lr=this.data.defaultFieldValue;for(const Pr of mr.options)Pr.selected=Pr.value===Lr});for(const wr of this.data.options){const Lr=document.createElement("option");Lr.textContent=wr.displayValue,Lr.value=wr.exportValue,ir.value.includes(wr.exportValue)&&(Lr.setAttribute("selected",!0),gr=!1),mr.append(Lr)}let br=null;if(gr){const wr=document.createElement("option");wr.value=" ",wr.setAttribute("hidden",!0),wr.setAttribute("selected",!0),mr.prepend(wr),br=()=>{wr.remove(),mr.removeEventListener("input",br),br=null},mr.addEventListener("input",br)}const Er=wr=>{const Lr=wr?"value":"textContent",{options:Pr,multiple:Or}=mr;return Or?Array.prototype.filter.call(Pr,Fr=>Fr.selected).map(Fr=>Fr[Lr]):Pr.selectedIndex===-1?null:Pr[Pr.selectedIndex][Lr]};let Nr=Er(!1);const Tr=wr=>{const Lr=wr.target.options;return Array.prototype.map.call(Lr,Pr=>({displayValue:Pr.textContent,exportValue:Pr.value}))};return this.enableScripting&&this.hasJSActions?(mr.addEventListener("updatefromsandbox",wr=>{const Lr={value(Pr){br==null||br();const Or=Pr.detail.value,Fr=new Set(Array.isArray(Or)?Or:[Or]);for(const Ur of mr.options)Ur.selected=Fr.has(Ur.value);qt.setValue(Wt,{value:Er(!0)}),Nr=Er(!1)},multipleSelection(Pr){mr.multiple=!0},remove(Pr){const Or=mr.options,Fr=Pr.detail.remove;Or[Fr].selected=!1,mr.remove(Fr),Or.length>0&&Array.prototype.findIndex.call(Or,zr=>zr.selected)===-1&&(Or[0].selected=!0),qt.setValue(Wt,{value:Er(!0),items:Tr(Pr)}),Nr=Er(!1)},clear(Pr){for(;mr.length!==0;)mr.remove(0);qt.setValue(Wt,{value:null,items:[]}),Nr=Er(!1)},insert(Pr){const{index:Or,displayValue:Fr,exportValue:Ur}=Pr.detail.insert,zr=mr.children[Or],Zr=document.createElement("option");Zr.textContent=Fr,Zr.value=Ur,zr?zr.before(Zr):mr.append(Zr),qt.setValue(Wt,{value:Er(!0),items:Tr(Pr)}),Nr=Er(!1)},items(Pr){const{items:Or}=Pr.detail;for(;mr.length!==0;)mr.remove(0);for(const Fr of Or){const{displayValue:Ur,exportValue:zr}=Fr,Zr=document.createElement("option");Zr.textContent=Ur,Zr.value=zr,mr.append(Zr)}mr.options.length>0&&(mr.options[0].selected=!0),qt.setValue(Wt,{value:Er(!0),items:Tr(Pr)}),Nr=Er(!1)},indices(Pr){const Or=new Set(Pr.detail.indices);for(const Fr of Pr.target.options)Fr.selected=Or.has(Fr.index);qt.setValue(Wt,{value:Er(!0)}),Nr=Er(!1)},editable(Pr){Pr.target.disabled=!Pr.detail.editable}};this._dispatchEventFromSandbox(Lr,wr)}),mr.addEventListener("input",wr=>{var Pr;const Lr=Er(!0);qt.setValue(Wt,{value:Lr}),wr.preventDefault(),(Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt,name:"Keystroke",value:Nr,changeEx:Lr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(mr,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],wr=>wr.target.value)):mr.addEventListener("input",function(wr){qt.setValue(Wt,{value:Er(!0)})}),this.data.combo&&this._setTextStyle(mr),this._setBackgroundColor(mr),this._setDefaultPropertiesFromJS(mr),this.container.append(mr),this.container}}class Et extends pt{constructor(qt){const{data:Wt,elements:ir}=qt;super(qt,{isRenderable:pt._hasPopupData(Wt)}),this.elements=ir}render(){this.container.classList.add("popupAnnotation");const qt=new Rt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Wt=[];for(const ir of this.elements)ir.popup=qt,Wt.push(ir.data.id),ir.addHighlightArea();return this.container.setAttribute("aria-controls",Wt.map(ir=>`${_e.AnnotationPrefix}${ir}`).join(",")),this.container}}class Rt{constructor({container:qt,color:Wt,elements:ir,titleObj:mr,modificationDate:gr,contentsObj:br,richText:Er,parent:Nr,rect:Tr,parentRect:wr,open:Lr}){nr(this,cr);nr(this,Qt,null);nr(this,sr,er(this,cr,Wo).bind(this));nr(this,Kt,er(this,cr,no).bind(this));nr(this,fr,er(this,cr,ro).bind(this));nr(this,dr,er(this,cr,Ss).bind(this));nr(this,xr,null);nr(this,ar,null);nr(this,rr,null);nr(this,Lt,null);nr(this,Zt,null);nr(this,or,null);nr(this,lr,!1);nr(this,Ft,null);nr(this,Gt,null);nr(this,Jt,null);nr(this,Yt,null);nr(this,hr,!1);var Or;tr(this,ar,qt),tr(this,Yt,mr),tr(this,rr,br),tr(this,Jt,Er),tr(this,Zt,Nr),tr(this,xr,Wt),tr(this,Gt,Tr),tr(this,or,wr),tr(this,Lt,ir);const Pr=et.PDFDateString.toDateObject(gr);Pr&&tr(this,Qt,Nr.l10n.get("annotation_date_string",{date:Pr.toLocaleDateString(),time:Pr.toLocaleTimeString()})),this.trigger=ir.flatMap(Fr=>Fr.getElementsToTriggerPopup());for(const Fr of this.trigger)Fr.addEventListener("click",_t(this,dr)),Fr.addEventListener("mouseenter",_t(this,fr)),Fr.addEventListener("mouseleave",_t(this,Kt)),Fr.classList.add("popupTriggerArea");for(const Fr of ir)(Or=Fr.container)==null||Or.addEventListener("keydown",_t(this,sr));_t(this,ar).hidden=!0,Lr&&er(this,cr,Ss).call(this)}render(){if(_t(this,Ft))return;const{page:{view:qt},viewport:{rawDims:{pageWidth:Wt,pageHeight:ir,pageX:mr,pageY:gr}}}=_t(this,Zt),br=tr(this,Ft,document.createElement("div"));if(br.className="popup",_t(this,xr)){const Yr=br.style.outlineColor=_e.Util.makeHexColor(..._t(this,xr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?br.style.backgroundColor=`color-mix(in srgb, ${Yr} 30%, white)`:br.style.backgroundColor=_e.Util.makeHexColor(..._t(this,xr).map(bn=>Math.floor(.7*(255-bn)+bn)))}const Er=document.createElement("span");Er.className="header";const Nr=document.createElement("h1");if(Er.append(Nr),{dir:Nr.dir,str:Nr.textContent}=_t(this,Yt),br.append(Er),_t(this,Qt)){const Yr=document.createElement("span");Yr.classList.add("popupDate"),_t(this,Qt).then(mn=>{Yr.textContent=mn}),Er.append(Yr)}const Tr=_t(this,rr),wr=_t(this,Jt);if(wr!=null&&wr.str&&(!(Tr!=null&&Tr.str)||Tr.str===wr.str))st.XfaLayer.render({xfaHtml:wr.html,intent:"richText",div:br}),br.lastChild.classList.add("richText","popupContent");else{const Yr=this._formatContents(Tr);br.append(Yr)}let Lr=!!_t(this,or),Pr=Lr?_t(this,or):_t(this,Gt);for(const Yr of _t(this,Lt))if(!Pr||_e.Util.intersect(Yr.data.rect,Pr)!==null){Pr=Yr.data.rect,Lr=!0;break}const Or=_e.Util.normalizeRect([Pr[0],qt[3]-Pr[1]+qt[1],Pr[2],qt[3]-Pr[3]+qt[1]]),Ur=Lr?Pr[2]-Pr[0]+5:0,zr=Or[0]+Ur,Zr=Or[1],{style:Qr}=_t(this,ar);Qr.left=`${100*(zr-mr)/Wt}%`,Qr.top=`${100*(Zr-gr)/ir}%`,_t(this,ar).append(br)}_formatContents({str:qt,dir:Wt}){const ir=document.createElement("p");ir.classList.add("popupContent"),ir.dir=Wt;const mr=qt.split(/(?:\r\n?|\n)/);for(let gr=0,br=mr.length;gr<br;++gr){const Er=mr[gr];ir.append(document.createTextNode(Er)),gr<br-1&&ir.append(document.createElement("br"))}return ir}forceHide(){tr(this,hr,this.isVisible),_t(this,hr)&&(_t(this,ar).hidden=!0)}maybeShow(){_t(this,hr)&&(tr(this,hr,!1),_t(this,ar).hidden=!1)}get isVisible(){return _t(this,ar).hidden===!1}}Qt=new WeakMap,sr=new WeakMap,Kt=new WeakMap,fr=new WeakMap,dr=new WeakMap,xr=new WeakMap,ar=new WeakMap,rr=new WeakMap,Lt=new WeakMap,Zt=new WeakMap,or=new WeakMap,lr=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,hr=new WeakMap,cr=new WeakSet,Wo=function(qt){qt.altKey||qt.shiftKey||qt.ctrlKey||qt.metaKey||(qt.key==="Enter"||qt.key==="Escape"&&_t(this,lr))&&er(this,cr,Ss).call(this)},Ss=function(){tr(this,lr,!_t(this,lr)),_t(this,lr)?(er(this,cr,ro).call(this),_t(this,ar).addEventListener("click",_t(this,dr)),_t(this,ar).addEventListener("keydown",_t(this,sr))):(er(this,cr,no).call(this),_t(this,ar).removeEventListener("click",_t(this,dr)),_t(this,ar).removeEventListener("keydown",_t(this,sr)))},ro=function(){_t(this,Ft)||this.render(),this.isVisible?_t(this,lr)&&_t(this,ar).classList.add("focused"):(_t(this,ar).hidden=!1,_t(this,ar).style.zIndex=parseInt(_t(this,ar).style.zIndex)+1e3)},no=function(){_t(this,ar).classList.remove("focused"),!(_t(this,lr)||!this.isVisible)&&(_t(this,ar).hidden=!0,_t(this,ar).style.zIndex=parseInt(_t(this,ar).style.zIndex)-1e3)};class Tt extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=qt.data.textContent,this.textPosition=qt.data.textPosition,this.annotationEditorType=_e.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const qt=document.createElement("div");qt.classList.add("annotationTextContent"),qt.setAttribute("role","comment");for(const Wt of this.textContent){const ir=document.createElement("span");ir.textContent=Wt,qt.append(ir)}this.container.append(qt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_.FreeTextAnnotationElement=Tt;class jt extends pt{constructor(Wt){super(Wt,{isRenderable:!0,ignoreBorder:!0});nr(this,Dr,null)}render(){this.container.classList.add("lineAnnotation");const Wt=this.data,{width:ir,height:mr}=ct(Wt.rect),gr=this.svgFactory.create(ir,mr,!0),br=tr(this,Dr,this.svgFactory.createElement("svg:line"));return br.setAttribute("x1",Wt.rect[2]-Wt.lineCoordinates[0]),br.setAttribute("y1",Wt.rect[3]-Wt.lineCoordinates[1]),br.setAttribute("x2",Wt.rect[2]-Wt.lineCoordinates[2]),br.setAttribute("y2",Wt.rect[3]-Wt.lineCoordinates[3]),br.setAttribute("stroke-width",Wt.borderStyle.width||1),br.setAttribute("stroke","transparent"),br.setAttribute("fill","transparent"),gr.append(br),this.container.append(gr),!Wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Dr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dr=new WeakMap;class xt extends pt{constructor(Wt){super(Wt,{isRenderable:!0,ignoreBorder:!0});nr(this,Br,null)}render(){this.container.classList.add("squareAnnotation");const Wt=this.data,{width:ir,height:mr}=ct(Wt.rect),gr=this.svgFactory.create(ir,mr,!0),br=Wt.borderStyle.width,Er=tr(this,Br,this.svgFactory.createElement("svg:rect"));return Er.setAttribute("x",br/2),Er.setAttribute("y",br/2),Er.setAttribute("width",ir-br),Er.setAttribute("height",mr-br),Er.setAttribute("stroke-width",br||1),Er.setAttribute("stroke","transparent"),Er.setAttribute("fill","transparent"),gr.append(Er),this.container.append(gr),!Wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Br)}addHighlightArea(){this.container.classList.add("highlightArea")}}Br=new WeakMap;class Ct extends pt{constructor(Wt){super(Wt,{isRenderable:!0,ignoreBorder:!0});nr(this,Wr,null)}render(){this.container.classList.add("circleAnnotation");const Wt=this.data,{width:ir,height:mr}=ct(Wt.rect),gr=this.svgFactory.create(ir,mr,!0),br=Wt.borderStyle.width,Er=tr(this,Wr,this.svgFactory.createElement("svg:ellipse"));return Er.setAttribute("cx",ir/2),Er.setAttribute("cy",mr/2),Er.setAttribute("rx",ir/2-br/2),Er.setAttribute("ry",mr/2-br/2),Er.setAttribute("stroke-width",br||1),Er.setAttribute("stroke","transparent"),Er.setAttribute("fill","transparent"),gr.append(Er),this.container.append(gr),!Wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wr=new WeakMap;class kt extends pt{constructor(Wt){super(Wt,{isRenderable:!0,ignoreBorder:!0});nr(this,vr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Wt=this.data,{width:ir,height:mr}=ct(Wt.rect),gr=this.svgFactory.create(ir,mr,!0);let br=[];for(const Nr of Wt.vertices){const Tr=Nr.x-Wt.rect[0],wr=Wt.rect[3]-Nr.y;br.push(Tr+","+wr)}br=br.join(" ");const Er=tr(this,vr,this.svgFactory.createElement(this.svgElementName));return Er.setAttribute("points",br),Er.setAttribute("stroke-width",Wt.borderStyle.width||1),Er.setAttribute("stroke","transparent"),Er.setAttribute("fill","transparent"),gr.append(Er),this.container.append(gr),!Wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,vr)}addHighlightArea(){this.container.classList.add("highlightArea")}}vr=new WeakMap;class Nt extends kt{constructor(qt){super(qt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class St extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ot extends pt{constructor(Wt){super(Wt,{isRenderable:!0,ignoreBorder:!0});nr(this,ur,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=_e.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Wt=this.data,{width:ir,height:mr}=ct(Wt.rect),gr=this.svgFactory.create(ir,mr,!0);for(const br of Wt.inkLists){let Er=[];for(const Tr of br){const wr=Tr.x-Wt.rect[0],Lr=Wt.rect[3]-Tr.y;Er.push(`${wr},${Lr}`)}Er=Er.join(" ");const Nr=this.svgFactory.createElement(this.svgElementName);_t(this,ur).push(Nr),Nr.setAttribute("points",Er),Nr.setAttribute("stroke-width",Wt.borderStyle.width||1),Nr.setAttribute("stroke","transparent"),Nr.setAttribute("fill","transparent"),!Wt.popupRef&&this.hasPopupData&&this._createPopup(),gr.append(Nr)}return this.container.append(gr),this.container}getElementsToTriggerPopup(){return _t(this,ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}ur=new WeakMap,_.InkAnnotationElement=Ot;class Pt extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class wt extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dt extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Vt extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class It extends pt{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_.StampAnnotationElement=It;class At extends pt{constructor(Wt){var gr;super(Wt,{isRenderable:!0});nr(this,Cr);nr(this,pr,null);const{filename:ir,content:mr}=this.data.file;this.filename=(0,et.getFilenameFromUrl)(ir,!0),this.content=mr,(gr=this.linkService.eventBus)==null||gr.dispatch("fileattachmentannotation",{source:this,filename:ir,content:mr})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Wt,data:ir}=this;let mr;ir.hasAppearance||ir.fillAlpha===0?mr=document.createElement("div"):(mr=document.createElement("img"),mr.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ir.name)?"paperclip":"pushpin"}.svg`,ir.fillAlpha&&ir.fillAlpha<1&&(mr.style=`filter: opacity(${Math.round(ir.fillAlpha*100)}%);`)),mr.addEventListener("dblclick",er(this,Cr,so).bind(this)),tr(this,pr,mr);const{isMac:gr}=_e.FeatureTest.platform;return Wt.addEventListener("keydown",br=>{br.key==="Enter"&&(gr?br.metaKey:br.ctrlKey)&&er(this,Cr,so).call(this)}),!ir.popupRef&&this.hasPopupData?this._createPopup():mr.classList.add("popupTriggerArea"),Wt.append(mr),Wt}getElementsToTriggerPopup(){return _t(this,pr)}addHighlightArea(){this.container.classList.add("highlightArea")}}pr=new WeakMap,Cr=new WeakSet,so=function(){var Wt;(Wt=this.downloadManager)==null||Wt.openOrDownloadData(this.container,this.content,this.filename)};class $t{constructor({div:qt,accessibilityManager:Wt,annotationCanvasMap:ir,l10n:mr,page:gr,viewport:br}){nr(this,_r);nr(this,Vr,null);nr(this,Xt,null);nr(this,yr,new Map);this.div=qt,tr(this,Vr,Wt),tr(this,Xt,ir),this.l10n=mr,this.page=gr,this.viewport=br,this.zIndex=0,this.l10n||(this.l10n=nt.NullL10n)}async render(qt){const{annotations:Wt}=qt,ir=this.div;(0,et.setLayerDimensions)(ir,this.viewport);const mr=new Map,gr={data:null,layer:ir,linkService:qt.linkService,downloadManager:qt.downloadManager,imageResourcesPath:qt.imageResourcesPath||"",renderForms:qt.renderForms!==!1,svgFactory:new et.DOMSVGFactory,annotationStorage:qt.annotationStorage||new tt.AnnotationStorage,enableScripting:qt.enableScripting===!0,hasJSActions:qt.hasJSActions,fieldObjects:qt.fieldObjects,parent:this,elements:null};for(const br of Wt){if(br.noHTML)continue;const Er=br.annotationType===_e.AnnotationType.POPUP;if(Er){const wr=mr.get(br.id);if(!wr)continue;gr.elements=wr}else{const{width:wr,height:Lr}=ct(br.rect);if(wr<=0||Lr<=0)continue}gr.data=br;const Nr=dt.create(gr);if(!Nr.isRenderable)continue;if(!Er&&br.popupRef){const wr=mr.get(br.popupRef);wr?wr.push(Nr):mr.set(br.popupRef,[Nr])}Nr.annotationEditorType>0&&_t(this,yr).set(Nr.data.id,Nr);const Tr=Nr.render();br.hidden&&(Tr.style.visibility="hidden"),er(this,_r,zo).call(this,Tr,br.id)}er(this,_r,io).call(this),await this.l10n.translate(ir)}update({viewport:qt}){const Wt=this.div;this.viewport=qt,(0,et.setLayerDimensions)(Wt,{rotation:qt.rotation}),er(this,_r,io).call(this),Wt.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,yr).values())}getEditableAnnotation(qt){return _t(this,yr).get(qt)}}Vr=new WeakMap,Xt=new WeakMap,yr=new WeakMap,_r=new WeakSet,zo=function(qt,Wt){var mr;const ir=qt.firstChild||qt;ir.id=`${_e.AnnotationPrefix}${Wt}`,this.div.append(qt),(mr=_t(this,Vr))==null||mr.moveElementInDOM(this.div,qt,ir,!1)},io=function(){if(!_t(this,Xt))return;const qt=this.div;for(const[Wt,ir]of _t(this,Xt)){const mr=qt.querySelector(`[data-annotation-id="${Wt}"]`);if(!mr)continue;const{firstChild:gr}=mr;gr?gr.nodeName==="CANVAS"?gr.replaceWith(ir):gr.before(ir):mr.append(ir)}_t(this,Xt).clear()},_.AnnotationLayer=$t},(j,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorConverters=void 0;function $(tt){return Math.floor(Math.max(0,Math.min(1,tt))*255).toString(16).padStart(2,"0")}function _e(tt){return Math.max(0,Math.min(255,255*tt))}class et{static CMYK_G([rt,nt,st,it]){return["G",1-Math.min(1,.3*rt+.59*st+.11*nt+it)]}static G_CMYK([rt]){return["CMYK",0,0,0,1-rt]}static G_RGB([rt]){return["RGB",rt,rt,rt]}static G_rgb([rt]){return rt=_e(rt),[rt,rt,rt]}static G_HTML([rt]){const nt=$(rt);return`#${nt}${nt}${nt}`}static RGB_G([rt,nt,st]){return["G",.3*rt+.59*nt+.11*st]}static RGB_rgb(rt){return rt.map(_e)}static RGB_HTML(rt){return`#${rt.map($).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([rt,nt,st,it]){return["RGB",1-Math.min(1,rt+it),1-Math.min(1,st+it),1-Math.min(1,nt+it)]}static CMYK_rgb([rt,nt,st,it]){return[_e(1-Math.min(1,rt+it)),_e(1-Math.min(1,st+it)),_e(1-Math.min(1,nt+it))]}static CMYK_HTML(rt){const nt=this.CMYK_RGB(rt).slice(1);return this.RGB_HTML(nt)}static RGB_CMYK([rt,nt,st]){const it=1-rt,at=1-nt,ot=1-st,ct=Math.min(it,at,ot);return["CMYK",it,at,ot,ct]}}_.ColorConverters=et},(j,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.getL10nFallback=_e;const $={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};$.print_progress_percent="{{progress}}%";function _e(rt,nt){switch(rt){case"find_match_count":rt=`find_match_count[${nt.total===1?"one":"other"}]`;break;case"find_match_count_limit":rt=`find_match_count_limit[${nt.limit===1?"one":"other"}]`;break}return $[rt]||""}function et(rt,nt){return nt?rt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(st,it)=>it in nt?nt[it]:"{{"+it+"}}"):rt}const tt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(rt,nt=null,st=_e(rt,nt)){return et(st,nt)},async translate(rt){}};_.NullL10n=tt},(j,_,$)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayer=void 0;var _e=$(25);class et{static setupStorage(rt,nt,st,it,at){const ot=it.getValue(nt,{value:null});switch(st.name){case"textarea":if(ot.value!==null&&(rt.textContent=ot.value),at==="print")break;rt.addEventListener("input",ct=>{it.setValue(nt,{value:ct.target.value})});break;case"input":if(st.attributes.type==="radio"||st.attributes.type==="checkbox"){if(ot.value===st.attributes.xfaOn?rt.setAttribute("checked",!0):ot.value===st.attributes.xfaOff&&rt.removeAttribute("checked"),at==="print")break;rt.addEventListener("change",ct=>{it.setValue(nt,{value:ct.target.checked?ct.target.getAttribute("xfaOn"):ct.target.getAttribute("xfaOff")})})}else{if(ot.value!==null&&rt.setAttribute("value",ot.value),at==="print")break;rt.addEventListener("input",ct=>{it.setValue(nt,{value:ct.target.value})})}break;case"select":if(ot.value!==null){rt.setAttribute("value",ot.value);for(const ct of st.children)ct.attributes.value===ot.value?ct.attributes.selected=!0:ct.attributes.hasOwnProperty("selected")&&delete ct.attributes.selected}rt.addEventListener("input",ct=>{const dt=ct.target.options,pt=dt.selectedIndex===-1?"":dt[dt.selectedIndex].value;it.setValue(nt,{value:pt})});break}}static setAttributes({html:rt,element:nt,storage:st=null,intent:it,linkService:at}){const{attributes:ot}=nt,ct=rt instanceof HTMLAnchorElement;ot.type==="radio"&&(ot.name=`${ot.name}-${it}`);for(const[dt,pt]of Object.entries(ot))if(pt!=null)switch(dt){case"class":pt.length&&rt.setAttribute(dt,pt.join(" "));break;case"dataId":break;case"id":rt.setAttribute("data-element-id",pt);break;case"style":Object.assign(rt.style,pt);break;case"textContent":rt.textContent=pt;break;default:(!ct||dt!=="href"&&dt!=="newWindow")&&rt.setAttribute(dt,pt)}ct&&at.addLinkAttributes(rt,ot.href,ot.newWindow),st&&ot.dataId&&this.setupStorage(rt,ot.dataId,nt,st)}static render(rt){var ut;const nt=rt.annotationStorage,st=rt.linkService,it=rt.xfaHtml,at=rt.intent||"display",ot=document.createElement(it.name);it.attributes&&this.setAttributes({html:ot,element:it,intent:at,linkService:st});const ct=[[it,-1,ot]],dt=rt.div;if(dt.append(ot),rt.viewport){const lt=`matrix(${rt.viewport.transform.join(",")})`;dt.style.transform=lt}at!=="richText"&&dt.setAttribute("class","xfaLayer xfaFont");const pt=[];for(;ct.length>0;){const[lt,ft,ht]=ct.at(-1);if(ft+1===lt.children.length){ct.pop();continue}const yt=lt.children[++ct.at(-1)[1]];if(yt===null)continue;const{name:vt}=yt;if(vt==="#text"){const bt=document.createTextNode(yt.value);pt.push(bt),ht.append(bt);continue}const gt=(ut=yt==null?void 0:yt.attributes)!=null&&ut.xmlns?document.createElementNS(yt.attributes.xmlns,vt):document.createElement(vt);if(ht.append(gt),yt.attributes&&this.setAttributes({html:gt,element:yt,storage:nt,intent:at,linkService:st}),yt.children&&yt.children.length>0)ct.push([yt,-1,gt]);else if(yt.value){const bt=document.createTextNode(yt.value);_e.XfaText.shouldBuildText(vt)&&pt.push(bt),gt.append(bt)}}for(const lt of dt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))lt.setAttribute("readOnly",!0);return{textDivs:pt}}static update(rt){const nt=`matrix(${rt.viewport.transform.join(",")})`;rt.div.style.transform=nt,rt.div.hidden=!1}}_.XfaLayer=et},(j,_,$)=>{var it,at,ot,ct,dt,pt,ut,lt,ft,ht,yt,vt,gt,bt,mt,qo,Zo,Ko,Go,ao,Yo,oo,Xo,Qo,Jo,xl,yl,gn,lo,ws,Cs,Wn,co,As,Bt,El,uo,_l,Rl,po,Ts,zn;Object.defineProperty(_,"__esModule",{value:!0}),_.InkEditor=void 0;var _e=$(1),et=$(4),tt=$(29),rt=$(6),nt=$(5);const xr=class xr extends et.AnnotationEditor{constructor(Lt){super({...Lt,name:"inkEditor"});nr(this,mt);nr(this,it,0);nr(this,at,0);nr(this,ot,this.canvasPointermove.bind(this));nr(this,ct,this.canvasPointerleave.bind(this));nr(this,dt,this.canvasPointerup.bind(this));nr(this,pt,this.canvasPointerdown.bind(this));nr(this,ut,new Path2D);nr(this,lt,!1);nr(this,ft,!1);nr(this,ht,!1);nr(this,yt,null);nr(this,vt,0);nr(this,gt,0);nr(this,bt,null);this.color=Lt.color||null,this.thickness=Lt.thickness||null,this.opacity=Lt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Lt){et.AnnotationEditor.initialize(Lt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Lt,Zt){switch(Lt){case _e.AnnotationEditorParamsType.INK_THICKNESS:xr._defaultThickness=Zt;break;case _e.AnnotationEditorParamsType.INK_COLOR:xr._defaultColor=Zt;break;case _e.AnnotationEditorParamsType.INK_OPACITY:xr._defaultOpacity=Zt/100;break}}updateParams(Lt,Zt){switch(Lt){case _e.AnnotationEditorParamsType.INK_THICKNESS:er(this,mt,qo).call(this,Zt);break;case _e.AnnotationEditorParamsType.INK_COLOR:er(this,mt,Zo).call(this,Zt);break;case _e.AnnotationEditorParamsType.INK_OPACITY:er(this,mt,Ko).call(this,Zt);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,xr._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,xr._defaultColor||et.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(xr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||xr._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||xr._defaultColor||et.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??xr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(er(this,mt,ws).call(this),er(this,mt,Cs).call(this)),this.isAttachedToDOM||(this.parent.add(this),er(this,mt,Wn).call(this)),er(this,mt,zn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,yt).disconnect(),tr(this,yt,null),super.remove())}setParent(Lt){!this.parent&&Lt?this._uiManager.removeShouldRescale(this):this.parent&&Lt===null&&this._uiManager.addShouldRescale(this),super.setParent(Lt)}onScaleChanging(){const[Lt,Zt]=this.parentDimensions,or=this.width*Lt,lr=this.height*Zt;this.setDimensions(or,lr)}enableEditMode(){_t(this,lt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,pt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,pt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,lt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),tr(this,lt,!0),this.div.classList.add("disabled"),er(this,mt,zn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Lt){this._focusEventsAllowed&&(super.focusin(Lt),this.enableEditMode())}canvasPointerdown(Lt){Lt.button!==0||!this.isInEditMode()||_t(this,lt)||(this.setInForeground(),Lt.preventDefault(),Lt.type!=="mouse"&&this.div.focus(),er(this,mt,Yo).call(this,Lt.offsetX,Lt.offsetY))}canvasPointermove(Lt){Lt.preventDefault(),er(this,mt,oo).call(this,Lt.offsetX,Lt.offsetY)}canvasPointerup(Lt){Lt.preventDefault(),er(this,mt,lo).call(this,Lt)}canvasPointerleave(Lt){er(this,mt,lo).call(this,Lt)}get isResizable(){return!this.isEmpty()&&_t(this,lt)}render(){if(this.div)return this.div;let Lt,Zt;this.width&&(Lt=this.x,Zt=this.y),super.render(),et.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Jt=>{var Yt;return(Yt=this.div)==null?void 0:Yt.setAttribute("aria-label",Jt)});const[or,lr,Ft,Gt]=er(this,mt,Go).call(this);if(this.setAt(or,lr,0,0),this.setDims(Ft,Gt),er(this,mt,ws).call(this),this.width){const[Jt,Yt]=this.parentDimensions;this.setAspectRatio(this.width*Jt,this.height*Yt),this.setAt(Lt*Jt,Zt*Yt,this.width*Jt,this.height*Yt),tr(this,ht,!0),er(this,mt,Wn).call(this),this.setDims(this.width*Jt,this.height*Yt),er(this,mt,gn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return er(this,mt,Cs).call(this),this.div}setDimensions(Lt,Zt){const or=Math.round(Lt),lr=Math.round(Zt);if(_t(this,vt)===or&&_t(this,gt)===lr)return;tr(this,vt,or),tr(this,gt,lr),this.canvas.style.visibility="hidden";const[Ft,Gt]=this.parentDimensions;this.width=Lt/Ft,this.height=Zt/Gt,this.fixAndSetPosition(),_t(this,lt)&&er(this,mt,co).call(this,Lt,Zt),er(this,mt,Wn).call(this),er(this,mt,gn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Lt,Zt,or){var Dr,Br,Wr;if(Lt instanceof tt.InkAnnotationElement)return null;const lr=super.deserialize(Lt,Zt,or);lr.thickness=Lt.thickness,lr.color=_e.Util.makeHexColor(...Lt.color),lr.opacity=Lt.opacity;const[Ft,Gt]=lr.pageDimensions,Jt=lr.width*Ft,Yt=lr.height*Gt,hr=lr.parentScale,cr=Lt.thickness/2;tr(lr,lt,!0),tr(lr,vt,Math.round(Jt)),tr(lr,gt,Math.round(Yt));const{paths:jr,rect:Rr,rotation:Mr}=Lt;for(let{bezier:vr}of jr){vr=er(Dr=xr,Bt,_l).call(Dr,vr,Rr,Mr);const ur=[];lr.paths.push(ur);let pr=hr*(vr[0]-cr),Cr=hr*(vr[1]-cr);for(let Vr=2,Xt=vr.length;Vr<Xt;Vr+=6){const yr=hr*(vr[Vr]-cr),_r=hr*(vr[Vr+1]-cr),$r=hr*(vr[Vr+2]-cr),Ir=hr*(vr[Vr+3]-cr),Ar=hr*(vr[Vr+4]-cr),qt=hr*(vr[Vr+5]-cr);ur.push([[pr,Cr],[yr,_r],[$r,Ir],[Ar,qt]]),pr=Ar,Cr=qt}const Hr=er(this,Bt,El).call(this,ur);lr.bezierPath2D.push(Hr)}const Sr=er(Br=lr,mt,po).call(Br);return tr(lr,at,Math.max(et.AnnotationEditor.MIN_SIZE,Sr[2]-Sr[0])),tr(lr,it,Math.max(et.AnnotationEditor.MIN_SIZE,Sr[3]-Sr[1])),er(Wr=lr,mt,co).call(Wr,Jt,Yt),lr}serialize(){if(this.isEmpty())return null;const Lt=this.getRect(0,0),Zt=et.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:Zt,thickness:this.thickness,opacity:this.opacity,paths:er(this,mt,Rl).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Lt),pageIndex:this.pageIndex,rect:Lt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};it=new WeakMap,at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,yt=new WeakMap,vt=new WeakMap,gt=new WeakMap,bt=new WeakMap,mt=new WeakSet,qo=function(Lt){const Zt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Lt,er(this,mt,zn).call(this)},undo:()=>{this.thickness=Zt,er(this,mt,zn).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Zo=function(Lt){const Zt=this.color;this.addCommands({cmd:()=>{this.color=Lt,er(this,mt,gn).call(this)},undo:()=>{this.color=Zt,er(this,mt,gn).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ko=function(Lt){Lt/=100;const Zt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Lt,er(this,mt,gn).call(this)},undo:()=>{this.opacity=Zt,er(this,mt,gn).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Go=function(){const{parentRotation:Lt,parentDimensions:[Zt,or]}=this;switch(Lt){case 90:return[0,or,or,Zt];case 180:return[Zt,or,Zt,or];case 270:return[Zt,0,or,Zt];default:return[0,0,Zt,or]}},ao=function(){const{ctx:Lt,color:Zt,opacity:or,thickness:lr,parentScale:Ft,scaleFactor:Gt}=this;Lt.lineWidth=lr*Ft/Gt,Lt.lineCap="round",Lt.lineJoin="round",Lt.miterLimit=10,Lt.strokeStyle=`${Zt}${(0,nt.opacityToHex)(or)}`},Yo=function(Lt,Zt){this.canvas.addEventListener("contextmenu",rt.noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,ct)),this.canvas.addEventListener("pointermove",_t(this,ot)),this.canvas.addEventListener("pointerup",_t(this,dt)),this.canvas.removeEventListener("pointerdown",_t(this,pt)),this.isEditing=!0,_t(this,ht)||(tr(this,ht,!0),er(this,mt,Wn).call(this),this.thickness||(this.thickness=xr._defaultThickness),this.color||(this.color=xr._defaultColor||et.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=xr._defaultOpacity)),this.currentPath.push([Lt,Zt]),tr(this,ft,!1),er(this,mt,ao).call(this),tr(this,bt,()=>{er(this,mt,Jo).call(this),_t(this,bt)&&window.requestAnimationFrame(_t(this,bt))}),window.requestAnimationFrame(_t(this,bt))},oo=function(Lt,Zt){const[or,lr]=this.currentPath.at(-1);if(this.currentPath.length>1&&Lt===or&&Zt===lr)return;const Ft=this.currentPath;let Gt=_t(this,ut);if(Ft.push([Lt,Zt]),tr(this,ft,!0),Ft.length<=2){Gt.moveTo(...Ft[0]),Gt.lineTo(Lt,Zt);return}Ft.length===3&&(tr(this,ut,Gt=new Path2D),Gt.moveTo(...Ft[0])),er(this,mt,xl).call(this,Gt,...Ft.at(-3),...Ft.at(-2),Lt,Zt)},Xo=function(){if(this.currentPath.length===0)return;const Lt=this.currentPath.at(-1);_t(this,ut).lineTo(...Lt)},Qo=function(Lt,Zt){tr(this,bt,null),Lt=Math.min(Math.max(Lt,0),this.canvas.width),Zt=Math.min(Math.max(Zt,0),this.canvas.height),er(this,mt,oo).call(this,Lt,Zt),er(this,mt,Xo).call(this);let or;if(this.currentPath.length!==1)or=er(this,mt,yl).call(this);else{const Yt=[Lt,Zt];or=[[Yt,Yt.slice(),Yt.slice(),Yt]]}const lr=_t(this,ut),Ft=this.currentPath;this.currentPath=[],tr(this,ut,new Path2D);const Gt=()=>{this.allRawPaths.push(Ft),this.paths.push(or),this.bezierPath2D.push(lr),this.rebuild()},Jt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(er(this,mt,ws).call(this),er(this,mt,Cs).call(this)),er(this,mt,zn).call(this))};this.addCommands({cmd:Gt,undo:Jt,mustExec:!0})},Jo=function(){if(!_t(this,ft))return;tr(this,ft,!1);const Lt=Math.ceil(this.thickness*this.parentScale),Zt=this.currentPath.slice(-3),or=Zt.map(Gt=>Gt[0]),lr=Zt.map(Gt=>Gt[1]);Math.min(...or)-Lt,Math.max(...or)+Lt,Math.min(...lr)-Lt,Math.max(...lr)+Lt;const{ctx:Ft}=this;Ft.save(),Ft.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Gt of this.bezierPath2D)Ft.stroke(Gt);Ft.stroke(_t(this,ut)),Ft.restore()},xl=function(Lt,Zt,or,lr,Ft,Gt,Jt){const Yt=(Zt+lr)/2,hr=(or+Ft)/2,cr=(lr+Gt)/2,jr=(Ft+Jt)/2;Lt.bezierCurveTo(Yt+2*(lr-Yt)/3,hr+2*(Ft-hr)/3,cr+2*(lr-cr)/3,jr+2*(Ft-jr)/3,cr,jr)},yl=function(){const Lt=this.currentPath;if(Lt.length<=2)return[[Lt[0],Lt[0],Lt.at(-1),Lt.at(-1)]];const Zt=[];let or,[lr,Ft]=Lt[0];for(or=1;or<Lt.length-2;or++){const[Rr,Mr]=Lt[or],[Sr,Dr]=Lt[or+1],Br=(Rr+Sr)/2,Wr=(Mr+Dr)/2,vr=[lr+2*(Rr-lr)/3,Ft+2*(Mr-Ft)/3],ur=[Br+2*(Rr-Br)/3,Wr+2*(Mr-Wr)/3];Zt.push([[lr,Ft],vr,ur,[Br,Wr]]),[lr,Ft]=[Br,Wr]}const[Gt,Jt]=Lt[or],[Yt,hr]=Lt[or+1],cr=[lr+2*(Gt-lr)/3,Ft+2*(Jt-Ft)/3],jr=[Yt+2*(Gt-Yt)/3,hr+2*(Jt-hr)/3];return Zt.push([[lr,Ft],cr,jr,[Yt,hr]]),Zt},gn=function(){if(this.isEmpty()){er(this,mt,As).call(this);return}er(this,mt,ao).call(this);const{canvas:Lt,ctx:Zt}=this;Zt.setTransform(1,0,0,1,0,0),Zt.clearRect(0,0,Lt.width,Lt.height),er(this,mt,As).call(this);for(const or of this.bezierPath2D)Zt.stroke(or)},lo=function(Lt){this.canvas.removeEventListener("pointerleave",_t(this,ct)),this.canvas.removeEventListener("pointermove",_t(this,ot)),this.canvas.removeEventListener("pointerup",_t(this,dt)),this.canvas.addEventListener("pointerdown",_t(this,pt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",rt.noContextMenu)},10),er(this,mt,Qo).call(this,Lt.offsetX,Lt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ws=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",et.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Lt=>{var Zt;return(Zt=this.canvas)==null?void 0:Zt.setAttribute("aria-label",Lt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Cs=function(){tr(this,yt,new ResizeObserver(Lt=>{const Zt=Lt[0].contentRect;Zt.width&&Zt.height&&this.setDimensions(Zt.width,Zt.height)})),_t(this,yt).observe(this.div)},Wn=function(){if(!_t(this,ht))return;const[Lt,Zt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Lt),this.canvas.height=Math.ceil(this.height*Zt),er(this,mt,As).call(this)},co=function(Lt,Zt){const or=er(this,mt,Ts).call(this),lr=(Lt-or)/_t(this,at),Ft=(Zt-or)/_t(this,it);this.scaleFactor=Math.min(lr,Ft)},As=function(){const Lt=er(this,mt,Ts).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Lt,this.translationY*this.scaleFactor+Lt)},Bt=new WeakSet,El=function(Lt){const Zt=new Path2D;for(let or=0,lr=Lt.length;or<lr;or++){const[Ft,Gt,Jt,Yt]=Lt[or];or===0&&Zt.moveTo(...Ft),Zt.bezierCurveTo(Gt[0],Gt[1],Jt[0],Jt[1],Yt[0],Yt[1])}return Zt},uo=function(Lt,Zt,or){const[lr,Ft,Gt,Jt]=Zt;switch(or){case 0:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2)Lt[Yt]+=lr,Lt[Yt+1]=Jt-Lt[Yt+1];break;case 90:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2){const cr=Lt[Yt];Lt[Yt]=Lt[Yt+1]+lr,Lt[Yt+1]=cr+Ft}break;case 180:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2)Lt[Yt]=Gt-Lt[Yt],Lt[Yt+1]+=Ft;break;case 270:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2){const cr=Lt[Yt];Lt[Yt]=Gt-Lt[Yt+1],Lt[Yt+1]=Jt-cr}break;default:throw new Error("Invalid rotation")}return Lt},_l=function(Lt,Zt,or){const[lr,Ft,Gt,Jt]=Zt;switch(or){case 0:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2)Lt[Yt]-=lr,Lt[Yt+1]=Jt-Lt[Yt+1];break;case 90:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2){const cr=Lt[Yt];Lt[Yt]=Lt[Yt+1]-Ft,Lt[Yt+1]=cr-lr}break;case 180:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2)Lt[Yt]=Gt-Lt[Yt],Lt[Yt+1]-=Ft;break;case 270:for(let Yt=0,hr=Lt.length;Yt<hr;Yt+=2){const cr=Lt[Yt];Lt[Yt]=Jt-Lt[Yt+1],Lt[Yt+1]=Gt-cr}break;default:throw new Error("Invalid rotation")}return Lt},Rl=function(Lt,Zt,or,lr){var hr,cr;const Ft=[],Gt=this.thickness/2,Jt=Lt*Zt+Gt,Yt=Lt*or+Gt;for(const jr of this.paths){const Rr=[],Mr=[];for(let Sr=0,Dr=jr.length;Sr<Dr;Sr++){const[Br,Wr,vr,ur]=jr[Sr],pr=Lt*Br[0]+Jt,Cr=Lt*Br[1]+Yt,Hr=Lt*Wr[0]+Jt,Vr=Lt*Wr[1]+Yt,Xt=Lt*vr[0]+Jt,yr=Lt*vr[1]+Yt,_r=Lt*ur[0]+Jt,$r=Lt*ur[1]+Yt;Sr===0&&(Rr.push(pr,Cr),Mr.push(pr,Cr)),Rr.push(Hr,Vr,Xt,yr,_r,$r),Mr.push(Hr,Vr),Sr===Dr-1&&Mr.push(_r,$r)}Ft.push({bezier:er(hr=xr,Bt,uo).call(hr,Rr,lr,this.rotation),points:er(cr=xr,Bt,uo).call(cr,Mr,lr,this.rotation)})}return Ft},po=function(){let Lt=1/0,Zt=-1/0,or=1/0,lr=-1/0;for(const Ft of this.paths)for(const[Gt,Jt,Yt,hr]of Ft){const cr=_e.Util.bezierBoundingBox(...Gt,...Jt,...Yt,...hr);Lt=Math.min(Lt,cr[0]),or=Math.min(or,cr[1]),Zt=Math.max(Zt,cr[2]),lr=Math.max(lr,cr[3])}return[Lt,or,Zt,lr]},Ts=function(){return _t(this,lt)?Math.ceil(this.thickness*this.parentScale):0},zn=function(Lt=!1){if(this.isEmpty())return;if(!_t(this,lt)){er(this,mt,gn).call(this);return}const Zt=er(this,mt,po).call(this),or=er(this,mt,Ts).call(this);tr(this,at,Math.max(et.AnnotationEditor.MIN_SIZE,Zt[2]-Zt[0])),tr(this,it,Math.max(et.AnnotationEditor.MIN_SIZE,Zt[3]-Zt[1]));const lr=Math.ceil(or+_t(this,at)*this.scaleFactor),Ft=Math.ceil(or+_t(this,it)*this.scaleFactor),[Gt,Jt]=this.parentDimensions;this.width=lr/Gt,this.height=Ft/Jt,this.setAspectRatio(lr,Ft);const Yt=this.translationX,hr=this.translationY;this.translationX=-Zt[0],this.translationY=-Zt[1],er(this,mt,Wn).call(this),er(this,mt,gn).call(this),tr(this,vt,lr),tr(this,gt,Ft),this.setDims(lr,Ft);const cr=Lt?or/this.scaleFactor/2:0;this.translate(Yt-this.translationX-cr,hr-this.translationY-cr)},nr(xr,Bt),Gr(xr,"_defaultColor",null),Gr(xr,"_defaultOpacity",1),Gr(xr,"_defaultThickness",1),Gr(xr,"_type","ink");let st=xr;_.InkEditor=st},(j,_,$)=>{var st,it,at,ot,ct,dt,pt,ut,lt,ft,ht,ds,ps,Ps,fo,Sl,wl,ho,$s,Cl;Object.defineProperty(_,"__esModule",{value:!0}),_.StampEditor=void 0;var _e=$(1),et=$(4),tt=$(6),rt=$(29);const xt=class xt extends et.AnnotationEditor{constructor(Nt){super({...Nt,name:"stampEditor"});nr(this,ht);nr(this,st,null);nr(this,it,null);nr(this,at,null);nr(this,ot,null);nr(this,ct,null);nr(this,dt,null);nr(this,pt,null);nr(this,ut,null);nr(this,lt,!1);nr(this,ft,!1);tr(this,ot,Nt.bitmapUrl),tr(this,ct,Nt.bitmapFile)}static initialize(Nt){et.AnnotationEditor.initialize(Nt)}static get supportedTypes(){const Nt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,_e.shadow)(this,"supportedTypes",Nt.map(St=>`image/${St}`))}static get supportedTypesStr(){return(0,_e.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Nt){return this.supportedTypes.includes(Nt)}static paste(Nt,St){St.pasteEditor(_e.AnnotationEditorType.STAMP,{bitmapFile:Nt.getAsFile()})}remove(){var Nt,St;_t(this,it)&&(tr(this,st,null),this._uiManager.imageManager.deleteId(_t(this,it)),(Nt=_t(this,dt))==null||Nt.remove(),tr(this,dt,null),(St=_t(this,pt))==null||St.disconnect(),tr(this,pt,null)),super.remove()}rebuild(){if(!this.parent){_t(this,it)&&er(this,ht,Ps).call(this);return}super.rebuild(),this.div!==null&&(_t(this,it)&&er(this,ht,Ps).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,at)||_t(this,st)||_t(this,ot)||_t(this,ct))}get isResizable(){return!0}render(){if(this.div)return this.div;let Nt,St;if(this.width&&(Nt=this.x,St=this.y),super.render(),this.div.hidden=!0,_t(this,st)?er(this,ht,fo).call(this):er(this,ht,Ps).call(this),this.width){const[Ot,Pt]=this.parentDimensions;this.setAt(Nt*Ot,St*Pt,this.width*Ot,this.height*Pt)}return this.div}static deserialize(Nt,St,Ot){if(Nt instanceof rt.StampAnnotationElement)return null;const Pt=super.deserialize(Nt,St,Ot),{rect:wt,bitmapUrl:Dt,bitmapId:Vt,isSvg:It,accessibilityData:At}=Nt;Vt&&Ot.imageManager.isValidId(Vt)?tr(Pt,it,Vt):tr(Pt,ot,Dt),tr(Pt,lt,It);const[$t,Mt]=Pt.pageDimensions;return Pt.width=(wt[2]-wt[0])/$t,Pt.height=(wt[3]-wt[1])/Mt,At&&(Pt.altTextData=At),Pt}serialize(Nt=!1,St=null){if(this.isEmpty())return null;const Ot={annotationType:_e.AnnotationEditorType.STAMP,bitmapId:_t(this,it),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,lt),structTreeParentId:this._structTreeParentId};if(Nt)return Ot.bitmapUrl=er(this,ht,$s).call(this,!0),Ot.accessibilityData=this.altTextData,Ot;const{decorative:Pt,altText:wt}=this.altTextData;if(!Pt&&wt&&(Ot.accessibilityData={type:"Figure",alt:wt}),St===null)return Ot;St.stamps||(St.stamps=new Map);const Dt=_t(this,lt)?(Ot.rect[2]-Ot.rect[0])*(Ot.rect[3]-Ot.rect[1]):null;if(!St.stamps.has(_t(this,it)))St.stamps.set(_t(this,it),{area:Dt,serialized:Ot}),Ot.bitmap=er(this,ht,$s).call(this,!1);else if(_t(this,lt)){const Vt=St.stamps.get(_t(this,it));Dt>Vt.area&&(Vt.area=Dt,Vt.serialized.bitmap.close(),Vt.serialized.bitmap=er(this,ht,$s).call(this,!1))}return Ot}};st=new WeakMap,it=new WeakMap,at=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakSet,ds=function(Nt,St=!1){if(!Nt){this.remove();return}tr(this,st,Nt.bitmap),St||(tr(this,it,Nt.id),tr(this,lt,Nt.isSvg)),er(this,ht,fo).call(this)},ps=function(){tr(this,at,null),this._uiManager.enableWaiting(!1),_t(this,dt)&&this.div.focus()},Ps=function(){if(_t(this,it)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,it)).then(St=>er(this,ht,ds).call(this,St,!0)).finally(()=>er(this,ht,ps).call(this));return}if(_t(this,ot)){const St=_t(this,ot);tr(this,ot,null),this._uiManager.enableWaiting(!0),tr(this,at,this._uiManager.imageManager.getFromUrl(St).then(Ot=>er(this,ht,ds).call(this,Ot)).finally(()=>er(this,ht,ps).call(this)));return}if(_t(this,ct)){const St=_t(this,ct);tr(this,ct,null),this._uiManager.enableWaiting(!0),tr(this,at,this._uiManager.imageManager.getFromFile(St).then(Ot=>er(this,ht,ds).call(this,Ot)).finally(()=>er(this,ht,ps).call(this)));return}const Nt=document.createElement("input");Nt.type="file",Nt.accept=xt.supportedTypesStr,tr(this,at,new Promise(St=>{Nt.addEventListener("change",async()=>{if(!Nt.files||Nt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ot=await this._uiManager.imageManager.getFromFile(Nt.files[0]);er(this,ht,ds).call(this,Ot)}St()}),Nt.addEventListener("cancel",()=>{this.remove(),St()})}).finally(()=>er(this,ht,ps).call(this))),Nt.click()},fo=function(){const{div:Nt}=this;let{width:St,height:Ot}=_t(this,st);const[Pt,wt]=this.pageDimensions,Dt=.75;if(this.width)St=this.width*Pt,Ot=this.height*wt;else if(St>Dt*Pt||Ot>Dt*wt){const $t=Math.min(Dt*Pt/St,Dt*wt/Ot);St*=$t,Ot*=$t}const[Vt,It]=this.parentDimensions;this.setDims(St*Vt/Pt,Ot*It/wt),this._uiManager.enableWaiting(!1);const At=tr(this,dt,document.createElement("canvas"));Nt.append(At),Nt.hidden=!1,er(this,ht,ho).call(this,St,Ot),er(this,ht,Cl).call(this),_t(this,ft)||(this.parent.addUndoableEditor(this),tr(this,ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Sl=function(Nt,St){var Dt;const[Ot,Pt]=this.parentDimensions;this.width=Nt/Ot,this.height=St/Pt,this.setDims(Nt,St),(Dt=this._initialOptions)!=null&&Dt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,ut)!==null&&clearTimeout(_t(this,ut)),tr(this,ut,setTimeout(()=>{tr(this,ut,null),er(this,ht,ho).call(this,Nt,St)},200))},wl=function(Nt,St){const{width:Ot,height:Pt}=_t(this,st);let wt=Ot,Dt=Pt,Vt=_t(this,st);for(;wt>2*Nt||Dt>2*St;){const It=wt,At=Dt;wt>2*Nt&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2)),Dt>2*St&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2));const $t=new OffscreenCanvas(wt,Dt);$t.getContext("2d").drawImage(Vt,0,0,It,At,0,0,wt,Dt),Vt=$t.transferToImageBitmap()}return Vt},ho=function(Nt,St){Nt=Math.ceil(Nt),St=Math.ceil(St);const Ot=_t(this,dt);if(!Ot||Ot.width===Nt&&Ot.height===St)return;Ot.width=Nt,Ot.height=St;const Pt=_t(this,lt)?_t(this,st):er(this,ht,wl).call(this,Nt,St),wt=Ot.getContext("2d");wt.filter=this._uiManager.hcmFilter,wt.drawImage(Pt,0,0,Pt.width,Pt.height,0,0,Nt,St)},$s=function(Nt){if(Nt){if(_t(this,lt)){const Pt=this._uiManager.imageManager.getSvgUrl(_t(this,it));if(Pt)return Pt}const St=document.createElement("canvas");return{width:St.width,height:St.height}=_t(this,st),St.getContext("2d").drawImage(_t(this,st),0,0),St.toDataURL()}if(_t(this,lt)){const[St,Ot]=this.pageDimensions,Pt=Math.round(this.width*St*tt.PixelsPerInch.PDF_TO_CSS_UNITS),wt=Math.round(this.height*Ot*tt.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=new OffscreenCanvas(Pt,wt);return Dt.getContext("2d").drawImage(_t(this,st),0,0,_t(this,st).width,_t(this,st).height,0,0,Pt,wt),Dt.transferToImageBitmap()}return structuredClone(_t(this,st))},Cl=function(){tr(this,pt,new ResizeObserver(Nt=>{const St=Nt[0].contentRect;St.width&&St.height&&er(this,ht,Sl).call(this,St.width,St.height)})),_t(this,pt).observe(this.div)},Gr(xt,"_type","stamp");let nt=xt;_.StampEditor=nt}],__webpack_module_cache__={};function __w_pdfjs_require__(j){var _=__webpack_module_cache__[j];if(_!==void 0)return _.exports;var $=__webpack_module_cache__[j]={exports:{}};return __webpack_modules__[j]($,$.exports,__w_pdfjs_require__),$.exports}var __webpack_exports__={};return(()=>{var j=__webpack_exports__;Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AbortException",{enumerable:!0,get:function(){return _.AbortException}}),Object.defineProperty(j,"AnnotationEditorLayer",{enumerable:!0,get:function(){return tt.AnnotationEditorLayer}}),Object.defineProperty(j,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _.AnnotationEditorParamsType}}),Object.defineProperty(j,"AnnotationEditorType",{enumerable:!0,get:function(){return _.AnnotationEditorType}}),Object.defineProperty(j,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return rt.AnnotationEditorUIManager}}),Object.defineProperty(j,"AnnotationLayer",{enumerable:!0,get:function(){return nt.AnnotationLayer}}),Object.defineProperty(j,"AnnotationMode",{enumerable:!0,get:function(){return _.AnnotationMode}}),Object.defineProperty(j,"CMapCompressionType",{enumerable:!0,get:function(){return _.CMapCompressionType}}),Object.defineProperty(j,"DOMSVGFactory",{enumerable:!0,get:function(){return _e.DOMSVGFactory}}),Object.defineProperty(j,"FeatureTest",{enumerable:!0,get:function(){return _.FeatureTest}}),Object.defineProperty(j,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty(j,"ImageKind",{enumerable:!0,get:function(){return _.ImageKind}}),Object.defineProperty(j,"InvalidPDFException",{enumerable:!0,get:function(){return _.InvalidPDFException}}),Object.defineProperty(j,"MissingPDFException",{enumerable:!0,get:function(){return _.MissingPDFException}}),Object.defineProperty(j,"OPS",{enumerable:!0,get:function(){return _.OPS}}),Object.defineProperty(j,"PDFDataRangeTransport",{enumerable:!0,get:function(){return $.PDFDataRangeTransport}}),Object.defineProperty(j,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(j,"PDFWorker",{enumerable:!0,get:function(){return $.PDFWorker}}),Object.defineProperty(j,"PasswordResponses",{enumerable:!0,get:function(){return _.PasswordResponses}}),Object.defineProperty(j,"PermissionFlag",{enumerable:!0,get:function(){return _.PermissionFlag}}),Object.defineProperty(j,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(j,"PromiseCapability",{enumerable:!0,get:function(){return _.PromiseCapability}}),Object.defineProperty(j,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(j,"SVGGraphics",{enumerable:!0,get:function(){return $.SVGGraphics}}),Object.defineProperty(j,"UnexpectedResponseException",{enumerable:!0,get:function(){return _.UnexpectedResponseException}}),Object.defineProperty(j,"Util",{enumerable:!0,get:function(){return _.Util}}),Object.defineProperty(j,"VerbosityLevel",{enumerable:!0,get:function(){return _.VerbosityLevel}}),Object.defineProperty(j,"XfaLayer",{enumerable:!0,get:function(){return it.XfaLayer}}),Object.defineProperty(j,"build",{enumerable:!0,get:function(){return $.build}}),Object.defineProperty(j,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _.createValidAbsoluteUrl}}),Object.defineProperty(j,"getDocument",{enumerable:!0,get:function(){return $.getDocument}}),Object.defineProperty(j,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(j,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(j,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(j,"isDataScheme",{enumerable:!0,get:function(){return _e.isDataScheme}}),Object.defineProperty(j,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(j,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(j,"noContextMenu",{enumerable:!0,get:function(){return _e.noContextMenu}}),Object.defineProperty(j,"normalizeUnicode",{enumerable:!0,get:function(){return _.normalizeUnicode}}),Object.defineProperty(j,"renderTextLayer",{enumerable:!0,get:function(){return et.renderTextLayer}}),Object.defineProperty(j,"setLayerDimensions",{enumerable:!0,get:function(){return _e.setLayerDimensions}}),Object.defineProperty(j,"shadow",{enumerable:!0,get:function(){return _.shadow}}),Object.defineProperty(j,"updateTextLayer",{enumerable:!0,get:function(){return et.updateTextLayer}}),Object.defineProperty(j,"version",{enumerable:!0,get:function(){return $.version}});var _=__w_pdfjs_require__(1),$=__w_pdfjs_require__(2),_e=__w_pdfjs_require__(6),et=__w_pdfjs_require__(26),tt=__w_pdfjs_require__(27),rt=__w_pdfjs_require__(5),nt=__w_pdfjs_require__(29),st=__w_pdfjs_require__(14),it=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;function PDFViewer({fileUrl:j,fileName:_}){const[$,_e]=reactExports.useState(!0),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(0),[at,ot]=reactExports.useState(.8),[ct,dt]=reactExports.useState(0),[pt,ut]=reactExports.useState([]),lt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{_e(!0),tt(null),console.log("Loading PDF from:",j),pdfExports.getDocument(j).promise.then(async Et=>{console.log("PDF loaded successfully, pages:",Et.numPages),nt(Et),it(Et.numPages);const Rt=[];for(let Tt=1;Tt<=Et.numPages;Tt++){const jt=await Et.getPage(Tt);Rt.push(jt)}ut(Rt),_e(!1)},Et=>{console.error("Error loading PDF:",Et),tt("Failed to load PDF document"),_e(!1)})}catch(mt){console.error("Error in loadPDF:",mt),tt("Failed to initialize PDF viewer"),_e(!1)}})()},[j]),reactExports.useEffect(()=>{if(!rt||pt.length===0)return;(async()=>{try{for(let mt=0;mt<pt.length;mt++){const Et=pt[mt],Rt=document.getElementById(`pdf-canvas-${mt}`);if(!Rt)continue;const Tt=Rt.getContext("2d");if(!Tt)continue;const jt=Et.getViewport({scale:at,rotation:ct});Rt.height=jt.height,Rt.width=jt.width;const xt={canvasContext:Tt,viewport:jt};await Et.render(xt).promise}console.log(`Rendered all ${st} pages in continuous mode`)}catch(mt){console.error("Error rendering pages:",mt)}})()},[rt,at,ct,pt,st]);const ft=()=>{at<3&&ot(at+.25)},ht=()=>{at>.5&&ot(at-.25)},yt=()=>{dt((ct+90)%360)},vt=()=>{ot(.8),dt(0)},gt=()=>{window.open(j,"_blank")};return et?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:et}),jsxRuntimeExports.jsx(Button$1,{onClick:gt,className:"mt-4",children:"Download PDF Instead"})]})}):jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:jsxRuntimeExports.jsx("span",{className:"font-medium text-sm truncate",title:_,children:_})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:ht,disabled:at<=.5,children:jsxRuntimeExports.jsx(ZoomOut,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-xs px-2",children:[Math.round(at*100),"%"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:ft,disabled:at>=3,children:jsxRuntimeExports.jsx(ZoomIn,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:yt,children:jsxRuntimeExports.jsx(RotateCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:vt,children:"Reset"}),jsxRuntimeExports.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:gt,children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx("div",{children:$?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-[600px]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Loading PDF document..."})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("div",{ref:lt,className:"overflow-auto max-h-[600px] bg-gray-100 dark:bg-gray-800",style:{overflowX:"auto"},children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-4",children:pt.map((bt,mt)=>jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("canvas",{id:`pdf-canvas-${mt}`,className:"shadow-lg border border-gray-300 dark:border-gray-600 bg-white"})},mt))})})})})})]})}function DocumentViewer({file:j}){var tt;const _=`/api/documents/${j.id}/file`,$=j.fileName||j.originalFileName||"Unknown",_e=j.mimeType||j.fileType||"",et=((tt=$.split(".").pop())==null?void 0:tt.toLowerCase())||"";return _e.includes("pdf")||et==="pdf"?jsxRuntimeExports.jsx(PDFViewer,{fileUrl:_,fileName:$}):_e.startsWith("image/")||["jpg","jpeg","png","gif","webp","svg"].includes(et)?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileImage,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm truncate",children:$}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:et.toUpperCase()})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Open in New Tab"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative group inline-block",children:[jsxRuntimeExports.jsx("img",{src:_,alt:$,className:"h-auto max-h-[600px] rounded-lg shadow-md",onError:rt=>{var nt;console.error("Failed to load image:",$),rt.currentTarget.style.display="none",(nt=rt.currentTarget.nextElementSibling)==null||nt.classList.remove("hidden")}}),jsxRuntimeExports.jsxs("div",{className:"hidden text-center py-12 text-gray-600",children:[jsxRuntimeExports.jsx(FileImage,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"font-medium mb-2",children:"Image Preview Not Available"}),jsxRuntimeExports.jsx(Button$1,{asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Open Image in New Tab"})})]})]})})]}):_e.includes("text")||et==="txt"?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm truncate",children:$}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:et.toUpperCase()})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Open in New Tab"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-auto max-h-[500px]",children:jsxRuntimeExports.jsx("iframe",{src:_,className:"w-full h-[400px] border-0 rounded",title:$,onError:rt=>{console.error("Failed to load text file:",$),rt.currentTarget.style.display="none"}})})]}):["doc","docx","xls","xlsx","ppt","pptx"].includes(et)?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm truncate",children:$}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:et.toUpperCase()})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,download:$,children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Open in New Tab"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full",style:{height:"600px"},children:[jsxRuntimeExports.jsx("object",{data:_,type:_e,className:"w-full h-full",onError:rt=>{console.error("Failed to load Office document:",$),rt.currentTarget.style.display="none";const nt=rt.currentTarget.nextElementSibling;nt&&nt.classList.remove("hidden")},children:jsxRuntimeExports.jsx("embed",{src:_,type:_e,className:"w-full h-full"})}),jsxRuntimeExports.jsx("div",{className:"hidden flex items-center justify-center h-full bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-16 w-16 mx-auto mb-4 text-green-500"}),jsxRuntimeExports.jsxs("h3",{className:"font-medium text-lg mb-2",children:[et.toUpperCase()," Document"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This document cannot be displayed inline. Please download or open in a new tab."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button$1,{asChild:!0,className:"w-full",children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Open in New Tab"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",asChild:!0,className:"w-full",children:jsxRuntimeExports.jsxs("a",{href:_,download:$,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Download"]})})]})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-900 border rounded-lg shadow-sm p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(File,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-lg mb-2",children:$}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"mb-4",children:[et.toUpperCase()," File"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Preview not available for this file type"}),jsxRuntimeExports.jsx(Button$1,{asChild:!0,children:jsxRuntimeExports.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:"Download File"})})]})})}function DocumentPreviewModal({open:j,onOpenChange:_,document:$}){if(!$)return null;const _e=nt=>{if(!nt||nt===0)return"0 Bytes";const st=1024,it=["Bytes","KB","MB","GB"],at=Math.floor(Math.log(nt)/Math.log(st));return Math.round(nt/Math.pow(st,at)*100)/100+" "+it[at]},et=nt=>nt?new Date(nt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",tt=nt=>nt?nt.split("_").map(st=>st.charAt(0).toUpperCase()+st.slice(1)).join(" "):"Document",rt=()=>{const nt=`/api/documents/${$.id}/file`,st=window.document.createElement("a");st.href=nt,st.download=$.fileName||$.originalFileName||"document",window.document.body.appendChild(st),st.click(),window.document.body.removeChild(st)};return jsxRuntimeExports.jsx(Dialog,{open:j,onOpenChange:_,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-5xl h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(DialogHeader,{className:"flex-shrink-0 pb-4 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:$.fileName||$.originalFileName||$.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:rt,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"preview",className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"preview",children:"Preview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"details",children:"Details"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"preview",className:"mt-4 flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"h-full",children:jsxRuntimeExports.jsx(DocumentViewer,{file:{id:Number($.id),fileName:$.fileName,originalFileName:$.originalFileName,mimeType:$.mimeType,fileType:$.fileType}})})}),jsxRuntimeExports.jsx(TabsContent,{value:"details",className:"mt-4 flex-1 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"px-2 pb-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-slate-700",children:"File Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"File Name"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:$.fileName||$.originalFileName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"File Type"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:$.mimeType||$.fileType||"N/A"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"File Size"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:_e($.fileSize)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Document Type"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:tt($.category||$.documentType)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-slate-700",children:"Upload Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Uploaded By"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mr-1"}),$.uploadedBy||"Unknown"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Upload Date"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"w-4 h-4 mr-1"}),et($.uploadedAt||$.createdAt)]})]}),$.loanId&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Loan ID"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center",children:[jsxRuntimeExports.jsx(Hash$2,{className:"w-4 h-4 mr-1"}),$.loanId]})]}),$.borrowerId&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Borrower ID"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mr-1"}),$.borrowerId]})]})]})]}),$.description&&jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:$.description})]}),$.notes&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-blue-700",children:"AI Extraction Data"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-64 w-full rounded border border-blue-200 bg-white",children:jsxRuntimeExports.jsx("div",{className:"p-3",children:jsxRuntimeExports.jsx("pre",{className:"text-xs text-blue-600 font-mono whitespace-pre-wrap break-words",children:typeof $.notes=="string"?$.notes:JSON.stringify($.notes,null,2)})})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>_(!1),children:"Close"}),jsxRuntimeExports.jsxs(Button$1,{onClick:rt,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download File"]})]})]})})]})]})})}function LoanAccountingLedger({loanId:j,loanAmount:_}){const{toast:$}=useToast(),[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(null),[ot,ct]=reactExports.useState({email:"",name:"",format:"pdf"}),[dt,pt]=reactExports.useState(null),[ut,lt]=reactExports.useState({transactionDate:new Date().toISOString().split("T")[0],description:"",transactionType:"payment",category:"",amount:"",notes:"",feeId:""}),{data:ft=[],isLoading:ht,refetch:yt}=useQuery({queryKey:[`/api/loans/${j}/ledger`],enabled:!!j}),{data:vt=[]}=useQuery({queryKey:["/api/fees/templates"],enabled:!!j}),gt=Array.isArray(vt)?vt.flatMap(Nt=>Array.isArray(Nt.fees)?Nt.fees:[]):[],bt=useMutation({mutationFn:Nt=>apiRequest(`/api/loans/${j}/ledger`,{method:"POST",body:JSON.stringify(Nt)}),onSuccess:()=>{$({title:"Transaction added",description:"The transaction has been recorded in the ledger."}),et(!1),yt(),Tt()},onError:Nt=>{console.error("Transaction add error:",Nt),$({title:"Error",description:"Failed to add transaction. Please check the console for details.",variant:"destructive"})}}),mt=useMutation({mutationFn:({id:Nt,notes:St})=>apiRequest(`/api/ledger/${Nt}/approve`,{method:"POST",body:JSON.stringify({approvalNotes:St})}),onSuccess:()=>{$({title:"Transaction approved",description:"The transaction has been posted to the ledger."}),rt(!1),yt()}}),Et=async Nt=>{try{const St=await fetch(`/api/loans/${j}/ledger/export/${Nt}`,{credentials:"include"});if(!St.ok)throw new Error("Export failed");const Ot=await St.blob(),Pt=window.URL.createObjectURL(Ot),wt=document.createElement("a");wt.href=Pt,wt.download=`loan-${j}-ledger.${Nt}`,wt.click(),window.URL.revokeObjectURL(Pt),$({title:"Export successful",description:`Ledger exported as ${Nt.toUpperCase()}`})}catch{$({title:"Export failed",description:"Failed to export ledger.",variant:"destructive"})}},Rt=useMutation({mutationFn:Nt=>apiRequest(`/api/loans/${j}/ledger/email`,{method:"POST",body:JSON.stringify(Nt)}),onSuccess:()=>{$({title:"Email sent",description:"Ledger report has been emailed successfully."}),st(!1),ct({email:"",name:"",format:"pdf"})},onError:()=>{$({title:"Email failed",description:"Failed to send ledger report. Please check if email service is configured.",variant:"destructive"})}}),Tt=()=>{lt({transactionDate:new Date().toISOString().split("T")[0],description:"",transactionType:"payment",category:"",amount:"",notes:"",feeId:""}),pt(null)},xt=(()=>{const Nt=Array.isArray(ft)?ft:[];if(Nt.length===0)return{totalDebits:0,totalCredits:0,currentBalance:_||0,principalBalance:_||0,pendingCount:0};const St=Nt[Nt.length-1],Ot=Nt.reduce((Dt,Vt)=>Dt+parseFloat(Vt.debitAmount||0),0),Pt=Nt.reduce((Dt,Vt)=>Dt+parseFloat(Vt.creditAmount||0),0),wt=Nt.filter(Dt=>Dt.status==="pending_approval").length;return{totalDebits:Ot,totalCredits:Pt,currentBalance:parseFloat((St==null?void 0:St.runningBalance)||_||0),principalBalance:parseFloat((St==null?void 0:St.principalBalance)||_||0),pendingCount:wt}})(),Ct=Nt=>{const Ot={principal:{color:"bg-green-50",label:"Principal"},interest:{color:"bg-purple-50",label:"Interest"},fee:{color:"bg-yellow-50",label:"Fee"},payment:{color:"bg-blue-50",label:"Payment"},escrow:{color:"bg-indigo-50",label:"Escrow"},penalty:{color:"bg-red-50",label:"Penalty"},reversal:{color:"bg-orange-50",label:"Reversal"}}[Nt]||{color:"bg-gray-50",label:Nt};return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:Ot.color,children:Ot.label})},kt=Nt=>{switch(Nt){case"posted":return jsxRuntimeExports.jsx(Badge,{className:"bg-green-500",children:"Posted"});case"pending_approval":return jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Pending Approval"});case"reversed":return jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:"Reversed"});default:return jsxRuntimeExports.jsx(Badge,{variant:"outline",children:Nt})}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5"}),"General Ledger"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Complete transaction history with debit/credit entries and running balance"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>et(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Transaction"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>Et("csv"),children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>Et("pdf"),children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>st(!0),children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 mr-2"}),"Email Report"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Current Balance"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:["$",xt.currentBalance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),jsxRuntimeExports.jsx("div",{className:"border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-gray-50",children:[jsxRuntimeExports.jsx(TableHead,{className:"w-24",children:"Date"}),jsxRuntimeExports.jsx(TableHead,{className:"w-32",children:"Transaction ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Description"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Type"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Debit"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Credit"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right font-bold",children:"Balance"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"w-20",children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:ht?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:9,className:"text-center py-8",children:"Loading ledger entries..."})}):!Array.isArray(ft)||ft.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No transactions recorded yet"})}):ft.map(Nt=>jsxRuntimeExports.jsxs(TableRow,{className:Nt.status==="pending_approval"?"bg-yellow-50":"",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:new Date(Nt.transactionDate).toLocaleDateString()}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:Nt.transactionId}),jsxRuntimeExports.jsx(TableCell,{children:Nt.description}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:Ct(Nt.transactionType)}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-mono text-red-600",children:Nt.debitAmount?`$${parseFloat(Nt.debitAmount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-mono text-green-600",children:Nt.creditAmount?`$${parseFloat(Nt.creditAmount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"}),jsxRuntimeExports.jsxs(TableCell,{className:"text-right font-mono font-bold",children:["$",parseFloat(Nt.runningBalance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:kt(Nt.status)}),jsxRuntimeExports.jsx(TableCell,{children:Nt.status==="pending_approval"?jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{at(Nt),rt(!0)},children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}):jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",disabled:!0,children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})})]},Nt.id))})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-5 gap-4 mt-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Total Debits"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-red-600",children:["$",xt.totalDebits.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Total Credits"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",xt.totalCredits.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Principal Balance"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["$",xt.principalBalance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Pending Transactions"}),jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-yellow-600",children:xt.pendingCount})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Current Balance"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold",children:["$",xt.currentBalance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Info,{className:"h-5 w-5 text-blue-500 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-900",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-1",children:"Non-Destructive Accounting Policy"}),jsxRuntimeExports.jsx("p",{children:"All corrections are made through reversing entries. Original transactions cannot be deleted. Deletions require senior officer approval and are logged in the audit trail."})]})]})})]})]}),jsxRuntimeExports.jsx(Dialog,{open:_e,onOpenChange:et,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add Transaction"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Record a new transaction in the loan ledger"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"transactionDate",children:"Transaction Date"}),jsxRuntimeExports.jsx(Input,{id:"transactionDate",type:"date",value:ut.transactionDate,onChange:Nt=>lt({...ut,transactionDate:Nt.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"transactionType",children:"Transaction Type"}),jsxRuntimeExports.jsxs(Select,{value:ut.transactionType,onValueChange:Nt=>{lt({...ut,transactionType:Nt,feeId:""}),pt(null)},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"principal",children:"Principal"}),jsxRuntimeExports.jsx(SelectItem,{value:"interest",children:"Interest"}),jsxRuntimeExports.jsx(SelectItem,{value:"fee",children:"Fee"}),jsxRuntimeExports.jsx(SelectItem,{value:"payment",children:"Payment"}),jsxRuntimeExports.jsx(SelectItem,{value:"escrow",children:"Escrow"}),jsxRuntimeExports.jsx(SelectItem,{value:"penalty",children:"Penalty"}),jsxRuntimeExports.jsx(SelectItem,{value:"reversal",children:"Reversal"})]})]})]})]}),ut.transactionType==="fee"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"feeSelection",children:"Select Fee from Schedule"}),jsxRuntimeExports.jsxs(Select,{value:ut.feeId,onValueChange:Nt=>{const St=gt.find(Ot=>Ot.name===Nt);St&&(pt(St),lt({...ut,feeId:Nt,description:`${St.name} - ${St.type}`,amount:`-${St.amount}`}))},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a fee from the schedule"})}),jsxRuntimeExports.jsx(SelectContent,{children:gt.length===0?jsxRuntimeExports.jsx(SelectItem,{value:"none",disabled:!0,children:"No fees in schedule"}):gt.map((Nt,St)=>jsxRuntimeExports.jsxs(SelectItem,{value:Nt.name,children:[Nt.name," - $",parseFloat(Nt.amount).toFixed(2)," (",Nt.type,")",Nt.note&&` - ${Nt.note}`]},St))})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-blue-50 rounded-md text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:dt.name}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Type: ",dt.type]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Amount: $",parseFloat(dt.amount).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Frequency: ",dt.frequency]}),dt.note&&jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Note: ",dt.note]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"description",children:"Description"}),jsxRuntimeExports.jsx(Input,{id:"description",value:ut.description,onChange:Nt=>lt({...ut,description:Nt.target.value}),placeholder:"Enter transaction description"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"amount",children:"Amount"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"amount",type:"number",step:"0.01",value:ut.amount,onChange:Nt=>lt({...ut,amount:Nt.target.value}),placeholder:"Enter amount (negative for debit, positive for credit)",className:"flex-1"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 w-48",children:ut.amount&&(parseFloat(ut.amount)<0?jsxRuntimeExports.jsxs("span",{className:"text-red-600",children:["Debit: $",Math.abs(parseFloat(ut.amount)).toFixed(2)]}):jsxRuntimeExports.jsxs("span",{className:"text-green-600",children:["Credit: $",parseFloat(ut.amount).toFixed(2)]}))})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Use negative numbers for debits (charges) and positive for credits (payments/deposits)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"notes",value:ut.notes,onChange:Nt=>lt({...ut,notes:Nt.target.value}),placeholder:"Optional notes about this transaction",rows:3})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>et(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{const Nt=parseFloat(ut.amount),St={...ut,debitAmount:Nt<0?Math.abs(Nt).toFixed(2):"",creditAmount:Nt>0?Nt.toFixed(2):""},{amount:Ot,...Pt}=St;console.log("Sending transaction data:",Pt),bt.mutate(Pt)},disabled:!ut.description||!ut.amount,children:"Add Transaction"})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:tt,onOpenChange:rt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Approve Transaction"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Review and approve this pending transaction"})]}),it&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Transaction Details"}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ID:"})," ",it.transactionId]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",it.description]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Amount:"}),it.debitAmount&&` Debit: $${it.debitAmount}`,it.creditAmount&&` Credit: $${it.creditAmount}`]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",it.transactionType]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"approvalNotes",children:"Approval Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"approvalNotes",placeholder:"Enter approval notes (optional)",rows:3})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>rt(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{var St;const Nt=((St=document.getElementById("approvalNotes"))==null?void 0:St.value)||"";mt.mutate({id:it.id,notes:Nt})},children:"Approve & Post"})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:nt,onOpenChange:st,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Email Ledger Report"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Send the ledger report to a contact via email"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"recipientEmail",children:"Recipient Email"}),jsxRuntimeExports.jsx(Input,{id:"recipientEmail",type:"email",value:ot.email,onChange:Nt=>ct({...ot,email:Nt.target.value}),placeholder:"recipient@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"recipientName",children:"Recipient Name"}),jsxRuntimeExports.jsx(Input,{id:"recipientName",value:ot.name,onChange:Nt=>ct({...ot,name:Nt.target.value}),placeholder:"John Doe"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"format",children:"Report Format"}),jsxRuntimeExports.jsxs(Select,{value:ot.format,onValueChange:Nt=>ct({...ot,format:Nt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select format"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"pdf",children:"PDF"}),jsxRuntimeExports.jsx(SelectItem,{value:"csv",children:"CSV"})]})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>st(!1),children:"Cancel"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>Rt.mutate({recipientEmail:ot.email,recipientName:ot.name,format:ot.format}),disabled:!ot.email||!ot.name,children:[jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})})]})}function LoanInvestorsManager({loanId:j}){const{toast:_}=useToast(),[$,_e]=reactExports.useState(!1),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState({entityType:"individual",ownershipPercentage:0,investmentAmount:0,accountType:"checking"}),[st,it]=reactExports.useState({}),[at,ot]=reactExports.useState({}),{data:ct}=useQuery({queryKey:[`/api/loans/${j}`],enabled:!!j}),{data:dt=[],isLoading:pt,refetch:ut}=useQuery({queryKey:[`/api/loans/${j}/investors`],enabled:!!j}),lt=dt.reduce((jt,xt)=>{var Ct;return jt+parseFloat(((Ct=xt.ownershipPercentage)==null?void 0:Ct.toString())||"0")},0),ft=jt=>ct!=null&&ct.loanAmount?parseFloat(ct.loanAmount)*jt/100:0,ht=useMutation({mutationFn:async jt=>{const xt=await fetch(`/api/loans/${j}/investors`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(jt)});if(!xt.ok)throw new Error("Failed to create investor");return xt.json()},onSuccess:()=>{_({title:"Success",description:"Investor added successfully"}),queryClient.invalidateQueries({queryKey:[`/api/loans/${j}/investors`]}),bt()},onError:jt=>{_({title:"Error",description:"Failed to add investor",variant:"destructive"})}}),yt=useMutation({mutationFn:async({id:jt,data:xt})=>{const{createdAt:Ct,updatedAt:kt,...Nt}=xt,St={...Nt,investmentDate:Nt.investmentDate?typeof Nt.investmentDate=="string"?Nt.investmentDate:new Date(Nt.investmentDate).toISOString().split("T")[0]:void 0},Ot=await fetch(`/api/investors/${jt}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(St)});if(!Ot.ok)throw new Error("Failed to update investor");return Ot.json()},onSuccess:()=>{_({title:"Success",description:"Investor updated successfully"}),queryClient.invalidateQueries({queryKey:[`/api/loans/${j}/investors`]}),bt()},onError:jt=>{_({title:"Error",description:"Failed to update investor",variant:"destructive"})}}),vt=useMutation({mutationFn:async jt=>{const xt=await fetch(`/api/investors/${jt}`,{method:"DELETE"});if(!xt.ok)throw new Error("Failed to delete investor");return xt.json()},onSuccess:()=>{_({title:"Success",description:"Investor removed successfully"}),queryClient.invalidateQueries({queryKey:[`/api/loans/${j}/investors`]})},onError:jt=>{_({title:"Error",description:"Failed to remove investor",variant:"destructive"})}}),gt=jt=>{var xt;if(jt){tt(jt);const Ct=parseFloat(((xt=jt.ownershipPercentage)==null?void 0:xt.toString())||"0"),kt=ft(Ct);nt({...jt,ownershipPercentage:Ct,investmentAmount:kt})}else{tt(null);const Ct={entityType:"individual",ownershipPercentage:0,accountType:"checking",investmentDate:(ct==null?void 0:ct.originationDate)||new Date().toISOString().split("T")[0],investmentAmount:0};nt(Ct)}_e(!0)},bt=()=>{_e(!1),tt(null),nt({entityType:"individual",ownershipPercentage:0,investmentAmount:0,accountType:"checking"}),it({})},mt=()=>{var kt;const jt={};if(rt.name||(jt.name="Name is required"),(!rt.ownershipPercentage||rt.ownershipPercentage===0)&&(jt.ownershipPercentage="Ownership percentage is required"),Object.keys(jt).length>0){it(jt),_({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}it({});const xt=ft(rt.ownershipPercentage||0),Ct={...rt,investmentAmount:xt.toString(),ownershipPercentage:(kt=rt.ownershipPercentage)==null?void 0:kt.toString()};et?yt.mutate({id:et.id,data:Ct}):ht.mutate(Ct)},Et=jt=>{confirm("Are you sure you want to remove this investor?")&&vt.mutate(jt)},Rt=(jt,xt)=>{if(jt==="ownershipPercentage"){const Ct=parseFloat(xt)||0,kt=ft(Ct);nt(Nt=>({...Nt,ownershipPercentage:Ct,investmentAmount:kt}))}else nt(Ct=>({...Ct,[jt]:xt}))},Tt=()=>lt===100?"text-green-600 bg-green-50 border-green-200":"text-red-600 bg-red-50 border-red-200 animate-pulse";return pt?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"Investor Management"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage investor ownership percentages and banking information"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>gt(),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Investor"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border-2 ${Tt()}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[lt===100?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Total Ownership:"})]}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold",children:[lt.toFixed(2),"%"]})]}),lt!==100&&jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:lt<100?`Missing ${(100-lt).toFixed(2)}% ownership allocation`:`Exceeds 100% by ${(lt-100).toFixed(2)}%`})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Current Investors"})}),jsxRuntimeExports.jsx(CardContent,{children:dt.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:'No investors added yet. Click "Add Investor" to get started.'}):jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Investor ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Ownership %"}),jsxRuntimeExports.jsx(TableHead,{children:"Investment Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Banking Info"}),jsxRuntimeExports.jsx(TableHead,{children:"Contact"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dt.map(jt=>{var xt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm cursor-pointer text-blue-600 underline",onClick:()=>gt(jt),children:jt.investorId}),jsxRuntimeExports.jsx(TableCell,{className:"cursor-pointer",onClick:()=>gt(jt),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-600 underline",children:jt.name}),jt.contactName&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:jt.contactName})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:jt.entityType})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs(Badge,{className:jt.ownershipPercentage>0?"bg-blue-100 text-blue-800":"",children:[parseFloat(((xt=jt.ownershipPercentage)==null?void 0:xt.toString())||"0").toFixed(2),"%"]})}),jsxRuntimeExports.jsx(TableCell,{children:jt.investmentAmount?jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["$",parseFloat(jt.investmentAmount.toString()).toLocaleString()]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"-"})}),jsxRuntimeExports.jsx(TableCell,{children:jt.bankName?jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:jt.bankName}),jt.accountType&&jsxRuntimeExports.jsx("p",{className:"text-gray-500 capitalize",children:jt.accountType})]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Not provided"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jt.email&&jsxRuntimeExports.jsxs("p",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"h-3 w-3"}),jt.email]}),jt.phone&&jsxRuntimeExports.jsxs("p",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Phone,{className:"h-3 w-3"}),jt.phone]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>gt(jt),children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"destructive",size:"sm",onClick:()=>Et(jt.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},jt.id)})})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:$,onOpenChange:_e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:et?"Edit Investor":"Add New Investor"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Enter investor details including ownership percentage and banking information"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),"Basic Information"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"entityType",children:"Entity Type *"}),jsxRuntimeExports.jsxs(Select,{value:rt.entityType,onValueChange:jt=>Rt("entityType",jt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"individual",children:"Individual"}),jsxRuntimeExports.jsx(SelectItem,{value:"corporation",children:"Corporation"}),jsxRuntimeExports.jsx(SelectItem,{value:"llc",children:"LLC"}),jsxRuntimeExports.jsx(SelectItem,{value:"partnership",children:"Partnership"}),jsxRuntimeExports.jsx(SelectItem,{value:"trust",children:"Trust"}),jsxRuntimeExports.jsx(SelectItem,{value:"estate",children:"Estate"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{htmlFor:"name",children:[rt.entityType==="individual"?"Name":"Entity Name"," ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx(Input,{id:"name",value:rt.name||"",onChange:jt=>Rt("name",jt.target.value),placeholder:rt.entityType==="individual"?"John Doe":"ABC Corporation",className:st.name?"border-red-500":""}),st.name&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:st.name})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"ssnOrEin",children:rt.entityType==="individual"?"SSN":"EIN"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"ssnOrEin",type:at.ssnOrEin?"text":"password",value:rt.ssnOrEin||"",onChange:jt=>Rt("ssnOrEin",jt.target.value),placeholder:rt.entityType==="individual"?"123-45-6789":"12-3456789",className:"pr-10"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>ot(jt=>({...jt,ssnOrEin:!jt.ssnOrEin})),children:at.ssnOrEin?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]}),rt.entityType!=="individual"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"contactName",children:"Contact Person"}),jsxRuntimeExports.jsx(Input,{id:"contactName",value:rt.contactName||"",onChange:jt=>Rt("contactName",jt.target.value),placeholder:"Jane Smith"})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Percent,{className:"h-4 w-4"}),"Investment Details"]}),(ct==null?void 0:ct.loanAmount)&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:["Total Loan Amount: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:["$",parseFloat(ct.loanAmount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{htmlFor:"ownershipPercentage",children:["Ownership Percentage ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx(Input,{id:"ownershipPercentage",type:"number",min:"0",max:"100",step:"0.01",value:rt.ownershipPercentage||"",onChange:jt=>Rt("ownershipPercentage",jt.target.value),placeholder:"25.00",className:st.ownershipPercentage?"border-red-500":""}),st.ownershipPercentage&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:st.ownershipPercentage})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"investmentAmount",children:"Investment Amount (Calculated)"}),jsxRuntimeExports.jsx(Input,{id:"investmentAmount",type:"text",value:`$${(rt.investmentAmount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,readOnly:!0,disabled:!0,className:"bg-gray-100 cursor-not-allowed",title:"Automatically calculated based on ownership percentage"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"investmentDate",children:"Investment Date"}),jsxRuntimeExports.jsx(Input,{id:"investmentDate",type:"date",value:rt.investmentDate||"",onChange:jt=>Rt("investmentDate",jt.target.value)})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"}),"Contact Information"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:rt.email||"",onChange:jt=>Rt("email",jt.target.value),placeholder:"investor@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"phone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"phone",value:rt.phone||"",onChange:jt=>Rt("phone",jt.target.value),placeholder:"(555) 123-4567"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"streetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"streetAddress",value:rt.streetAddress||"",onChange:jt=>Rt("streetAddress",jt.target.value),placeholder:"123 Main St"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"city",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"city",value:rt.city||"",onChange:jt=>Rt("city",jt.target.value),placeholder:"San Francisco"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"state",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"state",value:rt.state||"",onChange:jt=>Rt("state",jt.target.value),placeholder:"CA",maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"zipCode",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"zipCode",value:rt.zipCode||"",onChange:jt=>Rt("zipCode",jt.target.value),placeholder:"94105"})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Landmark,{className:"h-4 w-4"}),"Banking Information"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankName",children:"Bank Name"}),jsxRuntimeExports.jsx(Input,{id:"bankName",value:rt.bankName||"",onChange:jt=>Rt("bankName",jt.target.value),placeholder:"First National Bank"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"accountType",children:"Account Type"}),jsxRuntimeExports.jsxs(Select,{value:rt.accountType||"checking",onValueChange:jt=>Rt("accountType",jt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"checking",children:"Checking"}),jsxRuntimeExports.jsx(SelectItem,{value:"savings",children:"Savings"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"accountNumber",children:"Account Number"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"accountNumber",type:at.accountNumber?"text":"password",value:rt.accountNumber||"",onChange:jt=>Rt("accountNumber",jt.target.value),placeholder:"****1234",className:"pr-10"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>ot(jt=>({...jt,accountNumber:!jt.accountNumber})),children:at.accountNumber?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"routingNumber",children:"Routing Number"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"routingNumber",type:at.routingNumber?"text":"password",value:rt.routingNumber||"",onChange:jt=>Rt("routingNumber",jt.target.value),placeholder:"123456789",className:"pr-10"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>ot(jt=>({...jt,routingNumber:!jt.routingNumber})),children:at.routingNumber?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankStreetAddress",children:"Bank Street Address"}),jsxRuntimeExports.jsx(Input,{id:"bankStreetAddress",value:rt.bankStreetAddress||"",onChange:jt=>Rt("bankStreetAddress",jt.target.value),placeholder:"456 Bank Ave"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankCity",children:"Bank City"}),jsxRuntimeExports.jsx(Input,{id:"bankCity",value:rt.bankCity||"",onChange:jt=>Rt("bankCity",jt.target.value),placeholder:"New York"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankState",children:"Bank State"}),jsxRuntimeExports.jsx(Input,{id:"bankState",value:rt.bankState||"",onChange:jt=>Rt("bankState",jt.target.value),placeholder:"NY",maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankZipCode",children:"Bank Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"bankZipCode",value:rt.bankZipCode||"",onChange:jt=>Rt("bankZipCode",jt.target.value),placeholder:"10001"})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Additional Notes"}),jsxRuntimeExports.jsx(Textarea,{value:rt.notes||"",onChange:jt=>Rt("notes",jt.target.value),placeholder:"Any additional notes about this investor...",rows:3})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:bt,children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:mt,disabled:ht.isPending||yt.isPending,children:ht.isPending||yt.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):et?"Update Investor":"Add Investor"})]})]})})]})}var isCheckBoxInput=j=>j.type==="checkbox",isDateObject=j=>j instanceof Date,isNullOrUndefined=j=>j==null;const isObjectType=j=>typeof j=="object";var isObject$9=j=>!isNullOrUndefined(j)&&!Array.isArray(j)&&isObjectType(j)&&!isDateObject(j),getEventValue=j=>isObject$9(j)&&j.target?isCheckBoxInput(j.target)?j.target.checked:j.target.value:j,getNodeParentName=j=>j.substring(0,j.search(/\.\d+(\.|$)/))||j,isNameInFieldArray=(j,_)=>j.has(getNodeParentName(_)),isPlainObject$2=j=>{const _=j.constructor&&j.constructor.prototype;return isObject$9(_)&&_.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(j){let _;const $=Array.isArray(j),_e=typeof FileList<"u"?j instanceof FileList:!1;if(j instanceof Date)_=new Date(j);else if(j instanceof Set)_=new Set(j);else if(!(isWeb&&(j instanceof Blob||_e))&&($||isObject$9(j)))if(_=$?[]:{},!$&&!isPlainObject$2(j))_=j;else for(const et in j)j.hasOwnProperty(et)&&(_[et]=cloneObject(j[et]));else return j;return _}var compact=j=>Array.isArray(j)?j.filter(Boolean):[],isUndefined=j=>j===void 0,get$3=(j,_,$)=>{if(!_||!isObject$9(j))return $;const _e=compact(_.split(/[,[\].]+?/)).reduce((et,tt)=>isNullOrUndefined(et)?et:et[tt],j);return isUndefined(_e)||_e===j?isUndefined(j[_])?$:j[_]:_e},isBoolean$2=j=>typeof j=="boolean",isKey$4=j=>/^\w*$/.test(j),stringToPath$2=j=>compact(j.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(j,_,$)=>{let _e=-1;const et=isKey$4(_)?[_]:stringToPath$2(_),tt=et.length,rt=tt-1;for(;++_e<tt;){const nt=et[_e];let st=$;if(_e!==rt){const it=j[nt];st=isObject$9(it)||Array.isArray(it)?it:isNaN(+et[_e+1])?{}:[]}if(nt==="__proto__"||nt==="constructor"||nt==="prototype")return;j[nt]=st,j=j[nt]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React.createContext(null),useFormContext=()=>React.useContext(HookFormContext),FormProvider=j=>{const{children:_,...$}=j;return React.createElement(HookFormContext.Provider,{value:$},_)};var getProxyFormState=(j,_,$,_e=!0)=>{const et={defaultValues:_._defaultValues};for(const tt in j)Object.defineProperty(et,tt,{get:()=>{const rt=tt;return _._proxyFormState[rt]!==VALIDATION_MODE.all&&(_._proxyFormState[rt]=!_e||VALIDATION_MODE.all),$&&($[rt]=!0),j[rt]}});return et};function useFormState(j){const _=useFormContext(),{control:$=_.control,disabled:_e,name:et,exact:tt}=j||{},[rt,nt]=React.useState($._formState),st=React.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),it=React.useRef(et);return it.current=et,React.useEffect(()=>$._subscribe({name:it.current,formState:st.current,exact:tt,callback:at=>{!_e&&nt({...$._formState,...at})}}),[$,_e,tt]),React.useEffect(()=>{st.current.isValid&&$._setValid(!0)},[$]),React.useMemo(()=>getProxyFormState(rt,$,st.current,!1),[rt,$])}var isString$2=j=>typeof j=="string",generateWatchOutput=(j,_,$,_e,et)=>isString$2(j)?(_e&&_.watch.add(j),get$3($,j,et)):Array.isArray(j)?j.map(tt=>(_e&&_.watch.add(tt),get$3($,tt))):(_e&&(_.watchAll=!0),$);function useWatch(j){const _=useFormContext(),{control:$=_.control,name:_e,defaultValue:et,disabled:tt,exact:rt}=j||{},nt=React.useRef(_e),st=React.useRef(et);nt.current=_e,React.useEffect(()=>$._subscribe({name:nt.current,formState:{values:!0},exact:rt,callback:ot=>!tt&&at(generateWatchOutput(nt.current,$._names,ot.values||$._formValues,!1,st.current))}),[$,tt,rt]);const[it,at]=React.useState($._getWatch(_e,et));return React.useEffect(()=>$._removeUnmounted()),it}function useController(j){const _=useFormContext(),{name:$,disabled:_e,control:et=_.control,shouldUnregister:tt}=j,rt=isNameInFieldArray(et._names.array,$),nt=useWatch({control:et,name:$,defaultValue:get$3(et._formValues,$,get$3(et._defaultValues,$,j.defaultValue)),exact:!0}),st=useFormState({control:et,name:$,exact:!0}),it=React.useRef(j),at=React.useRef(et.register($,{...j.rules,value:nt,...isBoolean$2(j.disabled)?{disabled:j.disabled}:{}})),ot=React.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$3(st.errors,$)},isDirty:{enumerable:!0,get:()=>!!get$3(st.dirtyFields,$)},isTouched:{enumerable:!0,get:()=>!!get$3(st.touchedFields,$)},isValidating:{enumerable:!0,get:()=>!!get$3(st.validatingFields,$)},error:{enumerable:!0,get:()=>get$3(st.errors,$)}}),[st,$]),ct=React.useCallback(lt=>at.current.onChange({target:{value:getEventValue(lt),name:$},type:EVENTS.CHANGE}),[$]),dt=React.useCallback(()=>at.current.onBlur({target:{value:get$3(et._formValues,$),name:$},type:EVENTS.BLUR}),[$,et._formValues]),pt=React.useCallback(lt=>{const ft=get$3(et._fields,$);ft&&lt&&(ft._f.ref={focus:()=>lt.focus(),select:()=>lt.select(),setCustomValidity:ht=>lt.setCustomValidity(ht),reportValidity:()=>lt.reportValidity()})},[et._fields,$]),ut=React.useMemo(()=>({name:$,value:nt,...isBoolean$2(_e)||st.disabled?{disabled:st.disabled||_e}:{},onChange:ct,onBlur:dt,ref:pt}),[$,_e,st.disabled,ct,dt,pt,nt]);return React.useEffect(()=>{const lt=et._options.shouldUnregister||tt;et.register($,{...it.current.rules,...isBoolean$2(it.current.disabled)?{disabled:it.current.disabled}:{}});const ft=(ht,yt)=>{const vt=get$3(et._fields,ht);vt&&vt._f&&(vt._f.mount=yt)};if(ft($,!0),lt){const ht=cloneObject(get$3(et._options.defaultValues,$));set(et._defaultValues,$,ht),isUndefined(get$3(et._formValues,$))&&set(et._formValues,$,ht)}return!rt&&et.register($),()=>{(rt?lt&&!et._state.action:lt)?et.unregister($):ft($,!1)}},[$,et,rt,tt]),React.useEffect(()=>{et._setDisabledField({disabled:_e,name:$})},[_e,$,et]),React.useMemo(()=>({field:ut,formState:st,fieldState:ot}),[ut,st,ot])}const Controller=j=>j.render(useController(j));var appendErrors=(j,_,$,_e,et)=>_?{...$[j],types:{...$[j]&&$[j].types?$[j].types:{},[_e]:et||!0}}:{},convertToArrayPayload=j=>Array.isArray(j)?j:[j],createSubject=()=>{let j=[];return{get observers(){return j},next:et=>{for(const tt of j)tt.next&&tt.next(et)},subscribe:et=>(j.push(et),{unsubscribe:()=>{j=j.filter(tt=>tt!==et)}}),unsubscribe:()=>{j=[]}}},isPrimitive=j=>isNullOrUndefined(j)||!isObjectType(j);function deepEqual$1(j,_){if(isPrimitive(j)||isPrimitive(_))return j===_;if(isDateObject(j)&&isDateObject(_))return j.getTime()===_.getTime();const $=Object.keys(j),_e=Object.keys(_);if($.length!==_e.length)return!1;for(const et of $){const tt=j[et];if(!_e.includes(et))return!1;if(et!=="ref"){const rt=_[et];if(isDateObject(tt)&&isDateObject(rt)||isObject$9(tt)&&isObject$9(rt)||Array.isArray(tt)&&Array.isArray(rt)?!deepEqual$1(tt,rt):tt!==rt)return!1}}return!0}var isEmptyObject=j=>isObject$9(j)&&!Object.keys(j).length,isFileInput=j=>j.type==="file",isFunction$4=j=>typeof j=="function",isHTMLElement=j=>{if(!isWeb)return!1;const _=j?j.ownerDocument:0;return j instanceof(_&&_.defaultView?_.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=j=>j.type==="select-multiple",isRadioInput=j=>j.type==="radio",isRadioOrCheckbox=j=>isRadioInput(j)||isCheckBoxInput(j),live=j=>isHTMLElement(j)&&j.isConnected;function baseGet$4(j,_){const $=_.slice(0,-1).length;let _e=0;for(;_e<$;)j=isUndefined(j)?_e++:j[_[_e++]];return j}function isEmptyArray(j){for(const _ in j)if(j.hasOwnProperty(_)&&!isUndefined(j[_]))return!1;return!0}function unset(j,_){const $=Array.isArray(_)?_:isKey$4(_)?[_]:stringToPath$2(_),_e=$.length===1?j:baseGet$4(j,$),et=$.length-1,tt=$[et];return _e&&delete _e[tt],et!==0&&(isObject$9(_e)&&isEmptyObject(_e)||Array.isArray(_e)&&isEmptyArray(_e))&&unset(j,$.slice(0,-1)),j}var objectHasFunction=j=>{for(const _ in j)if(isFunction$4(j[_]))return!0;return!1};function markFieldsDirty(j,_={}){const $=Array.isArray(j);if(isObject$9(j)||$)for(const _e in j)Array.isArray(j[_e])||isObject$9(j[_e])&&!objectHasFunction(j[_e])?(_[_e]=Array.isArray(j[_e])?[]:{},markFieldsDirty(j[_e],_[_e])):isNullOrUndefined(j[_e])||(_[_e]=!0);return _}function getDirtyFieldsFromDefaultValues(j,_,$){const _e=Array.isArray(j);if(isObject$9(j)||_e)for(const et in j)Array.isArray(j[et])||isObject$9(j[et])&&!objectHasFunction(j[et])?isUndefined(_)||isPrimitive($[et])?$[et]=Array.isArray(j[et])?markFieldsDirty(j[et],[]):{...markFieldsDirty(j[et])}:getDirtyFieldsFromDefaultValues(j[et],isNullOrUndefined(_)?{}:_[et],$[et]):$[et]=!deepEqual$1(j[et],_[et]);return $}var getDirtyFields=(j,_)=>getDirtyFieldsFromDefaultValues(j,_,markFieldsDirty(_));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=j=>{if(Array.isArray(j)){if(j.length>1){const _=j.filter($=>$&&$.checked&&!$.disabled).map($=>$.value);return{value:_,isValid:!!_.length}}return j[0].checked&&!j[0].disabled?j[0].attributes&&!isUndefined(j[0].attributes.value)?isUndefined(j[0].value)||j[0].value===""?validResult:{value:j[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(j,{valueAsNumber:_,valueAsDate:$,setValueAs:_e})=>isUndefined(j)?j:_?j===""?NaN:j&&+j:$&&isString$2(j)?new Date(j):_e?_e(j):j;const defaultReturn={isValid:!1,value:null};var getRadioValue=j=>Array.isArray(j)?j.reduce((_,$)=>$&&$.checked&&!$.disabled?{isValid:!0,value:$.value}:_,defaultReturn):defaultReturn;function getFieldValue(j){const _=j.ref;return isFileInput(_)?_.files:isRadioInput(_)?getRadioValue(j.refs).value:isMultipleSelect(_)?[..._.selectedOptions].map(({value:$})=>$):isCheckBoxInput(_)?getCheckboxValue(j.refs).value:getFieldValueAs(isUndefined(_.value)?j.ref.value:_.value,j)}var getResolverOptions=(j,_,$,_e)=>{const et={};for(const tt of j){const rt=get$3(_,tt);rt&&set(et,tt,rt._f)}return{criteriaMode:$,names:[...j],fields:et,shouldUseNativeValidation:_e}},isRegex=j=>j instanceof RegExp,getRuleValue=j=>isUndefined(j)?j:isRegex(j)?j.source:isObject$9(j)?isRegex(j.value)?j.value.source:j.value:j,getValidationModes=j=>({isOnSubmit:!j||j===VALIDATION_MODE.onSubmit,isOnBlur:j===VALIDATION_MODE.onBlur,isOnChange:j===VALIDATION_MODE.onChange,isOnAll:j===VALIDATION_MODE.all,isOnTouch:j===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=j=>!!j&&!!j.validate&&!!(isFunction$4(j.validate)&&j.validate.constructor.name===ASYNC_FUNCTION||isObject$9(j.validate)&&Object.values(j.validate).find(_=>_.constructor.name===ASYNC_FUNCTION)),hasValidation=j=>j.mount&&(j.required||j.min||j.max||j.maxLength||j.minLength||j.pattern||j.validate),isWatched=(j,_,$)=>!$&&(_.watchAll||_.watch.has(j)||[..._.watch].some(_e=>j.startsWith(_e)&&/^\.\w+/.test(j.slice(_e.length))));const iterateFieldsByAction=(j,_,$,_e)=>{for(const et of $||Object.keys(j)){const tt=get$3(j,et);if(tt){const{_f:rt,...nt}=tt;if(rt){if(rt.refs&&rt.refs[0]&&_(rt.refs[0],et)&&!_e)return!0;if(rt.ref&&_(rt.ref,rt.name)&&!_e)return!0;if(iterateFieldsByAction(nt,_))break}else if(isObject$9(nt)&&iterateFieldsByAction(nt,_))break}}};function schemaErrorLookup(j,_,$){const _e=get$3(j,$);if(_e||isKey$4($))return{error:_e,name:$};const et=$.split(".");for(;et.length;){const tt=et.join("."),rt=get$3(_,tt),nt=get$3(j,tt);if(rt&&!Array.isArray(rt)&&$!==tt)return{name:$};if(nt&&nt.type)return{name:tt,error:nt};et.pop()}return{name:$}}var shouldRenderFormState=(j,_,$,_e)=>{$(j);const{name:et,...tt}=j;return isEmptyObject(tt)||Object.keys(tt).length>=Object.keys(_).length||Object.keys(tt).find(rt=>_[rt]===(!_e||VALIDATION_MODE.all))},shouldSubscribeByName=(j,_,$)=>!j||!_||j===_||convertToArrayPayload(j).some(_e=>_e&&($?_e===_:_e.startsWith(_)||_.startsWith(_e))),skipValidation=(j,_,$,_e,et)=>et.isOnAll?!1:!$&&et.isOnTouch?!(_||j):($?_e.isOnBlur:et.isOnBlur)?!j:($?_e.isOnChange:et.isOnChange)?j:!0,unsetEmptyArray=(j,_)=>!compact(get$3(j,_)).length&&unset(j,_),updateFieldArrayRootError=(j,_,$)=>{const _e=convertToArrayPayload(get$3(j,$));return set(_e,"root",_[$]),set(j,$,_e),j},isMessage=j=>isString$2(j);function getValidateError(j,_,$="validate"){if(isMessage(j)||Array.isArray(j)&&j.every(isMessage)||isBoolean$2(j)&&!j)return{type:$,message:isMessage(j)?j:"",ref:_}}var getValueAndMessage=j=>isObject$9(j)&&!isRegex(j)?j:{value:j,message:""},validateField=async(j,_,$,_e,et,tt)=>{const{ref:rt,refs:nt,required:st,maxLength:it,minLength:at,min:ot,max:ct,pattern:dt,validate:pt,name:ut,valueAsNumber:lt,mount:ft}=j._f,ht=get$3($,ut);if(!ft||_.has(ut))return{};const yt=nt?nt[0]:rt,vt=xt=>{et&&yt.reportValidity&&(yt.setCustomValidity(isBoolean$2(xt)?"":xt||""),yt.reportValidity())},gt={},bt=isRadioInput(rt),mt=isCheckBoxInput(rt),Et=bt||mt,Rt=(lt||isFileInput(rt))&&isUndefined(rt.value)&&isUndefined(ht)||isHTMLElement(rt)&&rt.value===""||ht===""||Array.isArray(ht)&&!ht.length,Tt=appendErrors.bind(null,ut,_e,gt),jt=(xt,Ct,kt,Nt=INPUT_VALIDATION_RULES.maxLength,St=INPUT_VALIDATION_RULES.minLength)=>{const Ot=xt?Ct:kt;gt[ut]={type:xt?Nt:St,message:Ot,ref:rt,...Tt(xt?Nt:St,Ot)}};if(tt?!Array.isArray(ht)||!ht.length:st&&(!Et&&(Rt||isNullOrUndefined(ht))||isBoolean$2(ht)&&!ht||mt&&!getCheckboxValue(nt).isValid||bt&&!getRadioValue(nt).isValid)){const{value:xt,message:Ct}=isMessage(st)?{value:!!st,message:st}:getValueAndMessage(st);if(xt&&(gt[ut]={type:INPUT_VALIDATION_RULES.required,message:Ct,ref:yt,...Tt(INPUT_VALIDATION_RULES.required,Ct)},!_e))return vt(Ct),gt}if(!Rt&&(!isNullOrUndefined(ot)||!isNullOrUndefined(ct))){let xt,Ct;const kt=getValueAndMessage(ct),Nt=getValueAndMessage(ot);if(!isNullOrUndefined(ht)&&!isNaN(ht)){const St=rt.valueAsNumber||ht&&+ht;isNullOrUndefined(kt.value)||(xt=St>kt.value),isNullOrUndefined(Nt.value)||(Ct=St<Nt.value)}else{const St=rt.valueAsDate||new Date(ht),Ot=Dt=>new Date(new Date().toDateString()+" "+Dt),Pt=rt.type=="time",wt=rt.type=="week";isString$2(kt.value)&&ht&&(xt=Pt?Ot(ht)>Ot(kt.value):wt?ht>kt.value:St>new Date(kt.value)),isString$2(Nt.value)&&ht&&(Ct=Pt?Ot(ht)<Ot(Nt.value):wt?ht<Nt.value:St<new Date(Nt.value))}if((xt||Ct)&&(jt(!!xt,kt.message,Nt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!_e))return vt(gt[ut].message),gt}if((it||at)&&!Rt&&(isString$2(ht)||tt&&Array.isArray(ht))){const xt=getValueAndMessage(it),Ct=getValueAndMessage(at),kt=!isNullOrUndefined(xt.value)&&ht.length>+xt.value,Nt=!isNullOrUndefined(Ct.value)&&ht.length<+Ct.value;if((kt||Nt)&&(jt(kt,xt.message,Ct.message),!_e))return vt(gt[ut].message),gt}if(dt&&!Rt&&isString$2(ht)){const{value:xt,message:Ct}=getValueAndMessage(dt);if(isRegex(xt)&&!ht.match(xt)&&(gt[ut]={type:INPUT_VALIDATION_RULES.pattern,message:Ct,ref:rt,...Tt(INPUT_VALIDATION_RULES.pattern,Ct)},!_e))return vt(Ct),gt}if(pt){if(isFunction$4(pt)){const xt=await pt(ht,$),Ct=getValidateError(xt,yt);if(Ct&&(gt[ut]={...Ct,...Tt(INPUT_VALIDATION_RULES.validate,Ct.message)},!_e))return vt(Ct.message),gt}else if(isObject$9(pt)){let xt={};for(const Ct in pt){if(!isEmptyObject(xt)&&!_e)break;const kt=getValidateError(await pt[Ct](ht,$),yt,Ct);kt&&(xt={...kt,...Tt(Ct,kt.message)},vt(kt.message),_e&&(gt[ut]=xt))}if(!isEmptyObject(xt)&&(gt[ut]={ref:yt,...xt},!_e))return gt}}return vt(!0),gt};const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(j={}){let _={...defaultOptions$1,...j},$={submitCount:0,isDirty:!1,isLoading:isFunction$4(_.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:_.errors||{},disabled:_.disabled||!1};const _e={};let et=isObject$9(_.defaultValues)||isObject$9(_.values)?cloneObject(_.values||_.defaultValues)||{}:{},tt=_.shouldUnregister?{}:cloneObject(et),rt={action:!1,mount:!1,watch:!1},nt={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},st,it=0;const at={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let ot={...at};const ct={array:createSubject(),state:createSubject()},dt=getValidationModes(_.mode),pt=getValidationModes(_.reValidateMode),ut=_.criteriaMode===VALIDATION_MODE.all,lt=Ft=>Gt=>{clearTimeout(it),it=setTimeout(Ft,Gt)},ft=async Ft=>{if(!_.disabled&&(at.isValid||ot.isValid||Ft)){const Gt=_.resolver?isEmptyObject((await Rt()).errors):await jt(_e,!0);Gt!==$.isValid&&ct.state.next({isValid:Gt})}},ht=(Ft,Gt)=>{!_.disabled&&(at.isValidating||at.validatingFields||ot.isValidating||ot.validatingFields)&&((Ft||Array.from(nt.mount)).forEach(Jt=>{Jt&&(Gt?set($.validatingFields,Jt,Gt):unset($.validatingFields,Jt))}),ct.state.next({validatingFields:$.validatingFields,isValidating:!isEmptyObject($.validatingFields)}))},yt=(Ft,Gt=[],Jt,Yt,hr=!0,cr=!0)=>{if(Yt&&Jt&&!_.disabled){if(rt.action=!0,cr&&Array.isArray(get$3(_e,Ft))){const jr=Jt(get$3(_e,Ft),Yt.argA,Yt.argB);hr&&set(_e,Ft,jr)}if(cr&&Array.isArray(get$3($.errors,Ft))){const jr=Jt(get$3($.errors,Ft),Yt.argA,Yt.argB);hr&&set($.errors,Ft,jr),unsetEmptyArray($.errors,Ft)}if((at.touchedFields||ot.touchedFields)&&cr&&Array.isArray(get$3($.touchedFields,Ft))){const jr=Jt(get$3($.touchedFields,Ft),Yt.argA,Yt.argB);hr&&set($.touchedFields,Ft,jr)}(at.dirtyFields||ot.dirtyFields)&&($.dirtyFields=getDirtyFields(et,tt)),ct.state.next({name:Ft,isDirty:Ct(Ft,Gt),dirtyFields:$.dirtyFields,errors:$.errors,isValid:$.isValid})}else set(tt,Ft,Gt)},vt=(Ft,Gt)=>{set($.errors,Ft,Gt),ct.state.next({errors:$.errors})},gt=Ft=>{$.errors=Ft,ct.state.next({errors:$.errors,isValid:!1})},bt=(Ft,Gt,Jt,Yt)=>{const hr=get$3(_e,Ft);if(hr){const cr=get$3(tt,Ft,isUndefined(Jt)?get$3(et,Ft):Jt);isUndefined(cr)||Yt&&Yt.defaultChecked||Gt?set(tt,Ft,Gt?cr:getFieldValue(hr._f)):St(Ft,cr),rt.mount&&ft()}},mt=(Ft,Gt,Jt,Yt,hr)=>{let cr=!1,jr=!1;const Rr={name:Ft};if(!_.disabled){if(!Jt||Yt){(at.isDirty||ot.isDirty)&&(jr=$.isDirty,$.isDirty=Rr.isDirty=Ct(),cr=jr!==Rr.isDirty);const Mr=deepEqual$1(get$3(et,Ft),Gt);jr=!!get$3($.dirtyFields,Ft),Mr?unset($.dirtyFields,Ft):set($.dirtyFields,Ft,!0),Rr.dirtyFields=$.dirtyFields,cr=cr||(at.dirtyFields||ot.dirtyFields)&&jr!==!Mr}if(Jt){const Mr=get$3($.touchedFields,Ft);Mr||(set($.touchedFields,Ft,Jt),Rr.touchedFields=$.touchedFields,cr=cr||(at.touchedFields||ot.touchedFields)&&Mr!==Jt)}cr&&hr&&ct.state.next(Rr)}return cr?Rr:{}},Et=(Ft,Gt,Jt,Yt)=>{const hr=get$3($.errors,Ft),cr=(at.isValid||ot.isValid)&&isBoolean$2(Gt)&&$.isValid!==Gt;if(_.delayError&&Jt?(st=lt(()=>vt(Ft,Jt)),st(_.delayError)):(clearTimeout(it),st=null,Jt?set($.errors,Ft,Jt):unset($.errors,Ft)),(Jt?!deepEqual$1(hr,Jt):hr)||!isEmptyObject(Yt)||cr){const jr={...Yt,...cr&&isBoolean$2(Gt)?{isValid:Gt}:{},errors:$.errors,name:Ft};$={...$,...jr},ct.state.next(jr)}},Rt=async Ft=>{ht(Ft,!0);const Gt=await _.resolver(tt,_.context,getResolverOptions(Ft||nt.mount,_e,_.criteriaMode,_.shouldUseNativeValidation));return ht(Ft),Gt},Tt=async Ft=>{const{errors:Gt}=await Rt(Ft);if(Ft)for(const Jt of Ft){const Yt=get$3(Gt,Jt);Yt?set($.errors,Jt,Yt):unset($.errors,Jt)}else $.errors=Gt;return Gt},jt=async(Ft,Gt,Jt={valid:!0})=>{for(const Yt in Ft){const hr=Ft[Yt];if(hr){const{_f:cr,...jr}=hr;if(cr){const Rr=nt.array.has(cr.name),Mr=hr._f&&hasPromiseValidation(hr._f);Mr&&at.validatingFields&&ht([Yt],!0);const Sr=await validateField(hr,nt.disabled,tt,ut,_.shouldUseNativeValidation&&!Gt,Rr);if(Mr&&at.validatingFields&&ht([Yt]),Sr[cr.name]&&(Jt.valid=!1,Gt))break;!Gt&&(get$3(Sr,cr.name)?Rr?updateFieldArrayRootError($.errors,Sr,cr.name):set($.errors,cr.name,Sr[cr.name]):unset($.errors,cr.name))}!isEmptyObject(jr)&&await jt(jr,Gt,Jt)}}return Jt.valid},xt=()=>{for(const Ft of nt.unMount){const Gt=get$3(_e,Ft);Gt&&(Gt._f.refs?Gt._f.refs.every(Jt=>!live(Jt)):!live(Gt._f.ref))&&zt(Ft)}nt.unMount=new Set},Ct=(Ft,Gt)=>!_.disabled&&(Ft&&Gt&&set(tt,Ft,Gt),!deepEqual$1(It(),et)),kt=(Ft,Gt,Jt)=>generateWatchOutput(Ft,nt,{...rt.mount?tt:isUndefined(Gt)?et:isString$2(Ft)?{[Ft]:Gt}:Gt},Jt,Gt),Nt=Ft=>compact(get$3(rt.mount?tt:et,Ft,_.shouldUnregister?get$3(et,Ft,[]):[])),St=(Ft,Gt,Jt={})=>{const Yt=get$3(_e,Ft);let hr=Gt;if(Yt){const cr=Yt._f;cr&&(!cr.disabled&&set(tt,Ft,getFieldValueAs(Gt,cr)),hr=isHTMLElement(cr.ref)&&isNullOrUndefined(Gt)?"":Gt,isMultipleSelect(cr.ref)?[...cr.ref.options].forEach(jr=>jr.selected=hr.includes(jr.value)):cr.refs?isCheckBoxInput(cr.ref)?cr.refs.length>1?cr.refs.forEach(jr=>(!jr.defaultChecked||!jr.disabled)&&(jr.checked=Array.isArray(hr)?!!hr.find(Rr=>Rr===jr.value):hr===jr.value)):cr.refs[0]&&(cr.refs[0].checked=!!hr):cr.refs.forEach(jr=>jr.checked=jr.value===hr):isFileInput(cr.ref)?cr.ref.value="":(cr.ref.value=hr,cr.ref.type||ct.state.next({name:Ft,values:cloneObject(tt)})))}(Jt.shouldDirty||Jt.shouldTouch)&&mt(Ft,hr,Jt.shouldTouch,Jt.shouldDirty,!0),Jt.shouldValidate&&Vt(Ft)},Ot=(Ft,Gt,Jt)=>{for(const Yt in Gt){const hr=Gt[Yt],cr=`${Ft}.${Yt}`,jr=get$3(_e,cr);(nt.array.has(Ft)||isObject$9(hr)||jr&&!jr._f)&&!isDateObject(hr)?Ot(cr,hr,Jt):St(cr,hr,Jt)}},Pt=(Ft,Gt,Jt={})=>{const Yt=get$3(_e,Ft),hr=nt.array.has(Ft),cr=cloneObject(Gt);set(tt,Ft,cr),hr?(ct.array.next({name:Ft,values:cloneObject(tt)}),(at.isDirty||at.dirtyFields||ot.isDirty||ot.dirtyFields)&&Jt.shouldDirty&&ct.state.next({name:Ft,dirtyFields:getDirtyFields(et,tt),isDirty:Ct(Ft,cr)})):Yt&&!Yt._f&&!isNullOrUndefined(cr)?Ot(Ft,cr,Jt):St(Ft,cr,Jt),isWatched(Ft,nt)&&ct.state.next({...$}),ct.state.next({name:rt.mount?Ft:void 0,values:cloneObject(tt)})},wt=async Ft=>{rt.mount=!0;const Gt=Ft.target;let Jt=Gt.name,Yt=!0;const hr=get$3(_e,Jt),cr=jr=>{Yt=Number.isNaN(jr)||isDateObject(jr)&&isNaN(jr.getTime())||deepEqual$1(jr,get$3(tt,Jt,jr))};if(hr){let jr,Rr;const Mr=Gt.type?getFieldValue(hr._f):getEventValue(Ft),Sr=Ft.type===EVENTS.BLUR||Ft.type===EVENTS.FOCUS_OUT,Dr=!hasValidation(hr._f)&&!_.resolver&&!get$3($.errors,Jt)&&!hr._f.deps||skipValidation(Sr,get$3($.touchedFields,Jt),$.isSubmitted,pt,dt),Br=isWatched(Jt,nt,Sr);set(tt,Jt,Mr),Sr?(hr._f.onBlur&&hr._f.onBlur(Ft),st&&st(0)):hr._f.onChange&&hr._f.onChange(Ft);const Wr=mt(Jt,Mr,Sr),vr=!isEmptyObject(Wr)||Br;if(!Sr&&ct.state.next({name:Jt,type:Ft.type,values:cloneObject(tt)}),Dr)return(at.isValid||ot.isValid)&&(_.mode==="onBlur"?Sr&&ft():Sr||ft()),vr&&ct.state.next({name:Jt,...Br?{}:Wr});if(!Sr&&Br&&ct.state.next({...$}),_.resolver){const{errors:ur}=await Rt([Jt]);if(cr(Mr),Yt){const pr=schemaErrorLookup($.errors,_e,Jt),Cr=schemaErrorLookup(ur,_e,pr.name||Jt);jr=Cr.error,Jt=Cr.name,Rr=isEmptyObject(ur)}}else ht([Jt],!0),jr=(await validateField(hr,nt.disabled,tt,ut,_.shouldUseNativeValidation))[Jt],ht([Jt]),cr(Mr),Yt&&(jr?Rr=!1:(at.isValid||ot.isValid)&&(Rr=await jt(_e,!0)));Yt&&(hr._f.deps&&Vt(hr._f.deps),Et(Jt,Rr,jr,Wr))}},Dt=(Ft,Gt)=>{if(get$3($.errors,Gt)&&Ft.focus)return Ft.focus(),1},Vt=async(Ft,Gt={})=>{let Jt,Yt;const hr=convertToArrayPayload(Ft);if(_.resolver){const cr=await Tt(isUndefined(Ft)?Ft:hr);Jt=isEmptyObject(cr),Yt=Ft?!hr.some(jr=>get$3(cr,jr)):Jt}else Ft?(Yt=(await Promise.all(hr.map(async cr=>{const jr=get$3(_e,cr);return await jt(jr&&jr._f?{[cr]:jr}:jr)}))).every(Boolean),!(!Yt&&!$.isValid)&&ft()):Yt=Jt=await jt(_e);return ct.state.next({...!isString$2(Ft)||(at.isValid||ot.isValid)&&Jt!==$.isValid?{}:{name:Ft},..._.resolver||!Ft?{isValid:Jt}:{},errors:$.errors}),Gt.shouldFocus&&!Yt&&iterateFieldsByAction(_e,Dt,Ft?hr:nt.mount),Yt},It=Ft=>{const Gt={...rt.mount?tt:et};return isUndefined(Ft)?Gt:isString$2(Ft)?get$3(Gt,Ft):Ft.map(Jt=>get$3(Gt,Jt))},At=(Ft,Gt)=>({invalid:!!get$3((Gt||$).errors,Ft),isDirty:!!get$3((Gt||$).dirtyFields,Ft),error:get$3((Gt||$).errors,Ft),isValidating:!!get$3($.validatingFields,Ft),isTouched:!!get$3((Gt||$).touchedFields,Ft)}),$t=Ft=>{Ft&&convertToArrayPayload(Ft).forEach(Gt=>unset($.errors,Gt)),ct.state.next({errors:Ft?$.errors:{}})},Mt=(Ft,Gt,Jt)=>{const Yt=(get$3(_e,Ft,{_f:{}})._f||{}).ref,hr=get$3($.errors,Ft)||{},{ref:cr,message:jr,type:Rr,...Mr}=hr;set($.errors,Ft,{...Mr,...Gt,ref:Yt}),ct.state.next({name:Ft,errors:$.errors,isValid:!1}),Jt&&Jt.shouldFocus&&Yt&&Yt.focus&&Yt.focus()},Ht=(Ft,Gt)=>isFunction$4(Ft)?ct.state.subscribe({next:Jt=>Ft(kt(void 0,Gt),Jt)}):kt(Ft,Gt,!0),Bt=Ft=>ct.state.subscribe({next:Gt=>{shouldSubscribeByName(Ft.name,Gt.name,Ft.exact)&&shouldRenderFormState(Gt,Ft.formState||at,Zt,Ft.reRenderRoot)&&Ft.callback({values:{...tt},...$,...Gt})}}).unsubscribe,Ut=Ft=>(rt.mount=!0,ot={...ot,...Ft.formState},Bt({...Ft,formState:ot})),zt=(Ft,Gt={})=>{for(const Jt of Ft?convertToArrayPayload(Ft):nt.mount)nt.mount.delete(Jt),nt.array.delete(Jt),Gt.keepValue||(unset(_e,Jt),unset(tt,Jt)),!Gt.keepError&&unset($.errors,Jt),!Gt.keepDirty&&unset($.dirtyFields,Jt),!Gt.keepTouched&&unset($.touchedFields,Jt),!Gt.keepIsValidating&&unset($.validatingFields,Jt),!_.shouldUnregister&&!Gt.keepDefaultValue&&unset(et,Jt);ct.state.next({values:cloneObject(tt)}),ct.state.next({...$,...Gt.keepDirty?{isDirty:Ct()}:{}}),!Gt.keepIsValid&&ft()},Qt=({disabled:Ft,name:Gt})=>{(isBoolean$2(Ft)&&rt.mount||Ft||nt.disabled.has(Gt))&&(Ft?nt.disabled.add(Gt):nt.disabled.delete(Gt))},sr=(Ft,Gt={})=>{let Jt=get$3(_e,Ft);const Yt=isBoolean$2(Gt.disabled)||isBoolean$2(_.disabled);return set(_e,Ft,{...Jt||{},_f:{...Jt&&Jt._f?Jt._f:{ref:{name:Ft}},name:Ft,mount:!0,...Gt}}),nt.mount.add(Ft),Jt?Qt({disabled:isBoolean$2(Gt.disabled)?Gt.disabled:_.disabled,name:Ft}):bt(Ft,!0,Gt.value),{...Yt?{disabled:Gt.disabled||_.disabled}:{},..._.progressive?{required:!!Gt.required,min:getRuleValue(Gt.min),max:getRuleValue(Gt.max),minLength:getRuleValue(Gt.minLength),maxLength:getRuleValue(Gt.maxLength),pattern:getRuleValue(Gt.pattern)}:{},name:Ft,onChange:wt,onBlur:wt,ref:hr=>{if(hr){sr(Ft,Gt),Jt=get$3(_e,Ft);const cr=isUndefined(hr.value)&&hr.querySelectorAll&&hr.querySelectorAll("input,select,textarea")[0]||hr,jr=isRadioOrCheckbox(cr),Rr=Jt._f.refs||[];if(jr?Rr.find(Mr=>Mr===cr):cr===Jt._f.ref)return;set(_e,Ft,{_f:{...Jt._f,...jr?{refs:[...Rr.filter(live),cr,...Array.isArray(get$3(et,Ft))?[{}]:[]],ref:{type:cr.type,name:Ft}}:{ref:cr}}}),bt(Ft,!1,void 0,cr)}else Jt=get$3(_e,Ft,{}),Jt._f&&(Jt._f.mount=!1),(_.shouldUnregister||Gt.shouldUnregister)&&!(isNameInFieldArray(nt.array,Ft)&&rt.action)&&nt.unMount.add(Ft)}}},Kt=()=>_.shouldFocusError&&iterateFieldsByAction(_e,Dt,nt.mount),fr=Ft=>{isBoolean$2(Ft)&&(ct.state.next({disabled:Ft}),iterateFieldsByAction(_e,(Gt,Jt)=>{const Yt=get$3(_e,Jt);Yt&&(Gt.disabled=Yt._f.disabled||Ft,Array.isArray(Yt._f.refs)&&Yt._f.refs.forEach(hr=>{hr.disabled=Yt._f.disabled||Ft}))},0,!1))},dr=(Ft,Gt)=>async Jt=>{let Yt;Jt&&(Jt.preventDefault&&Jt.preventDefault(),Jt.persist&&Jt.persist());let hr=cloneObject(tt);if(ct.state.next({isSubmitting:!0}),_.resolver){const{errors:cr,values:jr}=await Rt();$.errors=cr,hr=jr}else await jt(_e);if(nt.disabled.size)for(const cr of nt.disabled)set(hr,cr,void 0);if(unset($.errors,"root"),isEmptyObject($.errors)){ct.state.next({errors:{}});try{await Ft(hr,Jt)}catch(cr){Yt=cr}}else Gt&&await Gt({...$.errors},Jt),Kt(),setTimeout(Kt);if(ct.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject($.errors)&&!Yt,submitCount:$.submitCount+1,errors:$.errors}),Yt)throw Yt},xr=(Ft,Gt={})=>{get$3(_e,Ft)&&(isUndefined(Gt.defaultValue)?Pt(Ft,cloneObject(get$3(et,Ft))):(Pt(Ft,Gt.defaultValue),set(et,Ft,cloneObject(Gt.defaultValue))),Gt.keepTouched||unset($.touchedFields,Ft),Gt.keepDirty||(unset($.dirtyFields,Ft),$.isDirty=Gt.defaultValue?Ct(Ft,cloneObject(get$3(et,Ft))):Ct()),Gt.keepError||(unset($.errors,Ft),at.isValid&&ft()),ct.state.next({...$}))},ar=(Ft,Gt={})=>{const Jt=Ft?cloneObject(Ft):et,Yt=cloneObject(Jt),hr=isEmptyObject(Ft),cr=hr?et:Yt;if(Gt.keepDefaultValues||(et=Jt),!Gt.keepValues){if(Gt.keepDirtyValues){const jr=new Set([...nt.mount,...Object.keys(getDirtyFields(et,tt))]);for(const Rr of Array.from(jr))get$3($.dirtyFields,Rr)?set(cr,Rr,get$3(tt,Rr)):Pt(Rr,get$3(cr,Rr))}else{if(isWeb&&isUndefined(Ft))for(const jr of nt.mount){const Rr=get$3(_e,jr);if(Rr&&Rr._f){const Mr=Array.isArray(Rr._f.refs)?Rr._f.refs[0]:Rr._f.ref;if(isHTMLElement(Mr)){const Sr=Mr.closest("form");if(Sr){Sr.reset();break}}}}for(const jr of nt.mount)Pt(jr,get$3(cr,jr))}tt=cloneObject(cr),ct.array.next({values:{...cr}}),ct.state.next({values:{...cr}})}nt={mount:Gt.keepDirtyValues?nt.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},rt.mount=!at.isValid||!!Gt.keepIsValid||!!Gt.keepDirtyValues,rt.watch=!!_.shouldUnregister,ct.state.next({submitCount:Gt.keepSubmitCount?$.submitCount:0,isDirty:hr?!1:Gt.keepDirty?$.isDirty:!!(Gt.keepDefaultValues&&!deepEqual$1(Ft,et)),isSubmitted:Gt.keepIsSubmitted?$.isSubmitted:!1,dirtyFields:hr?{}:Gt.keepDirtyValues?Gt.keepDefaultValues&&tt?getDirtyFields(et,tt):$.dirtyFields:Gt.keepDefaultValues&&Ft?getDirtyFields(et,Ft):Gt.keepDirty?$.dirtyFields:{},touchedFields:Gt.keepTouched?$.touchedFields:{},errors:Gt.keepErrors?$.errors:{},isSubmitSuccessful:Gt.keepIsSubmitSuccessful?$.isSubmitSuccessful:!1,isSubmitting:!1})},rr=(Ft,Gt)=>ar(isFunction$4(Ft)?Ft(tt):Ft,Gt),Lt=(Ft,Gt={})=>{const Jt=get$3(_e,Ft),Yt=Jt&&Jt._f;if(Yt){const hr=Yt.refs?Yt.refs[0]:Yt.ref;hr.focus&&(hr.focus(),Gt.shouldSelect&&isFunction$4(hr.select)&&hr.select())}},Zt=Ft=>{$={...$,...Ft}},lr={control:{register:sr,unregister:zt,getFieldState:At,handleSubmit:dr,setError:Mt,_subscribe:Bt,_runSchema:Rt,_getWatch:kt,_getDirty:Ct,_setValid:ft,_setFieldArray:yt,_setDisabledField:Qt,_setErrors:gt,_getFieldArray:Nt,_reset:ar,_resetDefaultValues:()=>isFunction$4(_.defaultValues)&&_.defaultValues().then(Ft=>{rr(Ft,_.resetOptions),ct.state.next({isLoading:!1})}),_removeUnmounted:xt,_disableForm:fr,_subjects:ct,_proxyFormState:at,get _fields(){return _e},get _formValues(){return tt},get _state(){return rt},set _state(Ft){rt=Ft},get _defaultValues(){return et},get _names(){return nt},set _names(Ft){nt=Ft},get _formState(){return $},get _options(){return _},set _options(Ft){_={..._,...Ft}}},subscribe:Ut,trigger:Vt,register:sr,handleSubmit:dr,watch:Ht,setValue:Pt,getValues:It,reset:rr,resetField:xr,clearErrors:$t,unregister:zt,setError:Mt,setFocus:Lt,getFieldState:At};return{...lr,formControl:lr}}function useForm(j={}){const _=React.useRef(void 0),$=React.useRef(void 0),[_e,et]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$4(j.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:j.errors||{},disabled:j.disabled||!1,defaultValues:isFunction$4(j.defaultValues)?void 0:j.defaultValues});_.current||(_.current={...j.formControl?j.formControl:createFormControl(j),formState:_e},j.formControl&&j.defaultValues&&!isFunction$4(j.defaultValues)&&j.formControl.reset(j.defaultValues,j.resetOptions));const tt=_.current.control;return tt._options=j,React.useLayoutEffect(()=>tt._subscribe({formState:tt._proxyFormState,callback:()=>et({...tt._formState}),reRenderRoot:!0}),[tt]),React.useEffect(()=>tt._disableForm(j.disabled),[tt,j.disabled]),React.useEffect(()=>{if(tt._proxyFormState.isDirty){const rt=tt._getDirty();rt!==_e.isDirty&&tt._subjects.state.next({isDirty:rt})}},[tt,_e.isDirty]),React.useEffect(()=>{j.values&&!deepEqual$1(j.values,$.current)?(tt._reset(j.values,tt._options.resetOptions),$.current=j.values,et(rt=>({...rt}))):tt._resetDefaultValues()},[j.values,tt]),React.useEffect(()=>{j.errors&&!isEmptyObject(j.errors)&&tt._setErrors(j.errors)},[j.errors,tt]),React.useEffect(()=>{tt._state.mount||(tt._setValid(),tt._state.mount=!0),tt._state.watch&&(tt._state.watch=!1,tt._subjects.state.next({...tt._formState})),tt._removeUnmounted()}),React.useEffect(()=>{j.shouldUnregister&&tt._subjects.state.next({values:tt._getWatch()})},[j.shouldUnregister,tt]),_.current.formState=getProxyFormState(_e,tt),_.current}const Form=FormProvider,FormFieldContext=reactExports.createContext({}),FormField=({...j})=>jsxRuntimeExports.jsx(FormFieldContext.Provider,{value:{name:j.name},children:jsxRuntimeExports.jsx(Controller,{...j})}),useFormField=()=>{const j=reactExports.useContext(FormFieldContext),_=reactExports.useContext(FormItemContext),{getFieldState:$,formState:_e}=useFormContext(),et=$(j.name,_e);if(!j)throw new Error("useFormField should be used within <FormField>");const{id:tt}=_;return{id:tt,name:j.name,formItemId:`${tt}-form-item`,formDescriptionId:`${tt}-form-item-description`,formMessageId:`${tt}-form-item-message`,...et}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:j,..._},$)=>{const _e=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:_e},children:jsxRuntimeExports.jsx("div",{ref:$,className:cn("space-y-2",j),..._})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:j,..._},$)=>{const{error:_e,formItemId:et}=useFormField();return jsxRuntimeExports.jsx(Label$2,{ref:$,className:cn(_e&&"text-destructive",j),htmlFor:et,..._})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...j},_)=>{const{error:$,formItemId:_e,formDescriptionId:et,formMessageId:tt}=useFormField();return jsxRuntimeExports.jsx(Slot$3,{ref:_,id:_e,"aria-describedby":$?`${et} ${tt}`:`${et}`,"aria-invalid":!!$,...j})});FormControl.displayName="FormControl";const FormDescription=reactExports.forwardRef(({className:j,..._},$)=>{const{formDescriptionId:_e}=useFormField();return jsxRuntimeExports.jsx("p",{ref:$,id:_e,className:cn("text-sm text-muted-foreground",j),..._})});FormDescription.displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:j,children:_,...$},_e)=>{const{error:et,formMessageId:tt}=useFormField(),rt=et?String((et==null?void 0:et.message)??""):_;return rt?jsxRuntimeExports.jsx("p",{ref:_e,id:tt,className:cn("text-sm font-medium text-destructive",j),...$,children:rt}):null});FormMessage.displayName="FormMessage";var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((j,_)=>{const{__scopeSwitch:$,name:_e,checked:et,defaultChecked:tt,required:rt,disabled:nt,value:st="on",onCheckedChange:it,form:at,...ot}=j,[ct,dt]=reactExports.useState(null),pt=useComposedRefs(_,yt=>dt(yt)),ut=reactExports.useRef(!1),lt=ct?at||!!ct.closest("form"):!0,[ft=!1,ht]=useControllableState({prop:et,defaultProp:tt,onChange:it});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:$,checked:ft,disabled:nt,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":ft,"aria-required":rt,"data-state":getState$2(ft),"data-disabled":nt?"":void 0,disabled:nt,value:st,...ot,ref:pt,onClick:composeEventHandlers(j.onClick,yt=>{ht(vt=>!vt),lt&&(ut.current=yt.isPropagationStopped(),ut.current||yt.stopPropagation())})}),lt&&jsxRuntimeExports.jsx(BubbleInput$1,{control:ct,bubbles:!ut.current,name:_e,value:st,checked:ft,required:rt,disabled:nt,form:at,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((j,_)=>{const{__scopeSwitch:$,..._e}=j,et=useSwitchContext(THUMB_NAME,$);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$2(et.checked),"data-disabled":et.disabled?"":void 0,..._e,ref:_})});SwitchThumb.displayName=THUMB_NAME;var BubbleInput$1=j=>{const{control:_,checked:$,bubbles:_e=!0,...et}=j,tt=reactExports.useRef(null),rt=usePrevious($),nt=useSize(_);return reactExports.useEffect(()=>{const st=tt.current,it=window.HTMLInputElement.prototype,ot=Object.getOwnPropertyDescriptor(it,"checked").set;if(rt!==$&&ot){const ct=new Event("click",{bubbles:_e});ot.call(st,$),st.dispatchEvent(ct)}},[rt,$,_e]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:$,...et,tabIndex:-1,ref:tt,style:{...j.style,...nt,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState$2(j){return j?"checked":"unchecked"}var Root$1=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Root$1,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",j),..._,ref:$,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root$1.displayName;var RADIO_NAME="Radio",[createRadioContext,createRadioScope]=createContextScope(RADIO_NAME),[RadioProvider,useRadioContext]=createRadioContext(RADIO_NAME),Radio=reactExports.forwardRef((j,_)=>{const{__scopeRadio:$,name:_e,checked:et=!1,required:tt,disabled:rt,value:nt="on",onCheck:st,form:it,...at}=j,[ot,ct]=reactExports.useState(null),dt=useComposedRefs(_,lt=>ct(lt)),pt=reactExports.useRef(!1),ut=ot?it||!!ot.closest("form"):!0;return jsxRuntimeExports.jsxs(RadioProvider,{scope:$,checked:et,disabled:rt,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":et,"data-state":getState$1(et),"data-disabled":rt?"":void 0,disabled:rt,value:nt,...at,ref:dt,onClick:composeEventHandlers(j.onClick,lt=>{et||st==null||st(),ut&&(pt.current=lt.isPropagationStopped(),pt.current||lt.stopPropagation())})}),ut&&jsxRuntimeExports.jsx(BubbleInput,{control:ot,bubbles:!pt.current,name:_e,value:nt,checked:et,required:tt,disabled:rt,form:it,style:{transform:"translateX(-100%)"}})]})});Radio.displayName=RADIO_NAME;var INDICATOR_NAME="RadioIndicator",RadioIndicator=reactExports.forwardRef((j,_)=>{const{__scopeRadio:$,forceMount:_e,...et}=j,tt=useRadioContext(INDICATOR_NAME,$);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(tt.checked),"data-disabled":tt.disabled?"":void 0,...et,ref:_})})});RadioIndicator.displayName=INDICATOR_NAME;var BubbleInput=j=>{const{control:_,checked:$,bubbles:_e=!0,...et}=j,tt=reactExports.useRef(null),rt=usePrevious($),nt=useSize(_);return reactExports.useEffect(()=>{const st=tt.current,it=window.HTMLInputElement.prototype,ot=Object.getOwnPropertyDescriptor(it,"checked").set;if(rt!==$&&ot){const ct=new Event("click",{bubbles:_e});ot.call(st,$),st.dispatchEvent(ct)}},[rt,$,_e]),jsxRuntimeExports.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:$,...et,tabIndex:-1,ref:tt,style:{...j.style,...nt,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState$1(j){return j?"checked":"unchecked"}var ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RADIO_GROUP_NAME="RadioGroup",[createRadioGroupContext,createRadioGroupScope]=createContextScope(RADIO_GROUP_NAME,[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext(RADIO_GROUP_NAME),RadioGroup$1=reactExports.forwardRef((j,_)=>{const{__scopeRadioGroup:$,name:_e,defaultValue:et,value:tt,required:rt=!1,disabled:nt=!1,orientation:st,dir:it,loop:at=!0,onValueChange:ot,...ct}=j,dt=useRovingFocusGroupScope($),pt=useDirection(it),[ut,lt]=useControllableState({prop:tt,defaultProp:et,onChange:ot});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:$,name:_e,required:rt,disabled:nt,value:ut,onValueChange:lt,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,...dt,orientation:st,dir:pt,loop:at,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":rt,"aria-orientation":st,"data-disabled":nt?"":void 0,dir:pt,...ct,ref:_})})})});RadioGroup$1.displayName=RADIO_GROUP_NAME;var ITEM_NAME="RadioGroupItem",RadioGroupItem$1=reactExports.forwardRef((j,_)=>{const{__scopeRadioGroup:$,disabled:_e,...et}=j,tt=useRadioGroupContext(ITEM_NAME,$),rt=tt.disabled||_e,nt=useRovingFocusGroupScope($),st=useRadioScope($),it=reactExports.useRef(null),at=useComposedRefs(_,it),ot=tt.value===et.value,ct=reactExports.useRef(!1);return reactExports.useEffect(()=>{const dt=ut=>{ARROW_KEYS.includes(ut.key)&&(ct.current=!0)},pt=()=>ct.current=!1;return document.addEventListener("keydown",dt),document.addEventListener("keyup",pt),()=>{document.removeEventListener("keydown",dt),document.removeEventListener("keyup",pt)}},[]),jsxRuntimeExports.jsx(Item$1,{asChild:!0,...nt,focusable:!rt,active:ot,children:jsxRuntimeExports.jsx(Radio,{disabled:rt,required:tt.required,checked:ot,...st,...et,name:tt.name,ref:at,onCheck:()=>tt.onValueChange(et.value),onKeyDown:composeEventHandlers(dt=>{dt.key==="Enter"&&dt.preventDefault()}),onFocus:composeEventHandlers(et.onFocus,()=>{var dt;ct.current&&((dt=it.current)==null||dt.click())})})})});RadioGroupItem$1.displayName=ITEM_NAME;var INDICATOR_NAME2="RadioGroupIndicator",RadioGroupIndicator=reactExports.forwardRef((j,_)=>{const{__scopeRadioGroup:$,..._e}=j,et=useRadioScope($);return jsxRuntimeExports.jsx(RadioIndicator,{...et,..._e,ref:_})});RadioGroupIndicator.displayName=INDICATOR_NAME2;var Root2$1=RadioGroup$1,Item2=RadioGroupItem$1,Indicator=RadioGroupIndicator;const RadioGroup=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Root2$1,{className:cn("grid gap-2",j),..._,ref:$}));RadioGroup.displayName=Root2$1.displayName;const RadioGroupItem=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx(Item2,{ref:$,className:cn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",j),..._,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2.displayName;const s$1=(j,_,$)=>{if(j&&"reportValidity"in j){const _e=get$3($,_);j.setCustomValidity(_e&&_e.message||""),j.reportValidity()}},o=(j,_)=>{for(const $ in _.fields){const _e=_.fields[$];_e&&_e.ref&&"reportValidity"in _e.ref?s$1(_e.ref,$,j):_e.refs&&_e.refs.forEach(et=>s$1(et,$,j))}},r=(j,_)=>{_.shouldUseNativeValidation&&o(j,_);const $={};for(const _e in j){const et=get$3(_.fields,_e),tt=Object.assign(j[_e]||{},{ref:et&&et.ref});if(i(_.names||Object.keys(j),_e)){const rt=Object.assign({},get$3($,_e));set(rt,"root",tt),set($,_e,rt)}else set($,_e,tt)}return $},i=(j,_)=>j.some($=>$.startsWith(_+"."));var n$1=function(j,_){for(var $={};j.length;){var _e=j[0],et=_e.code,tt=_e.message,rt=_e.path.join(".");if(!$[rt])if("unionErrors"in _e){var nt=_e.unionErrors[0].errors[0];$[rt]={message:nt.message,type:nt.code}}else $[rt]={message:tt,type:et};if("unionErrors"in _e&&_e.unionErrors.forEach(function(at){return at.errors.forEach(function(ot){return j.push(ot)})}),_){var st=$[rt].types,it=st&&st[_e.code];$[rt]=appendErrors(rt,_,$,et,it?[].concat(it,_e.message):_e.message)}j.shift()}return $},t$1=function(j,_,$){return $===void 0&&($={}),function(_e,et,tt){try{return Promise.resolve(function(rt,nt){try{var st=Promise.resolve(j[$.mode==="sync"?"parse":"parseAsync"](_e,_)).then(function(it){return tt.shouldUseNativeValidation&&o({},tt),{errors:{},values:$.raw?_e:it}})}catch(it){return nt(it)}return st&&st.then?st.then(void 0,nt):st}(0,function(rt){if(function(nt){return Array.isArray(nt==null?void 0:nt.errors)}(rt))return{values:{},errors:r(n$1(rt.errors,!tt.shouldUseNativeValidation&&tt.criteriaMode==="all"),tt)};throw rt}))}catch(rt){return Promise.reject(rt)}}},util;(function(j){j.assertEqual=et=>et;function _(et){}j.assertIs=_;function $(et){throw new Error}j.assertNever=$,j.arrayToEnum=et=>{const tt={};for(const rt of et)tt[rt]=rt;return tt},j.getValidEnumValues=et=>{const tt=j.objectKeys(et).filter(nt=>typeof et[et[nt]]!="number"),rt={};for(const nt of tt)rt[nt]=et[nt];return j.objectValues(rt)},j.objectValues=et=>j.objectKeys(et).map(function(tt){return et[tt]}),j.objectKeys=typeof Object.keys=="function"?et=>Object.keys(et):et=>{const tt=[];for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&tt.push(rt);return tt},j.find=(et,tt)=>{for(const rt of et)if(tt(rt))return rt},j.isInteger=typeof Number.isInteger=="function"?et=>Number.isInteger(et):et=>typeof et=="number"&&isFinite(et)&&Math.floor(et)===et;function _e(et,tt=" | "){return et.map(rt=>typeof rt=="string"?`'${rt}'`:rt).join(tt)}j.joinValues=_e,j.jsonStringifyReplacer=(et,tt)=>typeof tt=="bigint"?tt.toString():tt})(util||(util={}));var objectUtil;(function(j){j.mergeShapes=(_,$)=>({..._,...$})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=j=>{switch(typeof j){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(j)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(j)?ZodParsedType.array:j===null?ZodParsedType.null:j.then&&typeof j.then=="function"&&j.catch&&typeof j.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&j instanceof Map?ZodParsedType.map:typeof Set<"u"&&j instanceof Set?ZodParsedType.set:typeof Date<"u"&&j instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=j=>JSON.stringify(j,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(_){super(),this.issues=[],this.addIssue=_e=>{this.issues=[...this.issues,_e]},this.addIssues=(_e=[])=>{this.issues=[...this.issues,..._e]};const $=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,$):this.__proto__=$,this.name="ZodError",this.issues=_}format(_){const $=_||function(tt){return tt.message},_e={_errors:[]},et=tt=>{for(const rt of tt.issues)if(rt.code==="invalid_union")rt.unionErrors.map(et);else if(rt.code==="invalid_return_type")et(rt.returnTypeError);else if(rt.code==="invalid_arguments")et(rt.argumentsError);else if(rt.path.length===0)_e._errors.push($(rt));else{let nt=_e,st=0;for(;st<rt.path.length;){const it=rt.path[st];st===rt.path.length-1?(nt[it]=nt[it]||{_errors:[]},nt[it]._errors.push($(rt))):nt[it]=nt[it]||{_errors:[]},nt=nt[it],st++}}};return et(this),_e}static assert(_){if(!(_ instanceof ZodError))throw new Error(`Not a ZodError: ${_}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(_=$=>$.message){const $={},_e=[];for(const et of this.issues)et.path.length>0?($[et.path[0]]=$[et.path[0]]||[],$[et.path[0]].push(_(et))):_e.push(_(et));return{formErrors:_e,fieldErrors:$}}get formErrors(){return this.flatten()}}ZodError.create=j=>new ZodError(j);const errorMap=(j,_)=>{let $;switch(j.code){case ZodIssueCode.invalid_type:j.received===ZodParsedType.undefined?$="Required":$=`Expected ${j.expected}, received ${j.received}`;break;case ZodIssueCode.invalid_literal:$=`Invalid literal value, expected ${JSON.stringify(j.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:$=`Unrecognized key(s) in object: ${util.joinValues(j.keys,", ")}`;break;case ZodIssueCode.invalid_union:$="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:$=`Invalid discriminator value. Expected ${util.joinValues(j.options)}`;break;case ZodIssueCode.invalid_enum_value:$=`Invalid enum value. Expected ${util.joinValues(j.options)}, received '${j.received}'`;break;case ZodIssueCode.invalid_arguments:$="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:$="Invalid function return type";break;case ZodIssueCode.invalid_date:$="Invalid date";break;case ZodIssueCode.invalid_string:typeof j.validation=="object"?"includes"in j.validation?($=`Invalid input: must include "${j.validation.includes}"`,typeof j.validation.position=="number"&&($=`${$} at one or more positions greater than or equal to ${j.validation.position}`)):"startsWith"in j.validation?$=`Invalid input: must start with "${j.validation.startsWith}"`:"endsWith"in j.validation?$=`Invalid input: must end with "${j.validation.endsWith}"`:util.assertNever(j.validation):j.validation!=="regex"?$=`Invalid ${j.validation}`:$="Invalid";break;case ZodIssueCode.too_small:j.type==="array"?$=`Array must contain ${j.exact?"exactly":j.inclusive?"at least":"more than"} ${j.minimum} element(s)`:j.type==="string"?$=`String must contain ${j.exact?"exactly":j.inclusive?"at least":"over"} ${j.minimum} character(s)`:j.type==="number"?$=`Number must be ${j.exact?"exactly equal to ":j.inclusive?"greater than or equal to ":"greater than "}${j.minimum}`:j.type==="date"?$=`Date must be ${j.exact?"exactly equal to ":j.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(j.minimum))}`:$="Invalid input";break;case ZodIssueCode.too_big:j.type==="array"?$=`Array must contain ${j.exact?"exactly":j.inclusive?"at most":"less than"} ${j.maximum} element(s)`:j.type==="string"?$=`String must contain ${j.exact?"exactly":j.inclusive?"at most":"under"} ${j.maximum} character(s)`:j.type==="number"?$=`Number must be ${j.exact?"exactly":j.inclusive?"less than or equal to":"less than"} ${j.maximum}`:j.type==="bigint"?$=`BigInt must be ${j.exact?"exactly":j.inclusive?"less than or equal to":"less than"} ${j.maximum}`:j.type==="date"?$=`Date must be ${j.exact?"exactly":j.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(j.maximum))}`:$="Invalid input";break;case ZodIssueCode.custom:$="Invalid input";break;case ZodIssueCode.invalid_intersection_types:$="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:$=`Number must be a multiple of ${j.multipleOf}`;break;case ZodIssueCode.not_finite:$="Number must be finite";break;default:$=_.defaultError,util.assertNever(j)}return{message:$}};let overrideErrorMap=errorMap;function setErrorMap(j){overrideErrorMap=j}function getErrorMap(){return overrideErrorMap}const makeIssue=j=>{const{data:_,path:$,errorMaps:_e,issueData:et}=j,tt=[...$,...et.path||[]],rt={...et,path:tt};if(et.message!==void 0)return{...et,path:tt,message:et.message};let nt="";const st=_e.filter(it=>!!it).slice().reverse();for(const it of st)nt=it(rt,{data:_,defaultError:nt}).message;return{...et,path:tt,message:nt}},EMPTY_PATH=[];function addIssueToContext(j,_){const $=getErrorMap(),_e=makeIssue({issueData:_,data:j.data,path:j.path,errorMaps:[j.common.contextualErrorMap,j.schemaErrorMap,$,$===errorMap?void 0:errorMap].filter(et=>!!et)});j.common.issues.push(_e)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(_,$){const _e=[];for(const et of $){if(et.status==="aborted")return INVALID;et.status==="dirty"&&_.dirty(),_e.push(et.value)}return{status:_.value,value:_e}}static async mergeObjectAsync(_,$){const _e=[];for(const et of $){const tt=await et.key,rt=await et.value;_e.push({key:tt,value:rt})}return ParseStatus.mergeObjectSync(_,_e)}static mergeObjectSync(_,$){const _e={};for(const et of $){const{key:tt,value:rt}=et;if(tt.status==="aborted"||rt.status==="aborted")return INVALID;tt.status==="dirty"&&_.dirty(),rt.status==="dirty"&&_.dirty(),tt.value!=="__proto__"&&(typeof rt.value<"u"||et.alwaysSet)&&(_e[tt.value]=rt.value)}return{status:_.value,value:_e}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=j=>({status:"dirty",value:j}),OK=j=>({status:"valid",value:j}),isAborted=j=>j.status==="aborted",isDirty=j=>j.status==="dirty",isValid$1=j=>j.status==="valid",isAsync=j=>typeof Promise<"u"&&j instanceof Promise;function __classPrivateFieldGet(j,_,$,_e){if(typeof _=="function"?j!==_||!_e:!_.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _.get(j)}function __classPrivateFieldSet(j,_,$,_e,et){if(typeof _=="function"?j!==_||!et:!_.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _.set(j,$),$}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(j){j.errToObj=_=>typeof _=="string"?{message:_}:_||{},j.toString=_=>typeof _=="string"?_:_==null?void 0:_.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(_,$,_e,et){this._cachedPath=[],this.parent=_,this.data=$,this._path=_e,this._key=et}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(j,_)=>{if(isValid$1(_))return{success:!0,data:_.value};if(!j.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const $=new ZodError(j.common.issues);return this._error=$,this._error}}};function processCreateParams(j){if(!j)return{};const{errorMap:_,invalid_type_error:$,required_error:_e,description:et}=j;if(_&&($||_e))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _?{errorMap:_,description:et}:{errorMap:(rt,nt)=>{var st,it;const{message:at}=j;return rt.code==="invalid_enum_value"?{message:at??nt.defaultError}:typeof nt.data>"u"?{message:(st=at??_e)!==null&&st!==void 0?st:nt.defaultError}:rt.code!=="invalid_type"?{message:nt.defaultError}:{message:(it=at??$)!==null&&it!==void 0?it:nt.defaultError}},description:et}}class ZodType{get description(){return this._def.description}_getType(_){return getParsedType(_.data)}_getOrReturnCtx(_,$){return $||{common:_.parent.common,data:_.data,parsedType:getParsedType(_.data),schemaErrorMap:this._def.errorMap,path:_.path,parent:_.parent}}_processInputParams(_){return{status:new ParseStatus,ctx:{common:_.parent.common,data:_.data,parsedType:getParsedType(_.data),schemaErrorMap:this._def.errorMap,path:_.path,parent:_.parent}}}_parseSync(_){const $=this._parse(_);if(isAsync($))throw new Error("Synchronous parse encountered promise.");return $}_parseAsync(_){const $=this._parse(_);return Promise.resolve($)}parse(_,$){const _e=this.safeParse(_,$);if(_e.success)return _e.data;throw _e.error}safeParse(_,$){var _e;const et={common:{issues:[],async:(_e=$==null?void 0:$.async)!==null&&_e!==void 0?_e:!1,contextualErrorMap:$==null?void 0:$.errorMap},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_,parsedType:getParsedType(_)},tt=this._parseSync({data:_,path:et.path,parent:et});return handleResult(et,tt)}"~validate"(_){var $,_e;const et={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:_,parsedType:getParsedType(_)};if(!this["~standard"].async)try{const tt=this._parseSync({data:_,path:[],parent:et});return isValid$1(tt)?{value:tt.value}:{issues:et.common.issues}}catch(tt){!((_e=($=tt==null?void 0:tt.message)===null||$===void 0?void 0:$.toLowerCase())===null||_e===void 0)&&_e.includes("encountered")&&(this["~standard"].async=!0),et.common={issues:[],async:!0}}return this._parseAsync({data:_,path:[],parent:et}).then(tt=>isValid$1(tt)?{value:tt.value}:{issues:et.common.issues})}async parseAsync(_,$){const _e=await this.safeParseAsync(_,$);if(_e.success)return _e.data;throw _e.error}async safeParseAsync(_,$){const _e={common:{issues:[],contextualErrorMap:$==null?void 0:$.errorMap,async:!0},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_,parsedType:getParsedType(_)},et=this._parse({data:_,path:_e.path,parent:_e}),tt=await(isAsync(et)?et:Promise.resolve(et));return handleResult(_e,tt)}refine(_,$){const _e=et=>typeof $=="string"||typeof $>"u"?{message:$}:typeof $=="function"?$(et):$;return this._refinement((et,tt)=>{const rt=_(et),nt=()=>tt.addIssue({code:ZodIssueCode.custom,..._e(et)});return typeof Promise<"u"&&rt instanceof Promise?rt.then(st=>st?!0:(nt(),!1)):rt?!0:(nt(),!1)})}refinement(_,$){return this._refinement((_e,et)=>_(_e)?!0:(et.addIssue(typeof $=="function"?$(_e,et):$),!1))}_refinement(_){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:_}})}superRefine(_){return this._refinement(_)}constructor(_){this.spa=this.safeParseAsync,this._def=_,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:$=>this["~validate"]($)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(_){return ZodUnion.create([this,_],this._def)}and(_){return ZodIntersection.create(this,_,this._def)}transform(_){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:_}})}default(_){const $=typeof _=="function"?_:()=>_;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:$,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(_){const $=typeof _=="function"?_:()=>_;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:$,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(_){const $=this.constructor;return new $({...this._def,description:_})}pipe(_){return ZodPipeline.create(this,_)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(j){let _="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return j.precision?_=`${_}\\.\\d{${j.precision}}`:j.precision==null&&(_=`${_}(\\.\\d+)?`),_}function timeRegex(j){return new RegExp(`^${timeRegexSource(j)}$`)}function datetimeRegex(j){let _=`${dateRegexSource}T${timeRegexSource(j)}`;const $=[];return $.push(j.local?"Z?":"Z"),j.offset&&$.push("([+-]\\d{2}:?\\d{2})"),_=`${_}(${$.join("|")})`,new RegExp(`^${_}$`)}function isValidIP(j,_){return!!((_==="v4"||!_)&&ipv4Regex.test(j)||(_==="v6"||!_)&&ipv6Regex.test(j))}function isValidJWT(j,_){if(!jwtRegex.test(j))return!1;try{const[$]=j.split("."),_e=$.replace(/-/g,"+").replace(/_/g,"/").padEnd($.length+(4-$.length%4)%4,"="),et=JSON.parse(atob(_e));return!(typeof et!="object"||et===null||!et.typ||!et.alg||_&&et.alg!==_)}catch{return!1}}function isValidCidr(j,_){return!!((_==="v4"||!_)&&ipv4CidrRegex.test(j)||(_==="v6"||!_)&&ipv6CidrRegex.test(j))}class ZodString extends ZodType{_parse(_){if(this._def.coerce&&(_.data=String(_.data)),this._getType(_)!==ZodParsedType.string){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:tt.parsedType}),INVALID}const _e=new ParseStatus;let et;for(const tt of this._def.checks)if(tt.kind==="min")_.data.length<tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),_e.dirty());else if(tt.kind==="max")_.data.length>tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),_e.dirty());else if(tt.kind==="length"){const rt=_.data.length>tt.value,nt=_.data.length<tt.value;(rt||nt)&&(et=this._getOrReturnCtx(_,et),rt?addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):nt&&addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),_e.dirty())}else if(tt.kind==="email")emailRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"email",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"emoji",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="uuid")uuidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"uuid",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="nanoid")nanoidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="cuid")cuidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"cuid",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="cuid2")cuid2Regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="ulid")ulidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"ulid",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty());else if(tt.kind==="url")try{new URL(_.data)}catch{et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"url",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"regex",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty())):tt.kind==="trim"?_.data=_.data.trim():tt.kind==="includes"?_.data.includes(tt.value,tt.position)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),_e.dirty()):tt.kind==="toLowerCase"?_.data=_.data.toLowerCase():tt.kind==="toUpperCase"?_.data=_.data.toUpperCase():tt.kind==="startsWith"?_.data.startsWith(tt.value)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{startsWith:tt.value},message:tt.message}),_e.dirty()):tt.kind==="endsWith"?_.data.endsWith(tt.value)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{endsWith:tt.value},message:tt.message}),_e.dirty()):tt.kind==="datetime"?datetimeRegex(tt).test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"datetime",message:tt.message}),_e.dirty()):tt.kind==="date"?dateRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"date",message:tt.message}),_e.dirty()):tt.kind==="time"?timeRegex(tt).test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"time",message:tt.message}),_e.dirty()):tt.kind==="duration"?durationRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"duration",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):tt.kind==="ip"?isValidIP(_.data,tt.version)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"ip",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):tt.kind==="jwt"?isValidJWT(_.data,tt.alg)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"jwt",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):tt.kind==="cidr"?isValidCidr(_.data,tt.version)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"cidr",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):tt.kind==="base64"?base64Regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"base64",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):tt.kind==="base64url"?base64urlRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"base64url",code:ZodIssueCode.invalid_string,message:tt.message}),_e.dirty()):util.assertNever(tt);return{status:_e.value,value:_.data}}_regex(_,$,_e){return this.refinement(et=>_.test(et),{validation:$,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(_e)})}_addCheck(_){return new ZodString({...this._def,checks:[...this._def.checks,_]})}email(_){return this._addCheck({kind:"email",...errorUtil.errToObj(_)})}url(_){return this._addCheck({kind:"url",...errorUtil.errToObj(_)})}emoji(_){return this._addCheck({kind:"emoji",...errorUtil.errToObj(_)})}uuid(_){return this._addCheck({kind:"uuid",...errorUtil.errToObj(_)})}nanoid(_){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(_)})}cuid(_){return this._addCheck({kind:"cuid",...errorUtil.errToObj(_)})}cuid2(_){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(_)})}ulid(_){return this._addCheck({kind:"ulid",...errorUtil.errToObj(_)})}base64(_){return this._addCheck({kind:"base64",...errorUtil.errToObj(_)})}base64url(_){return this._addCheck({kind:"base64url",...errorUtil.errToObj(_)})}jwt(_){return this._addCheck({kind:"jwt",...errorUtil.errToObj(_)})}ip(_){return this._addCheck({kind:"ip",...errorUtil.errToObj(_)})}cidr(_){return this._addCheck({kind:"cidr",...errorUtil.errToObj(_)})}datetime(_){var $,_e;return typeof _=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:_}):this._addCheck({kind:"datetime",precision:typeof(_==null?void 0:_.precision)>"u"?null:_==null?void 0:_.precision,offset:($=_==null?void 0:_.offset)!==null&&$!==void 0?$:!1,local:(_e=_==null?void 0:_.local)!==null&&_e!==void 0?_e:!1,...errorUtil.errToObj(_==null?void 0:_.message)})}date(_){return this._addCheck({kind:"date",message:_})}time(_){return typeof _=="string"?this._addCheck({kind:"time",precision:null,message:_}):this._addCheck({kind:"time",precision:typeof(_==null?void 0:_.precision)>"u"?null:_==null?void 0:_.precision,...errorUtil.errToObj(_==null?void 0:_.message)})}duration(_){return this._addCheck({kind:"duration",...errorUtil.errToObj(_)})}regex(_,$){return this._addCheck({kind:"regex",regex:_,...errorUtil.errToObj($)})}includes(_,$){return this._addCheck({kind:"includes",value:_,position:$==null?void 0:$.position,...errorUtil.errToObj($==null?void 0:$.message)})}startsWith(_,$){return this._addCheck({kind:"startsWith",value:_,...errorUtil.errToObj($)})}endsWith(_,$){return this._addCheck({kind:"endsWith",value:_,...errorUtil.errToObj($)})}min(_,$){return this._addCheck({kind:"min",value:_,...errorUtil.errToObj($)})}max(_,$){return this._addCheck({kind:"max",value:_,...errorUtil.errToObj($)})}length(_,$){return this._addCheck({kind:"length",value:_,...errorUtil.errToObj($)})}nonempty(_){return this.min(1,errorUtil.errToObj(_))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(_=>_.kind==="datetime")}get isDate(){return!!this._def.checks.find(_=>_.kind==="date")}get isTime(){return!!this._def.checks.find(_=>_.kind==="time")}get isDuration(){return!!this._def.checks.find(_=>_.kind==="duration")}get isEmail(){return!!this._def.checks.find(_=>_.kind==="email")}get isURL(){return!!this._def.checks.find(_=>_.kind==="url")}get isEmoji(){return!!this._def.checks.find(_=>_.kind==="emoji")}get isUUID(){return!!this._def.checks.find(_=>_.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(_=>_.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(_=>_.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(_=>_.kind==="cuid2")}get isULID(){return!!this._def.checks.find(_=>_.kind==="ulid")}get isIP(){return!!this._def.checks.find(_=>_.kind==="ip")}get isCIDR(){return!!this._def.checks.find(_=>_.kind==="cidr")}get isBase64(){return!!this._def.checks.find(_=>_.kind==="base64")}get isBase64url(){return!!this._def.checks.find(_=>_.kind==="base64url")}get minLength(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxLength(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}}ZodString.create=j=>{var _;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(_=j==null?void 0:j.coerce)!==null&&_!==void 0?_:!1,...processCreateParams(j)})};function floatSafeRemainder(j,_){const $=(j.toString().split(".")[1]||"").length,_e=(_.toString().split(".")[1]||"").length,et=$>_e?$:_e,tt=parseInt(j.toFixed(et).replace(".","")),rt=parseInt(_.toFixed(et).replace(".",""));return tt%rt/Math.pow(10,et)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(_){if(this._def.coerce&&(_.data=Number(_.data)),this._getType(_)!==ZodParsedType.number){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:tt.parsedType}),INVALID}let _e;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="int"?util.isInteger(_.data)||(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:tt.message}),et.dirty()):tt.kind==="min"?(tt.inclusive?_.data<tt.value:_.data<=tt.value)&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?_.data>tt.value:_.data>=tt.value)&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?floatSafeRemainder(_.data,tt.value)!==0&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):tt.kind==="finite"?Number.isFinite(_.data)||(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.not_finite,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:_.data}}gte(_,$){return this.setLimit("min",_,!0,errorUtil.toString($))}gt(_,$){return this.setLimit("min",_,!1,errorUtil.toString($))}lte(_,$){return this.setLimit("max",_,!0,errorUtil.toString($))}lt(_,$){return this.setLimit("max",_,!1,errorUtil.toString($))}setLimit(_,$,_e,et){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:_,value:$,inclusive:_e,message:errorUtil.toString(et)}]})}_addCheck(_){return new ZodNumber({...this._def,checks:[...this._def.checks,_]})}int(_){return this._addCheck({kind:"int",message:errorUtil.toString(_)})}positive(_){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(_)})}negative(_){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(_)})}nonpositive(_){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(_)})}nonnegative(_){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(_)})}multipleOf(_,$){return this._addCheck({kind:"multipleOf",value:_,message:errorUtil.toString($)})}finite(_){return this._addCheck({kind:"finite",message:errorUtil.toString(_)})}safe(_){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(_)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(_)})}get minValue(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxValue(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}get isInt(){return!!this._def.checks.find(_=>_.kind==="int"||_.kind==="multipleOf"&&util.isInteger(_.value))}get isFinite(){let _=null,$=null;for(const _e of this._def.checks){if(_e.kind==="finite"||_e.kind==="int"||_e.kind==="multipleOf")return!0;_e.kind==="min"?($===null||_e.value>$)&&($=_e.value):_e.kind==="max"&&(_===null||_e.value<_)&&(_=_e.value)}return Number.isFinite($)&&Number.isFinite(_)}}ZodNumber.create=j=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(j==null?void 0:j.coerce)||!1,...processCreateParams(j)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(_){if(this._def.coerce)try{_.data=BigInt(_.data)}catch{return this._getInvalidInput(_)}if(this._getType(_)!==ZodParsedType.bigint)return this._getInvalidInput(_);let _e;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?_.data<tt.value:_.data<=tt.value)&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?_.data>tt.value:_.data>=tt.value)&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?_.data%tt.value!==BigInt(0)&&(_e=this._getOrReturnCtx(_,_e),addIssueToContext(_e,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:_.data}}_getInvalidInput(_){const $=this._getOrReturnCtx(_);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:$.parsedType}),INVALID}gte(_,$){return this.setLimit("min",_,!0,errorUtil.toString($))}gt(_,$){return this.setLimit("min",_,!1,errorUtil.toString($))}lte(_,$){return this.setLimit("max",_,!0,errorUtil.toString($))}lt(_,$){return this.setLimit("max",_,!1,errorUtil.toString($))}setLimit(_,$,_e,et){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:_,value:$,inclusive:_e,message:errorUtil.toString(et)}]})}_addCheck(_){return new ZodBigInt({...this._def,checks:[...this._def.checks,_]})}positive(_){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_)})}negative(_){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_)})}nonpositive(_){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_)})}nonnegative(_){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_)})}multipleOf(_,$){return this._addCheck({kind:"multipleOf",value:_,message:errorUtil.toString($)})}get minValue(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxValue(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}}ZodBigInt.create=j=>{var _;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(_=j==null?void 0:j.coerce)!==null&&_!==void 0?_:!1,...processCreateParams(j)})};class ZodBoolean extends ZodType{_parse(_){if(this._def.coerce&&(_.data=!!_.data),this._getType(_)!==ZodParsedType.boolean){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:_e.parsedType}),INVALID}return OK(_.data)}}ZodBoolean.create=j=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(j==null?void 0:j.coerce)||!1,...processCreateParams(j)});class ZodDate extends ZodType{_parse(_){if(this._def.coerce&&(_.data=new Date(_.data)),this._getType(_)!==ZodParsedType.date){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:tt.parsedType}),INVALID}if(isNaN(_.data.getTime())){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_date}),INVALID}const _e=new ParseStatus;let et;for(const tt of this._def.checks)tt.kind==="min"?_.data.getTime()<tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),_e.dirty()):tt.kind==="max"?_.data.getTime()>tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),_e.dirty()):util.assertNever(tt);return{status:_e.value,value:new Date(_.data.getTime())}}_addCheck(_){return new ZodDate({...this._def,checks:[...this._def.checks,_]})}min(_,$){return this._addCheck({kind:"min",value:_.getTime(),message:errorUtil.toString($)})}max(_,$){return this._addCheck({kind:"max",value:_.getTime(),message:errorUtil.toString($)})}get minDate(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _!=null?new Date(_):null}get maxDate(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _!=null?new Date(_):null}}ZodDate.create=j=>new ZodDate({checks:[],coerce:(j==null?void 0:j.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(j)});class ZodSymbol extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.symbol){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:_e.parsedType}),INVALID}return OK(_.data)}}ZodSymbol.create=j=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(j)});class ZodUndefined extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.undefined){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:_e.parsedType}),INVALID}return OK(_.data)}}ZodUndefined.create=j=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(j)});class ZodNull extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.null){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:_e.parsedType}),INVALID}return OK(_.data)}}ZodNull.create=j=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(j)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(_){return OK(_.data)}}ZodAny.create=j=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(j)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(_){return OK(_.data)}}ZodUnknown.create=j=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(j)});class ZodNever extends ZodType{_parse(_){const $=this._getOrReturnCtx(_);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:$.parsedType}),INVALID}}ZodNever.create=j=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(j)});class ZodVoid extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.undefined){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:_e.parsedType}),INVALID}return OK(_.data)}}ZodVoid.create=j=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(j)});class ZodArray extends ZodType{_parse(_){const{ctx:$,status:_e}=this._processInputParams(_),et=this._def;if($.parsedType!==ZodParsedType.array)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:$.parsedType}),INVALID;if(et.exactLength!==null){const rt=$.data.length>et.exactLength.value,nt=$.data.length<et.exactLength.value;(rt||nt)&&(addIssueToContext($,{code:rt?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:nt?et.exactLength.value:void 0,maximum:rt?et.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:et.exactLength.message}),_e.dirty())}if(et.minLength!==null&&$.data.length<et.minLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_small,minimum:et.minLength.value,type:"array",inclusive:!0,exact:!1,message:et.minLength.message}),_e.dirty()),et.maxLength!==null&&$.data.length>et.maxLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_big,maximum:et.maxLength.value,type:"array",inclusive:!0,exact:!1,message:et.maxLength.message}),_e.dirty()),$.common.async)return Promise.all([...$.data].map((rt,nt)=>et.type._parseAsync(new ParseInputLazyPath($,rt,$.path,nt)))).then(rt=>ParseStatus.mergeArray(_e,rt));const tt=[...$.data].map((rt,nt)=>et.type._parseSync(new ParseInputLazyPath($,rt,$.path,nt)));return ParseStatus.mergeArray(_e,tt)}get element(){return this._def.type}min(_,$){return new ZodArray({...this._def,minLength:{value:_,message:errorUtil.toString($)}})}max(_,$){return new ZodArray({...this._def,maxLength:{value:_,message:errorUtil.toString($)}})}length(_,$){return new ZodArray({...this._def,exactLength:{value:_,message:errorUtil.toString($)}})}nonempty(_){return this.min(1,_)}}ZodArray.create=(j,_)=>new ZodArray({type:j,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_)});function deepPartialify(j){if(j instanceof ZodObject){const _={};for(const $ in j.shape){const _e=j.shape[$];_[$]=ZodOptional.create(deepPartialify(_e))}return new ZodObject({...j._def,shape:()=>_})}else return j instanceof ZodArray?new ZodArray({...j._def,type:deepPartialify(j.element)}):j instanceof ZodOptional?ZodOptional.create(deepPartialify(j.unwrap())):j instanceof ZodNullable?ZodNullable.create(deepPartialify(j.unwrap())):j instanceof ZodTuple?ZodTuple.create(j.items.map(_=>deepPartialify(_))):j}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const _=this._def.shape(),$=util.objectKeys(_);return this._cached={shape:_,keys:$}}_parse(_){if(this._getType(_)!==ZodParsedType.object){const it=this._getOrReturnCtx(_);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:it.parsedType}),INVALID}const{status:_e,ctx:et}=this._processInputParams(_),{shape:tt,keys:rt}=this._getCached(),nt=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const it in et.data)rt.includes(it)||nt.push(it);const st=[];for(const it of rt){const at=tt[it],ot=et.data[it];st.push({key:{status:"valid",value:it},value:at._parse(new ParseInputLazyPath(et,ot,et.path,it)),alwaysSet:it in et.data})}if(this._def.catchall instanceof ZodNever){const it=this._def.unknownKeys;if(it==="passthrough")for(const at of nt)st.push({key:{status:"valid",value:at},value:{status:"valid",value:et.data[at]}});else if(it==="strict")nt.length>0&&(addIssueToContext(et,{code:ZodIssueCode.unrecognized_keys,keys:nt}),_e.dirty());else if(it!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const it=this._def.catchall;for(const at of nt){const ot=et.data[at];st.push({key:{status:"valid",value:at},value:it._parse(new ParseInputLazyPath(et,ot,et.path,at)),alwaysSet:at in et.data})}}return et.common.async?Promise.resolve().then(async()=>{const it=[];for(const at of st){const ot=await at.key,ct=await at.value;it.push({key:ot,value:ct,alwaysSet:at.alwaysSet})}return it}).then(it=>ParseStatus.mergeObjectSync(_e,it)):ParseStatus.mergeObjectSync(_e,st)}get shape(){return this._def.shape()}strict(_){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",..._!==void 0?{errorMap:($,_e)=>{var et,tt,rt,nt;const st=(rt=(tt=(et=this._def).errorMap)===null||tt===void 0?void 0:tt.call(et,$,_e).message)!==null&&rt!==void 0?rt:_e.defaultError;return $.code==="unrecognized_keys"?{message:(nt=errorUtil.errToObj(_).message)!==null&&nt!==void 0?nt:st}:{message:st}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(_){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),..._})})}merge(_){return new ZodObject({unknownKeys:_._def.unknownKeys,catchall:_._def.catchall,shape:()=>({...this._def.shape(),..._._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(_,$){return this.augment({[_]:$})}catchall(_){return new ZodObject({...this._def,catchall:_})}pick(_){const $={};return util.objectKeys(_).forEach(_e=>{_[_e]&&this.shape[_e]&&($[_e]=this.shape[_e])}),new ZodObject({...this._def,shape:()=>$})}omit(_){const $={};return util.objectKeys(this.shape).forEach(_e=>{_[_e]||($[_e]=this.shape[_e])}),new ZodObject({...this._def,shape:()=>$})}deepPartial(){return deepPartialify(this)}partial(_){const $={};return util.objectKeys(this.shape).forEach(_e=>{const et=this.shape[_e];_&&!_[_e]?$[_e]=et:$[_e]=et.optional()}),new ZodObject({...this._def,shape:()=>$})}required(_){const $={};return util.objectKeys(this.shape).forEach(_e=>{if(_&&!_[_e])$[_e]=this.shape[_e];else{let tt=this.shape[_e];for(;tt instanceof ZodOptional;)tt=tt._def.innerType;$[_e]=tt}}),new ZodObject({...this._def,shape:()=>$})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(j,_)=>new ZodObject({shape:()=>j,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});ZodObject.strictCreate=(j,_)=>new ZodObject({shape:()=>j,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});ZodObject.lazycreate=(j,_)=>new ZodObject({shape:j,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});class ZodUnion extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),_e=this._def.options;function et(tt){for(const nt of tt)if(nt.result.status==="valid")return nt.result;for(const nt of tt)if(nt.result.status==="dirty")return $.common.issues.push(...nt.ctx.common.issues),nt.result;const rt=tt.map(nt=>new ZodError(nt.ctx.common.issues));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:rt}),INVALID}if($.common.async)return Promise.all(_e.map(async tt=>{const rt={...$,common:{...$.common,issues:[]},parent:null};return{result:await tt._parseAsync({data:$.data,path:$.path,parent:rt}),ctx:rt}})).then(et);{let tt;const rt=[];for(const st of _e){const it={...$,common:{...$.common,issues:[]},parent:null},at=st._parseSync({data:$.data,path:$.path,parent:it});if(at.status==="valid")return at;at.status==="dirty"&&!tt&&(tt={result:at,ctx:it}),it.common.issues.length&&rt.push(it.common.issues)}if(tt)return $.common.issues.push(...tt.ctx.common.issues),tt.result;const nt=rt.map(st=>new ZodError(st));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:nt}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(j,_)=>new ZodUnion({options:j,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_)});const getDiscriminator=j=>j instanceof ZodLazy?getDiscriminator(j.schema):j instanceof ZodEffects?getDiscriminator(j.innerType()):j instanceof ZodLiteral?[j.value]:j instanceof ZodEnum?j.options:j instanceof ZodNativeEnum?util.objectValues(j.enum):j instanceof ZodDefault?getDiscriminator(j._def.innerType):j instanceof ZodUndefined?[void 0]:j instanceof ZodNull?[null]:j instanceof ZodOptional?[void 0,...getDiscriminator(j.unwrap())]:j instanceof ZodNullable?[null,...getDiscriminator(j.unwrap())]:j instanceof ZodBranded||j instanceof ZodReadonly?getDiscriminator(j.unwrap()):j instanceof ZodCatch?getDiscriminator(j._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.object)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:$.parsedType}),INVALID;const _e=this.discriminator,et=$.data[_e],tt=this.optionsMap.get(et);return tt?$.common.async?tt._parseAsync({data:$.data,path:$.path,parent:$}):tt._parseSync({data:$.data,path:$.path,parent:$}):(addIssueToContext($,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[_e]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(_,$,_e){const et=new Map;for(const tt of $){const rt=getDiscriminator(tt.shape[_]);if(!rt.length)throw new Error(`A discriminator value for key \`${_}\` could not be extracted from all schema options`);for(const nt of rt){if(et.has(nt))throw new Error(`Discriminator property ${String(_)} has duplicate value ${String(nt)}`);et.set(nt,tt)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:_,options:$,optionsMap:et,...processCreateParams(_e)})}}function mergeValues(j,_){const $=getParsedType(j),_e=getParsedType(_);if(j===_)return{valid:!0,data:j};if($===ZodParsedType.object&&_e===ZodParsedType.object){const et=util.objectKeys(_),tt=util.objectKeys(j).filter(nt=>et.indexOf(nt)!==-1),rt={...j,..._};for(const nt of tt){const st=mergeValues(j[nt],_[nt]);if(!st.valid)return{valid:!1};rt[nt]=st.data}return{valid:!0,data:rt}}else if($===ZodParsedType.array&&_e===ZodParsedType.array){if(j.length!==_.length)return{valid:!1};const et=[];for(let tt=0;tt<j.length;tt++){const rt=j[tt],nt=_[tt],st=mergeValues(rt,nt);if(!st.valid)return{valid:!1};et.push(st.data)}return{valid:!0,data:et}}else return $===ZodParsedType.date&&_e===ZodParsedType.date&&+j==+_?{valid:!0,data:j}:{valid:!1}}class ZodIntersection extends ZodType{_parse(_){const{status:$,ctx:_e}=this._processInputParams(_),et=(tt,rt)=>{if(isAborted(tt)||isAborted(rt))return INVALID;const nt=mergeValues(tt.value,rt.value);return nt.valid?((isDirty(tt)||isDirty(rt))&&$.dirty(),{status:$.value,value:nt.data}):(addIssueToContext(_e,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return _e.common.async?Promise.all([this._def.left._parseAsync({data:_e.data,path:_e.path,parent:_e}),this._def.right._parseAsync({data:_e.data,path:_e.path,parent:_e})]).then(([tt,rt])=>et(tt,rt)):et(this._def.left._parseSync({data:_e.data,path:_e.path,parent:_e}),this._def.right._parseSync({data:_e.data,path:_e.path,parent:_e}))}}ZodIntersection.create=(j,_,$)=>new ZodIntersection({left:j,right:_,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams($)});class ZodTuple extends ZodType{_parse(_){const{status:$,ctx:_e}=this._processInputParams(_);if(_e.parsedType!==ZodParsedType.array)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:_e.parsedType}),INVALID;if(_e.data.length<this._def.items.length)return addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&_e.data.length>this._def.items.length&&(addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$.dirty());const tt=[..._e.data].map((rt,nt)=>{const st=this._def.items[nt]||this._def.rest;return st?st._parse(new ParseInputLazyPath(_e,rt,_e.path,nt)):null}).filter(rt=>!!rt);return _e.common.async?Promise.all(tt).then(rt=>ParseStatus.mergeArray($,rt)):ParseStatus.mergeArray($,tt)}get items(){return this._def.items}rest(_){return new ZodTuple({...this._def,rest:_})}}ZodTuple.create=(j,_)=>{if(!Array.isArray(j))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:j,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_){const{status:$,ctx:_e}=this._processInputParams(_);if(_e.parsedType!==ZodParsedType.object)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:_e.parsedType}),INVALID;const et=[],tt=this._def.keyType,rt=this._def.valueType;for(const nt in _e.data)et.push({key:tt._parse(new ParseInputLazyPath(_e,nt,_e.path,nt)),value:rt._parse(new ParseInputLazyPath(_e,_e.data[nt],_e.path,nt)),alwaysSet:nt in _e.data});return _e.common.async?ParseStatus.mergeObjectAsync($,et):ParseStatus.mergeObjectSync($,et)}get element(){return this._def.valueType}static create(_,$,_e){return $ instanceof ZodType?new ZodRecord({keyType:_,valueType:$,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(_e)}):new ZodRecord({keyType:ZodString.create(),valueType:_,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams($)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_){const{status:$,ctx:_e}=this._processInputParams(_);if(_e.parsedType!==ZodParsedType.map)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:_e.parsedType}),INVALID;const et=this._def.keyType,tt=this._def.valueType,rt=[..._e.data.entries()].map(([nt,st],it)=>({key:et._parse(new ParseInputLazyPath(_e,nt,_e.path,[it,"key"])),value:tt._parse(new ParseInputLazyPath(_e,st,_e.path,[it,"value"]))}));if(_e.common.async){const nt=new Map;return Promise.resolve().then(async()=>{for(const st of rt){const it=await st.key,at=await st.value;if(it.status==="aborted"||at.status==="aborted")return INVALID;(it.status==="dirty"||at.status==="dirty")&&$.dirty(),nt.set(it.value,at.value)}return{status:$.value,value:nt}})}else{const nt=new Map;for(const st of rt){const it=st.key,at=st.value;if(it.status==="aborted"||at.status==="aborted")return INVALID;(it.status==="dirty"||at.status==="dirty")&&$.dirty(),nt.set(it.value,at.value)}return{status:$.value,value:nt}}}}ZodMap.create=(j,_,$)=>new ZodMap({valueType:_,keyType:j,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams($)});class ZodSet extends ZodType{_parse(_){const{status:$,ctx:_e}=this._processInputParams(_);if(_e.parsedType!==ZodParsedType.set)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:_e.parsedType}),INVALID;const et=this._def;et.minSize!==null&&_e.data.size<et.minSize.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:et.minSize.value,type:"set",inclusive:!0,exact:!1,message:et.minSize.message}),$.dirty()),et.maxSize!==null&&_e.data.size>et.maxSize.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:et.maxSize.value,type:"set",inclusive:!0,exact:!1,message:et.maxSize.message}),$.dirty());const tt=this._def.valueType;function rt(st){const it=new Set;for(const at of st){if(at.status==="aborted")return INVALID;at.status==="dirty"&&$.dirty(),it.add(at.value)}return{status:$.value,value:it}}const nt=[..._e.data.values()].map((st,it)=>tt._parse(new ParseInputLazyPath(_e,st,_e.path,it)));return _e.common.async?Promise.all(nt).then(st=>rt(st)):rt(nt)}min(_,$){return new ZodSet({...this._def,minSize:{value:_,message:errorUtil.toString($)}})}max(_,$){return new ZodSet({...this._def,maxSize:{value:_,message:errorUtil.toString($)}})}size(_,$){return this.min(_,$).max(_,$)}nonempty(_){return this.min(1,_)}}ZodSet.create=(j,_)=>new ZodSet({valueType:j,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.function)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:$.parsedType}),INVALID;function _e(nt,st){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(it=>!!it),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:st}})}function et(nt,st){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(it=>!!it),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:st}})}const tt={errorMap:$.common.contextualErrorMap},rt=$.data;if(this._def.returns instanceof ZodPromise){const nt=this;return OK(async function(...st){const it=new ZodError([]),at=await nt._def.args.parseAsync(st,tt).catch(dt=>{throw it.addIssue(_e(st,dt)),it}),ot=await Reflect.apply(rt,this,at);return await nt._def.returns._def.type.parseAsync(ot,tt).catch(dt=>{throw it.addIssue(et(ot,dt)),it})})}else{const nt=this;return OK(function(...st){const it=nt._def.args.safeParse(st,tt);if(!it.success)throw new ZodError([_e(st,it.error)]);const at=Reflect.apply(rt,this,it.data),ot=nt._def.returns.safeParse(at,tt);if(!ot.success)throw new ZodError([et(at,ot.error)]);return ot.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(..._){return new ZodFunction({...this._def,args:ZodTuple.create(_).rest(ZodUnknown.create())})}returns(_){return new ZodFunction({...this._def,returns:_})}implement(_){return this.parse(_)}strictImplement(_){return this.parse(_)}static create(_,$,_e){return new ZodFunction({args:_||ZodTuple.create([]).rest(ZodUnknown.create()),returns:$||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(_e)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(_){const{ctx:$}=this._processInputParams(_);return this._def.getter()._parse({data:$.data,path:$.path,parent:$})}}ZodLazy.create=(j,_)=>new ZodLazy({getter:j,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_)});class ZodLiteral extends ZodType{_parse(_){if(_.data!==this._def.value){const $=this._getOrReturnCtx(_);return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:_.data}}get value(){return this._def.value}}ZodLiteral.create=(j,_)=>new ZodLiteral({value:j,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_)});function createZodEnum(j,_){return new ZodEnum({values:j,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(_){if(typeof _.data!="string"){const $=this._getOrReturnCtx(_),_e=this._def.values;return addIssueToContext($,{expected:util.joinValues(_e),received:$.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(_.data)){const $=this._getOrReturnCtx(_),_e=this._def.values;return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_enum_value,options:_e}),INVALID}return OK(_.data)}get options(){return this._def.values}get enum(){const _={};for(const $ of this._def.values)_[$]=$;return _}get Values(){const _={};for(const $ of this._def.values)_[$]=$;return _}get Enum(){const _={};for(const $ of this._def.values)_[$]=$;return _}extract(_,$=this._def){return ZodEnum.create(_,{...this._def,...$})}exclude(_,$=this._def){return ZodEnum.create(this.options.filter(_e=>!_.includes(_e)),{...this._def,...$})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(_){const $=util.getValidEnumValues(this._def.values),_e=this._getOrReturnCtx(_);if(_e.parsedType!==ZodParsedType.string&&_e.parsedType!==ZodParsedType.number){const et=util.objectValues($);return addIssueToContext(_e,{expected:util.joinValues(et),received:_e.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(_.data)){const et=util.objectValues($);return addIssueToContext(_e,{received:_e.data,code:ZodIssueCode.invalid_enum_value,options:et}),INVALID}return OK(_.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(j,_)=>new ZodNativeEnum({values:j,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.promise&&$.common.async===!1)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:$.parsedType}),INVALID;const _e=$.parsedType===ZodParsedType.promise?$.data:Promise.resolve($.data);return OK(_e.then(et=>this._def.type.parseAsync(et,{path:$.path,errorMap:$.common.contextualErrorMap})))}}ZodPromise.create=(j,_)=>new ZodPromise({type:j,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(_){const{status:$,ctx:_e}=this._processInputParams(_),et=this._def.effect||null,tt={addIssue:rt=>{addIssueToContext(_e,rt),rt.fatal?$.abort():$.dirty()},get path(){return _e.path}};if(tt.addIssue=tt.addIssue.bind(tt),et.type==="preprocess"){const rt=et.transform(_e.data,tt);if(_e.common.async)return Promise.resolve(rt).then(async nt=>{if($.value==="aborted")return INVALID;const st=await this._def.schema._parseAsync({data:nt,path:_e.path,parent:_e});return st.status==="aborted"?INVALID:st.status==="dirty"||$.value==="dirty"?DIRTY(st.value):st});{if($.value==="aborted")return INVALID;const nt=this._def.schema._parseSync({data:rt,path:_e.path,parent:_e});return nt.status==="aborted"?INVALID:nt.status==="dirty"||$.value==="dirty"?DIRTY(nt.value):nt}}if(et.type==="refinement"){const rt=nt=>{const st=et.refinement(nt,tt);if(_e.common.async)return Promise.resolve(st);if(st instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return nt};if(_e.common.async===!1){const nt=this._def.schema._parseSync({data:_e.data,path:_e.path,parent:_e});return nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value),{status:$.value,value:nt.value})}else return this._def.schema._parseAsync({data:_e.data,path:_e.path,parent:_e}).then(nt=>nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value).then(()=>({status:$.value,value:nt.value}))))}if(et.type==="transform")if(_e.common.async===!1){const rt=this._def.schema._parseSync({data:_e.data,path:_e.path,parent:_e});if(!isValid$1(rt))return rt;const nt=et.transform(rt.value,tt);if(nt instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:$.value,value:nt}}else return this._def.schema._parseAsync({data:_e.data,path:_e.path,parent:_e}).then(rt=>isValid$1(rt)?Promise.resolve(et.transform(rt.value,tt)).then(nt=>({status:$.value,value:nt})):rt);util.assertNever(et)}}ZodEffects.create=(j,_,$)=>new ZodEffects({schema:j,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_,...processCreateParams($)});ZodEffects.createWithPreprocess=(j,_,$)=>new ZodEffects({schema:_,effect:{type:"preprocess",transform:j},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams($)});class ZodOptional extends ZodType{_parse(_){return this._getType(_)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(_)}unwrap(){return this._def.innerType}}ZodOptional.create=(j,_)=>new ZodOptional({innerType:j,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_)});class ZodNullable extends ZodType{_parse(_){return this._getType(_)===ZodParsedType.null?OK(null):this._def.innerType._parse(_)}unwrap(){return this._def.innerType}}ZodNullable.create=(j,_)=>new ZodNullable({innerType:j,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_)});class ZodDefault extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_);let _e=$.data;return $.parsedType===ZodParsedType.undefined&&(_e=this._def.defaultValue()),this._def.innerType._parse({data:_e,path:$.path,parent:$})}removeDefault(){return this._def.innerType}}ZodDefault.create=(j,_)=>new ZodDefault({innerType:j,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof _.default=="function"?_.default:()=>_.default,...processCreateParams(_)});class ZodCatch extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),_e={...$,common:{...$.common,issues:[]}},et=this._def.innerType._parse({data:_e.data,path:_e.path,parent:{..._e}});return isAsync(et)?et.then(tt=>({status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new ZodError(_e.common.issues)},input:_e.data})})):{status:"valid",value:et.status==="valid"?et.value:this._def.catchValue({get error(){return new ZodError(_e.common.issues)},input:_e.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(j,_)=>new ZodCatch({innerType:j,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof _.catch=="function"?_.catch:()=>_.catch,...processCreateParams(_)});class ZodNaN extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.nan){const _e=this._getOrReturnCtx(_);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:_e.parsedType}),INVALID}return{status:"valid",value:_.data}}}ZodNaN.create=j=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(j)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),_e=$.data;return this._def.type._parse({data:_e,path:$.path,parent:$})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(_){const{status:$,ctx:_e}=this._processInputParams(_);if(_e.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:_e.data,path:_e.path,parent:_e});return tt.status==="aborted"?INVALID:tt.status==="dirty"?($.dirty(),DIRTY(tt.value)):this._def.out._parseAsync({data:tt.value,path:_e.path,parent:_e})})();{const et=this._def.in._parseSync({data:_e.data,path:_e.path,parent:_e});return et.status==="aborted"?INVALID:et.status==="dirty"?($.dirty(),{status:"dirty",value:et.value}):this._def.out._parseSync({data:et.value,path:_e.path,parent:_e})}}static create(_,$){return new ZodPipeline({in:_,out:$,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(_){const $=this._def.innerType._parse(_),_e=et=>(isValid$1(et)&&(et.value=Object.freeze(et.value)),et);return isAsync($)?$.then(et=>_e(et)):_e($)}unwrap(){return this._def.innerType}}ZodReadonly.create=(j,_)=>new ZodReadonly({innerType:j,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(_)});function cleanParams(j,_){const $=typeof j=="function"?j(_):typeof j=="string"?{message:j}:j;return typeof $=="string"?{message:$}:$}function custom(j,_={},$){return j?ZodAny.create().superRefine((_e,et)=>{var tt,rt;const nt=j(_e);if(nt instanceof Promise)return nt.then(st=>{var it,at;if(!st){const ot=cleanParams(_,_e),ct=(at=(it=ot.fatal)!==null&&it!==void 0?it:$)!==null&&at!==void 0?at:!0;et.addIssue({code:"custom",...ot,fatal:ct})}});if(!nt){const st=cleanParams(_,_e),it=(rt=(tt=st.fatal)!==null&&tt!==void 0?tt:$)!==null&&rt!==void 0?rt:!0;et.addIssue({code:"custom",...st,fatal:it})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(j){j.ZodString="ZodString",j.ZodNumber="ZodNumber",j.ZodNaN="ZodNaN",j.ZodBigInt="ZodBigInt",j.ZodBoolean="ZodBoolean",j.ZodDate="ZodDate",j.ZodSymbol="ZodSymbol",j.ZodUndefined="ZodUndefined",j.ZodNull="ZodNull",j.ZodAny="ZodAny",j.ZodUnknown="ZodUnknown",j.ZodNever="ZodNever",j.ZodVoid="ZodVoid",j.ZodArray="ZodArray",j.ZodObject="ZodObject",j.ZodUnion="ZodUnion",j.ZodDiscriminatedUnion="ZodDiscriminatedUnion",j.ZodIntersection="ZodIntersection",j.ZodTuple="ZodTuple",j.ZodRecord="ZodRecord",j.ZodMap="ZodMap",j.ZodSet="ZodSet",j.ZodFunction="ZodFunction",j.ZodLazy="ZodLazy",j.ZodLiteral="ZodLiteral",j.ZodEnum="ZodEnum",j.ZodEffects="ZodEffects",j.ZodNativeEnum="ZodNativeEnum",j.ZodOptional="ZodOptional",j.ZodNullable="ZodNullable",j.ZodDefault="ZodDefault",j.ZodCatch="ZodCatch",j.ZodPromise="ZodPromise",j.ZodBranded="ZodBranded",j.ZodPipeline="ZodPipeline",j.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(j,_={message:`Input not instance of ${j.name}`})=>custom($=>$ instanceof j,_),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:j=>ZodString.create({...j,coerce:!0}),number:j=>ZodNumber.create({...j,coerce:!0}),boolean:j=>ZodBoolean.create({...j,coerce:!0}),bigint:j=>ZodBigInt.create({...j,coerce:!0}),date:j=>ZodDate.create({...j,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid:isValid$1,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const disbursementSchema=z.object({disbursementType:z.enum(["taxes","insurance","hoa","other"]),description:z.string().min(1,"Description is required"),status:z.enum(["active","suspended","completed","cancelled","terminated"]).optional(),payeeName:z.string().min(1,"Payee name is required"),payeeContactName:z.string().optional(),payeePhone:z.string().optional(),payeeEmail:z.string().email().optional().or(z.literal("")),payeeFax:z.string().optional(),payeeStreetAddress:z.string().optional(),payeeCity:z.string().optional(),payeeState:z.string().optional(),payeeZipCode:z.string().optional(),accountNumber:z.string().optional(),policyNumber:z.string().optional(),insuredName:z.string().optional(),insuranceCompanyName:z.string().optional(),policyDescription:z.string().optional(),policyExpirationDate:z.string().optional(),coverageAmount:z.string().optional(),agentName:z.string().optional(),agentBusinessAddress:z.string().optional(),agentCity:z.string().optional(),agentState:z.string().optional(),agentZipCode:z.string().optional(),agentPhone:z.string().optional(),agentFax:z.string().optional(),agentEmail:z.string().email().optional().or(z.literal("")),paymentMethod:z.enum(["check","ach","wire"]),bankAccountNumber:z.string().optional(),achRoutingNumber:z.string().optional(),wireRoutingNumber:z.string().optional(),accountType:z.enum(["checking","savings"]).optional(),bankName:z.string().optional(),wireInstructions:z.string().optional(),remittanceAddress:z.string().optional(),remittanceCity:z.string().optional(),remittanceState:z.string().optional(),remittanceZipCode:z.string().optional(),accountNumber2:z.string().optional(),referenceNumber:z.string().optional(),frequency:z.enum(["once","monthly","quarterly","semi_annual","annual"]),monthlyAmount:z.string().optional(),annualAmount:z.string().optional(),paymentAmount:z.string().min(1,"Payment amount is required"),nextDueDate:z.string().min(1,"Next due date is required"),firstDueDate:z.string().optional(),specificDueDates:z.string().optional(),autoPayEnabled:z.boolean().default(!0),daysBeforeDue:z.number().min(1).max(30).default(10),notes:z.string().optional()});function EscrowDisbursementsTab({loanId:j}){var xt,Ct,kt,Nt;const[_,$]=reactExports.useState(!1),[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState({}),nt=useQueryClient(),{data:st}=useQuery({queryKey:[`/api/loans/${j}`],enabled:!!j}),{data:it=[],isLoading:at,refetch:ot}=useQuery({queryKey:[`/api/loans/${j}/escrow-disbursements`],queryFn:async()=>{const Ot=await(await apiRequest(`/api/loans/${j}/escrow-disbursements`)).json();return console.log("Fetched disbursements from API:",Ot),Array.isArray(Ot)?Ot:[]},staleTime:0,gcTime:0}),[ct,dt]=reactExports.useState([]);reactExports.useEffect(()=>{Array.isArray(it)&&dt(it)},[it]);const{data:pt,refetch:ut}=useQuery({queryKey:[`/api/loans/${j}/escrow-summary`],queryFn:async()=>await(await apiRequest(`/api/loans/${j}/escrow-summary`)).json(),staleTime:0,gcTime:0}),lt=useForm({resolver:t$1(disbursementSchema),defaultValues:{disbursementType:"taxes",description:"",payeeName:"",payeeContactName:"",payeePhone:"",payeeEmail:"",payeeStreetAddress:"",payeeCity:"",payeeState:"",payeeZipCode:"",accountNumber:"",policyNumber:"",insuredName:"",insuranceCompanyName:"",policyDescription:"",policyExpirationDate:"",coverageAmount:"",agentName:"",agentBusinessAddress:"",agentCity:"",agentState:"",agentZipCode:"",agentPhone:"",agentFax:"",agentEmail:"",paymentMethod:"check",bankAccountNumber:"",achRoutingNumber:"",wireRoutingNumber:"",bankName:"",frequency:"annual",paymentAmount:"",nextDueDate:"",annualAmount:"",monthlyAmount:"",autoPayEnabled:!0,daysBeforeDue:10,notes:""}}),ft=St=>{switch(St){case"once":return 1;case"monthly":return 12;case"quarterly":return 4;case"semi_annual":return 2;case"annual":return 1;default:return 1}},ht=lt.watch("paymentAmount"),yt=lt.watch("frequency");reactExports.useEffect(()=>{if(ht&&yt){const St=parseFloat(ht),Ot=ft(yt);if(!isNaN(St)){const Pt=(St*Ot).toFixed(2),wt=(parseFloat(Pt)/12).toFixed(2);lt.setValue("annualAmount",Pt,{shouldValidate:!1}),lt.setValue("monthlyAmount",wt,{shouldValidate:!1})}}},[ht,yt]);const vt=useMutation({mutationFn:async St=>await(await apiRequest(`/api/loans/${j}/escrow-disbursements`,{method:"POST",body:JSON.stringify(St)})).json(),onSuccess:St=>{console.log("Disbursement created successfully, updating local state and refetching for loanId:",j),dt(Ot=>[...Ot,St]),ot(),ut(),$(!1),et(null),lt.reset(),toast({title:"Disbursement created successfully"})},onError:St=>{toast({title:"Error creating disbursement",description:St.message||"Failed to create disbursement",variant:"destructive"})}}),gt=useMutation({mutationFn:async({id:St,data:Ot})=>await(await apiRequest(`/api/escrow-disbursements/${St}`,{method:"PATCH",body:JSON.stringify(Ot)})).json(),onSuccess:()=>{console.log("Disbursement updated successfully, manually refetching data for loanId:",j),ot(),ut(),nt.invalidateQueries({queryKey:[`/api/loans/${j}/escrow-disbursements`]}),nt.invalidateQueries({queryKey:[`/api/loans/${j}/escrow-summary`]}),$(!1),et(null),lt.reset(),toast({title:"Disbursement updated successfully"})}}),bt=useMutation({mutationFn:async({id:St,action:Ot,reason:Pt,requestedBy:wt})=>await(await apiRequest(`/api/escrow-disbursements/${St}/hold`,{method:"POST",body:JSON.stringify({action:Ot,reason:Pt,requestedBy:wt})})).json(),onSuccess:St=>{console.log("Disbursement hold status updated, updating local state and refetching data for loanId:",j),dt(Ot=>Ot.map(Pt=>Pt.id===St.id?St:Pt)),ot(),ut(),toast({title:"Disbursement status updated successfully"})}}),mt=useMutation({mutationFn:async St=>{const Ot=await apiRequest(`/api/escrow-disbursements/${St}`,{method:"DELETE"});if(!Ot.ok)throw new Error(`Failed to delete: ${Ot.status}`);return St},onSuccess:St=>{console.log("Disbursement deleted successfully, ID:",St),dt(Ot=>Ot.filter(Pt=>Pt.id!==St)),setTimeout(()=>{ot(),ut()},100),nt.invalidateQueries({queryKey:[`/api/loans/${j}/escrow-disbursements`]}),nt.invalidateQueries({queryKey:[`/api/loans/${j}/escrow-summary`]}),toast({title:"Disbursement deleted successfully"})},onError:St=>{console.error("Delete failed:",St),toast({title:"Failed to delete disbursement",description:St.message,variant:"destructive"})}}),Et=St=>{_e?gt.mutate({id:_e.id,data:St}):vt.mutate(St)},Rt=St=>{rt(Ot=>({...Ot,[St]:!Ot[St]}))},Tt=(St,Ot)=>{if(Ot)return"destructive";switch(St){case"active":return"default";case"suspended":return"secondary";case"cancelled":return"destructive";case"completed":return"outline";case"terminated":return"secondary";default:return"default"}},jt=St=>({once:"Once",monthly:"Monthly",quarterly:"Quarterly",semi_annual:"Semi-Annual",annual:"Annual"})[St]||St;return at?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading escrow disbursements..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Disbursements"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:((xt=pt==null?void 0:pt.summary)==null?void 0:xt.totalDisbursements)||0})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Active"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:((Ct=pt==null?void 0:pt.summary)==null?void 0:Ct.activeDisbursements)||0})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"On Hold"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-600",children:((kt=pt==null?void 0:pt.summary)==null?void 0:kt.onHoldDisbursements)||0})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Annual Total"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["$",Number(((Nt=pt==null?void 0:pt.summary)==null?void 0:Nt.totalAnnualAmount)||0).toLocaleString()]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Escrow Disbursements"}),jsxRuntimeExports.jsxs(Dialog,{open:_,onOpenChange:$,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Disbursement"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:_e?"Edit Disbursement":"Add New Disbursement"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Configure escrow disbursement details, payee information, and payment schedule."})]}),jsxRuntimeExports.jsx(Form,{...lt,children:jsxRuntimeExports.jsxs("form",{onSubmit:lt.handleSubmit(Et),className:"space-y-6",children:[jsxRuntimeExports.jsxs(Tabs,{defaultValue:"basic",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"basic",children:"Basic Info"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"payee",children:"Payee Details"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"payment",children:"Payment Info"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"schedule",children:"Schedule"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"basic",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"disbursementType",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Disbursement Type *"}),jsxRuntimeExports.jsxs(Select,{onValueChange:St.onChange,defaultValue:St.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"taxes",children:"Property Taxes"}),jsxRuntimeExports.jsx(SelectItem,{value:"insurance",children:"Insurance"}),jsxRuntimeExports.jsx(SelectItem,{value:"hoa",children:"HOA Fees"}),jsxRuntimeExports.jsx(SelectItem,{value:"servicing",children:"Servicing Fee"}),jsxRuntimeExports.jsx(SelectItem,{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),_e&&jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"status",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Status"}),jsxRuntimeExports.jsxs(Select,{onValueChange:St.onChange,defaultValue:St.value||_e.status,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select status"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"suspended",children:"Suspended"}),jsxRuntimeExports.jsx(SelectItem,{value:"completed",children:"Completed"}),jsxRuntimeExports.jsx(SelectItem,{value:"cancelled",children:"Cancelled"}),lt.watch("disbursementType")==="insurance"&&jsxRuntimeExports.jsx(SelectItem,{value:"terminated",children:"Terminated (Historical Record)"})]})]}),St.value==="terminated"&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This disbursement will be kept for historical records but is no longer active."}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"description",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Description *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"e.g., Annual property tax payment",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),lt.watch("disbursementType")==="taxes"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"accountNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account Number *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Enter account number",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),(st==null?void 0:st.parcelNumber)&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("strong",{children:"Parcel Number:"})," ",st.parcelNumber]})]}),lt.watch("disbursementType")==="insurance"&&jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"policyNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Policy Number *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Enter policy number",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"notes",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Notes"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Additional notes...",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"payee",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Payee Name *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"County Tax Collector",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeContactName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Contact Person"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"John Smith",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeePhone",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Phone"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"(555) 123-4567",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeEmail",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Email"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"contact@taxcollector.gov",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeFax",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Fax"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"(555) 123-4568",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeStreetAddress",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Street Address"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"123 Main St",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeCity",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"City"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Anytown",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeState",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"State"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"CA",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"payeeZipCode",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"ZIP Code"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"12345",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),lt.watch("disbursementType")==="insurance"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"border-b pb-2 pt-4",children:jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:"Insurance Policy Details"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"policyDescription",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Policy Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:St.onChange,defaultValue:St.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select policy type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Hazard",children:"Hazard"}),jsxRuntimeExports.jsx(SelectItem,{value:"Flood",children:"Flood"}),jsxRuntimeExports.jsx(SelectItem,{value:"Earthquake",children:"Earthquake"}),jsxRuntimeExports.jsx(SelectItem,{value:"Title",children:"Title"}),jsxRuntimeExports.jsx(SelectItem,{value:"PMI",children:"PMI"}),jsxRuntimeExports.jsx(SelectItem,{value:"Other",children:"Other"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"policyExpirationDate",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Policy Expiration Date"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"date",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"insuredName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Insured Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Name of insured party",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"coverageAmount",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Coverage Amount"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"$0.00",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"insuranceCompanyName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Insurance Company"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"e.g., State Farm, Allstate",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx("div",{className:"border-b pb-2 pt-4",children:jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:"Insurance Agent Information"})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Agent Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Insurance agent name",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentBusinessAddress",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Agent Address"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Street address",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentCity",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"City"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"City",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentState",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"State"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"State",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentZipCode",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"ZIP Code"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"ZIP",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentPhone",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Agent Phone"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"(555) 123-4567",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentFax",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Agent Fax"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"(555) 123-4568",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"agentEmail",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Agent Email"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"agent@example.com",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"payment",className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"paymentMethod",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{className:"space-y-3",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Payment Method *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs(RadioGroup,{onValueChange:St.onChange,defaultValue:St.value,className:"flex flex-row space-x-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"check",id:"check"}),jsxRuntimeExports.jsx("label",{htmlFor:"check",children:"Check"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"ach",id:"ach"}),jsxRuntimeExports.jsx("label",{htmlFor:"ach",children:"ACH Transfer"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"wire",id:"wire"}),jsxRuntimeExports.jsx("label",{htmlFor:"wire",children:"Wire Transfer"})]})]})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),(lt.watch("paymentMethod")==="ach"||lt.watch("paymentMethod")==="wire")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"bankAccountNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Account number",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"achRoutingNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"ACH Routing Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"123456789",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"wireRoutingNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Wire Routing Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"123456789",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"accountType",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:St.onChange,defaultValue:St.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select account type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"checking",children:"Checking"}),jsxRuntimeExports.jsx(SelectItem,{value:"savings",children:"Savings"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"bankName",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Bank Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Bank of America",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"accountNumber2",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Reference/Policy Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Tax parcel #, policy #, etc.",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"referenceNumber",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Reference Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Additional reference",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"schedule",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"frequency",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Payment Frequency *"}),jsxRuntimeExports.jsxs(Select,{onValueChange:St.onChange,defaultValue:St.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select frequency"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"once",children:"One Time"}),jsxRuntimeExports.jsx(SelectItem,{value:"monthly",children:"Monthly"}),jsxRuntimeExports.jsx(SelectItem,{value:"quarterly",children:"Quarterly"}),jsxRuntimeExports.jsx(SelectItem,{value:"semi_annual",children:"Semi-Annual"}),jsxRuntimeExports.jsx(SelectItem,{value:"annual",children:"Annual"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"nextDueDate",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Next Due Date *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"date",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"paymentAmount",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Payment Amount *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"0.00",...St})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"annualAmount",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Annual Amount"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"0.00",...St,readOnly:!0,className:"bg-muted"})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"monthlyAmount",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Monthly Amount"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"0.00",...St,readOnly:!0,className:"bg-muted"})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"autoPayEnabled",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Auto-Pay Enabled"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically process payments when due"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Switch,{checked:St.value,onCheckedChange:St.onChange})})]})}),jsxRuntimeExports.jsx(FormField,{control:lt.control,name:"daysBeforeDue",render:({field:St})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Days Before Due"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"number",min:"1",max:"30",...St,onChange:Ot=>St.onChange(parseInt(Ot.target.value))})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>{$(!1),et(null),lt.reset()},children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:vt.isPending||gt.isPending,children:vt.isPending||gt.isPending?"Saving...":"Save Disbursement"})]})]})})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Disbursement List"}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage all escrow disbursements for this loan"})]}),jsxRuntimeExports.jsx(CardContent,{children:ct.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No disbursements configured. Click "Add Disbursement" to get started.'}):jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Payee"}),jsxRuntimeExports.jsx(TableHead,{children:"Frequency"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Next Due"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:Array.isArray(ct)&&ct.map(St=>(console.log("Rendering disbursement in table:",St),jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"capitalize",children:St.disbursementType}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Opening edit dialog for disbursement:",St.id),et(St),lt.setValue("disbursementType",St.disbursementType),lt.setValue("description",St.description||""),lt.setValue("payeeName",St.payeeName||""),lt.setValue("payeeContactName",St.payeeContactName||""),lt.setValue("payeePhone",St.payeePhone||""),lt.setValue("payeeEmail",St.payeeEmail||""),lt.setValue("payeeStreetAddress",St.payeeStreetAddress||""),lt.setValue("payeeCity",St.payeeCity||""),lt.setValue("payeeState",St.payeeState||""),lt.setValue("payeeZipCode",St.payeeZipCode||""),lt.setValue("accountNumber",St.accountNumber||""),lt.setValue("policyNumber",St.policyNumber||""),lt.setValue("paymentMethod",St.paymentMethod),lt.setValue("bankAccountNumber",St.bankAccountNumber||""),lt.setValue("achRoutingNumber",St.achRoutingNumber||""),lt.setValue("wireRoutingNumber",St.wireRoutingNumber||""),lt.setValue("bankName",St.bankName||""),lt.setValue("frequency",St.frequency),lt.setValue("paymentAmount",St.paymentAmount||""),lt.setValue("nextDueDate",St.nextDueDate?St.nextDueDate.split("T")[0]:""),lt.setValue("autoPayEnabled",St.autoPayEnabled||!1),lt.setValue("daysBeforeDue",St.daysBeforeDue||10),lt.setValue("notes",St.notes||""),lt.setValue("insuredName",St.insuredName||""),lt.setValue("insuranceCompanyName",St.insuranceCompanyName||""),lt.setValue("policyDescription",St.policyDescription||""),lt.setValue("policyExpirationDate",St.policyExpirationDate?St.policyExpirationDate.split("T")[0]:""),lt.setValue("coverageAmount",St.coverageAmount||""),lt.setValue("agentName",St.agentName||""),lt.setValue("agentBusinessAddress",St.agentBusinessAddress||""),lt.setValue("agentCity",St.agentCity||""),lt.setValue("agentState",St.agentState||""),lt.setValue("agentZipCode",St.agentZipCode||""),lt.setValue("agentPhone",St.agentPhone||""),lt.setValue("agentFax",St.agentFax||""),lt.setValue("agentEmail",St.agentEmail||""),lt.setValue("status",St.status||"active");const Ot=parseFloat(St.paymentAmount||"0"),Pt=ft(St.frequency);if(!isNaN(Ot)&&Ot>0){const wt=(Ot*Pt).toFixed(2),Dt=(parseFloat(wt)/12).toFixed(2);lt.setValue("annualAmount",wt),lt.setValue("monthlyAmount",Dt)}else lt.setValue("annualAmount",""),lt.setValue("monthlyAmount","");$(!0)},className:"text-blue-600 underline hover:text-blue-800 text-left",children:St.description})})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:St.payeeName}),St.payeePhone&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[jsxRuntimeExports.jsx(Phone,{className:"h-3 w-3"}),St.payeePhone]}),St.payeeEmail&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"h-3 w-3"}),St.payeeEmail]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:jt(St.frequency)})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:["$",St.paymentAmount?Number(St.paymentAmount).toLocaleString():"0.00"]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Annual: $",St.annualAmount?Number(St.annualAmount).toLocaleString():"0.00"]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-4 w-4"}),St.nextDueDate&&St.nextDueDate!=="Invalid Date"?new Date(St.nextDueDate).toLocaleDateString():"Not set"]})}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(Badge,{variant:Tt(St.status,St.isOnHold),children:St.isOnHold?"On Hold":St.status}),St.isOnHold&&St.holdReason&&jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:St.holdReason})]}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{console.log("Edit button clicked for disbursement:",St),et(St),lt.setValue("disbursementType",St.disbursementType),lt.setValue("description",St.description||""),lt.setValue("payeeName",St.payeeName||""),lt.setValue("payeeContactName",St.payeeContactName||""),lt.setValue("payeePhone",St.payeePhone||""),lt.setValue("payeeEmail",St.payeeEmail||""),lt.setValue("payeeStreetAddress",St.payeeStreetAddress||""),lt.setValue("payeeCity",St.payeeCity||""),lt.setValue("payeeState",St.payeeState||""),lt.setValue("payeeZipCode",St.payeeZipCode||""),lt.setValue("accountNumber",St.accountNumber||""),lt.setValue("policyNumber",St.policyNumber||""),lt.setValue("paymentMethod",St.paymentMethod),lt.setValue("bankAccountNumber",St.bankAccountNumber||""),lt.setValue("achRoutingNumber",St.achRoutingNumber||""),lt.setValue("wireRoutingNumber",St.wireRoutingNumber||""),lt.setValue("bankName",St.bankName||""),lt.setValue("frequency",St.frequency),lt.setValue("paymentAmount",St.paymentAmount||""),lt.setValue("nextDueDate",St.nextDueDate?St.nextDueDate.split("T")[0]:""),lt.setValue("autoPayEnabled",St.autoPayEnabled||!1),lt.setValue("daysBeforeDue",St.daysBeforeDue||10),lt.setValue("notes",St.notes||""),lt.setValue("insuredName",St.insuredName||""),lt.setValue("insuranceCompanyName",St.insuranceCompanyName||""),lt.setValue("policyDescription",St.policyDescription||""),lt.setValue("policyExpirationDate",St.policyExpirationDate?St.policyExpirationDate.split("T")[0]:""),lt.setValue("coverageAmount",St.coverageAmount||""),lt.setValue("agentName",St.agentName||""),lt.setValue("agentBusinessAddress",St.agentBusinessAddress||""),lt.setValue("agentCity",St.agentCity||""),lt.setValue("agentState",St.agentState||""),lt.setValue("agentZipCode",St.agentZipCode||""),lt.setValue("agentPhone",St.agentPhone||""),lt.setValue("agentFax",St.agentFax||""),lt.setValue("agentEmail",St.agentEmail||""),lt.setValue("status",St.status||"active");const Ot=parseFloat(St.paymentAmount||"0"),Pt=ft(St.frequency);if(!isNaN(Ot)&&Ot>0){const wt=(Ot*Pt).toFixed(2),Dt=(parseFloat(wt)/12).toFixed(2);lt.setValue("annualAmount",wt),lt.setValue("monthlyAmount",Dt)}else lt.setValue("annualAmount",""),lt.setValue("monthlyAmount","");console.log("Form values set, opening dialog"),$(!0)},children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:St.isOnHold?"default":"ghost",size:"sm",className:St.isOnHold?"bg-red-100 hover:bg-red-200 text-red-700":"",onClick:()=>{const Ot=St.isOnHold?"release":"hold",Pt=Ot==="hold"?prompt("Reason for hold:")||"":void 0;(Ot==="release"||Ot==="hold"&&Pt)&&bt.mutate({id:St.id,action:Ot,reason:Pt,requestedBy:"Current User"})},children:St.isOnHold?jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4"})}),St.accountNumber&&jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>Rt(St.id),children:tt[St.id]?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this disbursement?")&&mt.mutate(St.id)},children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},St.id)))})]})})]})]})}function LoanEditForm({loanId:j,onSave:_,onCancel:$}){const{toast:_e}=useToast(),[et,tt]=reactExports.useState({}),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(null),[at,ot]=reactExports.useState(!1),{data:ct,isLoading:dt}=useQuery({queryKey:[`/api/loans/${j}`],enabled:!!j}),{data:pt=[]}=useQuery({queryKey:[`/api/loans/${j}/escrow-disbursements`],queryFn:async()=>{console.log("Fetching escrow disbursements for loan:",j);const mt=await fetch(`/api/loans/${j}/escrow-disbursements`,{credentials:"include"});if(!mt.ok)return console.error("Failed to fetch disbursements"),[];const Et=await mt.json();return console.log("Fetched disbursements:",Et.length,"items"),Et},enabled:!!j}),{data:ut,refetch:lt}=useQuery({queryKey:["/api/documents",{loanId:j}],queryFn:async()=>{const mt=await fetch(`/api/documents?loanId=${j}`,{credentials:"include"});if(!mt.ok)throw new Error("Failed to fetch documents");return mt.json()},enabled:!!j}),{data:ft}=useQuery({queryKey:["/api/audit-logs",{loanId:j}],queryFn:async()=>{const mt=await fetch(`/api/audit-logs?loanId=${j}`,{credentials:"include"});if(!mt.ok)throw new Error("Failed to fetch audit logs");return mt.json()},enabled:!!j});reactExports.useEffect(()=>{if(ct){console.log("Loading loan data into form:",ct),console.log("Escrow disbursements available:",(pt==null?void 0:pt.length)||0);const mt={...ct,loanAmount:ct.originalAmount||ct.loanAmount||"",servicingFee:ct.servicingFee||"",servicingFeeType:ct.servicingFeeType||"percentage",lateCharge:ct.lateCharge||ct.lateChargeAmount||"",lateChargeType:ct.lateChargeType||"percentage",feePayer:ct.feePayer||"",gracePeriodDays:ct.gracePeriodDays||"",investorLoanNumber:ct.investorLoanNumber||"",poolNumber:ct.poolNumber||"",propertyTax:ct.propertyTax||ct.propertyTaxes||"",homeInsurance:ct.homeInsurance||ct.hazardInsurance||"",hoaFees:ct.hoaFees||"",pmi:ct.pmi||ct.pmiAmount||"",otherMonthly:ct.otherMonthly||""};console.log("Form data with defaults:",mt),tt(mt),ht(ct,pt)}},[ct,pt]);const ht=(mt,Et)=>{console.log("calculatePayments called with disbursements:",(Et==null?void 0:Et.length)||0);const Rt=parseFloat(mt.originalAmount)||parseFloat(mt.loanAmount)||0,Tt=parseFloat(mt.interestRate)||0,jt=parseInt(mt.loanTerm)||12;let xt=parseFloat(mt.paymentAmount)||0;if(!xt&&Rt&&Tt&&jt){const Vt=Tt/100/12;Vt>0?xt=Rt*Vt*Math.pow(1+Vt,jt)/(Math.pow(1+Vt,jt)-1):xt=Rt/jt}let Ct=0,kt=0,Nt=0;Et&&Et.length>0?(console.log("Calculating from disbursements:",Et),Et.forEach(Vt=>{const It=parseFloat(Vt.monthlyAmount)||0;console.log(`Disbursement: ${Vt.disbursementType} - ${Vt.description}: $${It}/month`),Vt.disbursementType==="insurance"?Ct+=It:Vt.disbursementType==="taxes"?kt+=It:Vt.disbursementType==="hoa"&&(Nt+=It)}),console.log("Calculated totals - Insurance:",Ct,"Taxes:",kt,"HOA:",Nt)):(Ct=parseFloat(mt.hazardInsurance)||0,kt=parseFloat(mt.propertyTaxes)||0,Nt=parseFloat(mt.hoaFees)||0);const St=(Ct+kt)*.1667,Ot=Ct+kt+St,Pt=parseFloat(mt.pmiAmount)||0,wt=parseFloat(mt.servicingFee)||0,Dt=xt+Ot+Nt+Pt+wt;console.log("Final calculation - Total escrow:",Ot,"Total payment:",Dt),nt({principalAndInterest:xt,escrow:Ot,hoaFees:Nt,pmi:Pt,servicingFee:wt,totalMonthlyPayment:Dt,breakdown:{hazardInsurance:Ct,propertyTaxes:kt,escrowCushion:St}})};reactExports.useEffect(()=>{(et.loanAmount||et.interestRate||et.loanTerm)&&ht(et,pt)},[et.loanAmount,et.interestRate,et.loanTerm,et.hazardInsurance,et.propertyTaxes,et.hoaFees,et.pmiAmount,et.servicingFee,pt]);const yt=useMutation({mutationFn:async mt=>{const Et=await fetch(`/api/loans/${j}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(mt)});if(!Et.ok)throw new Error(`HTTP error! status: ${Et.status}`);return Et.json()},onSuccess:mt=>{console.log("Update response:",mt),tt(mt),queryClient.invalidateQueries({queryKey:[`/api/loans/${j}`]}),queryClient.invalidateQueries({queryKey:["/api/loans"]}),queryClient.refetchQueries({queryKey:[`/api/loans/${j}`]}),_e({title:"Loan Updated",description:"Loan information has been successfully updated"}),_==null||_()},onError:mt=>{_e({title:"Update Failed",description:mt instanceof Error?mt.message:"An error occurred",variant:"destructive"})}}),vt=(mt,Et)=>{console.log(`Field changed: ${mt} = ${Et}`),tt(Rt=>({...Rt,[mt]:Et}))},gt=()=>{console.log("Saving form data:",et),yt.mutate(et)},bt=mt=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(mt);return dt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Loan Edit"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-2",children:[et.loanNumber&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:["Loan #: ",et.loanNumber]}),et.escrowNumber&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:["Escrow #: ",et.escrowNumber]}),jsxRuntimeExports.jsx(Badge,{variant:et.loanStatus==="active"?"default":"secondary",children:et.loanStatus||"Unknown"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button$1,{onClick:gt,disabled:yt.isPending,children:yt.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:$,children:"Cancel"})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"details",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-7",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"details",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"contacts",children:"Contacts"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"beneficiaries",children:"Beneficiary"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"escrows",children:"Escrows"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"documents",children:"Docs"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"accounting",children:"Accounting"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"audit",children:"Audit Trail"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"details",className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calculator,{className:"h-5 w-5"}),"Payment Breakdown"]})}),jsxRuntimeExports.jsx(CardContent,{children:rt&&jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Hazard Insurance:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.breakdown.hazardInsurance)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Property Taxes:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.breakdown.propertyTaxes)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Escrow Cushion:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.breakdown.escrowCushion)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[jsxRuntimeExports.jsx("span",{children:"Sub-Total Escrows:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.escrow)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"+ Principal & Interest:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.principalAndInterest)})]}),rt.hoaFees>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"+ HOA:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.hoaFees)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"+ Servicing Fees:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.servicingFee)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[jsxRuntimeExports.jsx("span",{children:"Total Payment:"}),jsxRuntimeExports.jsx("span",{children:bt(rt.totalMonthlyPayment)})]})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Basic Information"})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerName",children:"Borrower Name"}),jsxRuntimeExports.jsx(Input,{id:"borrowerName",value:et.borrowerName||"",onChange:mt=>vt("borrowerName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanStatus",children:"Loan Status"}),jsxRuntimeExports.jsxs(Select,{value:et.loanStatus||"",onValueChange:mt=>vt("loanStatus",mt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"paid_off",children:"Paid Off"}),jsxRuntimeExports.jsx(SelectItem,{value:"default",children:"Default"}),jsxRuntimeExports.jsx(SelectItem,{value:"foreclosure",children:"Foreclosure"})]})]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Property Information"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyAddress",children:"Property Address"}),jsxRuntimeExports.jsx(Textarea,{id:"propertyAddress",value:et.propertyAddress||"",onChange:mt=>vt("propertyAddress",mt.target.value),rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyType",children:"Property Type"}),jsxRuntimeExports.jsxs(Select,{value:et.propertyType||"",onValueChange:mt=>vt("propertyType",mt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"single_family",children:"Single Family"}),jsxRuntimeExports.jsx(SelectItem,{value:"condo",children:"Condominium"}),jsxRuntimeExports.jsx(SelectItem,{value:"townhouse",children:"Townhouse"}),jsxRuntimeExports.jsx(SelectItem,{value:"multi_family",children:"Multi-Family"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyValue",children:"Property Value"}),jsxRuntimeExports.jsx(Input,{id:"propertyValue",type:"number",value:et.propertyValue||"",onChange:mt=>vt("propertyValue",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"downPayment",children:"Down Payment"}),jsxRuntimeExports.jsx(Input,{id:"downPayment",type:"number",value:et.downPayment||"",onChange:mt=>vt("downPayment",parseFloat(mt.target.value)||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"parcelNumber",children:"Parcel Number (APN)"}),jsxRuntimeExports.jsx(Input,{id:"parcelNumber",value:et.parcelNumber||"",onChange:mt=>vt("parcelNumber",mt.target.value),placeholder:"Assessor's Parcel Number"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"legalDescription",children:"Legal Description"}),jsxRuntimeExports.jsx(Textarea,{id:"legalDescription",value:et.legalDescription||"",onChange:mt=>vt("legalDescription",mt.target.value),placeholder:"Property legal description",rows:2})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Loan Terms"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanAmount",children:"Loan Amount"}),jsxRuntimeExports.jsx(Input,{id:"loanAmount",type:"number",value:et.loanAmount||et.originalAmount||"",onChange:mt=>vt("loanAmount",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"interestRate",children:"Interest Rate (%)"}),jsxRuntimeExports.jsx(Input,{id:"interestRate",type:"number",step:"0.01",value:et.interestRate||"",onChange:mt=>vt("interestRate",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loanTerm",children:"Loan Term (months)"}),jsxRuntimeExports.jsx(Input,{id:"loanTerm",type:"number",value:et.loanTerm||"",onChange:mt=>vt("loanTerm",parseFloat(mt.target.value)||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"firstPaymentDate",children:"First Payment Date"}),jsxRuntimeExports.jsx(Input,{id:"firstPaymentDate",type:"date",value:et.firstPaymentDate||"",onChange:mt=>vt("firstPaymentDate",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"maturityDate",children:"Maturity Date"}),jsxRuntimeExports.jsx(Input,{id:"maturityDate",type:"date",value:et.maturityDate||"",onChange:mt=>vt("maturityDate",mt.target.value)})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-blue-600",children:"Servicing Settings"}),jsxRuntimeExports.jsx(CardDescription,{children:"Loan servicing configuration and fee settings"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"servicingFee",children:"Servicing Fee"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Input,{id:"servicingFee",type:"number",step:"0.01",value:et.servicingFee||"",onChange:mt=>vt("servicingFee",mt.target.value===""?"":parseFloat(mt.target.value)),placeholder:et.servicingFeeType==="percentage"?"0.25":"25.00",className:"flex-1"}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:et.servicingFeeType==="fixed"?"default":"outline",size:"sm",className:"rounded-r-none px-2",onClick:()=>vt("servicingFeeType","fixed"),children:"$"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:et.servicingFeeType==="percentage"?"default":"outline",size:"sm",className:"rounded-l-none px-2",onClick:()=>vt("servicingFeeType","percentage"),children:"%"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"lateCharge",children:"Late Charge"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Input,{id:"lateCharge",type:"number",step:"0.01",value:et.lateCharge||"",onChange:mt=>vt("lateCharge",mt.target.value===""?"":parseFloat(mt.target.value)),placeholder:et.lateChargeType==="percentage"?"5.00":"50.00",className:"flex-1"}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:et.lateChargeType==="fixed"?"default":"outline",size:"sm",className:"rounded-r-none px-2",onClick:()=>vt("lateChargeType","fixed"),children:"$"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:et.lateChargeType==="percentage"?"default":"outline",size:"sm",className:"rounded-l-none px-2",onClick:()=>vt("lateChargeType","percentage"),children:"%"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"feePayer",children:"Fee Payer"}),jsxRuntimeExports.jsxs(Select,{value:et.feePayer||"",onValueChange:mt=>vt("feePayer",mt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select fee payer"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"B",children:"Borrower (B)"}),jsxRuntimeExports.jsx(SelectItem,{value:"S",children:"Seller (S)"}),jsxRuntimeExports.jsx(SelectItem,{value:"SP",children:"Split (SP)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"gracePeriodDays",children:"Grace Period (Days)"}),jsxRuntimeExports.jsx(Input,{id:"gracePeriodDays",type:"number",value:et.gracePeriodDays||"",onChange:mt=>vt("gracePeriodDays",mt.target.value===""?"":parseInt(mt.target.value)),placeholder:"15"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"investorLoanNumber",children:"Investor Loan Number"}),jsxRuntimeExports.jsx(Input,{id:"investorLoanNumber",value:et.investorLoanNumber||"",onChange:mt=>vt("investorLoanNumber",mt.target.value),placeholder:"Enter investor loan number"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"poolNumber",children:"Pool Number"}),jsxRuntimeExports.jsx(Input,{id:"poolNumber",value:et.poolNumber||"",onChange:mt=>vt("poolNumber",mt.target.value),placeholder:"Enter pool number"})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Payment Settings"}),jsxRuntimeExports.jsx(CardDescription,{children:"Payment configuration and escrow settings"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"propertyTax",children:"Property Tax"}),jsxRuntimeExports.jsx(Input,{id:"propertyTax",type:"number",value:et.propertyTax||"",onChange:mt=>vt("propertyTax",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"homeInsurance",children:"Home Insurance"}),jsxRuntimeExports.jsx(Input,{id:"homeInsurance",type:"number",value:et.homeInsurance||"",onChange:mt=>vt("homeInsurance",parseFloat(mt.target.value)||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"hoaFees",children:"HOA Fees"}),jsxRuntimeExports.jsx(Input,{id:"hoaFees",type:"number",value:et.hoaFees||"",onChange:mt=>vt("hoaFees",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"pmi",children:"PMI"}),jsxRuntimeExports.jsx(Input,{id:"pmi",type:"number",value:et.pmi||"",onChange:mt=>vt("pmi",parseFloat(mt.target.value)||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"servicingFee",children:"Servicing Fee"}),jsxRuntimeExports.jsx(Input,{id:"servicingFee",type:"number",value:et.servicingFee||"",onChange:mt=>vt("servicingFee",parseFloat(mt.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"otherMonthly",children:"Other Monthly"}),jsxRuntimeExports.jsx(Input,{id:"otherMonthly",type:"number",value:et.otherMonthly||"",onChange:mt=>vt("otherMonthly",parseFloat(mt.target.value)||0)})]})]})]})]})]})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"contacts",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"h-5 w-5"}),"Borrower Information"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerName",children:"Contact Name"}),jsxRuntimeExports.jsx(Input,{id:"borrowerName",value:et.borrowerName||"",onChange:mt=>vt("borrowerName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerCompanyName",children:"Company Name"}),jsxRuntimeExports.jsx(Input,{id:"borrowerCompanyName",value:et.borrowerCompanyName||"",onChange:mt=>vt("borrowerCompanyName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"borrowerPhone",value:et.borrowerPhone||"",onChange:mt=>vt("borrowerPhone",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"borrowerEmail",type:"email",value:et.borrowerEmail||"",onChange:mt=>vt("borrowerEmail",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"borrowerAddress",value:et.borrowerAddress||"",onChange:mt=>vt("borrowerAddress",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"borrowerCity",value:et.borrowerCity||"",onChange:mt=>vt("borrowerCity",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"borrowerState",value:et.borrowerState||"",onChange:mt=>vt("borrowerState",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"borrowerZip",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"borrowerZip",value:et.borrowerZip||"",onChange:mt=>vt("borrowerZip",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-3",children:"Credit Scores"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreEquifax",children:"Equifax"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreEquifax",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.creditScoreEquifax||"",onChange:mt=>vt("creditScoreEquifax",parseInt(mt.target.value)||null)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreExperian",children:"Experian"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreExperian",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.creditScoreExperian||"",onChange:mt=>vt("creditScoreExperian",parseInt(mt.target.value)||null)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"creditScoreTransunion",children:"TransUnion"}),jsxRuntimeExports.jsx(Input,{id:"creditScoreTransunion",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.creditScoreTransunion||"",onChange:mt=>vt("creditScoreTransunion",parseInt(mt.target.value)||null)})]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"Co-Borrower Information"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerName",children:"Contact Name"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerName",value:et.coBorrowerName||"",onChange:mt=>vt("coBorrowerName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCompanyName",children:"Company Name"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCompanyName",value:et.coBorrowerCompanyName||"",onChange:mt=>vt("coBorrowerCompanyName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerPhone",value:et.coBorrowerPhone||"",onChange:mt=>vt("coBorrowerPhone",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerEmail",type:"email",value:et.coBorrowerEmail||"",onChange:mt=>vt("coBorrowerEmail",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerAddress",value:et.coBorrowerAddress||"",onChange:mt=>vt("coBorrowerAddress",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCity",value:et.coBorrowerCity||"",onChange:mt=>vt("coBorrowerCity",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerState",value:et.coBorrowerState||"",onChange:mt=>vt("coBorrowerState",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerZip",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerZip",value:et.coBorrowerZip||"",onChange:mt=>vt("coBorrowerZip",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-3",children:"Credit Scores"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreEquifax",children:"Equifax"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreEquifax",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.coBorrowerCreditScoreEquifax||"",onChange:mt=>vt("coBorrowerCreditScoreEquifax",parseInt(mt.target.value)||null)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreExperian",children:"Experian"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreExperian",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.coBorrowerCreditScoreExperian||"",onChange:mt=>vt("coBorrowerCreditScoreExperian",parseInt(mt.target.value)||null)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"coBorrowerCreditScoreTransunion",children:"TransUnion"}),jsxRuntimeExports.jsx(Input,{id:"coBorrowerCreditScoreTransunion",type:"number",placeholder:"300-850",min:"300",max:"850",value:et.coBorrowerCreditScoreTransunion||"",onChange:mt=>vt("coBorrowerCreditScoreTransunion",parseInt(mt.target.value)||null)})]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5"}),"Trustee Information"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeName",children:"Contact Name"}),jsxRuntimeExports.jsx(Input,{id:"trusteeName",value:et.trusteeName||"",onChange:mt=>vt("trusteeName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeCompanyName",children:"Company Name"}),jsxRuntimeExports.jsx(Input,{id:"trusteeCompanyName",value:et.trusteeCompanyName||"",onChange:mt=>vt("trusteeCompanyName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteePhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"trusteePhone",value:et.trusteePhone||"",onChange:mt=>vt("trusteePhone",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"trusteeEmail",type:"email",value:et.trusteeEmail||"",onChange:mt=>vt("trusteeEmail",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"trusteeStreetAddress",value:et.trusteeStreetAddress||"",onChange:mt=>vt("trusteeStreetAddress",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"trusteeCity",value:et.trusteeCity||"",onChange:mt=>vt("trusteeCity",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"trusteeState",value:et.trusteeState||"",onChange:mt=>vt("trusteeState",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"trusteeZipCode",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"trusteeZipCode",value:et.trusteeZipCode||"",onChange:mt=>vt("trusteeZipCode",mt.target.value)})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5"}),"Escrow Company Information"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyName",children:"Company Name"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyName",value:et.escrowCompanyName||"",onChange:mt=>vt("escrowCompanyName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowNumber",children:"Escrow Number"}),jsxRuntimeExports.jsx(Input,{id:"escrowNumber",value:et.escrowNumber||"",onChange:mt=>vt("escrowNumber",mt.target.value),placeholder:"ESC-123456"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyPhone",value:et.escrowCompanyPhone||"",onChange:mt=>vt("escrowCompanyPhone",mt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyStreetAddress",value:et.escrowCompanyStreetAddress||"",onChange:mt=>vt("escrowCompanyStreetAddress",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyCity",value:et.escrowCompanyCity||"",onChange:mt=>vt("escrowCompanyCity",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyState",value:et.escrowCompanyState||"",onChange:mt=>vt("escrowCompanyState",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"escrowCompanyZipCode",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"escrowCompanyZipCode",value:et.escrowCompanyZipCode||"",onChange:mt=>vt("escrowCompanyZipCode",mt.target.value)})]})]})]})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"beneficiaries",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"Beneficiary Information"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage beneficiary details for this loan"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryName",children:"Contact Name"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryName",value:et.beneficiaryName||"",onChange:mt=>vt("beneficiaryName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryCompanyName",children:"Company Name"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryCompanyName",value:et.beneficiaryCompanyName||"",onChange:mt=>vt("beneficiaryCompanyName",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryPhone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryPhone",value:et.beneficiaryPhone||"",onChange:mt=>vt("beneficiaryPhone",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryEmail",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryEmail",type:"email",value:et.beneficiaryEmail||"",onChange:mt=>vt("beneficiaryEmail",mt.target.value)})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Beneficiary Address"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryStreetAddress",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryStreetAddress",value:et.beneficiaryStreetAddress||"",onChange:mt=>vt("beneficiaryStreetAddress",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryCity",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryCity",value:et.beneficiaryCity||"",onChange:mt=>vt("beneficiaryCity",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryState",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryState",value:et.beneficiaryState||"",onChange:mt=>vt("beneficiaryState",mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"beneficiaryZipCode",children:"Zip Code"}),jsxRuntimeExports.jsx(Input,{id:"beneficiaryZipCode",value:et.beneficiaryZipCode||"",onChange:mt=>vt("beneficiaryZipCode",mt.target.value)})]})]})]})]})]}),jsxRuntimeExports.jsx(LoanInvestorsManager,{loanId:j})]}),jsxRuntimeExports.jsx(TabsContent,{value:"escrows",className:"space-y-6",children:jsxRuntimeExports.jsx(EscrowDisbursementsTab,{loanId:parseInt(j)})}),jsxRuntimeExports.jsx(TabsContent,{value:"documents",className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Document Management"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage all documents related to this loan"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[ut&&ut.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-medium",children:"Attached Documents"}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:ut.map(mt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-500"}),jsxRuntimeExports.jsxs("div",{className:"cursor-pointer",onClick:()=>{it(mt),ot(!0)},children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 hover:text-blue-600 underline",children:mt.title||mt.fileName}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:mt.description}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:[mt.mimeType," • ",Math.round((mt.fileSize||0)/1024),"KB"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{it(mt),ot(!0)},children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{const Et=document.createElement("a");Et.href=`/api/documents/${mt.id}/file`,Et.download=mt.fileName,Et.click()},children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})]})]},mt.id))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No documents attached to this loan"})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-medium mb-3",children:"Upload New Documents"}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsx(DocumentUploader,{loanId:parseInt(j),onUploadComplete:()=>{_e({title:"Documents uploaded",description:"All documents have been attached to this loan."}),lt()}})})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"accounting",className:"space-y-6",children:jsxRuntimeExports.jsx(LoanAccountingLedger,{loanId:j,loanAmount:parseFloat(et.loanAmount)||0})}),jsxRuntimeExports.jsx(TabsContent,{value:"audit",className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"h-5 w-5"}),"Audit Trail"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Complete history of all changes made to this loan"})]}),jsxRuntimeExports.jsx(CardContent,{children:ft&&ft.length>0?jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Date"}),jsxRuntimeExports.jsx(TableHead,{children:"User"}),jsxRuntimeExports.jsx(TableHead,{children:"Action"}),jsxRuntimeExports.jsx(TableHead,{children:"Details"})]})}),jsxRuntimeExports.jsx(TableBody,{children:ft.map(mt=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:new Date(mt.createdAt).toLocaleString()}),jsxRuntimeExports.jsx(TableCell,{children:mt.userName||"System"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:mt.action})}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm text-gray-600",children:mt.details})]},mt.id))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx(History,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No audit history available"})]})})]})})]}),jsxRuntimeExports.jsx(DocumentPreviewModal,{open:at,onOpenChange:ot,document:st})]})}function Loans(){const[j,_]=reactExports.useState(!1),[$,_e]=reactExports.useState(null);return useLocation(),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Loan Portfolio"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Manage and monitor all loan accounts"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 mr-2"}),"Advanced Filters"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>_(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Create New Loan"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:$?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>_e(null),className:"mb-4",children:"← Back to Loan List"})}),jsxRuntimeExports.jsx(LoanEditForm,{loanId:$,onSave:()=>_e(null),onCancel:()=>_e(null)})]}):jsxRuntimeExports.jsx(LoanTable,{onEditLoan:_e,onViewLoan:_e,onDeleteLoan:et=>{fetch(`/api/loans/${et}`,{method:"DELETE"}).then(()=>{queryClient.invalidateQueries({queryKey:["/api/loans"]}),queryClient.invalidateQueries({queryKey:["/api/loans/metrics"]})}).catch(tt=>console.error("Error deleting loan:",tt))}})})]}),jsxRuntimeExports.jsx(EnhancedNewLoanDialog,{open:j,onOpenChange:_,onLoanCreated:et=>{_(!1),_e(et)}})]})}function Payments(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payment Management"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Process and track loan payments"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Export"]}),jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Payment Processing"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500 mb-4",children:"Payment processing interface would be implemented here."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-400",children:"This would include payment entry forms, batch processing, and payment history."})]})})]})})]})]})}function Documents(){const[j,_]=reactExports.useState(!0),[$,_e]=reactExports.useState(null),[et,tt]=reactExports.useState(!1),{toast:rt}=useToast(),{data:nt,isLoading:st}=useQuery({queryKey:["/api/documents"]}),{data:it}=useQuery({queryKey:["/api/loans"]}),at=useMutation({mutationFn:async lt=>{if(!(await apiRequest("DELETE",`/api/documents/${lt}`)).ok)throw new Error("Failed to delete document")},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/documents"]}),rt({title:"Document deleted",description:"The document has been removed successfully."})},onError:()=>{rt({title:"Delete failed",description:"Unable to delete the document.",variant:"destructive"})}}),ot=lt=>{if(Array.isArray(it)){const ft=it.find(ht=>ht.id===lt);return(ft==null?void 0:ft.loanNumber)||`Loan #${lt}`}return`Loan #${lt}`},ct=lt=>{const ft=parseInt(lt);if(ft===0)return"0 Bytes";const ht=1024,yt=["Bytes","KB","MB","GB"],vt=Math.floor(Math.log(ft)/Math.log(ht));return Math.round(ft/Math.pow(ht,vt)*100)/100+" "+yt[vt]},dt=lt=>new Date(lt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),pt=lt=>{const ft={loan_application:"bg-blue-100 text-blue-800",loan_agreement:"bg-blue-100 text-blue-800",promissory_note:"bg-indigo-100 text-indigo-800",deed_of_trust:"bg-purple-100 text-purple-800",mortgage:"bg-purple-100 text-purple-800",security_agreement:"bg-purple-100 text-purple-800",insurance_policy:"bg-red-100 text-red-800",tax_document:"bg-yellow-100 text-yellow-800",financial_statement:"bg-green-100 text-green-800",appraisal:"bg-orange-100 text-orange-800",title_report:"bg-orange-100 text-orange-800",escrow_statement:"bg-teal-100 text-teal-800",correspondence:"bg-gray-100 text-gray-800",other:"bg-gray-100 text-gray-800"};return ft[lt]||ft.other},ut=lt=>lt?lt.includes("pdf")?"📄":lt.includes("image")?"🖼️":lt.includes("word")||lt.includes("doc")?"📝":lt.includes("excel")||lt.includes("spreadsheet")?"📊":"📎":"📎";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Document Management"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Upload and manage loan documents"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:j?"outline":"default",onClick:()=>_(!j),children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),j?"Hide Uploader":"Upload Documents"]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[j&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Upload Documents"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(DocumentUploader,{standalone:!0,onUploadComplete:()=>{_(!1),rt({title:"Upload complete",description:"All documents have been uploaded successfully."})}})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"All Documents"})}),jsxRuntimeExports.jsx(CardContent,{children:st?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading documents..."}):!Array.isArray(nt)||nt.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No documents uploaded yet. Start by uploading some documents above."}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:nt.map(lt=>{var ft;return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mt-1",children:ut(lt.fileType)}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:lt.fileName}),jsxRuntimeExports.jsx(Badge,{className:pt(lt.category),children:(ft=lt.category)==null?void 0:ft.replace("_"," ")})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:lt.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(FileType,{className:"h-3 w-3 mr-1"}),ct(lt.fileSize)]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-3 w-3 mr-1"}),dt(lt.uploadedAt||lt.createdAt)]}),lt.loanId&&jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"h-3 w-3 mr-1"}),ot(lt.loanId)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{_e(lt),tt(!0)},children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{window.open(`/api/documents/${lt.id}/file`,"_blank")},children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>at.mutate(lt.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})]},lt.id)})})})]})]})]}),jsxRuntimeExports.jsx(DocumentPreviewModal,{open:et,onOpenChange:tt,document:$})]})}function EscrowSummary(){const{data:j,isLoading:_}=useQuery({queryKey:["/api/escrow/metrics"]}),{data:$,isLoading:_e}=useQuery({queryKey:["/api/escrow-payments",{limit:5}]}),et=nt=>{const st=typeof nt=="string"?parseFloat(nt):nt;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,notation:"compact"}).format(st)},tt=nt=>nt?new Date(nt).toLocaleDateString():"N/A",rt=nt=>{switch(nt){case"approved":return"default";case"pending":return"secondary";case"paid":return"outline";default:return"destructive"}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Escrow Management"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Track and manage escrow accounts for taxes, insurance, and HOA payments"})]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",children:"Schedule Payment"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Escrow Balance"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-900",children:_?"...":et((j==null?void 0:j.totalBalance)||0)})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-blue-700"})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800",children:"Insurance Payments"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-900",children:_?"...":et((j==null?void 0:j.insurancePayments)||0)})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-green-700"})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Tax Payments"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:_?"...":et((j==null?void 0:j.taxPayments)||0)})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Building,{className:"w-5 h-5 text-yellow-700"})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-purple-800",children:"HOA Payments"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-900",children:_?"...":et((j==null?void 0:j.hoaPayments)||0)})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-purple-700"})})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Upcoming Payments"}),_e?jsxRuntimeExports.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((nt,st)=>jsxRuntimeExports.jsx("div",{className:"h-12 bg-slate-200 rounded"},st))}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loan"}),jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payee"}),jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:$&&$.length>0?$.map(nt=>{var st;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-sm text-primary-600 font-medium",children:["#",(st=nt.loanId)==null?void 0:st.slice(-8)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-slate-900",children:nt.payeeName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-900",children:et(nt.amount)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-slate-900",children:tt(nt.dueDate)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:jsxRuntimeExports.jsx(Badge,{variant:rt(nt.status),children:nt.status.charAt(0).toUpperCase()+nt.status.slice(1)})})]},nt.id)}):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"No upcoming payments scheduled."})})})]})})]})]})]})}function toDate(j){const _=Object.prototype.toString.call(j);return j instanceof Date||typeof j=="object"&&_==="[object Date]"?new j.constructor(+j):typeof j=="number"||_==="[object Number]"||typeof j=="string"||_==="[object String]"?new Date(j):new Date(NaN)}function constructFrom(j,_){return j instanceof Date?new j.constructor(_):new Date(_)}function addDays(j,_){const $=toDate(j);return isNaN(_)?constructFrom(j,NaN):(_&&$.setDate($.getDate()+_),$)}function addMonths(j,_){const $=toDate(j);if(isNaN(_))return constructFrom(j,NaN);if(!_)return $;const _e=$.getDate(),et=constructFrom(j,$.getTime());et.setMonth($.getMonth()+_+1,0);const tt=et.getDate();return _e>=tt?et:($.setFullYear(et.getFullYear(),et.getMonth(),_e),$)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(j,_){var nt,st,it,at;const $=getDefaultOptions(),_e=(_==null?void 0:_.weekStartsOn)??((st=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:st.weekStartsOn)??$.weekStartsOn??((at=(it=$.locale)==null?void 0:it.options)==null?void 0:at.weekStartsOn)??0,et=toDate(j),tt=et.getDay(),rt=(tt<_e?7:0)+tt-_e;return et.setDate(et.getDate()-rt),et.setHours(0,0,0,0),et}function startOfISOWeek(j){return startOfWeek(j,{weekStartsOn:1})}function getISOWeekYear(j){const _=toDate(j),$=_.getFullYear(),_e=constructFrom(j,0);_e.setFullYear($+1,0,4),_e.setHours(0,0,0,0);const et=startOfISOWeek(_e),tt=constructFrom(j,0);tt.setFullYear($,0,4),tt.setHours(0,0,0,0);const rt=startOfISOWeek(tt);return _.getTime()>=et.getTime()?$+1:_.getTime()>=rt.getTime()?$:$-1}function startOfDay(j){const _=toDate(j);return _.setHours(0,0,0,0),_}function getTimezoneOffsetInMilliseconds(j){const _=toDate(j),$=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds()));return $.setUTCFullYear(_.getFullYear()),+j-+$}function differenceInCalendarDays(j,_){const $=startOfDay(j),_e=startOfDay(_),et=+$-getTimezoneOffsetInMilliseconds($),tt=+_e-getTimezoneOffsetInMilliseconds(_e);return Math.round((et-tt)/millisecondsInDay)}function startOfISOWeekYear(j){const _=getISOWeekYear(j),$=constructFrom(j,0);return $.setFullYear(_,0,4),$.setHours(0,0,0,0),startOfISOWeek($)}function addWeeks(j,_){const $=_*7;return addDays(j,$)}function addYears(j,_){return addMonths(j,_*12)}function max$3(j){let _;return j.forEach(function($){const _e=toDate($);(_===void 0||_<_e||isNaN(Number(_e)))&&(_=_e)}),_||new Date(NaN)}function min$3(j){let _;return j.forEach($=>{const _e=toDate($);(!_||_>_e||isNaN(+_e))&&(_=_e)}),_||new Date(NaN)}function isSameDay(j,_){const $=startOfDay(j),_e=startOfDay(_);return+$==+_e}function isDate(j){return j instanceof Date||typeof j=="object"&&Object.prototype.toString.call(j)==="[object Date]"}function isValid(j){if(!isDate(j)&&typeof j!="number")return!1;const _=toDate(j);return!isNaN(Number(_))}function differenceInCalendarMonths(j,_){const $=toDate(j),_e=toDate(_),et=$.getFullYear()-_e.getFullYear(),tt=$.getMonth()-_e.getMonth();return et*12+tt}function differenceInCalendarWeeks(j,_,$){const _e=startOfWeek(j,$),et=startOfWeek(_,$),tt=+_e-getTimezoneOffsetInMilliseconds(_e),rt=+et-getTimezoneOffsetInMilliseconds(et);return Math.round((tt-rt)/millisecondsInWeek)}function endOfMonth(j){const _=toDate(j),$=_.getMonth();return _.setFullYear(_.getFullYear(),$+1,0),_.setHours(23,59,59,999),_}function startOfMonth(j){const _=toDate(j);return _.setDate(1),_.setHours(0,0,0,0),_}function startOfYear(j){const _=toDate(j),$=constructFrom(j,0);return $.setFullYear(_.getFullYear(),0,1),$.setHours(0,0,0,0),$}function endOfWeek(j,_){var nt,st,it,at;const $=getDefaultOptions(),_e=(_==null?void 0:_.weekStartsOn)??((st=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:st.weekStartsOn)??$.weekStartsOn??((at=(it=$.locale)==null?void 0:it.options)==null?void 0:at.weekStartsOn)??0,et=toDate(j),tt=et.getDay(),rt=(tt<_e?-7:0)+6-(tt-_e);return et.setDate(et.getDate()+rt),et.setHours(23,59,59,999),et}function endOfISOWeek(j){return endOfWeek(j,{weekStartsOn:1})}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(j,_,$)=>{let _e;const et=formatDistanceLocale[j];return typeof et=="string"?_e=et:_===1?_e=et.one:_e=et.other.replace("{{count}}",_.toString()),$!=null&&$.addSuffix?$.comparison&&$.comparison>0?"in "+_e:_e+" ago":_e};function buildFormatLongFn(j){return(_={})=>{const $=_.width?String(_.width):j.defaultWidth;return j.formats[$]||j.formats[j.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(j,_,$,_e)=>formatRelativeLocale[j];function buildLocalizeFn(j){return(_,$)=>{const _e=$!=null&&$.context?String($.context):"standalone";let et;if(_e==="formatting"&&j.formattingValues){const rt=j.defaultFormattingWidth||j.defaultWidth,nt=$!=null&&$.width?String($.width):rt;et=j.formattingValues[nt]||j.formattingValues[rt]}else{const rt=j.defaultWidth,nt=$!=null&&$.width?String($.width):j.defaultWidth;et=j.values[nt]||j.values[rt]}const tt=j.argumentCallback?j.argumentCallback(_):_;return et[tt]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(j,_)=>{const $=Number(j),_e=$%100;if(_e>20||_e<10)switch(_e%10){case 1:return $+"st";case 2:return $+"nd";case 3:return $+"rd"}return $+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:j=>j-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(j){return(_,$={})=>{const _e=$.width,et=_e&&j.matchPatterns[_e]||j.matchPatterns[j.defaultMatchWidth],tt=_.match(et);if(!tt)return null;const rt=tt[0],nt=_e&&j.parsePatterns[_e]||j.parsePatterns[j.defaultParseWidth],st=Array.isArray(nt)?findIndex$2(nt,ot=>ot.test(rt)):findKey(nt,ot=>ot.test(rt));let it;it=j.valueCallback?j.valueCallback(st):st,it=$.valueCallback?$.valueCallback(it):it;const at=_.slice(rt.length);return{value:it,rest:at}}}function findKey(j,_){for(const $ in j)if(Object.prototype.hasOwnProperty.call(j,$)&&_(j[$]))return $}function findIndex$2(j,_){for(let $=0;$<j.length;$++)if(_(j[$]))return $}function buildMatchPatternFn(j){return(_,$={})=>{const _e=_.match(j.matchPattern);if(!_e)return null;const et=_e[0],tt=_.match(j.parsePattern);if(!tt)return null;let rt=j.valueCallback?j.valueCallback(tt[0]):tt[0];rt=$.valueCallback?$.valueCallback(rt):rt;const nt=_.slice(et.length);return{value:rt,rest:nt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:j=>parseInt(j,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:j=>j+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(j){const _=toDate(j);return differenceInCalendarDays(_,startOfYear(_))+1}function getISOWeek(j){const _=toDate(j),$=+startOfISOWeek(_)-+startOfISOWeekYear(_);return Math.round($/millisecondsInWeek)+1}function getWeekYear(j,_){var at,ot,ct,dt;const $=toDate(j),_e=$.getFullYear(),et=getDefaultOptions(),tt=(_==null?void 0:_.firstWeekContainsDate)??((ot=(at=_==null?void 0:_.locale)==null?void 0:at.options)==null?void 0:ot.firstWeekContainsDate)??et.firstWeekContainsDate??((dt=(ct=et.locale)==null?void 0:ct.options)==null?void 0:dt.firstWeekContainsDate)??1,rt=constructFrom(j,0);rt.setFullYear(_e+1,0,tt),rt.setHours(0,0,0,0);const nt=startOfWeek(rt,_),st=constructFrom(j,0);st.setFullYear(_e,0,tt),st.setHours(0,0,0,0);const it=startOfWeek(st,_);return $.getTime()>=nt.getTime()?_e+1:$.getTime()>=it.getTime()?_e:_e-1}function startOfWeekYear(j,_){var nt,st,it,at;const $=getDefaultOptions(),_e=(_==null?void 0:_.firstWeekContainsDate)??((st=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:st.firstWeekContainsDate)??$.firstWeekContainsDate??((at=(it=$.locale)==null?void 0:it.options)==null?void 0:at.firstWeekContainsDate)??1,et=getWeekYear(j,_),tt=constructFrom(j,0);return tt.setFullYear(et,0,_e),tt.setHours(0,0,0,0),startOfWeek(tt,_)}function getWeek(j,_){const $=toDate(j),_e=+startOfWeek($,_)-+startOfWeekYear($,_);return Math.round(_e/millisecondsInWeek)+1}function addLeadingZeros(j,_){const $=j<0?"-":"",_e=Math.abs(j).toString().padStart(_,"0");return $+_e}const lightFormatters={y(j,_){const $=j.getFullYear(),_e=$>0?$:1-$;return addLeadingZeros(_==="yy"?_e%100:_e,_.length)},M(j,_){const $=j.getMonth();return _==="M"?String($+1):addLeadingZeros($+1,2)},d(j,_){return addLeadingZeros(j.getDate(),_.length)},a(j,_){const $=j.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.toUpperCase();case"aaa":return $;case"aaaaa":return $[0];case"aaaa":default:return $==="am"?"a.m.":"p.m."}},h(j,_){return addLeadingZeros(j.getHours()%12||12,_.length)},H(j,_){return addLeadingZeros(j.getHours(),_.length)},m(j,_){return addLeadingZeros(j.getMinutes(),_.length)},s(j,_){return addLeadingZeros(j.getSeconds(),_.length)},S(j,_){const $=_.length,_e=j.getMilliseconds(),et=Math.trunc(_e*Math.pow(10,$-3));return addLeadingZeros(et,_.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$1={G:function(j,_,$){const _e=j.getFullYear()>0?1:0;switch(_){case"G":case"GG":case"GGG":return $.era(_e,{width:"abbreviated"});case"GGGGG":return $.era(_e,{width:"narrow"});case"GGGG":default:return $.era(_e,{width:"wide"})}},y:function(j,_,$){if(_==="yo"){const _e=j.getFullYear(),et=_e>0?_e:1-_e;return $.ordinalNumber(et,{unit:"year"})}return lightFormatters.y(j,_)},Y:function(j,_,$,_e){const et=getWeekYear(j,_e),tt=et>0?et:1-et;if(_==="YY"){const rt=tt%100;return addLeadingZeros(rt,2)}return _==="Yo"?$.ordinalNumber(tt,{unit:"year"}):addLeadingZeros(tt,_.length)},R:function(j,_){const $=getISOWeekYear(j);return addLeadingZeros($,_.length)},u:function(j,_){const $=j.getFullYear();return addLeadingZeros($,_.length)},Q:function(j,_,$){const _e=Math.ceil((j.getMonth()+1)/3);switch(_){case"Q":return String(_e);case"QQ":return addLeadingZeros(_e,2);case"Qo":return $.ordinalNumber(_e,{unit:"quarter"});case"QQQ":return $.quarter(_e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return $.quarter(_e,{width:"narrow",context:"formatting"});case"QQQQ":default:return $.quarter(_e,{width:"wide",context:"formatting"})}},q:function(j,_,$){const _e=Math.ceil((j.getMonth()+1)/3);switch(_){case"q":return String(_e);case"qq":return addLeadingZeros(_e,2);case"qo":return $.ordinalNumber(_e,{unit:"quarter"});case"qqq":return $.quarter(_e,{width:"abbreviated",context:"standalone"});case"qqqqq":return $.quarter(_e,{width:"narrow",context:"standalone"});case"qqqq":default:return $.quarter(_e,{width:"wide",context:"standalone"})}},M:function(j,_,$){const _e=j.getMonth();switch(_){case"M":case"MM":return lightFormatters.M(j,_);case"Mo":return $.ordinalNumber(_e+1,{unit:"month"});case"MMM":return $.month(_e,{width:"abbreviated",context:"formatting"});case"MMMMM":return $.month(_e,{width:"narrow",context:"formatting"});case"MMMM":default:return $.month(_e,{width:"wide",context:"formatting"})}},L:function(j,_,$){const _e=j.getMonth();switch(_){case"L":return String(_e+1);case"LL":return addLeadingZeros(_e+1,2);case"Lo":return $.ordinalNumber(_e+1,{unit:"month"});case"LLL":return $.month(_e,{width:"abbreviated",context:"standalone"});case"LLLLL":return $.month(_e,{width:"narrow",context:"standalone"});case"LLLL":default:return $.month(_e,{width:"wide",context:"standalone"})}},w:function(j,_,$,_e){const et=getWeek(j,_e);return _==="wo"?$.ordinalNumber(et,{unit:"week"}):addLeadingZeros(et,_.length)},I:function(j,_,$){const _e=getISOWeek(j);return _==="Io"?$.ordinalNumber(_e,{unit:"week"}):addLeadingZeros(_e,_.length)},d:function(j,_,$){return _==="do"?$.ordinalNumber(j.getDate(),{unit:"date"}):lightFormatters.d(j,_)},D:function(j,_,$){const _e=getDayOfYear(j);return _==="Do"?$.ordinalNumber(_e,{unit:"dayOfYear"}):addLeadingZeros(_e,_.length)},E:function(j,_,$){const _e=j.getDay();switch(_){case"E":case"EE":case"EEE":return $.day(_e,{width:"abbreviated",context:"formatting"});case"EEEEE":return $.day(_e,{width:"narrow",context:"formatting"});case"EEEEEE":return $.day(_e,{width:"short",context:"formatting"});case"EEEE":default:return $.day(_e,{width:"wide",context:"formatting"})}},e:function(j,_,$,_e){const et=j.getDay(),tt=(et-_e.weekStartsOn+8)%7||7;switch(_){case"e":return String(tt);case"ee":return addLeadingZeros(tt,2);case"eo":return $.ordinalNumber(tt,{unit:"day"});case"eee":return $.day(et,{width:"abbreviated",context:"formatting"});case"eeeee":return $.day(et,{width:"narrow",context:"formatting"});case"eeeeee":return $.day(et,{width:"short",context:"formatting"});case"eeee":default:return $.day(et,{width:"wide",context:"formatting"})}},c:function(j,_,$,_e){const et=j.getDay(),tt=(et-_e.weekStartsOn+8)%7||7;switch(_){case"c":return String(tt);case"cc":return addLeadingZeros(tt,_.length);case"co":return $.ordinalNumber(tt,{unit:"day"});case"ccc":return $.day(et,{width:"abbreviated",context:"standalone"});case"ccccc":return $.day(et,{width:"narrow",context:"standalone"});case"cccccc":return $.day(et,{width:"short",context:"standalone"});case"cccc":default:return $.day(et,{width:"wide",context:"standalone"})}},i:function(j,_,$){const _e=j.getDay(),et=_e===0?7:_e;switch(_){case"i":return String(et);case"ii":return addLeadingZeros(et,_.length);case"io":return $.ordinalNumber(et,{unit:"day"});case"iii":return $.day(_e,{width:"abbreviated",context:"formatting"});case"iiiii":return $.day(_e,{width:"narrow",context:"formatting"});case"iiiiii":return $.day(_e,{width:"short",context:"formatting"});case"iiii":default:return $.day(_e,{width:"wide",context:"formatting"})}},a:function(j,_,$){const et=j.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"aaa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"aaaa":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},b:function(j,_,$){const _e=j.getHours();let et;switch(_e===12?et=dayPeriodEnum.noon:_e===0?et=dayPeriodEnum.midnight:et=_e/12>=1?"pm":"am",_){case"b":case"bb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"bbb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"bbbb":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},B:function(j,_,$){const _e=j.getHours();let et;switch(_e>=17?et=dayPeriodEnum.evening:_e>=12?et=dayPeriodEnum.afternoon:_e>=4?et=dayPeriodEnum.morning:et=dayPeriodEnum.night,_){case"B":case"BB":case"BBB":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"BBBBB":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"BBBB":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},h:function(j,_,$){if(_==="ho"){let _e=j.getHours()%12;return _e===0&&(_e=12),$.ordinalNumber(_e,{unit:"hour"})}return lightFormatters.h(j,_)},H:function(j,_,$){return _==="Ho"?$.ordinalNumber(j.getHours(),{unit:"hour"}):lightFormatters.H(j,_)},K:function(j,_,$){const _e=j.getHours()%12;return _==="Ko"?$.ordinalNumber(_e,{unit:"hour"}):addLeadingZeros(_e,_.length)},k:function(j,_,$){let _e=j.getHours();return _e===0&&(_e=24),_==="ko"?$.ordinalNumber(_e,{unit:"hour"}):addLeadingZeros(_e,_.length)},m:function(j,_,$){return _==="mo"?$.ordinalNumber(j.getMinutes(),{unit:"minute"}):lightFormatters.m(j,_)},s:function(j,_,$){return _==="so"?$.ordinalNumber(j.getSeconds(),{unit:"second"}):lightFormatters.s(j,_)},S:function(j,_){return lightFormatters.S(j,_)},X:function(j,_,$){const _e=j.getTimezoneOffset();if(_e===0)return"Z";switch(_){case"X":return formatTimezoneWithOptionalMinutes(_e);case"XXXX":case"XX":return formatTimezone(_e);case"XXXXX":case"XXX":default:return formatTimezone(_e,":")}},x:function(j,_,$){const _e=j.getTimezoneOffset();switch(_){case"x":return formatTimezoneWithOptionalMinutes(_e);case"xxxx":case"xx":return formatTimezone(_e);case"xxxxx":case"xxx":default:return formatTimezone(_e,":")}},O:function(j,_,$){const _e=j.getTimezoneOffset();switch(_){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(_e,":");case"OOOO":default:return"GMT"+formatTimezone(_e,":")}},z:function(j,_,$){const _e=j.getTimezoneOffset();switch(_){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(_e,":");case"zzzz":default:return"GMT"+formatTimezone(_e,":")}},t:function(j,_,$){const _e=Math.trunc(j.getTime()/1e3);return addLeadingZeros(_e,_.length)},T:function(j,_,$){const _e=j.getTime();return addLeadingZeros(_e,_.length)}};function formatTimezoneShort(j,_=""){const $=j>0?"-":"+",_e=Math.abs(j),et=Math.trunc(_e/60),tt=_e%60;return tt===0?$+String(et):$+String(et)+_+addLeadingZeros(tt,2)}function formatTimezoneWithOptionalMinutes(j,_){return j%60===0?(j>0?"-":"+")+addLeadingZeros(Math.abs(j)/60,2):formatTimezone(j,_)}function formatTimezone(j,_=""){const $=j>0?"-":"+",_e=Math.abs(j),et=addLeadingZeros(Math.trunc(_e/60),2),tt=addLeadingZeros(_e%60,2);return $+et+_+tt}const dateLongFormatter=(j,_)=>{switch(j){case"P":return _.date({width:"short"});case"PP":return _.date({width:"medium"});case"PPP":return _.date({width:"long"});case"PPPP":default:return _.date({width:"full"})}},timeLongFormatter=(j,_)=>{switch(j){case"p":return _.time({width:"short"});case"pp":return _.time({width:"medium"});case"ppp":return _.time({width:"long"});case"pppp":default:return _.time({width:"full"})}},dateTimeLongFormatter=(j,_)=>{const $=j.match(/(P+)(p+)?/)||[],_e=$[1],et=$[2];if(!et)return dateLongFormatter(j,_);let tt;switch(_e){case"P":tt=_.dateTime({width:"short"});break;case"PP":tt=_.dateTime({width:"medium"});break;case"PPP":tt=_.dateTime({width:"long"});break;case"PPPP":default:tt=_.dateTime({width:"full"});break}return tt.replace("{{date}}",dateLongFormatter(_e,_)).replace("{{time}}",timeLongFormatter(et,_))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(j){return dayOfYearTokenRE.test(j)}function isProtectedWeekYearToken(j){return weekYearTokenRE.test(j)}function warnOrThrowProtectedError(j,_,$){const _e=message(j,_,$);if(console.warn(_e),throwTokens.includes(j))throw new RangeError(_e)}function message(j,_,$){const _e=j[0]==="Y"?"years":"days of the month";return`Use \`${j.toLowerCase()}\` instead of \`${j}\` (in \`${_}\`) for formatting ${_e} to the input \`${$}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format$1(j,_,$){var at,ot,ct,dt,pt,ut,lt,ft;const _e=getDefaultOptions(),et=($==null?void 0:$.locale)??_e.locale??enUS,tt=($==null?void 0:$.firstWeekContainsDate)??((ot=(at=$==null?void 0:$.locale)==null?void 0:at.options)==null?void 0:ot.firstWeekContainsDate)??_e.firstWeekContainsDate??((dt=(ct=_e.locale)==null?void 0:ct.options)==null?void 0:dt.firstWeekContainsDate)??1,rt=($==null?void 0:$.weekStartsOn)??((ut=(pt=$==null?void 0:$.locale)==null?void 0:pt.options)==null?void 0:ut.weekStartsOn)??_e.weekStartsOn??((ft=(lt=_e.locale)==null?void 0:lt.options)==null?void 0:ft.weekStartsOn)??0,nt=toDate(j);if(!isValid(nt))throw new RangeError("Invalid time value");let st=_.match(longFormattingTokensRegExp).map(ht=>{const yt=ht[0];if(yt==="p"||yt==="P"){const vt=longFormatters[yt];return vt(ht,et.formatLong)}return ht}).join("").match(formattingTokensRegExp).map(ht=>{if(ht==="''")return{isToken:!1,value:"'"};const yt=ht[0];if(yt==="'")return{isToken:!1,value:cleanEscapedString(ht)};if(formatters$1[yt])return{isToken:!0,value:ht};if(yt.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+yt+"`");return{isToken:!1,value:ht}});et.localize.preprocessor&&(st=et.localize.preprocessor(nt,st));const it={firstWeekContainsDate:tt,weekStartsOn:rt,locale:et};return st.map(ht=>{if(!ht.isToken)return ht.value;const yt=ht.value;(!($!=null&&$.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(yt)||!($!=null&&$.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(yt))&&warnOrThrowProtectedError(yt,_,String(j));const vt=formatters$1[yt[0]];return vt(nt,yt,et.localize,it)}).join("")}function cleanEscapedString(j){const _=j.match(escapedStringRegExp);return _?_[1].replace(doubleQuoteRegExp,"'"):j}function getDaysInMonth(j){const _=toDate(j),$=_.getFullYear(),_e=_.getMonth(),et=constructFrom(j,0);return et.setFullYear($,_e+1,0),et.setHours(0,0,0,0),et.getDate()}function getUnixTime(j){return Math.trunc(+toDate(j)/1e3)}function lastDayOfMonth(j){const _=toDate(j),$=_.getMonth();return _.setFullYear(_.getFullYear(),$+1,0),_.setHours(0,0,0,0),_}function getWeeksInMonth(j,_){return differenceInCalendarWeeks(lastDayOfMonth(j),startOfMonth(j),_)+1}function isAfter(j,_){const $=toDate(j),_e=toDate(_);return $.getTime()>_e.getTime()}function isBefore(j,_){const $=toDate(j),_e=toDate(_);return+$<+_e}function isSameMonth(j,_){const $=toDate(j),_e=toDate(_);return $.getFullYear()===_e.getFullYear()&&$.getMonth()===_e.getMonth()}function isSameYear(j,_){const $=toDate(j),_e=toDate(_);return $.getFullYear()===_e.getFullYear()}function subDays(j,_){return addDays(j,-_)}function setMonth(j,_){const $=toDate(j),_e=$.getFullYear(),et=$.getDate(),tt=constructFrom(j,0);tt.setFullYear(_e,_,15),tt.setHours(0,0,0,0);const rt=getDaysInMonth(tt);return $.setMonth(_,Math.min(et,rt)),$}function setYear(j,_){const $=toDate(j);return isNaN(+$)?constructFrom(j,NaN):($.setFullYear(_),$)}var __assign=function(){return __assign=Object.assign||function(_){for(var $,_e=1,et=arguments.length;_e<et;_e++){$=arguments[_e];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(_[tt]=$[tt])}return _},__assign.apply(this,arguments)};function __rest(j,_){var $={};for(var _e in j)Object.prototype.hasOwnProperty.call(j,_e)&&_.indexOf(_e)<0&&($[_e]=j[_e]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,_e=Object.getOwnPropertySymbols(j);et<_e.length;et++)_.indexOf(_e[et])<0&&Object.prototype.propertyIsEnumerable.call(j,_e[et])&&($[_e[et]]=j[_e[et]]);return $}function __spreadArray(j,_,$){for(var _e=0,et=_.length,tt;_e<et;_e++)(tt||!(_e in _))&&(tt||(tt=Array.prototype.slice.call(_,0,_e)),tt[_e]=_[_e]);return j.concat(tt||Array.prototype.slice.call(_))}typeof SuppressedError=="function"&&SuppressedError;function isDayPickerMultiple(j){return j.mode==="multiple"}function isDayPickerRange(j){return j.mode==="range"}function isDayPickerSingle(j){return j.mode==="single"}var defaultClassNames={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function formatCaption(j,_){return format$1(j,"LLLL y",_)}function formatDay(j,_){return format$1(j,"d",_)}function formatMonthCaption(j,_){return format$1(j,"LLLL",_)}function formatWeekNumber(j){return"".concat(j)}function formatWeekdayName(j,_){return format$1(j,"cccccc",_)}function formatYearCaption(j,_){return format$1(j,"yyyy",_)}var formatters=Object.freeze({__proto__:null,formatCaption,formatDay,formatMonthCaption,formatWeekNumber,formatWeekdayName,formatYearCaption}),labelDay=function(j,_,$){return format$1(j,"do MMMM (EEEE)",$)},labelMonthDropdown=function(){return"Month: "},labelNext=function(){return"Go to next month"},labelPrevious=function(){return"Go to previous month"},labelWeekday=function(j,_){return format$1(j,"cccc",_)},labelWeekNumber=function(j){return"Week n. ".concat(j)},labelYearDropdown=function(){return"Year: "},labels=Object.freeze({__proto__:null,labelDay,labelMonthDropdown,labelNext,labelPrevious,labelWeekNumber,labelWeekday,labelYearDropdown});function getDefaultContextValues(){var j="buttons",_=defaultClassNames,$=enUS,_e={},et={},tt=1,rt={},nt=new Date;return{captionLayout:j,classNames:_,formatters,labels,locale:$,modifiersClassNames:_e,modifiers:et,numberOfMonths:tt,styles:rt,today:nt,mode:"default"}}function parseFromToProps(j){var _=j.fromYear,$=j.toYear,_e=j.fromMonth,et=j.toMonth,tt=j.fromDate,rt=j.toDate;return _e?tt=startOfMonth(_e):_&&(tt=new Date(_,0,1)),et?rt=endOfMonth(et):$&&(rt=new Date($,11,31)),{fromDate:tt?startOfDay(tt):void 0,toDate:rt?startOfDay(rt):void 0}}var DayPickerContext=reactExports.createContext(void 0);function DayPickerProvider(j){var _,$=j.initialProps,_e=getDefaultContextValues(),et=parseFromToProps($),tt=et.fromDate,rt=et.toDate,nt=(_=$.captionLayout)!==null&&_!==void 0?_:_e.captionLayout;nt!=="buttons"&&(!tt||!rt)&&(nt="buttons");var st;(isDayPickerSingle($)||isDayPickerMultiple($)||isDayPickerRange($))&&(st=$.onSelect);var it=__assign(__assign(__assign({},_e),$),{captionLayout:nt,classNames:__assign(__assign({},_e.classNames),$.classNames),components:__assign({},$.components),formatters:__assign(__assign({},_e.formatters),$.formatters),fromDate:tt,labels:__assign(__assign({},_e.labels),$.labels),mode:$.mode||_e.mode,modifiers:__assign(__assign({},_e.modifiers),$.modifiers),modifiersClassNames:__assign(__assign({},_e.modifiersClassNames),$.modifiersClassNames),onSelect:st,styles:__assign(__assign({},_e.styles),$.styles),toDate:rt});return jsxRuntimeExports.jsx(DayPickerContext.Provider,{value:it,children:j.children})}function useDayPicker(){var j=reactExports.useContext(DayPickerContext);if(!j)throw new Error("useDayPicker must be used within a DayPickerProvider.");return j}function CaptionLabel(j){var _=useDayPicker(),$=_.locale,_e=_.classNames,et=_.styles,tt=_.formatters.formatCaption;return jsxRuntimeExports.jsx("div",{className:_e.caption_label,style:et.caption_label,"aria-live":"polite",role:"presentation",id:j.id,children:tt(j.displayMonth,{locale:$})})}function IconDropdown(j){return jsxRuntimeExports.jsx("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},j,{children:jsxRuntimeExports.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dropdown(j){var _,$,_e=j.onChange,et=j.value,tt=j.children,rt=j.caption,nt=j.className,st=j.style,it=useDayPicker(),at=($=(_=it.components)===null||_===void 0?void 0:_.IconDropdown)!==null&&$!==void 0?$:IconDropdown;return jsxRuntimeExports.jsxs("div",{className:nt,style:st,children:[jsxRuntimeExports.jsx("span",{className:it.classNames.vhidden,children:j["aria-label"]}),jsxRuntimeExports.jsx("select",{name:j.name,"aria-label":j["aria-label"],className:it.classNames.dropdown,style:it.styles.dropdown,value:et,onChange:_e,children:tt}),jsxRuntimeExports.jsxs("div",{className:it.classNames.caption_label,style:it.styles.caption_label,"aria-hidden":"true",children:[rt,jsxRuntimeExports.jsx(at,{className:it.classNames.dropdown_icon,style:it.styles.dropdown_icon})]})]})}function MonthsDropdown(j){var _,$=useDayPicker(),_e=$.fromDate,et=$.toDate,tt=$.styles,rt=$.locale,nt=$.formatters.formatMonthCaption,st=$.classNames,it=$.components,at=$.labels.labelMonthDropdown;if(!_e)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!et)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var ot=[];if(isSameYear(_e,et))for(var ct=startOfMonth(_e),dt=_e.getMonth();dt<=et.getMonth();dt++)ot.push(setMonth(ct,dt));else for(var ct=startOfMonth(new Date),dt=0;dt<=11;dt++)ot.push(setMonth(ct,dt));var pt=function(lt){var ft=Number(lt.target.value),ht=setMonth(startOfMonth(j.displayMonth),ft);j.onChange(ht)},ut=(_=it==null?void 0:it.Dropdown)!==null&&_!==void 0?_:Dropdown;return jsxRuntimeExports.jsx(ut,{name:"months","aria-label":at(),className:st.dropdown_month,style:tt.dropdown_month,onChange:pt,value:j.displayMonth.getMonth(),caption:nt(j.displayMonth,{locale:rt}),children:ot.map(function(lt){return jsxRuntimeExports.jsx("option",{value:lt.getMonth(),children:nt(lt,{locale:rt})},lt.getMonth())})})}function YearsDropdown(j){var _,$=j.displayMonth,_e=useDayPicker(),et=_e.fromDate,tt=_e.toDate,rt=_e.locale,nt=_e.styles,st=_e.classNames,it=_e.components,at=_e.formatters.formatYearCaption,ot=_e.labels.labelYearDropdown,ct=[];if(!et)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!tt)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});for(var dt=et.getFullYear(),pt=tt.getFullYear(),ut=dt;ut<=pt;ut++)ct.push(setYear(startOfYear(new Date),ut));var lt=function(ht){var yt=setYear(startOfMonth($),Number(ht.target.value));j.onChange(yt)},ft=(_=it==null?void 0:it.Dropdown)!==null&&_!==void 0?_:Dropdown;return jsxRuntimeExports.jsx(ft,{name:"years","aria-label":ot(),className:st.dropdown_year,style:nt.dropdown_year,onChange:lt,value:$.getFullYear(),caption:at($,{locale:rt}),children:ct.map(function(ht){return jsxRuntimeExports.jsx("option",{value:ht.getFullYear(),children:at(ht,{locale:rt})},ht.getFullYear())})})}function useControlledValue(j,_){var $=reactExports.useState(j),_e=$[0],et=$[1],tt=_===void 0?_e:_;return[tt,et]}function getInitialMonth(j){var _=j.month,$=j.defaultMonth,_e=j.today,et=_||$||_e||new Date,tt=j.toDate,rt=j.fromDate,nt=j.numberOfMonths,st=nt===void 0?1:nt;if(tt&&differenceInCalendarMonths(tt,et)<0){var it=-1*(st-1);et=addMonths(tt,it)}return rt&&differenceInCalendarMonths(et,rt)<0&&(et=rt),startOfMonth(et)}function useNavigationState(){var j=useDayPicker(),_=getInitialMonth(j),$=useControlledValue(_,j.month),_e=$[0],et=$[1],tt=function(rt){var nt;if(!j.disableNavigation){var st=startOfMonth(rt);et(st),(nt=j.onMonthChange)===null||nt===void 0||nt.call(j,st)}};return[_e,tt]}function getDisplayMonths(j,_){for(var $=_.reverseMonths,_e=_.numberOfMonths,et=startOfMonth(j),tt=startOfMonth(addMonths(et,_e)),rt=differenceInCalendarMonths(tt,et),nt=[],st=0;st<rt;st++){var it=addMonths(et,st);nt.push(it)}return $&&(nt=nt.reverse()),nt}function getNextMonth(j,_){if(!_.disableNavigation){var $=_.toDate,_e=_.pagedNavigation,et=_.numberOfMonths,tt=et===void 0?1:et,rt=_e?tt:1,nt=startOfMonth(j);if(!$)return addMonths(nt,rt);var st=differenceInCalendarMonths($,j);if(!(st<tt))return addMonths(nt,rt)}}function getPreviousMonth(j,_){if(!_.disableNavigation){var $=_.fromDate,_e=_.pagedNavigation,et=_.numberOfMonths,tt=et===void 0?1:et,rt=_e?tt:1,nt=startOfMonth(j);if(!$)return addMonths(nt,-rt);var st=differenceInCalendarMonths(nt,$);if(!(st<=0))return addMonths(nt,-rt)}}var NavigationContext=reactExports.createContext(void 0);function NavigationProvider(j){var _=useDayPicker(),$=useNavigationState(),_e=$[0],et=$[1],tt=getDisplayMonths(_e,_),rt=getNextMonth(_e,_),nt=getPreviousMonth(_e,_),st=function(ot){return tt.some(function(ct){return isSameMonth(ot,ct)})},it=function(ot,ct){st(ot)||(ct&&isBefore(ot,ct)?et(addMonths(ot,1+_.numberOfMonths*-1)):et(ot))},at={currentMonth:_e,displayMonths:tt,goToMonth:et,goToDate:it,previousMonth:nt,nextMonth:rt,isDateDisplayed:st};return jsxRuntimeExports.jsx(NavigationContext.Provider,{value:at,children:j.children})}function useNavigation(){var j=reactExports.useContext(NavigationContext);if(!j)throw new Error("useNavigation must be used within a NavigationProvider");return j}function CaptionDropdowns(j){var _,$=useDayPicker(),_e=$.classNames,et=$.styles,tt=$.components,rt=useNavigation().goToMonth,nt=function(at){rt(addMonths(at,j.displayIndex?-j.displayIndex:0))},st=(_=tt==null?void 0:tt.CaptionLabel)!==null&&_!==void 0?_:CaptionLabel,it=jsxRuntimeExports.jsx(st,{id:j.id,displayMonth:j.displayMonth});return jsxRuntimeExports.jsxs("div",{className:_e.caption_dropdowns,style:et.caption_dropdowns,children:[jsxRuntimeExports.jsx("div",{className:_e.vhidden,children:it}),jsxRuntimeExports.jsx(MonthsDropdown,{onChange:nt,displayMonth:j.displayMonth}),jsxRuntimeExports.jsx(YearsDropdown,{onChange:nt,displayMonth:j.displayMonth})]})}function IconLeft(j){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},j,{children:jsxRuntimeExports.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IconRight(j){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},j,{children:jsxRuntimeExports.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Button=reactExports.forwardRef(function(j,_){var $=useDayPicker(),_e=$.classNames,et=$.styles,tt=[_e.button_reset,_e.button];j.className&&tt.push(j.className);var rt=tt.join(" "),nt=__assign(__assign({},et.button_reset),et.button);return j.style&&Object.assign(nt,j.style),jsxRuntimeExports.jsx("button",__assign({},j,{ref:_,type:"button",className:rt,style:nt}))});function Navigation(j){var _,$,_e=useDayPicker(),et=_e.dir,tt=_e.locale,rt=_e.classNames,nt=_e.styles,st=_e.labels,it=st.labelPrevious,at=st.labelNext,ot=_e.components;if(!j.nextMonth&&!j.previousMonth)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var ct=it(j.previousMonth,{locale:tt}),dt=[rt.nav_button,rt.nav_button_previous].join(" "),pt=at(j.nextMonth,{locale:tt}),ut=[rt.nav_button,rt.nav_button_next].join(" "),lt=(_=ot==null?void 0:ot.IconRight)!==null&&_!==void 0?_:IconRight,ft=($=ot==null?void 0:ot.IconLeft)!==null&&$!==void 0?$:IconLeft;return jsxRuntimeExports.jsxs("div",{className:rt.nav,style:nt.nav,children:[!j.hidePrevious&&jsxRuntimeExports.jsx(Button,{name:"previous-month","aria-label":ct,className:dt,style:nt.nav_button_previous,disabled:!j.previousMonth,onClick:j.onPreviousClick,children:et==="rtl"?jsxRuntimeExports.jsx(lt,{className:rt.nav_icon,style:nt.nav_icon}):jsxRuntimeExports.jsx(ft,{className:rt.nav_icon,style:nt.nav_icon})}),!j.hideNext&&jsxRuntimeExports.jsx(Button,{name:"next-month","aria-label":pt,className:ut,style:nt.nav_button_next,disabled:!j.nextMonth,onClick:j.onNextClick,children:et==="rtl"?jsxRuntimeExports.jsx(ft,{className:rt.nav_icon,style:nt.nav_icon}):jsxRuntimeExports.jsx(lt,{className:rt.nav_icon,style:nt.nav_icon})})]})}function CaptionNavigation(j){var _=useDayPicker().numberOfMonths,$=useNavigation(),_e=$.previousMonth,et=$.nextMonth,tt=$.goToMonth,rt=$.displayMonths,nt=rt.findIndex(function(pt){return isSameMonth(j.displayMonth,pt)}),st=nt===0,it=nt===rt.length-1,at=_>1&&(st||!it),ot=_>1&&(it||!st),ct=function(){_e&&tt(_e)},dt=function(){et&&tt(et)};return jsxRuntimeExports.jsx(Navigation,{displayMonth:j.displayMonth,hideNext:at,hidePrevious:ot,nextMonth:et,previousMonth:_e,onPreviousClick:ct,onNextClick:dt})}function Caption(j){var _,$=useDayPicker(),_e=$.classNames,et=$.disableNavigation,tt=$.styles,rt=$.captionLayout,nt=$.components,st=(_=nt==null?void 0:nt.CaptionLabel)!==null&&_!==void 0?_:CaptionLabel,it;return et?it=jsxRuntimeExports.jsx(st,{id:j.id,displayMonth:j.displayMonth}):rt==="dropdown"?it=jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:j.displayMonth,id:j.id}):rt==="dropdown-buttons"?it=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:j.displayMonth,displayIndex:j.displayIndex,id:j.id}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:j.displayMonth,displayIndex:j.displayIndex,id:j.id})]}):it=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(st,{id:j.id,displayMonth:j.displayMonth,displayIndex:j.displayIndex}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:j.displayMonth,id:j.id})]}),jsxRuntimeExports.jsx("div",{className:_e.caption,style:tt.caption,children:it})}function Footer(j){var _=useDayPicker(),$=_.footer,_e=_.styles,et=_.classNames.tfoot;return $?jsxRuntimeExports.jsx("tfoot",{className:et,style:_e.tfoot,children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:8,children:$})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function getWeekdays(j,_,$){for(var _e=$?startOfISOWeek(new Date):startOfWeek(new Date,{locale:j,weekStartsOn:_}),et=[],tt=0;tt<7;tt++){var rt=addDays(_e,tt);et.push(rt)}return et}function HeadRow(){var j=useDayPicker(),_=j.classNames,$=j.styles,_e=j.showWeekNumber,et=j.locale,tt=j.weekStartsOn,rt=j.ISOWeek,nt=j.formatters.formatWeekdayName,st=j.labels.labelWeekday,it=getWeekdays(et,tt,rt);return jsxRuntimeExports.jsxs("tr",{style:$.head_row,className:_.head_row,children:[_e&&jsxRuntimeExports.jsx("td",{style:$.head_cell,className:_.head_cell}),it.map(function(at,ot){return jsxRuntimeExports.jsx("th",{scope:"col",className:_.head_cell,style:$.head_cell,"aria-label":st(at,{locale:et}),children:nt(at,{locale:et})},ot)})]})}function Head(){var j,_=useDayPicker(),$=_.classNames,_e=_.styles,et=_.components,tt=(j=et==null?void 0:et.HeadRow)!==null&&j!==void 0?j:HeadRow;return jsxRuntimeExports.jsx("thead",{style:_e.head,className:$.head,children:jsxRuntimeExports.jsx(tt,{})})}function DayContent(j){var _=useDayPicker(),$=_.locale,_e=_.formatters.formatDay;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e(j.date,{locale:$})})}var SelectMultipleContext=reactExports.createContext(void 0);function SelectMultipleProvider(j){if(!isDayPickerMultiple(j.initialProps)){var _={selected:void 0,modifiers:{disabled:[]}};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:_,children:j.children})}return jsxRuntimeExports.jsx(SelectMultipleProviderInternal,{initialProps:j.initialProps,children:j.children})}function SelectMultipleProviderInternal(j){var _=j.initialProps,$=j.children,_e=_.selected,et=_.min,tt=_.max,rt=function(it,at,ot){var ct,dt;(ct=_.onDayClick)===null||ct===void 0||ct.call(_,it,at,ot);var pt=!!(at.selected&&et&&(_e==null?void 0:_e.length)===et);if(!pt){var ut=!!(!at.selected&&tt&&(_e==null?void 0:_e.length)===tt);if(!ut){var lt=_e?__spreadArray([],_e):[];if(at.selected){var ft=lt.findIndex(function(ht){return isSameDay(it,ht)});lt.splice(ft,1)}else lt.push(it);(dt=_.onSelect)===null||dt===void 0||dt.call(_,lt,it,at,ot)}}},nt={disabled:[]};_e&&nt.disabled.push(function(it){var at=tt&&_e.length>tt-1,ot=_e.some(function(ct){return isSameDay(ct,it)});return!!(at&&!ot)});var st={selected:_e,onDayClick:rt,modifiers:nt};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:st,children:$})}function useSelectMultiple(){var j=reactExports.useContext(SelectMultipleContext);if(!j)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return j}function addToRange(j,_){var $=_||{},_e=$.from,et=$.to;return _e&&et?isSameDay(et,j)&&isSameDay(_e,j)?void 0:isSameDay(et,j)?{from:et,to:void 0}:isSameDay(_e,j)?void 0:isAfter(_e,j)?{from:j,to:et}:{from:_e,to:j}:et?isAfter(j,et)?{from:et,to:j}:{from:j,to:et}:_e?isBefore(j,_e)?{from:j,to:_e}:{from:_e,to:j}:{from:j,to:void 0}}var SelectRangeContext=reactExports.createContext(void 0);function SelectRangeProvider(j){if(!isDayPickerRange(j.initialProps)){var _={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:_,children:j.children})}return jsxRuntimeExports.jsx(SelectRangeProviderInternal,{initialProps:j.initialProps,children:j.children})}function SelectRangeProviderInternal(j){var _=j.initialProps,$=j.children,_e=_.selected,et=_e||{},tt=et.from,rt=et.to,nt=_.min,st=_.max,it=function(dt,pt,ut){var lt,ft;(lt=_.onDayClick)===null||lt===void 0||lt.call(_,dt,pt,ut);var ht=addToRange(dt,_e);(ft=_.onSelect)===null||ft===void 0||ft.call(_,ht,dt,pt,ut)},at={range_start:[],range_end:[],range_middle:[],disabled:[]};if(tt?(at.range_start=[tt],rt?(at.range_end=[rt],isSameDay(tt,rt)||(at.range_middle=[{after:tt,before:rt}])):at.range_end=[tt]):rt&&(at.range_start=[rt],at.range_end=[rt]),nt&&(tt&&!rt&&at.disabled.push({after:subDays(tt,nt-1),before:addDays(tt,nt-1)}),tt&&rt&&at.disabled.push({after:tt,before:addDays(tt,nt-1)}),!tt&&rt&&at.disabled.push({after:subDays(rt,nt-1),before:addDays(rt,nt-1)})),st){if(tt&&!rt&&(at.disabled.push({before:addDays(tt,-st+1)}),at.disabled.push({after:addDays(tt,st-1)})),tt&&rt){var ot=differenceInCalendarDays(rt,tt)+1,ct=st-ot;at.disabled.push({before:subDays(tt,ct)}),at.disabled.push({after:addDays(rt,ct)})}!tt&&rt&&(at.disabled.push({before:addDays(rt,-st+1)}),at.disabled.push({after:addDays(rt,st-1)}))}return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:{selected:_e,onDayClick:it,modifiers:at},children:$})}function useSelectRange(){var j=reactExports.useContext(SelectRangeContext);if(!j)throw new Error("useSelectRange must be used within a SelectRangeProvider");return j}function matcherToArray(j){return Array.isArray(j)?__spreadArray([],j):j!==void 0?[j]:[]}function getCustomModifiers(j){var _={};return Object.entries(j).forEach(function($){var _e=$[0],et=$[1];_[_e]=matcherToArray(et)}),_}var InternalModifier;(function(j){j.Outside="outside",j.Disabled="disabled",j.Selected="selected",j.Hidden="hidden",j.Today="today",j.RangeStart="range_start",j.RangeEnd="range_end",j.RangeMiddle="range_middle"})(InternalModifier||(InternalModifier={}));var Selected=InternalModifier.Selected,Disabled=InternalModifier.Disabled,Hidden=InternalModifier.Hidden,Today=InternalModifier.Today,RangeEnd=InternalModifier.RangeEnd,RangeMiddle=InternalModifier.RangeMiddle,RangeStart=InternalModifier.RangeStart,Outside=InternalModifier.Outside;function getInternalModifiers(j,_,$){var _e,et=(_e={},_e[Selected]=matcherToArray(j.selected),_e[Disabled]=matcherToArray(j.disabled),_e[Hidden]=matcherToArray(j.hidden),_e[Today]=[j.today],_e[RangeEnd]=[],_e[RangeMiddle]=[],_e[RangeStart]=[],_e[Outside]=[],_e);return j.fromDate&&et[Disabled].push({before:j.fromDate}),j.toDate&&et[Disabled].push({after:j.toDate}),isDayPickerMultiple(j)?et[Disabled]=et[Disabled].concat(_.modifiers[Disabled]):isDayPickerRange(j)&&(et[Disabled]=et[Disabled].concat($.modifiers[Disabled]),et[RangeStart]=$.modifiers[RangeStart],et[RangeMiddle]=$.modifiers[RangeMiddle],et[RangeEnd]=$.modifiers[RangeEnd]),et}var ModifiersContext=reactExports.createContext(void 0);function ModifiersProvider(j){var _=useDayPicker(),$=useSelectMultiple(),_e=useSelectRange(),et=getInternalModifiers(_,$,_e),tt=getCustomModifiers(_.modifiers),rt=__assign(__assign({},et),tt);return jsxRuntimeExports.jsx(ModifiersContext.Provider,{value:rt,children:j.children})}function useModifiers(){var j=reactExports.useContext(ModifiersContext);if(!j)throw new Error("useModifiers must be used within a ModifiersProvider");return j}function isDateInterval(j){return!!(j&&typeof j=="object"&&"before"in j&&"after"in j)}function isDateRange(j){return!!(j&&typeof j=="object"&&"from"in j)}function isDateAfterType(j){return!!(j&&typeof j=="object"&&"after"in j)}function isDateBeforeType(j){return!!(j&&typeof j=="object"&&"before"in j)}function isDayOfWeekType(j){return!!(j&&typeof j=="object"&&"dayOfWeek"in j)}function isDateInRange(j,_){var $,_e=_.from,et=_.to;if(_e&&et){var tt=differenceInCalendarDays(et,_e)<0;tt&&($=[et,_e],_e=$[0],et=$[1]);var rt=differenceInCalendarDays(j,_e)>=0&&differenceInCalendarDays(et,j)>=0;return rt}return et?isSameDay(et,j):_e?isSameDay(_e,j):!1}function isDateType(j){return isDate(j)}function isArrayOfDates(j){return Array.isArray(j)&&j.every(isDate)}function isMatch(j,_){return _.some(function($){if(typeof $=="boolean")return $;if(isDateType($))return isSameDay(j,$);if(isArrayOfDates($))return $.includes(j);if(isDateRange($))return isDateInRange(j,$);if(isDayOfWeekType($))return $.dayOfWeek.includes(j.getDay());if(isDateInterval($)){var _e=differenceInCalendarDays($.before,j),et=differenceInCalendarDays($.after,j),tt=_e>0,rt=et<0,nt=isAfter($.before,$.after);return nt?rt&&tt:tt||rt}return isDateAfterType($)?differenceInCalendarDays(j,$.after)>0:isDateBeforeType($)?differenceInCalendarDays($.before,j)>0:typeof $=="function"?$(j):!1})}function getActiveModifiers(j,_,$){var _e=Object.keys(_).reduce(function(tt,rt){var nt=_[rt];return isMatch(j,nt)&&tt.push(rt),tt},[]),et={};return _e.forEach(function(tt){return et[tt]=!0}),$&&!isSameMonth(j,$)&&(et.outside=!0),et}function getInitialFocusTarget(j,_){for(var $=startOfMonth(j[0]),_e=endOfMonth(j[j.length-1]),et,tt,rt=$;rt<=_e;){var nt=getActiveModifiers(rt,_),st=!nt.disabled&&!nt.hidden;if(!st){rt=addDays(rt,1);continue}if(nt.selected)return rt;nt.today&&!tt&&(tt=rt),et||(et=rt),rt=addDays(rt,1)}return tt||et}var MAX_RETRY=365;function getNextFocus(j,_){var $=_.moveBy,_e=_.direction,et=_.context,tt=_.modifiers,rt=_.retry,nt=rt===void 0?{count:0,lastFocused:j}:rt,st=et.weekStartsOn,it=et.fromDate,at=et.toDate,ot=et.locale,ct={day:addDays,week:addWeeks,month:addMonths,year:addYears,startOfWeek:function(lt){return et.ISOWeek?startOfISOWeek(lt):startOfWeek(lt,{locale:ot,weekStartsOn:st})},endOfWeek:function(lt){return et.ISOWeek?endOfISOWeek(lt):endOfWeek(lt,{locale:ot,weekStartsOn:st})}},dt=ct[$](j,_e==="after"?1:-1);_e==="before"&&it?dt=max$3([it,dt]):_e==="after"&&at&&(dt=min$3([at,dt]));var pt=!0;if(tt){var ut=getActiveModifiers(dt,tt);pt=!ut.disabled&&!ut.hidden}return pt?dt:nt.count>MAX_RETRY?nt.lastFocused:getNextFocus(dt,{moveBy:$,direction:_e,context:et,modifiers:tt,retry:__assign(__assign({},nt),{count:nt.count+1})})}var FocusContext=reactExports.createContext(void 0);function FocusProvider(j){var _=useNavigation(),$=useModifiers(),_e=reactExports.useState(),et=_e[0],tt=_e[1],rt=reactExports.useState(),nt=rt[0],st=rt[1],it=getInitialFocusTarget(_.displayMonths,$),at=et??(nt&&_.isDateDisplayed(nt))?nt:it,ot=function(){st(et),tt(void 0)},ct=function(lt){tt(lt)},dt=useDayPicker(),pt=function(lt,ft){if(et){var ht=getNextFocus(et,{moveBy:lt,direction:ft,context:dt,modifiers:$});isSameDay(et,ht)||(_.goToDate(ht,et),ct(ht))}},ut={focusedDay:et,focusTarget:at,blur:ot,focus:ct,focusDayAfter:function(){return pt("day","after")},focusDayBefore:function(){return pt("day","before")},focusWeekAfter:function(){return pt("week","after")},focusWeekBefore:function(){return pt("week","before")},focusMonthBefore:function(){return pt("month","before")},focusMonthAfter:function(){return pt("month","after")},focusYearBefore:function(){return pt("year","before")},focusYearAfter:function(){return pt("year","after")},focusStartOfWeek:function(){return pt("startOfWeek","before")},focusEndOfWeek:function(){return pt("endOfWeek","after")}};return jsxRuntimeExports.jsx(FocusContext.Provider,{value:ut,children:j.children})}function useFocusContext(){var j=reactExports.useContext(FocusContext);if(!j)throw new Error("useFocusContext must be used within a FocusProvider");return j}function useActiveModifiers(j,_){var $=useModifiers(),_e=getActiveModifiers(j,$,_);return _e}var SelectSingleContext=reactExports.createContext(void 0);function SelectSingleProvider(j){if(!isDayPickerSingle(j.initialProps)){var _={selected:void 0};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:_,children:j.children})}return jsxRuntimeExports.jsx(SelectSingleProviderInternal,{initialProps:j.initialProps,children:j.children})}function SelectSingleProviderInternal(j){var _=j.initialProps,$=j.children,_e=function(tt,rt,nt){var st,it,at;if((st=_.onDayClick)===null||st===void 0||st.call(_,tt,rt,nt),rt.selected&&!_.required){(it=_.onSelect)===null||it===void 0||it.call(_,void 0,tt,rt,nt);return}(at=_.onSelect)===null||at===void 0||at.call(_,tt,tt,rt,nt)},et={selected:_.selected,onDayClick:_e};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:et,children:$})}function useSelectSingle(){var j=reactExports.useContext(SelectSingleContext);if(!j)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return j}function useDayEventHandlers(j,_){var $=useDayPicker(),_e=useSelectSingle(),et=useSelectMultiple(),tt=useSelectRange(),rt=useFocusContext(),nt=rt.focusDayAfter,st=rt.focusDayBefore,it=rt.focusWeekAfter,at=rt.focusWeekBefore,ot=rt.blur,ct=rt.focus,dt=rt.focusMonthBefore,pt=rt.focusMonthAfter,ut=rt.focusYearBefore,lt=rt.focusYearAfter,ft=rt.focusStartOfWeek,ht=rt.focusEndOfWeek,yt=function(Ot){var Pt,wt,Dt,Vt;isDayPickerSingle($)?(Pt=_e.onDayClick)===null||Pt===void 0||Pt.call(_e,j,_,Ot):isDayPickerMultiple($)?(wt=et.onDayClick)===null||wt===void 0||wt.call(et,j,_,Ot):isDayPickerRange($)?(Dt=tt.onDayClick)===null||Dt===void 0||Dt.call(tt,j,_,Ot):(Vt=$.onDayClick)===null||Vt===void 0||Vt.call($,j,_,Ot)},vt=function(Ot){var Pt;ct(j),(Pt=$.onDayFocus)===null||Pt===void 0||Pt.call($,j,_,Ot)},gt=function(Ot){var Pt;ot(),(Pt=$.onDayBlur)===null||Pt===void 0||Pt.call($,j,_,Ot)},bt=function(Ot){var Pt;(Pt=$.onDayMouseEnter)===null||Pt===void 0||Pt.call($,j,_,Ot)},mt=function(Ot){var Pt;(Pt=$.onDayMouseLeave)===null||Pt===void 0||Pt.call($,j,_,Ot)},Et=function(Ot){var Pt;(Pt=$.onDayPointerEnter)===null||Pt===void 0||Pt.call($,j,_,Ot)},Rt=function(Ot){var Pt;(Pt=$.onDayPointerLeave)===null||Pt===void 0||Pt.call($,j,_,Ot)},Tt=function(Ot){var Pt;(Pt=$.onDayTouchCancel)===null||Pt===void 0||Pt.call($,j,_,Ot)},jt=function(Ot){var Pt;(Pt=$.onDayTouchEnd)===null||Pt===void 0||Pt.call($,j,_,Ot)},xt=function(Ot){var Pt;(Pt=$.onDayTouchMove)===null||Pt===void 0||Pt.call($,j,_,Ot)},Ct=function(Ot){var Pt;(Pt=$.onDayTouchStart)===null||Pt===void 0||Pt.call($,j,_,Ot)},kt=function(Ot){var Pt;(Pt=$.onDayKeyUp)===null||Pt===void 0||Pt.call($,j,_,Ot)},Nt=function(Ot){var Pt;switch(Ot.key){case"ArrowLeft":Ot.preventDefault(),Ot.stopPropagation(),$.dir==="rtl"?nt():st();break;case"ArrowRight":Ot.preventDefault(),Ot.stopPropagation(),$.dir==="rtl"?st():nt();break;case"ArrowDown":Ot.preventDefault(),Ot.stopPropagation(),it();break;case"ArrowUp":Ot.preventDefault(),Ot.stopPropagation(),at();break;case"PageUp":Ot.preventDefault(),Ot.stopPropagation(),Ot.shiftKey?ut():dt();break;case"PageDown":Ot.preventDefault(),Ot.stopPropagation(),Ot.shiftKey?lt():pt();break;case"Home":Ot.preventDefault(),Ot.stopPropagation(),ft();break;case"End":Ot.preventDefault(),Ot.stopPropagation(),ht();break}(Pt=$.onDayKeyDown)===null||Pt===void 0||Pt.call($,j,_,Ot)},St={onClick:yt,onFocus:vt,onBlur:gt,onKeyDown:Nt,onKeyUp:kt,onMouseEnter:bt,onMouseLeave:mt,onPointerEnter:Et,onPointerLeave:Rt,onTouchCancel:Tt,onTouchEnd:jt,onTouchMove:xt,onTouchStart:Ct};return St}function useSelectedDays(){var j=useDayPicker(),_=useSelectSingle(),$=useSelectMultiple(),_e=useSelectRange(),et=isDayPickerSingle(j)?_.selected:isDayPickerMultiple(j)?$.selected:isDayPickerRange(j)?_e.selected:void 0;return et}function isInternalModifier(j){return Object.values(InternalModifier).includes(j)}function getDayClassNames(j,_){var $=[j.classNames.day];return Object.keys(_).forEach(function(_e){var et=j.modifiersClassNames[_e];if(et)$.push(et);else if(isInternalModifier(_e)){var tt=j.classNames["day_".concat(_e)];tt&&$.push(tt)}}),$}function getDayStyle(j,_){var $=__assign({},j.styles.day);return Object.keys(_).forEach(function(_e){var et;$=__assign(__assign({},$),(et=j.modifiersStyles)===null||et===void 0?void 0:et[_e])}),$}function useDayRender(j,_,$){var _e,et,tt,rt=useDayPicker(),nt=useFocusContext(),st=useActiveModifiers(j,_),it=useDayEventHandlers(j,st),at=useSelectedDays(),ot=!!(rt.onDayClick||rt.mode!=="default");reactExports.useEffect(function(){var bt;st.outside||nt.focusedDay&&ot&&isSameDay(nt.focusedDay,j)&&((bt=$.current)===null||bt===void 0||bt.focus())},[nt.focusedDay,j,$,ot,st.outside]);var ct=getDayClassNames(rt,st).join(" "),dt=getDayStyle(rt,st),pt=!!(st.outside&&!rt.showOutsideDays||st.hidden),ut=(tt=(et=rt.components)===null||et===void 0?void 0:et.DayContent)!==null&&tt!==void 0?tt:DayContent,lt=jsxRuntimeExports.jsx(ut,{date:j,displayMonth:_,activeModifiers:st}),ft={style:dt,className:ct,children:lt,role:"gridcell"},ht=nt.focusTarget&&isSameDay(nt.focusTarget,j)&&!st.outside,yt=nt.focusedDay&&isSameDay(nt.focusedDay,j),vt=__assign(__assign(__assign({},ft),(_e={disabled:st.disabled,role:"gridcell"},_e["aria-selected"]=st.selected,_e.tabIndex=yt||ht?0:-1,_e)),it),gt={isButton:ot,isHidden:pt,activeModifiers:st,selectedDays:at,buttonProps:vt,divProps:ft};return gt}function Day(j){var _=reactExports.useRef(null),$=useDayRender(j.date,j.displayMonth,_);return $.isHidden?jsxRuntimeExports.jsx("div",{role:"gridcell"}):$.isButton?jsxRuntimeExports.jsx(Button,__assign({name:"day",ref:_},$.buttonProps)):jsxRuntimeExports.jsx("div",__assign({},$.divProps))}function WeekNumber(j){var _=j.number,$=j.dates,_e=useDayPicker(),et=_e.onWeekNumberClick,tt=_e.styles,rt=_e.classNames,nt=_e.locale,st=_e.labels.labelWeekNumber,it=_e.formatters.formatWeekNumber,at=it(Number(_),{locale:nt});if(!et)return jsxRuntimeExports.jsx("span",{className:rt.weeknumber,style:tt.weeknumber,children:at});var ot=st(Number(_),{locale:nt}),ct=function(dt){et(_,$,dt)};return jsxRuntimeExports.jsx(Button,{name:"week-number","aria-label":ot,className:rt.weeknumber,style:tt.weeknumber,onClick:ct,children:at})}function Row(j){var _,$,_e=useDayPicker(),et=_e.styles,tt=_e.classNames,rt=_e.showWeekNumber,nt=_e.components,st=(_=nt==null?void 0:nt.Day)!==null&&_!==void 0?_:Day,it=($=nt==null?void 0:nt.WeekNumber)!==null&&$!==void 0?$:WeekNumber,at;return rt&&(at=jsxRuntimeExports.jsx("td",{className:tt.cell,style:et.cell,children:jsxRuntimeExports.jsx(it,{number:j.weekNumber,dates:j.dates})})),jsxRuntimeExports.jsxs("tr",{className:tt.row,style:et.row,children:[at,j.dates.map(function(ot){return jsxRuntimeExports.jsx("td",{className:tt.cell,style:et.cell,role:"presentation",children:jsxRuntimeExports.jsx(st,{displayMonth:j.displayMonth,date:ot})},getUnixTime(ot))})]})}function daysToMonthWeeks(j,_,$){for(var _e=$!=null&&$.ISOWeek?endOfISOWeek(_):endOfWeek(_,$),et=$!=null&&$.ISOWeek?startOfISOWeek(j):startOfWeek(j,$),tt=differenceInCalendarDays(_e,et),rt=[],nt=0;nt<=tt;nt++)rt.push(addDays(et,nt));var st=rt.reduce(function(it,at){var ot=$!=null&&$.ISOWeek?getISOWeek(at):getWeek(at,$),ct=it.find(function(dt){return dt.weekNumber===ot});return ct?(ct.dates.push(at),it):(it.push({weekNumber:ot,dates:[at]}),it)},[]);return st}function getMonthWeeks(j,_){var $=daysToMonthWeeks(startOfMonth(j),endOfMonth(j),_);if(_!=null&&_.useFixedWeeks){var _e=getWeeksInMonth(j,_);if(_e<6){var et=$[$.length-1],tt=et.dates[et.dates.length-1],rt=addWeeks(tt,6-_e),nt=daysToMonthWeeks(addWeeks(tt,1),rt,_);$.push.apply($,nt)}}return $}function Table(j){var _,$,_e,et=useDayPicker(),tt=et.locale,rt=et.classNames,nt=et.styles,st=et.hideHead,it=et.fixedWeeks,at=et.components,ot=et.weekStartsOn,ct=et.firstWeekContainsDate,dt=et.ISOWeek,pt=getMonthWeeks(j.displayMonth,{useFixedWeeks:!!it,ISOWeek:dt,locale:tt,weekStartsOn:ot,firstWeekContainsDate:ct}),ut=(_=at==null?void 0:at.Head)!==null&&_!==void 0?_:Head,lt=($=at==null?void 0:at.Row)!==null&&$!==void 0?$:Row,ft=(_e=at==null?void 0:at.Footer)!==null&&_e!==void 0?_e:Footer;return jsxRuntimeExports.jsxs("table",{id:j.id,className:rt.table,style:nt.table,role:"grid","aria-labelledby":j["aria-labelledby"],children:[!st&&jsxRuntimeExports.jsx(ut,{}),jsxRuntimeExports.jsx("tbody",{className:rt.tbody,style:nt.tbody,children:pt.map(function(ht){return jsxRuntimeExports.jsx(lt,{displayMonth:j.displayMonth,dates:ht.dates,weekNumber:ht.weekNumber},ht.weekNumber)})}),jsxRuntimeExports.jsx(ft,{displayMonth:j.displayMonth})]})}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var useIsomorphicLayoutEffect=canUseDOM()?reactExports.useLayoutEffect:reactExports.useEffect,serverHandoffComplete=!1,id=0;function genId(){return"react-day-picker-".concat(++id)}function useId(j){var _,$=j??(serverHandoffComplete?genId():null),_e=reactExports.useState($),et=_e[0],tt=_e[1];return useIsomorphicLayoutEffect(function(){et===null&&tt(genId())},[]),reactExports.useEffect(function(){serverHandoffComplete===!1&&(serverHandoffComplete=!0)},[]),(_=j??et)!==null&&_!==void 0?_:void 0}function Month(j){var _,$,_e=useDayPicker(),et=_e.dir,tt=_e.classNames,rt=_e.styles,nt=_e.components,st=useNavigation().displayMonths,it=useId(_e.id?"".concat(_e.id,"-").concat(j.displayIndex):void 0),at=_e.id?"".concat(_e.id,"-grid-").concat(j.displayIndex):void 0,ot=[tt.month],ct=rt.month,dt=j.displayIndex===0,pt=j.displayIndex===st.length-1,ut=!dt&&!pt;et==="rtl"&&(_=[dt,pt],pt=_[0],dt=_[1]),dt&&(ot.push(tt.caption_start),ct=__assign(__assign({},ct),rt.caption_start)),pt&&(ot.push(tt.caption_end),ct=__assign(__assign({},ct),rt.caption_end)),ut&&(ot.push(tt.caption_between),ct=__assign(__assign({},ct),rt.caption_between));var lt=($=nt==null?void 0:nt.Caption)!==null&&$!==void 0?$:Caption;return jsxRuntimeExports.jsxs("div",{className:ot.join(" "),style:ct,children:[jsxRuntimeExports.jsx(lt,{id:it,displayMonth:j.displayMonth,displayIndex:j.displayIndex}),jsxRuntimeExports.jsx(Table,{id:at,"aria-labelledby":it,displayMonth:j.displayMonth})]},j.displayIndex)}function Months(j){var _=useDayPicker(),$=_.classNames,_e=_.styles;return jsxRuntimeExports.jsx("div",{className:$.months,style:_e.months,children:j.children})}function Root(j){var _,$,_e=j.initialProps,et=useDayPicker(),tt=useFocusContext(),rt=useNavigation(),nt=reactExports.useState(!1),st=nt[0],it=nt[1];reactExports.useEffect(function(){et.initialFocus&&tt.focusTarget&&(st||(tt.focus(tt.focusTarget),it(!0)))},[et.initialFocus,st,tt.focus,tt.focusTarget,tt]);var at=[et.classNames.root,et.className];et.numberOfMonths>1&&at.push(et.classNames.multiple_months),et.showWeekNumber&&at.push(et.classNames.with_weeknumber);var ot=__assign(__assign({},et.styles.root),et.style),ct=Object.keys(_e).filter(function(pt){return pt.startsWith("data-")}).reduce(function(pt,ut){var lt;return __assign(__assign({},pt),(lt={},lt[ut]=_e[ut],lt))},{}),dt=($=(_=_e.components)===null||_===void 0?void 0:_.Months)!==null&&$!==void 0?$:Months;return jsxRuntimeExports.jsx("div",__assign({className:at.join(" "),style:ot,dir:et.dir,id:et.id,nonce:_e.nonce,title:_e.title,lang:_e.lang},ct,{children:jsxRuntimeExports.jsx(dt,{children:rt.displayMonths.map(function(pt,ut){return jsxRuntimeExports.jsx(Month,{displayIndex:ut,displayMonth:pt},ut)})})}))}function RootProvider(j){var _=j.children,$=__rest(j,["children"]);return jsxRuntimeExports.jsx(DayPickerProvider,{initialProps:$,children:jsxRuntimeExports.jsx(NavigationProvider,{children:jsxRuntimeExports.jsx(SelectSingleProvider,{initialProps:$,children:jsxRuntimeExports.jsx(SelectMultipleProvider,{initialProps:$,children:jsxRuntimeExports.jsx(SelectRangeProvider,{initialProps:$,children:jsxRuntimeExports.jsx(ModifiersProvider,{children:jsxRuntimeExports.jsx(FocusProvider,{children:_})})})})})})})}function DayPicker(j){return jsxRuntimeExports.jsx(RootProvider,__assign({},j,{children:jsxRuntimeExports.jsx(Root,{initialProps:j})}))}function Calendar({className:j,classNames:_,showOutsideDays:$=!0,..._e}){return jsxRuntimeExports.jsx(DayPicker,{showOutsideDays:$,className:cn("p-3",j),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:cn(buttonVariants({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:cn(buttonVariants({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",..._},components:{IconLeft:({className:et,...tt})=>jsxRuntimeExports.jsx(ChevronLeft,{className:cn("h-4 w-4",et),...tt}),IconRight:({className:et,...tt})=>jsxRuntimeExports.jsx(ChevronRight,{className:cn("h-4 w-4",et),...tt})},..._e})}Calendar.displayName="Calendar";var POPOVER_NAME="Popover",[createPopoverContext,createPopoverScope]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=j=>{const{__scopePopover:_,children:$,open:_e,defaultOpen:et,onOpenChange:tt,modal:rt=!1}=j,nt=usePopperScope(_),st=reactExports.useRef(null),[it,at]=reactExports.useState(!1),[ot=!1,ct]=useControllableState({prop:_e,defaultProp:et,onChange:tt});return jsxRuntimeExports.jsx(Root2$4,{...nt,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:_,contentId:useId$1(),triggerRef:st,open:ot,onOpenChange:ct,onOpenToggle:reactExports.useCallback(()=>ct(dt=>!dt),[ct]),hasCustomAnchor:it,onCustomAnchorAdd:reactExports.useCallback(()=>at(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>at(!1),[]),modal:rt,children:$})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((j,_)=>{const{__scopePopover:$,..._e}=j,et=usePopoverContext(ANCHOR_NAME,$),tt=usePopperScope($),{onCustomAnchorAdd:rt,onCustomAnchorRemove:nt}=et;return reactExports.useEffect(()=>(rt(),()=>nt()),[rt,nt]),jsxRuntimeExports.jsx(Anchor,{...tt,..._e,ref:_})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((j,_)=>{const{__scopePopover:$,..._e}=j,et=usePopoverContext(TRIGGER_NAME,$),tt=usePopperScope($),rt=useComposedRefs(_,et.triggerRef),nt=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":et.open,"aria-controls":et.contentId,"data-state":getState(et.open),..._e,ref:rt,onClick:composeEventHandlers(j.onClick,et.onOpenToggle)});return et.hasCustomAnchor?nt:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...tt,children:nt})});PopoverTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="PopoverPortal",[PortalProvider,usePortalContext]=createPopoverContext(PORTAL_NAME,{forceMount:void 0}),PopoverPortal=j=>{const{__scopePopover:_,forceMount:$,children:_e,container:et}=j,tt=usePopoverContext(PORTAL_NAME,_);return jsxRuntimeExports.jsx(PortalProvider,{scope:_,forceMount:$,children:jsxRuntimeExports.jsx(Presence,{present:$||tt.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:et,children:_e})})})};PopoverPortal.displayName=PORTAL_NAME;var CONTENT_NAME="PopoverContent",PopoverContent$1=reactExports.forwardRef((j,_)=>{const $=usePortalContext(CONTENT_NAME,j.__scopePopover),{forceMount:_e=$.forceMount,...et}=j,tt=usePopoverContext(CONTENT_NAME,j.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:tt.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...et,ref:_}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...et,ref:_})})});PopoverContent$1.displayName=CONTENT_NAME;var Slot=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((j,_)=>{const $=usePopoverContext(CONTENT_NAME,j.__scopePopover),_e=reactExports.useRef(null),et=useComposedRefs(_,_e),tt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const rt=_e.current;if(rt)return hideOthers(rt)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...j,ref:et,trapFocus:$.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(j.onCloseAutoFocus,rt=>{var nt;rt.preventDefault(),tt.current||(nt=$.triggerRef.current)==null||nt.focus()}),onPointerDownOutside:composeEventHandlers(j.onPointerDownOutside,rt=>{const nt=rt.detail.originalEvent,st=nt.button===0&&nt.ctrlKey===!0,it=nt.button===2||st;tt.current=it},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(j.onFocusOutside,rt=>rt.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((j,_)=>{const $=usePopoverContext(CONTENT_NAME,j.__scopePopover),_e=reactExports.useRef(!1),et=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...j,ref:_,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:tt=>{var rt,nt;(rt=j.onCloseAutoFocus)==null||rt.call(j,tt),tt.defaultPrevented||(_e.current||(nt=$.triggerRef.current)==null||nt.focus(),tt.preventDefault()),_e.current=!1,et.current=!1},onInteractOutside:tt=>{var st,it;(st=j.onInteractOutside)==null||st.call(j,tt),tt.defaultPrevented||(_e.current=!0,tt.detail.originalEvent.type==="pointerdown"&&(et.current=!0));const rt=tt.target;((it=$.triggerRef.current)==null?void 0:it.contains(rt))&&tt.preventDefault(),tt.detail.originalEvent.type==="focusin"&&et.current&&tt.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((j,_)=>{const{__scopePopover:$,trapFocus:_e,onOpenAutoFocus:et,onCloseAutoFocus:tt,disableOutsidePointerEvents:rt,onEscapeKeyDown:nt,onPointerDownOutside:st,onFocusOutside:it,onInteractOutside:at,...ot}=j,ct=usePopoverContext(CONTENT_NAME,$),dt=usePopperScope($);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:_e,onMountAutoFocus:et,onUnmountAutoFocus:tt,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:rt,onInteractOutside:at,onEscapeKeyDown:nt,onPointerDownOutside:st,onFocusOutside:it,onDismiss:()=>ct.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$2,{"data-state":getState(ct.open),role:"dialog",id:ct.contentId,...dt,...ot,ref:_,style:{...ot.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((j,_)=>{const{__scopePopover:$,..._e}=j,et=usePopoverContext(CLOSE_NAME,$);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:_,onClick:composeEventHandlers(j.onClick,()=>et.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME="PopoverArrow",PopoverArrow=reactExports.forwardRef((j,_)=>{const{__scopePopover:$,..._e}=j,et=usePopperScope($);return jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:_})});PopoverArrow.displayName=ARROW_NAME;function getState(j){return j?"open":"closed"}var Root2=Popover$1,Trigger=PopoverTrigger$1,Portal=PopoverPortal,Content2=PopoverContent$1;const Popover=Root2,PopoverTrigger=Trigger,PopoverContent=reactExports.forwardRef(({className:j,align:_="center",sideOffset:$=4,..._e},et)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Content2,{ref:et,align:_,sideOffset:$,className:cn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",j),..._e})}));PopoverContent.displayName=Content2.displayName;const alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:j,variant:_,...$},_e)=>jsxRuntimeExports.jsx("div",{ref:_e,role:"alert",className:cn(alertVariants({variant:_}),j),...$}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("h5",{ref:$,className:cn("mb-1 font-medium leading-none tracking-tight",j),..._}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:j,..._},$)=>jsxRuntimeExports.jsx("div",{ref:$,className:cn("text-sm [&_p]:leading-relaxed",j),..._}));AlertDescription.displayName="AlertDescription";const ESCROW_TYPES=[{value:"property_tax",label:"Property Tax"},{value:"hazard_insurance",label:"Hazard Insurance"},{value:"pmi_insurance",label:"PMI Insurance"},{value:"hoa_fees",label:"HOA Fees"},{value:"flood_insurance",label:"Flood Insurance"},{value:"other",label:"Other"}],PRIORITY_LEVELS=[{value:"low",label:"Low",color:"text-green-600"},{value:"normal",label:"Normal",color:"text-blue-600"},{value:"high",label:"High",color:"text-yellow-600"},{value:"urgent",label:"Urgent",color:"text-red-600"}],CHART_COLORS={primary:"hsl(203.8863, 88.2845%, 53.1373%)",secondary:"hsl(210, 25%, 7.8431%)",success:"hsl(159.7826, 100%, 36.0784%)",warning:"hsl(42.0290, 92.8251%, 56.2745%)",danger:"hsl(356.3033, 90.5579%, 54.3137%)",info:"hsl(202.8169, 89.1213%, 53.1373%)"};function PaymentScheduler({escrowAccountId:j}){const[_,$]=reactExports.useState(!1),[_e,et]=reactExports.useState(),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState(""),[it,at]=reactExports.useState(""),[ot,ct]=reactExports.useState(""),{toast:dt}=useToast(),{data:pt,isLoading:ut}=useQuery({queryKey:["/api/escrow-payments",j],enabled:!!j}),lt=useMutation({mutationFn:async mt=>{const Et=await fetch("/api/escrow-payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mt)});if(!Et.ok)throw new Error("Failed to schedule payment");return Et.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/escrow-payments",j]}),dt({title:"Payment Scheduled",description:"The escrow payment has been scheduled successfully."}),$(!1),ht()},onError:()=>{dt({title:"Error",description:"Failed to schedule payment. Please try again.",variant:"destructive"})}}),ft=useMutation({mutationFn:async mt=>{const Et=await fetch(`/api/escrow-payments/${mt}`,{method:"DELETE"});if(!Et.ok)throw new Error("Failed to cancel payment");return Et.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/escrow-payments",j]}),dt({title:"Payment Cancelled",description:"The scheduled payment has been cancelled."})},onError:()=>{dt({title:"Error",description:"Failed to cancel payment. Please try again.",variant:"destructive"})}}),ht=()=>{et(void 0),rt(""),st(""),at(""),ct("")},yt=()=>{if(!_e||!tt||!nt||!it){dt({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}lt.mutate({escrowAccountId:j,paymentType:tt,amount:parseFloat(nt),scheduledDate:_e,payee:it,reference:ot})},vt=mt=>{const Et={scheduled:{variant:"default",icon:Clock},processing:{variant:"secondary",icon:Clock},completed:{variant:"outline",icon:CircleCheckBig},failed:{variant:"destructive",icon:CircleX}},Rt=Et[mt]||Et.scheduled,Tt=Rt.icon;return jsxRuntimeExports.jsxs(Badge,{variant:Rt.variant,children:[jsxRuntimeExports.jsx(Tt,{className:"mr-1 h-3 w-3"}),mt]})},gt=Array.isArray(pt)?pt.filter(mt=>mt.status==="scheduled"):[],bt=Array.isArray(pt)?pt.filter(mt=>mt.status!=="scheduled"):[];return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Payment Scheduler"}),jsxRuntimeExports.jsx(CardDescription,{children:"Schedule and manage escrow disbursements"})]}),jsxRuntimeExports.jsxs(Dialog,{open:_,onOpenChange:$,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"}),"Schedule Payment"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Schedule Escrow Payment"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Set up a new escrow payment disbursement"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"payment-type",children:"Payment Type"}),jsxRuntimeExports.jsxs(Select,{value:tt,onValueChange:rt,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"payment-type",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select payment type"})}),jsxRuntimeExports.jsx(SelectContent,{children:ESCROW_TYPES.map(mt=>jsxRuntimeExports.jsx(SelectItem,{value:mt.value,children:mt.label},mt.value))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"amount",children:"Amount"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(DollarSign,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{id:"amount",type:"number",placeholder:"0.00",value:nt,onChange:mt=>st(mt.target.value),className:"pl-9"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"payee",children:"Payee"}),jsxRuntimeExports.jsx(Input,{id:"payee",placeholder:"Enter payee name",value:it,onChange:mt=>at(mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"reference",children:"Reference Number (Optional)"}),jsxRuntimeExports.jsx(Input,{id:"reference",placeholder:"Enter reference number",value:ot,onChange:mt=>ct(mt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx(Label$2,{children:"Scheduled Date"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("justify-start text-left font-normal",!_e&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),_e?format$1(_e,"PPP"):"Pick a date"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:_e,onSelect:et,initialFocus:!0})})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:yt,disabled:lt.isPending,children:"Schedule Payment"})]})]})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[gt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium mb-3",children:"Upcoming Payments"}),jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Date"}),jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Payee"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:gt.map(mt=>{var Et;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:format$1(new Date(mt.scheduledDate),"MMM dd, yyyy")}),jsxRuntimeExports.jsx(TableCell,{children:(Et=ESCROW_TYPES.find(Rt=>Rt.value===mt.paymentType))==null?void 0:Et.label}),jsxRuntimeExports.jsx(TableCell,{children:mt.payee}),jsxRuntimeExports.jsxs(TableCell,{children:["$",mt.amount.toLocaleString()]}),jsxRuntimeExports.jsx(TableCell,{children:vt(mt.status)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>ft.mutate(mt.id),disabled:ft.isPending,children:"Cancel"})})]},mt.id)})})]})]}),bt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium mb-3",children:"Recent Payments"}),jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Date"}),jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Payee"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Reference"})]})}),jsxRuntimeExports.jsx(TableBody,{children:bt.slice(0,5).map(mt=>{var Et;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:format$1(new Date(mt.scheduledDate),"MMM dd, yyyy")}),jsxRuntimeExports.jsx(TableCell,{children:(Et=ESCROW_TYPES.find(Rt=>Rt.value===mt.paymentType))==null?void 0:Et.label}),jsxRuntimeExports.jsx(TableCell,{children:mt.payee}),jsxRuntimeExports.jsxs(TableCell,{children:["$",mt.amount.toLocaleString()]}),jsxRuntimeExports.jsx(TableCell,{children:vt(mt.status)}),jsxRuntimeExports.jsx(TableCell,{children:mt.reference||"-"})]},mt.id)})})]})]}),!ut&&(pt==null?void 0:pt.length)===0&&jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:'No payments scheduled yet. Click "Schedule Payment" to set up your first escrow disbursement.'})]})]})]})}function Escrow(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Escrow Management"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Manage escrow accounts and scheduled payments"})]})})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx(EscrowSummary,{}),jsxRuntimeExports.jsx(PaymentScheduler,{})]})]})]})}var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(j){var _=hasOwnProperty$a.call(j,symToStringTag$1),$=j[symToStringTag$1];try{j[symToStringTag$1]=void 0;var _e=!0}catch{}var et=nativeObjectToString$1.call(j);return _e&&(_?j[symToStringTag$1]=$:delete j[symToStringTag$1]),et}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(j){return nativeObjectToString.call(j)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(j){return j==null?j===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(j)?getRawTag(j):objectToString(j)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(j){return j!=null&&typeof j=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(j){return typeof j=="symbol"||isObjectLike$8(j)&&baseGetTag$8(j)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(j,_){if(isArray$e(j))return!1;var $=typeof j;return $=="number"||$=="symbol"||$=="boolean"||j==null||isSymbol$5(j)?!0:reIsPlainProp.test(j)||!reIsDeepProp.test(j)||_!=null&&j in Object(_)}var _isKey=isKey$3;function isObject$7(j){var _=typeof j;return j!=null&&(_=="object"||_=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(j){if(!isObject$6(j))return!1;var _=baseGetTag$7(j);return _==funcTag$1||_==genTag||_==asyncTag||_==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var j=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}();function isMasked$1(j){return!!maskSrcKey&&maskSrcKey in j}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(j){if(j!=null){try{return funcToString$2.call(j)}catch{}try{return j+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(j){if(!isObject$5(j)||isMasked(j))return!1;var _=isFunction$1(j)?reIsNative:reIsHostCtor;return _.test(toSource$1(j))}var _baseIsNative=baseIsNative$1;function getValue$1(j,_){return j==null?void 0:j[_]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(j,_){var $=getValue(j,_);return baseIsNative($)?$:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(j){var _=this.has(j)&&delete this.__data__[j];return this.size-=_?1:0,_}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(j){var _=this.__data__;if(nativeCreate$2){var $=_[j];return $===HASH_UNDEFINED$2?void 0:$}return hasOwnProperty$8.call(_,j)?_[j]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(j){var _=this.__data__;return nativeCreate$1?_[j]!==void 0:hasOwnProperty$7.call(_,j)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(j,_){var $=this.__data__;return this.size+=this.has(j)?0:1,$[j]=nativeCreate&&_===void 0?HASH_UNDEFINED$1:_,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(j){var _=-1,$=j==null?0:j.length;for(this.clear();++_<$;){var _e=j[_];this.set(_e[0],_e[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(j,_){return j===_||j!==j&&_!==_}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(j,_){for(var $=j.length;$--;)if(eq$2(j[$][0],_))return $;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(j){var _=this.__data__,$=assocIndexOf$3(_,j);if($<0)return!1;var _e=_.length-1;return $==_e?_.pop():splice.call(_,$,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(j){var _=this.__data__,$=assocIndexOf$2(_,j);return $<0?void 0:_[$][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(j){return assocIndexOf$1(this.__data__,j)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(j,_){var $=this.__data__,_e=assocIndexOf($,j);return _e<0?(++this.size,$.push([j,_])):$[_e][1]=_,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(j){var _=-1,$=j==null?0:j.length;for(this.clear();++_<$;){var _e=j[_];this.set(_e[0],_e[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(j){var _=typeof j;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?j!=="__proto__":j===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(j,_){var $=j.__data__;return isKeyable(_)?$[typeof _=="string"?"string":"hash"]:$.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(j){var _=getMapData$3(this,j).delete(j);return this.size-=_?1:0,_}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(j){return getMapData$2(this,j).get(j)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(j){return getMapData$1(this,j).has(j)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(j,_){var $=getMapData(this,j),_e=$.size;return $.set(j,_),this.size+=$.size==_e?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(j){var _=-1,$=j==null?0:j.length;for(this.clear();++_<$;){var _e=j[_];this.set(_e[0],_e[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(j,_){if(typeof j!="function"||_!=null&&typeof _!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var $=function(){var _e=arguments,et=_?_.apply(this,_e):_e[0],tt=$.cache;if(tt.has(et))return tt.get(et);var rt=j.apply(this,_e);return $.cache=tt.set(et,rt)||tt,rt};return $.cache=new(memoize$2.Cache||MapCache$2),$}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(j){var _=memoize$1(j,function(_e){return $.size===MAX_MEMOIZE_SIZE&&$.clear(),_e}),$=_.cache;return _}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(j){var _=[];return j.charCodeAt(0)===46&&_.push(""),j.replace(rePropName,function($,_e,et,tt){_.push(et?tt.replace(reEscapeChar,"$1"):_e||$)}),_}),_stringToPath=stringToPath$1;function arrayMap$3(j,_){for(var $=-1,_e=j==null?0:j.length,et=Array(_e);++$<_e;)et[$]=_(j[$],$,j);return et}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(j){if(typeof j=="string")return j;if(isArray$d(j))return arrayMap$2(j,baseToString$1)+"";if(isSymbol$4(j))return symbolToString?symbolToString.call(j):"";var _=j+"";return _=="0"&&1/j==-INFINITY$3?"-0":_}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(j){return j==null?"":baseToString(j)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(j,_){return isArray$c(j)?j:isKey$2(j,_)?[j]:stringToPath(toString$2(j))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(j){if(typeof j=="string"||isSymbol$3(j))return j;var _=j+"";return _=="0"&&1/j==-INFINITY$2?"-0":_}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(j,_){_=castPath$1(_,j);for(var $=0,_e=_.length;j!=null&&$<_e;)j=j[toKey$3(_[$++])];return $&&$==_e?j:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(j,_,$){var _e=j==null?void 0:baseGet$2(j,_);return _e===void 0?$:_e}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(j){return j==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(j){return typeof j=="string"||!isArray$b(j)&&isObjectLike$7(j)&&baseGetTag$6(j)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(j){if(typeof j=="object"&&j!==null){var _=j.$$typeof;switch(_){case b:switch(j=j.type,j){case d:case f:case e:case m:case n:return j;default:switch(j=j&&j.$$typeof,j){case k$1:case h:case l:case q:case p:case g:return j;default:return _}}case c$1:return _}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(j){return v(j)===h};reactIs_production_min.isContextProvider=function(j){return v(j)===g};reactIs_production_min.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===b};reactIs_production_min.isForwardRef=function(j){return v(j)===l};reactIs_production_min.isFragment=function(j){return v(j)===d};reactIs_production_min.isLazy=function(j){return v(j)===q};reactIs_production_min.isMemo=function(j){return v(j)===p};reactIs_production_min.isPortal=function(j){return v(j)===c$1};reactIs_production_min.isProfiler=function(j){return v(j)===f};reactIs_production_min.isStrictMode=function(j){return v(j)===e};reactIs_production_min.isSuspense=function(j){return v(j)===m};reactIs_production_min.isSuspenseList=function(j){return v(j)===n};reactIs_production_min.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===d||j===f||j===e||j===m||j===n||j===t||typeof j=="object"&&j!==null&&(j.$$typeof===q||j.$$typeof===p||j.$$typeof===g||j.$$typeof===h||j.$$typeof===l||j.$$typeof===u||j.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(j){return typeof j=="number"||isObjectLike$6(j)&&baseGetTag$5(j)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(j){return isNumber$1(j)&&j!=+j}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function j(_){return _===0?0:_>0?1:-1},isPercent=function j(_){return isString$1(_)&&_.indexOf("%")===_.length-1},isNumber=function j(_){return isNumber$3(_)&&!isNan(_)},isNumOrStr=function j(_){return isNumber(_)||isString$1(_)},idCounter=0,uniqueId=function j(_){var $=++idCounter;return"".concat(_||"").concat($)},getPercentValue=function j(_,$){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(_)&&!isString$1(_))return _e;var tt;if(isPercent(_)){var rt=_.indexOf("%");tt=$*parseFloat(_.slice(0,rt))/100}else tt=+_;return isNan(tt)&&(tt=_e),et&&tt>$&&(tt=$),tt},getAnyElementOfObject=function j(_){if(!_)return null;var $=Object.keys(_);return $&&$.length?_[$[0]]:null},hasDuplicate=function j(_){if(!Array.isArray(_))return!1;for(var $=_.length,_e={},et=0;et<$;et++)if(!_e[_[et]])_e[_[et]]=!0;else return!0;return!1},interpolateNumber$2=function j(_,$){return isNumber(_)&&isNumber($)?function(_e){return _+_e*($-_)}:function(){return $}};function findEntryInArray(j,_,$){return!j||!j.length?null:j.find(function(_e){return _e&&(typeof _=="function"?_(_e):get$2(_e,_))===$})}function shallowEqual(j,_){for(var $ in j)if({}.hasOwnProperty.call(j,$)&&(!{}.hasOwnProperty.call(_,$)||j[$]!==_[$]))return!1;for(var _e in _)if({}.hasOwnProperty.call(_,_e)&&!{}.hasOwnProperty.call(j,_e))return!1;return!0}function _typeof$L(j){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$L(j)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function j(_,$){if(!_||typeof _=="function"||typeof _=="boolean")return null;var _e=_;if(reactExports.isValidElement(_)&&(_e=_.props),!isObject$8(_e))return null;var et={};return Object.keys(_e).forEach(function(tt){EventKeys.includes(tt)&&(et[tt]=$||function(rt){return _e[tt](_e,rt)})}),et},getEventHandlerOfChild=function j(_,$,_e){return function(et){return _($,_e,et),null}},adaptEventsOfChild=function j(_,$,_e){if(!isObject$8(_)||_typeof$L(_)!=="object")return null;var et=null;return Object.keys(_).forEach(function(tt){var rt=_[tt];EventKeys.includes(tt)&&typeof rt=="function"&&(et||(et={}),et[tt]=getEventHandlerOfChild(rt,$,_e))}),et},_excluded$j=["children"],_excluded2$7=["children"];function _objectWithoutProperties$j(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$j(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$j(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _typeof$K(j){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$K(j)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function j(_){return typeof _=="string"?_:_?_.displayName||_.name||"Component":""},lastChildren=null,lastResult=null,toArray=function j(_){if(_===lastChildren&&Array.isArray(lastResult))return lastResult;var $=[];return reactExports.Children.forEach(_,function(_e){isNil$1(_e)||(reactIsExports.isFragment(_e)?$=$.concat(j(_e.props.children)):$.push(_e))}),lastResult=$,lastChildren=_,$};function findAllByType(j,_){var $=[],_e=[];return Array.isArray(_)?_e=_.map(function(et){return getDisplayName(et)}):_e=[getDisplayName(_)],toArray(j).forEach(function(et){var tt=get$2(et,"type.displayName")||get$2(et,"type.name");_e.indexOf(tt)!==-1&&$.push(et)}),$}function findChildByType(j,_){var $=findAllByType(j,_);return $&&$[0]}var validateWidthHeight=function j(_){if(!_||!_.props)return!1;var $=_.props,_e=$.width,et=$.height;return!(!isNumber(_e)||_e<=0||!isNumber(et)||et<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function j(_){return _&&_.type&&isString$1(_.type)&&SVG_TAGS.indexOf(_.type)>=0},hasClipDot=function j(_){return _&&_typeof$K(_)==="object"&&"clipDot"in _},isValidSpreadableProp=function j(_,$,_e,et){var tt,rt=(tt=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[et])!==null&&tt!==void 0?tt:[];return $.startsWith("data-")||!isFunction$3(_)&&(et&&rt.includes($)||SVGElementPropKeys.includes($))||_e&&EventKeys.includes($)},filterProps=function j(_,$,_e){if(!_||typeof _=="function"||typeof _=="boolean")return null;var et=_;if(reactExports.isValidElement(_)&&(et=_.props),!isObject$8(et))return null;var tt={};return Object.keys(et).forEach(function(rt){var nt;isValidSpreadableProp((nt=et)===null||nt===void 0?void 0:nt[rt],rt,$,_e)&&(tt[rt]=et[rt])}),tt},isChildrenEqual=function j(_,$){if(_===$)return!0;var _e=reactExports.Children.count(_);if(_e!==reactExports.Children.count($))return!1;if(_e===0)return!0;if(_e===1)return isSingleChildEqual(Array.isArray(_)?_[0]:_,Array.isArray($)?$[0]:$);for(var et=0;et<_e;et++){var tt=_[et],rt=$[et];if(Array.isArray(tt)||Array.isArray(rt)){if(!j(tt,rt))return!1}else if(!isSingleChildEqual(tt,rt))return!1}return!0},isSingleChildEqual=function j(_,$){if(isNil$1(_)&&isNil$1($))return!0;if(!isNil$1(_)&&!isNil$1($)){var _e=_.props||{},et=_e.children,tt=_objectWithoutProperties$j(_e,_excluded$j),rt=$.props||{},nt=rt.children,st=_objectWithoutProperties$j(rt,_excluded2$7);return et&&nt?shallowEqual(tt,st)&&isChildrenEqual(et,nt):!et&&!nt?shallowEqual(tt,st):!1}return!1},renderByOrder=function j(_,$){var _e=[],et={};return toArray(_).forEach(function(tt,rt){if(isSvgElement(tt))_e.push(tt);else if(tt){var nt=getDisplayName(tt.type),st=$[nt]||{},it=st.handler,at=st.once;if(it&&(!at||!et[nt])){var ot=it(tt,nt,rt);_e.push(ot),et[nt]=!0}}}),_e},getReactEventByType=function j(_){var $=_&&_.type;return $&&REACT_BROWSER_EVENT_MAP[$]?REACT_BROWSER_EVENT_MAP[$]:null},parseChildIndex=function j(_,$){return toArray($).indexOf(_)},_excluded$i=["children","width","height","viewBox","className","style","title","desc"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$u.apply(this,arguments)}function _objectWithoutProperties$i(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$i(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$i(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function Surface(j){var _=j.children,$=j.width,_e=j.height,et=j.viewBox,tt=j.className,rt=j.style,nt=j.title,st=j.desc,it=_objectWithoutProperties$i(j,_excluded$i),at=et||{width:$,height:_e,x:0,y:0},ot=clsx("recharts-surface",tt);return React.createElement("svg",_extends$u({},filterProps(it,!0,"svg"),{className:ot,width:$,height:_e,style:rt,viewBox:"".concat(at.x," ").concat(at.y," ").concat(at.width," ").concat(at.height)}),React.createElement("title",null,nt),React.createElement("desc",null,st),_)}var _excluded$h=["children","className"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$t.apply(this,arguments)}function _objectWithoutProperties$h(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$h(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$h(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}var Layer=React.forwardRef(function(j,_){var $=j.children,_e=j.className,et=_objectWithoutProperties$h(j,_excluded$h),tt=clsx("recharts-layer",_e);return React.createElement("g",_extends$t({className:tt},filterProps(et,!0),{ref:_}),$)}),warn=function j(_,$){for(var _e=arguments.length,et=new Array(_e>2?_e-2:0),tt=2;tt<_e;tt++)et[tt-2]=arguments[tt]};function baseSlice$1(j,_,$){var _e=-1,et=j.length;_<0&&(_=-_>et?0:et+_),$=$>et?et:$,$<0&&($+=et),et=_>$?0:$-_>>>0,_>>>=0;for(var tt=Array(et);++_e<et;)tt[_e]=j[_e+_];return tt}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(j,_,$){var _e=j.length;return $=$===void 0?_e:$,!_&&$>=_e?j:baseSlice(j,_,$)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(j){return reHasUnicode.test(j)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(j){return j.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(j){return j.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(j){return hasUnicode$1(j)?unicodeToArray(j):asciiToArray(j)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(j){return function(_){_=toString$1(_);var $=hasUnicode(_)?stringToArray(_):void 0,_e=$?$[0]:_.charAt(0),et=$?castSlice($,1).join(""):_.slice(1);return _e[j]()+et}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(j){return function(){return j}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(j){this._+=j[0];for(let _=1,$=j.length;_<$;++_)this._+=arguments[_]+j[_]}function appendRound(j){let _=Math.floor(j);if(!(_>=0))throw new Error(`invalid digits: ${j}`);if(_>15)return append;const $=10**_;return function(_e){this._+=_e[0];for(let et=1,tt=_e.length;et<tt;++et)this._+=Math.round(arguments[et]*$)/$+_e[et]}}class Path{constructor(_){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=_==null?append:appendRound(_)}moveTo(_,$){this._append`M${this._x0=this._x1=+_},${this._y0=this._y1=+$}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(_,$){this._append`L${this._x1=+_},${this._y1=+$}`}quadraticCurveTo(_,$,_e,et){this._append`Q${+_},${+$},${this._x1=+_e},${this._y1=+et}`}bezierCurveTo(_,$,_e,et,tt,rt){this._append`C${+_},${+$},${+_e},${+et},${this._x1=+tt},${this._y1=+rt}`}arcTo(_,$,_e,et,tt){if(_=+_,$=+$,_e=+_e,et=+et,tt=+tt,tt<0)throw new Error(`negative radius: ${tt}`);let rt=this._x1,nt=this._y1,st=_e-_,it=et-$,at=rt-_,ot=nt-$,ct=at*at+ot*ot;if(this._x1===null)this._append`M${this._x1=_},${this._y1=$}`;else if(ct>epsilon)if(!(Math.abs(ot*st-it*at)>epsilon)||!tt)this._append`L${this._x1=_},${this._y1=$}`;else{let dt=_e-rt,pt=et-nt,ut=st*st+it*it,lt=dt*dt+pt*pt,ft=Math.sqrt(ut),ht=Math.sqrt(ct),yt=tt*Math.tan((pi-Math.acos((ut+ct-lt)/(2*ft*ht)))/2),vt=yt/ht,gt=yt/ft;Math.abs(vt-1)>epsilon&&this._append`L${_+vt*at},${$+vt*ot}`,this._append`A${tt},${tt},0,0,${+(ot*dt>at*pt)},${this._x1=_+gt*st},${this._y1=$+gt*it}`}}arc(_,$,_e,et,tt,rt){if(_=+_,$=+$,_e=+_e,rt=!!rt,_e<0)throw new Error(`negative radius: ${_e}`);let nt=_e*Math.cos(et),st=_e*Math.sin(et),it=_+nt,at=$+st,ot=1^rt,ct=rt?et-tt:tt-et;this._x1===null?this._append`M${it},${at}`:(Math.abs(this._x1-it)>epsilon||Math.abs(this._y1-at)>epsilon)&&this._append`L${it},${at}`,_e&&(ct<0&&(ct=ct%tau+tau),ct>tauEpsilon?this._append`A${_e},${_e},0,1,${ot},${_-nt},${$-st}A${_e},${_e},0,1,${ot},${this._x1=it},${this._y1=at}`:ct>epsilon&&this._append`A${_e},${_e},0,${+(ct>=pi)},${ot},${this._x1=_+_e*Math.cos(tt)},${this._y1=$+_e*Math.sin(tt)}`)}rect(_,$,_e,et){this._append`M${this._x0=this._x1=+_},${this._y0=this._y1=+$}h${_e=+_e}v${+et}h${-_e}Z`}toString(){return this._}}function withPath(j){let _=3;return j.digits=function($){if(!arguments.length)return _;if($==null)_=null;else{const _e=Math.floor($);if(!(_e>=0))throw new RangeError(`invalid digits: ${$}`);_=_e}return j},()=>new Path(_)}function array(j){return typeof j=="object"&&"length"in j?j:Array.from(j)}function Linear(j){this._context=j}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(j,_){switch(j=+j,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(j,_):this._context.moveTo(j,_);break;case 1:this._point=2;default:this._context.lineTo(j,_);break}}};function curveLinear(j){return new Linear(j)}function x(j){return j[0]}function y(j){return j[1]}function shapeLine(j,_){var $=constant$3(!0),_e=null,et=curveLinear,tt=null,rt=withPath(nt);j=typeof j=="function"?j:j===void 0?x:constant$3(j),_=typeof _=="function"?_:_===void 0?y:constant$3(_);function nt(st){var it,at=(st=array(st)).length,ot,ct=!1,dt;for(_e==null&&(tt=et(dt=rt())),it=0;it<=at;++it)!(it<at&&$(ot=st[it],it,st))===ct&&((ct=!ct)?tt.lineStart():tt.lineEnd()),ct&&tt.point(+j(ot,it,st),+_(ot,it,st));if(dt)return tt=null,dt+""||null}return nt.x=function(st){return arguments.length?(j=typeof st=="function"?st:constant$3(+st),nt):j},nt.y=function(st){return arguments.length?(_=typeof st=="function"?st:constant$3(+st),nt):_},nt.defined=function(st){return arguments.length?($=typeof st=="function"?st:constant$3(!!st),nt):$},nt.curve=function(st){return arguments.length?(et=st,_e!=null&&(tt=et(_e)),nt):et},nt.context=function(st){return arguments.length?(st==null?_e=tt=null:tt=et(_e=st),nt):_e},nt}function shapeArea(j,_,$){var _e=null,et=constant$3(!0),tt=null,rt=curveLinear,nt=null,st=withPath(it);j=typeof j=="function"?j:j===void 0?x:constant$3(+j),_=typeof _=="function"?_:constant$3(_===void 0?0:+_),$=typeof $=="function"?$:$===void 0?y:constant$3(+$);function it(ot){var ct,dt,pt,ut=(ot=array(ot)).length,lt,ft=!1,ht,yt=new Array(ut),vt=new Array(ut);for(tt==null&&(nt=rt(ht=st())),ct=0;ct<=ut;++ct){if(!(ct<ut&&et(lt=ot[ct],ct,ot))===ft)if(ft=!ft)dt=ct,nt.areaStart(),nt.lineStart();else{for(nt.lineEnd(),nt.lineStart(),pt=ct-1;pt>=dt;--pt)nt.point(yt[pt],vt[pt]);nt.lineEnd(),nt.areaEnd()}ft&&(yt[ct]=+j(lt,ct,ot),vt[ct]=+_(lt,ct,ot),nt.point(_e?+_e(lt,ct,ot):yt[ct],$?+$(lt,ct,ot):vt[ct]))}if(ht)return nt=null,ht+""||null}function at(){return shapeLine().defined(et).curve(rt).context(tt)}return it.x=function(ot){return arguments.length?(j=typeof ot=="function"?ot:constant$3(+ot),_e=null,it):j},it.x0=function(ot){return arguments.length?(j=typeof ot=="function"?ot:constant$3(+ot),it):j},it.x1=function(ot){return arguments.length?(_e=ot==null?null:typeof ot=="function"?ot:constant$3(+ot),it):_e},it.y=function(ot){return arguments.length?(_=typeof ot=="function"?ot:constant$3(+ot),$=null,it):_},it.y0=function(ot){return arguments.length?(_=typeof ot=="function"?ot:constant$3(+ot),it):_},it.y1=function(ot){return arguments.length?($=ot==null?null:typeof ot=="function"?ot:constant$3(+ot),it):$},it.lineX0=it.lineY0=function(){return at().x(j).y(_)},it.lineY1=function(){return at().x(j).y($)},it.lineX1=function(){return at().x(_e).y(_)},it.defined=function(ot){return arguments.length?(et=typeof ot=="function"?ot:constant$3(!!ot),it):et},it.curve=function(ot){return arguments.length?(rt=ot,tt!=null&&(nt=rt(tt)),it):rt},it.context=function(ot){return arguments.length?(ot==null?tt=nt=null:nt=rt(tt=ot),it):tt},it}class Bump{constructor(_,$){this._context=_,this._x=$}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(_,$){switch(_=+_,$=+$,this._point){case 0:{this._point=1,this._line?this._context.lineTo(_,$):this._context.moveTo(_,$);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+_)/2,this._y0,this._x0,$,_,$):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+$)/2,_,this._y0,_,$);break}}this._x0=_,this._y0=$}}function bumpX(j){return new Bump(j,!0)}function bumpY(j){return new Bump(j,!1)}const symbolCircle={draw(j,_){const $=sqrt$1(_/pi$1);j.moveTo($,0),j.arc(0,0,$,0,tau$1)}},symbolCross={draw(j,_){const $=sqrt$1(_/5)/2;j.moveTo(-3*$,-$),j.lineTo(-$,-$),j.lineTo(-$,-3*$),j.lineTo($,-3*$),j.lineTo($,-$),j.lineTo(3*$,-$),j.lineTo(3*$,$),j.lineTo($,$),j.lineTo($,3*$),j.lineTo(-$,3*$),j.lineTo(-$,$),j.lineTo(-3*$,$),j.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(j,_){const $=sqrt$1(_/tan30_2),_e=$*tan30;j.moveTo(0,-$),j.lineTo(_e,0),j.lineTo(0,$),j.lineTo(-_e,0),j.closePath()}},symbolSquare={draw(j,_){const $=sqrt$1(_),_e=-$/2;j.rect(_e,_e,$,$)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(j,_){const $=sqrt$1(_*ka),_e=kx*$,et=ky*$;j.moveTo(0,-$),j.lineTo(_e,et);for(let tt=1;tt<5;++tt){const rt=tau$1*tt/5,nt=cos(rt),st=sin(rt);j.lineTo(st*$,-nt*$),j.lineTo(nt*_e-st*et,st*_e+nt*et)}j.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(j,_){const $=-sqrt$1(_/(sqrt3*3));j.moveTo(0,$*2),j.lineTo(-sqrt3*$,-$),j.lineTo(sqrt3*$,-$),j.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(j,_){const $=sqrt$1(_/a),_e=$/2,et=$*k,tt=_e,rt=$*k+$,nt=-tt,st=rt;j.moveTo(_e,et),j.lineTo(tt,rt),j.lineTo(nt,st),j.lineTo(c*_e-s*et,s*_e+c*et),j.lineTo(c*tt-s*rt,s*tt+c*rt),j.lineTo(c*nt-s*st,s*nt+c*st),j.lineTo(c*_e+s*et,c*et-s*_e),j.lineTo(c*tt+s*rt,c*rt-s*tt),j.lineTo(c*nt+s*st,c*st-s*nt),j.closePath()}};function Symbol$3(j,_){let $=null,_e=withPath(et);j=typeof j=="function"?j:constant$3(j||symbolCircle),_=typeof _=="function"?_:constant$3(_===void 0?64:+_);function et(){let tt;if($||($=tt=_e()),j.apply(this,arguments).draw($,+_.apply(this,arguments)),tt)return $=null,tt+""||null}return et.type=function(tt){return arguments.length?(j=typeof tt=="function"?tt:constant$3(tt),et):j},et.size=function(tt){return arguments.length?(_=typeof tt=="function"?tt:constant$3(+tt),et):_},et.context=function(tt){return arguments.length?($=tt??null,et):$},et}function noop$2(){}function point$2(j,_,$){j._context.bezierCurveTo((2*j._x0+j._x1)/3,(2*j._y0+j._y1)/3,(j._x0+2*j._x1)/3,(j._y0+2*j._y1)/3,(j._x0+4*j._x1+_)/6,(j._y0+4*j._y1+$)/6)}function Basis(j){this._context=j}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(j,_){switch(j=+j,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(j,_):this._context.moveTo(j,_);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,j,_);break}this._x0=this._x1,this._x1=j,this._y0=this._y1,this._y1=_}};function curveBasis(j){return new Basis(j)}function BasisClosed(j){this._context=j}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(j,_){switch(j=+j,_=+_,this._point){case 0:this._point=1,this._x2=j,this._y2=_;break;case 1:this._point=2,this._x3=j,this._y3=_;break;case 2:this._point=3,this._x4=j,this._y4=_,this._context.moveTo((this._x0+4*this._x1+j)/6,(this._y0+4*this._y1+_)/6);break;default:point$2(this,j,_);break}this._x0=this._x1,this._x1=j,this._y0=this._y1,this._y1=_}};function curveBasisClosed(j){return new BasisClosed(j)}function BasisOpen(j){this._context=j}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(j,_){switch(j=+j,_=+_,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var $=(this._x0+4*this._x1+j)/6,_e=(this._y0+4*this._y1+_)/6;this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break;case 3:this._point=4;default:point$2(this,j,_);break}this._x0=this._x1,this._x1=j,this._y0=this._y1,this._y1=_}};function curveBasisOpen(j){return new BasisOpen(j)}function LinearClosed(j){this._context=j}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(j,_){j=+j,_=+_,this._point?this._context.lineTo(j,_):(this._point=1,this._context.moveTo(j,_))}};function curveLinearClosed(j){return new LinearClosed(j)}function sign(j){return j<0?-1:1}function slope3(j,_,$){var _e=j._x1-j._x0,et=_-j._x1,tt=(j._y1-j._y0)/(_e||et<0&&-0),rt=($-j._y1)/(et||_e<0&&-0),nt=(tt*et+rt*_e)/(_e+et);return(sign(tt)+sign(rt))*Math.min(Math.abs(tt),Math.abs(rt),.5*Math.abs(nt))||0}function slope2(j,_){var $=j._x1-j._x0;return $?(3*(j._y1-j._y0)/$-_)/2:_}function point$1(j,_,$){var _e=j._x0,et=j._y0,tt=j._x1,rt=j._y1,nt=(tt-_e)/3;j._context.bezierCurveTo(_e+nt,et+nt*_,tt-nt,rt-nt*$,tt,rt)}function MonotoneX(j){this._context=j}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(j,_){var $=NaN;if(j=+j,_=+_,!(j===this._x1&&_===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(j,_):this._context.moveTo(j,_);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,$=slope3(this,j,_)),$);break;default:point$1(this,this._t0,$=slope3(this,j,_));break}this._x0=this._x1,this._x1=j,this._y0=this._y1,this._y1=_,this._t0=$}}};function MonotoneY(j){this._context=new ReflectContext(j)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(j,_){MonotoneX.prototype.point.call(this,_,j)};function ReflectContext(j){this._context=j}ReflectContext.prototype={moveTo:function(j,_){this._context.moveTo(_,j)},closePath:function(){this._context.closePath()},lineTo:function(j,_){this._context.lineTo(_,j)},bezierCurveTo:function(j,_,$,_e,et,tt){this._context.bezierCurveTo(_,j,_e,$,tt,et)}};function monotoneX(j){return new MonotoneX(j)}function monotoneY(j){return new MonotoneY(j)}function Natural(j){this._context=j}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var j=this._x,_=this._y,$=j.length;if($)if(this._line?this._context.lineTo(j[0],_[0]):this._context.moveTo(j[0],_[0]),$===2)this._context.lineTo(j[1],_[1]);else for(var _e=controlPoints(j),et=controlPoints(_),tt=0,rt=1;rt<$;++tt,++rt)this._context.bezierCurveTo(_e[0][tt],et[0][tt],_e[1][tt],et[1][tt],j[rt],_[rt]);(this._line||this._line!==0&&$===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(j,_){this._x.push(+j),this._y.push(+_)}};function controlPoints(j){var _,$=j.length-1,_e,et=new Array($),tt=new Array($),rt=new Array($);for(et[0]=0,tt[0]=2,rt[0]=j[0]+2*j[1],_=1;_<$-1;++_)et[_]=1,tt[_]=4,rt[_]=4*j[_]+2*j[_+1];for(et[$-1]=2,tt[$-1]=7,rt[$-1]=8*j[$-1]+j[$],_=1;_<$;++_)_e=et[_]/tt[_-1],tt[_]-=_e,rt[_]-=_e*rt[_-1];for(et[$-1]=rt[$-1]/tt[$-1],_=$-2;_>=0;--_)et[_]=(rt[_]-et[_+1])/tt[_];for(tt[$-1]=(j[$]+et[$-1])/2,_=0;_<$-1;++_)tt[_]=2*j[_+1]-et[_+1];return[et,tt]}function curveNatural(j){return new Natural(j)}function Step(j,_){this._context=j,this._t=_}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(j,_){switch(j=+j,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(j,_):this._context.moveTo(j,_);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,_),this._context.lineTo(j,_);else{var $=this._x*(1-this._t)+j*this._t;this._context.lineTo($,this._y),this._context.lineTo($,_)}break}}this._x=j,this._y=_}};function curveStep(j){return new Step(j,.5)}function stepBefore(j){return new Step(j,0)}function stepAfter(j){return new Step(j,1)}function stackOffsetNone(j,_){if((rt=j.length)>1)for(var $=1,_e,et,tt=j[_[0]],rt,nt=tt.length;$<rt;++$)for(et=tt,tt=j[_[$]],_e=0;_e<nt;++_e)tt[_e][1]+=tt[_e][0]=isNaN(et[_e][1])?et[_e][0]:et[_e][1]}function stackOrderNone(j){for(var _=j.length,$=new Array(_);--_>=0;)$[_]=_;return $}function stackValue(j,_){return j[_]}function stackSeries(j){const _=[];return _.key=j,_}function shapeStack(){var j=constant$3([]),_=stackOrderNone,$=stackOffsetNone,_e=stackValue;function et(tt){var rt=Array.from(j.apply(this,arguments),stackSeries),nt,st=rt.length,it=-1,at;for(const ot of tt)for(nt=0,++it;nt<st;++nt)(rt[nt][it]=[0,+_e(ot,rt[nt].key,it,tt)]).data=ot;for(nt=0,at=array(_(rt));nt<st;++nt)rt[at[nt]].index=nt;return $(rt,at),rt}return et.keys=function(tt){return arguments.length?(j=typeof tt=="function"?tt:constant$3(Array.from(tt)),et):j},et.value=function(tt){return arguments.length?(_e=typeof tt=="function"?tt:constant$3(+tt),et):_e},et.order=function(tt){return arguments.length?(_=tt==null?stackOrderNone:typeof tt=="function"?tt:constant$3(Array.from(tt)),et):_},et.offset=function(tt){return arguments.length?($=tt??stackOffsetNone,et):$},et}function stackOffsetExpand(j,_){if((_e=j.length)>0){for(var $,_e,et=0,tt=j[0].length,rt;et<tt;++et){for(rt=$=0;$<_e;++$)rt+=j[$][et][1]||0;if(rt)for($=0;$<_e;++$)j[$][et][1]/=rt}stackOffsetNone(j,_)}}function stackOffsetSilhouette(j,_){if((et=j.length)>0){for(var $=0,_e=j[_[0]],et,tt=_e.length;$<tt;++$){for(var rt=0,nt=0;rt<et;++rt)nt+=j[rt][$][1]||0;_e[$][1]+=_e[$][0]=-nt/2}stackOffsetNone(j,_)}}function stackOffsetWiggle(j,_){if(!(!((rt=j.length)>0)||!((tt=(et=j[_[0]]).length)>0))){for(var $=0,_e=1,et,tt,rt;_e<tt;++_e){for(var nt=0,st=0,it=0;nt<rt;++nt){for(var at=j[_[nt]],ot=at[_e][1]||0,ct=at[_e-1][1]||0,dt=(ot-ct)/2,pt=0;pt<nt;++pt){var ut=j[_[pt]],lt=ut[_e][1]||0,ft=ut[_e-1][1]||0;dt+=lt-ft}st+=ot,it+=dt*ot}et[_e-1][1]+=et[_e-1][0]=$,st&&($-=it/st)}et[_e-1][1]+=et[_e-1][0]=$,stackOffsetNone(j,_)}}function _typeof$J(j){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$J(j)}var _excluded$g=["type","size","sizeType"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$s.apply(this,arguments)}function ownKeys$C(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$C(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$C(Object($),!0).forEach(function(_e){_defineProperty$I(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$C(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$I(j,_,$){return _=_toPropertyKey$I(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$I(j){var _=_toPrimitive$I(j,"string");return _typeof$J(_)=="symbol"?_:_+""}function _toPrimitive$I(j,_){if(_typeof$J(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$J(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _objectWithoutProperties$g(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$g(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$g(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function j(_){var $="symbol".concat(upperFirst$1(_));return symbolFactories[$]||symbolCircle},calculateAreaSize=function j(_,$,_e){if($==="area")return _;switch(_e){case"cross":return 5*_*_/9;case"diamond":return .5*_*_/Math.sqrt(3);case"square":return _*_;case"star":{var et=18*RADIAN$2;return 1.25*_*_*(Math.tan(et)-Math.tan(et*2)*Math.pow(Math.tan(et),2))}case"triangle":return Math.sqrt(3)*_*_/4;case"wye":return(21-10*Math.sqrt(3))*_*_/8;default:return Math.PI*_*_/4}},registerSymbol=function j(_,$){symbolFactories["symbol".concat(upperFirst$1(_))]=$},Symbols=function j(_){var $=_.type,_e=$===void 0?"circle":$,et=_.size,tt=et===void 0?64:et,rt=_.sizeType,nt=rt===void 0?"area":rt,st=_objectWithoutProperties$g(_,_excluded$g),it=_objectSpread$C(_objectSpread$C({},st),{},{type:_e,size:tt,sizeType:nt}),at=function(){var lt=getSymbolFactory(_e),ft=Symbol$3().type(lt).size(calculateAreaSize(tt,nt,_e));return ft()},ot=it.className,ct=it.cx,dt=it.cy,pt=filterProps(it,!0);return ct===+ct&&dt===+dt&&tt===+tt?React.createElement("path",_extends$s({},pt,{className:clsx("recharts-symbols",ot),transform:"translate(".concat(ct,", ").concat(dt,")"),d:at()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$I(j){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$I(j)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$r.apply(this,arguments)}function ownKeys$B(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$B(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$B(Object($),!0).forEach(function(_e){_defineProperty$H(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$B(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$l(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$H(_e.key),_e)}}function _createClass$l(j,_,$){return _&&_defineProperties$l(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$h(j,_,$){return _=_getPrototypeOf$i(_),_possibleConstructorReturn$i(j,_isNativeReflectConstruct$i()?Reflect.construct(_,$||[],_getPrototypeOf$i(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$i(j,_){if(_&&(_typeof$I(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(j)}function _assertThisInitialized$i(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$i(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!j})()}function _getPrototypeOf$i(j){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$i(j)}function _inherits$i(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$i(j,_)}function _setPrototypeOf$i(j,_){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$i(j,_)}function _defineProperty$H(j,_,$){return _=_toPropertyKey$H(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$H(j){var _=_toPrimitive$H(j,"string");return _typeof$I(_)=="symbol"?_:_+""}function _toPrimitive$H(j,_){if(_typeof$I(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$I(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var SIZE=32,DefaultLegendContent=function(j){function _(){return _classCallCheck$l(this,_),_callSuper$h(this,_,arguments)}return _inherits$i(_,j),_createClass$l(_,[{key:"renderIcon",value:function(_e){var et=this.props.inactiveColor,tt=SIZE/2,rt=SIZE/6,nt=SIZE/3,st=_e.inactive?et:_e.color;if(_e.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:st,strokeDasharray:_e.payload.strokeDasharray,x1:0,y1:tt,x2:SIZE,y2:tt,className:"recharts-legend-icon"});if(_e.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:st,d:"M0,".concat(tt,"h").concat(nt,`
            A`).concat(rt,",").concat(rt,",0,1,1,").concat(2*nt,",").concat(tt,`
            H`).concat(SIZE,"M").concat(2*nt,",").concat(tt,`
            A`).concat(rt,",").concat(rt,",0,1,1,").concat(nt,",").concat(tt),className:"recharts-legend-icon"});if(_e.type==="rect")return React.createElement("path",{stroke:"none",fill:st,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(_e.legendIcon)){var it=_objectSpread$B({},_e);return delete it.legendIcon,React.cloneElement(_e.legendIcon,it)}return React.createElement(Symbols,{fill:st,cx:tt,cy:tt,size:SIZE,sizeType:"diameter",type:_e.type})}},{key:"renderItems",value:function(){var _e=this,et=this.props,tt=et.payload,rt=et.iconSize,nt=et.layout,st=et.formatter,it=et.inactiveColor,at={x:0,y:0,width:SIZE,height:SIZE},ot={display:nt==="horizontal"?"inline-block":"block",marginRight:10},ct={display:"inline-block",verticalAlign:"middle",marginRight:4};return tt.map(function(dt,pt){var ut=dt.formatter||st,lt=clsx(_defineProperty$H(_defineProperty$H({"recharts-legend-item":!0},"legend-item-".concat(pt),!0),"inactive",dt.inactive));if(dt.type==="none")return null;var ft=isFunction$3(dt.value)?null:dt.value;warn(!isFunction$3(dt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var ht=dt.inactive?it:dt.color;return React.createElement("li",_extends$r({className:lt,style:ot,key:"legend-item-".concat(pt)},adaptEventsOfChild(_e.props,dt,pt)),React.createElement(Surface,{width:rt,height:rt,viewBox:at,style:ct},_e.renderIcon(dt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:ht}},ut?ut(ft,dt,pt):ft))})}},{key:"render",value:function(){var _e=this.props,et=_e.payload,tt=_e.layout,rt=_e.align;if(!et||!et.length)return null;var nt={padding:0,margin:0,textAlign:tt==="horizontal"?rt:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:nt},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$H(DefaultLegendContent,"displayName","Legend");_defineProperty$H(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(j){var _=this.__data__,$=_.delete(j);return this.size=_.size,$}var _stackDelete=stackDelete$1;function stackGet$1(j){return this.__data__.get(j)}var _stackGet=stackGet$1;function stackHas$1(j){return this.__data__.has(j)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(j,_){var $=this.__data__;if($ instanceof ListCache$1){var _e=$.__data__;if(!Map$2||_e.length<LARGE_ARRAY_SIZE$1-1)return _e.push([j,_]),this.size=++$.size,this;$=this.__data__=new MapCache$1(_e)}return $.set(j,_),this.size=$.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(j){var _=this.__data__=new ListCache(j);this.size=_.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(j){return this.__data__.set(j,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(j){return this.__data__.has(j)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(j){var _=-1,$=j==null?0:j.length;for(this.__data__=new MapCache;++_<$;)this.add(j[_])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(j,_){for(var $=-1,_e=j==null?0:j.length;++$<_e;)if(_(j[$],$,j))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(j,_){return j.has(_)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(j,_,$,_e,et,tt){var rt=$&COMPARE_PARTIAL_FLAG$5,nt=j.length,st=_.length;if(nt!=st&&!(rt&&st>nt))return!1;var it=tt.get(j),at=tt.get(_);if(it&&at)return it==_&&at==j;var ot=-1,ct=!0,dt=$&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(tt.set(j,_),tt.set(_,j);++ot<nt;){var pt=j[ot],ut=_[ot];if(_e)var lt=rt?_e(ut,pt,ot,_,j,tt):_e(pt,ut,ot,j,_,tt);if(lt!==void 0){if(lt)continue;ct=!1;break}if(dt){if(!arraySome$1(_,function(ft,ht){if(!cacheHas$1(dt,ht)&&(pt===ft||et(pt,ft,$,_e,tt)))return dt.push(ht)})){ct=!1;break}}else if(!(pt===ut||et(pt,ut,$,_e,tt))){ct=!1;break}}return tt.delete(j),tt.delete(_),ct}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(j){var _=-1,$=Array(j.size);return j.forEach(function(_e,et){$[++_]=[et,_e]}),$}var _mapToArray=mapToArray$1;function setToArray$3(j){var _=-1,$=Array(j.size);return j.forEach(function(_e){$[++_]=_e}),$}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(j,_,$,_e,et,tt,rt){switch($){case dataViewTag$2:if(j.byteLength!=_.byteLength||j.byteOffset!=_.byteOffset)return!1;j=j.buffer,_=_.buffer;case arrayBufferTag$1:return!(j.byteLength!=_.byteLength||!tt(new Uint8Array$1(j),new Uint8Array$1(_)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+j,+_);case errorTag$1:return j.name==_.name&&j.message==_.message;case regexpTag$1:case stringTag$1:return j==_+"";case mapTag$2:var nt=mapToArray;case setTag$2:var st=_e&COMPARE_PARTIAL_FLAG$4;if(nt||(nt=setToArray$2),j.size!=_.size&&!st)return!1;var it=rt.get(j);if(it)return it==_;_e|=COMPARE_UNORDERED_FLAG$2,rt.set(j,_);var at=equalArrays$1(nt(j),nt(_),_e,et,tt,rt);return rt.delete(j),at;case symbolTag:if(symbolValueOf)return symbolValueOf.call(j)==symbolValueOf.call(_)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(j,_){for(var $=-1,_e=_.length,et=j.length;++$<_e;)j[et+$]=_[$];return j}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(j,_,$){var _e=_(j);return isArray$a(j)?_e:arrayPush$1(_e,$(j))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(j,_){for(var $=-1,_e=j==null?0:j.length,et=0,tt=[];++$<_e;){var rt=j[$];_(rt,$,j)&&(tt[et++]=rt)}return tt}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(j){return j==null?[]:(j=Object(j),arrayFilter(nativeGetSymbols(j),function(_){return propertyIsEnumerable$1.call(j,_)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(j,_){for(var $=-1,_e=Array(j);++$<j;)_e[$]=_($);return _e}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(j){return isObjectLike$5(j)&&baseGetTag$4(j)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(j){return isObjectLike$4(j)&&hasOwnProperty$6.call(j,"callee")&&!propertyIsEnumerable.call(j,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(j,_){var $=_root,_e=stubFalse_1,et=_&&!_.nodeType&&_,tt=et&&!0&&j&&!j.nodeType&&j,rt=tt&&tt.exports===et,nt=rt?$.Buffer:void 0,st=nt?nt.isBuffer:void 0,it=st||_e;j.exports=it})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(j,_){var $=typeof j;return _=_??MAX_SAFE_INTEGER$2,!!_&&($=="number"||$!="symbol"&&reIsUint.test(j))&&j>-1&&j%1==0&&j<_}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(j){return isObjectLike$3(j)&&isLength$2(j.length)&&!!typedArrayTags[baseGetTag$3(j)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(j){return function(_){return j(_)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(j,_){var $=_freeGlobal,_e=_&&!_.nodeType&&_,et=_e&&!0&&j&&!j.nodeType&&j,tt=et&&et.exports===_e,rt=tt&&$.process,nt=function(){try{var st=et&&et.require&&et.require("util").types;return st||rt&&rt.binding&&rt.binding("util")}catch{}}();j.exports=nt})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(j,_){var $=isArray$9(j),_e=!$&&isArguments$2(j),et=!$&&!_e&&isBuffer$1(j),tt=!$&&!_e&&!et&&isTypedArray$2(j),rt=$||_e||et||tt,nt=rt?baseTimes(j.length,String):[],st=nt.length;for(var it in j)(_||hasOwnProperty$5.call(j,it))&&!(rt&&(it=="length"||et&&(it=="offset"||it=="parent")||tt&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||isIndex$2(it,st)))&&nt.push(it);return nt}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(j){var _=j&&j.constructor,$=typeof _=="function"&&_.prototype||objectProto$4;return j===$}var _isPrototype=isPrototype$1;function overArg$2(j,_){return function($){return j(_($))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(j){if(!isPrototype(j))return nativeKeys(j);var _=[];for(var $ in Object(j))hasOwnProperty$4.call(j,$)&&$!="constructor"&&_.push($);return _}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(j){return j!=null&&isLength$1(j.length)&&!isFunction(j)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(j){return isArrayLike$4(j)?arrayLikeKeys(j):baseKeys(j)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(j){return baseGetAllKeys(j,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(j,_,$,_e,et,tt){var rt=$&COMPARE_PARTIAL_FLAG$3,nt=getAllKeys(j),st=nt.length,it=getAllKeys(_),at=it.length;if(st!=at&&!rt)return!1;for(var ot=st;ot--;){var ct=nt[ot];if(!(rt?ct in _:hasOwnProperty$3.call(_,ct)))return!1}var dt=tt.get(j),pt=tt.get(_);if(dt&&pt)return dt==_&&pt==j;var ut=!0;tt.set(j,_),tt.set(_,j);for(var lt=rt;++ot<st;){ct=nt[ot];var ft=j[ct],ht=_[ct];if(_e)var yt=rt?_e(ht,ft,ct,_,j,tt):_e(ft,ht,ct,j,_,tt);if(!(yt===void 0?ft===ht||et(ft,ht,$,_e,tt):yt)){ut=!1;break}lt||(lt=ct=="constructor")}if(ut&&!lt){var vt=j.constructor,gt=_.constructor;vt!=gt&&"constructor"in j&&"constructor"in _&&!(typeof vt=="function"&&vt instanceof vt&&typeof gt=="function"&&gt instanceof gt)&&(ut=!1)}return tt.delete(j),tt.delete(_),ut}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(j){var _=baseGetTag$2(j),$=_==objectTag$2?j.constructor:void 0,_e=$?toSource($):"";if(_e)switch(_e){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return _});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(j,_,$,_e,et,tt){var rt=isArray$8(j),nt=isArray$8(_),st=rt?arrayTag:getTag$1(j),it=nt?arrayTag:getTag$1(_);st=st==argsTag?objectTag$1:st,it=it==argsTag?objectTag$1:it;var at=st==objectTag$1,ot=it==objectTag$1,ct=st==it;if(ct&&isBuffer(j)){if(!isBuffer(_))return!1;rt=!0,at=!1}if(ct&&!at)return tt||(tt=new Stack$1),rt||isTypedArray$1(j)?equalArrays(j,_,$,_e,et,tt):equalByTag(j,_,st,$,_e,et,tt);if(!($&COMPARE_PARTIAL_FLAG$2)){var dt=at&&hasOwnProperty$2.call(j,"__wrapped__"),pt=ot&&hasOwnProperty$2.call(_,"__wrapped__");if(dt||pt){var ut=dt?j.value():j,lt=pt?_.value():_;return tt||(tt=new Stack$1),et(ut,lt,$,_e,tt)}}return ct?(tt||(tt=new Stack$1),equalObjects(j,_,$,_e,et,tt)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(j,_,$,_e,et){return j===_?!0:j==null||_==null||!isObjectLike$2(j)&&!isObjectLike$2(_)?j!==j&&_!==_:baseIsEqualDeep(j,_,$,_e,baseIsEqual$3,et)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(j,_,$,_e){var et=$.length,tt=et,rt=!_e;if(j==null)return!tt;for(j=Object(j);et--;){var nt=$[et];if(rt&&nt[2]?nt[1]!==j[nt[0]]:!(nt[0]in j))return!1}for(;++et<tt;){nt=$[et];var st=nt[0],it=j[st],at=nt[1];if(rt&&nt[2]){if(it===void 0&&!(st in j))return!1}else{var ot=new Stack;if(_e)var ct=_e(it,at,st,j,_,ot);if(!(ct===void 0?baseIsEqual$2(at,it,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,_e,ot):ct))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(j){return j===j&&!isObject$4(j)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(j){for(var _=keys$3(j),$=_.length;$--;){var _e=_[$],et=j[_e];_[$]=[_e,et,isStrictComparable$1(et)]}return _}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(j,_){return function($){return $==null?!1:$[j]===_&&(_!==void 0||j in Object($))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(j){var _=getMatchData(j);return _.length==1&&_[0][2]?matchesStrictComparable$1(_[0][0],_[0][1]):function($){return $===j||baseIsMatch($,j,_)}}var _baseMatches=baseMatches$1;function baseHasIn$1(j,_){return j!=null&&_ in Object(j)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(j,_,$){_=castPath(_,j);for(var _e=-1,et=_.length,tt=!1;++_e<et;){var rt=toKey$2(_[_e]);if(!(tt=j!=null&&$(j,rt)))break;j=j[rt]}return tt||++_e!=et?tt:(et=j==null?0:j.length,!!et&&isLength(et)&&isIndex$1(rt,et)&&(isArray$7(j)||isArguments$1(j)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(j,_){return j!=null&&hasPath(j,_,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(j,_){return isKey$1(j)&&isStrictComparable(_)?matchesStrictComparable(toKey$1(j),_):function($){var _e=get($,j);return _e===void 0&&_e===_?hasIn($,j):baseIsEqual$1(_,_e,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(j){return j}var identity_1=identity$b;function baseProperty$1(j){return function(_){return _==null?void 0:_[j]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(j){return function(_){return baseGet$1(_,j)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(j){return isKey(j)?baseProperty(toKey(j)):basePropertyDeep(j)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$a(j){return typeof j=="function"?j:j==null?identity$a:typeof j=="object"?isArray$6(j)?baseMatchesProperty(j[0],j[1]):baseMatches(j):property(j)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(j,_,$,_e){for(var et=j.length,tt=$+(_e?1:-1);_e?tt--:++tt<et;)if(_(j[tt],tt,j))return tt;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(j){return j!==j}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(j,_,$){for(var _e=$-1,et=j.length;++_e<et;)if(j[_e]===_)return _e;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(j,_,$){return _===_?strictIndexOf(j,_,$):baseFindIndex$1(j,baseIsNaN,$)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(j,_){var $=j==null?0:j.length;return!!$&&baseIndexOf(j,_,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(j,_,$){for(var _e=-1,et=j==null?0:j.length;++_e<et;)if($(_,j[_e]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(j){return new Set$1(j)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(j,_,$){var _e=-1,et=arrayIncludes,tt=j.length,rt=!0,nt=[],st=nt;if($)rt=!1,et=arrayIncludesWith;else if(tt>=LARGE_ARRAY_SIZE){var it=_?null:createSet(j);if(it)return setToArray(it);rt=!1,et=cacheHas,st=new SetCache}else st=_?[]:nt;e:for(;++_e<tt;){var at=j[_e],ot=_?_(at):at;if(at=$||at!==0?at:0,rt&&ot===ot){for(var ct=st.length;ct--;)if(st[ct]===ot)continue e;_&&st.push(ot),nt.push(at)}else et(st,ot,$)||(st!==nt&&st.push(ot),nt.push(at))}return nt}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(j,_){return j&&j.length?baseUniq(j,baseIteratee$9(_)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(j,_,$){return _===!0?uniqBy$1(j,$):isFunction$3(_)?uniqBy$1(j,_):j}function _typeof$H(j){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$H(j)}var _excluded$f=["ref"];function ownKeys$A(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$A(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$A(Object($),!0).forEach(function(_e){_defineProperty$G(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$A(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$k(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$G(_e.key),_e)}}function _createClass$k(j,_,$){return _&&_defineProperties$k(j.prototype,_),$&&_defineProperties$k(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$g(j,_,$){return _=_getPrototypeOf$h(_),_possibleConstructorReturn$h(j,_isNativeReflectConstruct$h()?Reflect.construct(_,$||[],_getPrototypeOf$h(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$h(j,_){if(_&&(_typeof$H(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(j)}function _assertThisInitialized$h(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$h(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!j})()}function _getPrototypeOf$h(j){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$h(j)}function _inherits$h(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$h(j,_)}function _setPrototypeOf$h(j,_){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$h(j,_)}function _defineProperty$G(j,_,$){return _=_toPropertyKey$G(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$G(j){var _=_toPrimitive$G(j,"string");return _typeof$H(_)=="symbol"?_:_+""}function _toPrimitive$G(j,_){if(_typeof$H(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$H(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _objectWithoutProperties$f(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$f(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$f(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function defaultUniqBy$1(j){return j.value}function renderContent$1(j,_){if(React.isValidElement(j))return React.cloneElement(j,_);if(typeof j=="function")return React.createElement(j,_);_.ref;var $=_objectWithoutProperties$f(_,_excluded$f);return React.createElement(DefaultLegendContent,$)}var EPS$1=1,Legend=function(j){function _(){var $;_classCallCheck$k(this,_);for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $=_callSuper$g(this,_,[].concat(et)),_defineProperty$G($,"lastBoundingBox",{width:-1,height:-1}),$}return _inherits$h(_,j),_createClass$k(_,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _e=this.wrapperNode.getBoundingClientRect();return _e.height=this.wrapperNode.offsetHeight,_e.width=this.wrapperNode.offsetWidth,_e}return null}},{key:"updateBBox",value:function(){var _e=this.props.onBBoxUpdate,et=this.getBBox();et?(Math.abs(et.width-this.lastBoundingBox.width)>EPS$1||Math.abs(et.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=et.width,this.lastBoundingBox.height=et.height,_e&&_e(et)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,_e&&_e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$A({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(_e){var et=this.props,tt=et.layout,rt=et.align,nt=et.verticalAlign,st=et.margin,it=et.chartWidth,at=et.chartHeight,ot,ct;if(!_e||(_e.left===void 0||_e.left===null)&&(_e.right===void 0||_e.right===null))if(rt==="center"&&tt==="vertical"){var dt=this.getBBoxSnapshot();ot={left:((it||0)-dt.width)/2}}else ot=rt==="right"?{right:st&&st.right||0}:{left:st&&st.left||0};if(!_e||(_e.top===void 0||_e.top===null)&&(_e.bottom===void 0||_e.bottom===null))if(nt==="middle"){var pt=this.getBBoxSnapshot();ct={top:((at||0)-pt.height)/2}}else ct=nt==="bottom"?{bottom:st&&st.bottom||0}:{top:st&&st.top||0};return _objectSpread$A(_objectSpread$A({},ot),ct)}},{key:"render",value:function(){var _e=this,et=this.props,tt=et.content,rt=et.width,nt=et.height,st=et.wrapperStyle,it=et.payloadUniqBy,at=et.payload,ot=_objectSpread$A(_objectSpread$A({position:"absolute",width:rt||"auto",height:nt||"auto"},this.getDefaultPosition(st)),st);return React.createElement("div",{className:"recharts-legend-wrapper",style:ot,ref:function(dt){_e.wrapperNode=dt}},renderContent$1(tt,_objectSpread$A(_objectSpread$A({},this.props),{},{payload:getUniqPayload(at,it,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(_e,et){var tt=_objectSpread$A(_objectSpread$A({},this.defaultProps),_e.props),rt=tt.layout;return rt==="vertical"&&isNumber(_e.props.height)?{height:_e.props.height}:rt==="horizontal"?{width:_e.props.width||et}:null}}])}(reactExports.PureComponent);_defineProperty$G(Legend,"displayName","Legend");_defineProperty$G(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(j){return isArray$5(j)||isArguments(j)||!!(spreadableSymbol&&j&&j[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(j,_,$,_e,et){var tt=-1,rt=j.length;for($||($=isFlattenable),et||(et=[]);++tt<rt;){var nt=j[tt];_>0&&$(nt)?_>1?baseFlatten$2(nt,_-1,$,_e,et):arrayPush(et,nt):_e||(et[et.length]=nt)}return et}var _baseFlatten=baseFlatten$2;function createBaseFor$1(j){return function(_,$,_e){for(var et=-1,tt=Object(_),rt=_e(_),nt=rt.length;nt--;){var st=rt[j?nt:++et];if($(tt[st],st,tt)===!1)break}return _}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(j,_){return j&&baseFor(j,_,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(j,_){return function($,_e){if($==null)return $;if(!isArrayLike$3($))return j($,_e);for(var et=$.length,tt=_?et:-1,rt=Object($);(_?tt--:++tt<et)&&_e(rt[tt],tt,rt)!==!1;);return $}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(j,_){var $=-1,_e=isArrayLike$2(j)?Array(j.length):[];return baseEach$2(j,function(et,tt,rt){_e[++$]=_(et,tt,rt)}),_e}var _baseMap=baseMap$2;function baseSortBy$1(j,_){var $=j.length;for(j.sort(_);$--;)j[$]=j[$].value;return j}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(j,_){if(j!==_){var $=j!==void 0,_e=j===null,et=j===j,tt=isSymbol$2(j),rt=_!==void 0,nt=_===null,st=_===_,it=isSymbol$2(_);if(!nt&&!it&&!tt&&j>_||tt&&rt&&st&&!nt&&!it||_e&&rt&&st||!$&&st||!et)return 1;if(!_e&&!tt&&!it&&j<_||it&&$&&et&&!_e&&!tt||nt&&$&&et||!rt&&et||!st)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(j,_,$){for(var _e=-1,et=j.criteria,tt=_.criteria,rt=et.length,nt=$.length;++_e<rt;){var st=compareAscending(et[_e],tt[_e]);if(st){if(_e>=nt)return st;var it=$[_e];return st*(it=="desc"?-1:1)}}return j.index-_.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(j,_,$){_.length?_=arrayMap$1(_,function(tt){return isArray$4(tt)?function(rt){return baseGet(rt,tt.length===1?tt[0]:tt)}:tt}):_=[identity$9];var _e=-1;_=arrayMap$1(_,baseUnary(baseIteratee$8));var et=baseMap$1(j,function(tt,rt,nt){var st=arrayMap$1(_,function(it){return it(tt)});return{criteria:st,index:++_e,value:tt}});return baseSortBy(et,function(tt,rt){return compareMultiple(tt,rt,$)})}var _baseOrderBy=baseOrderBy$1;function apply$1(j,_,$){switch($.length){case 0:return j.call(_);case 1:return j.call(_,$[0]);case 2:return j.call(_,$[0],$[1]);case 3:return j.call(_,$[0],$[1],$[2])}return j.apply(_,$)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(j,_,$){return _=nativeMax$3(_===void 0?j.length-1:_,0),function(){for(var _e=arguments,et=-1,tt=nativeMax$3(_e.length-_,0),rt=Array(tt);++et<tt;)rt[et]=_e[_+et];et=-1;for(var nt=Array(_+1);++et<_;)nt[et]=_e[et];return nt[_]=$(rt),apply(j,this,nt)}}var _overRest=overRest$1;function constant$2(j){return function(){return j}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var j=getNative(Object,"defineProperty");return j({},"",{}),j}catch{}}(),_defineProperty$F=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$F,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(j,_){return defineProperty$1(j,"toString",{configurable:!0,enumerable:!1,value:constant$1(_),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(j){var _=0,$=0;return function(){var _e=nativeNow(),et=HOT_SPAN-(_e-$);if($=_e,et>0){if(++_>=HOT_COUNT)return arguments[0]}else _=0;return j.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(j,_){return setToString(overRest(j,_,identity$7),j+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(j,_,$){if(!isObject$3($))return!1;var _e=typeof _;return(_e=="number"?isArrayLike$1($)&&isIndex(_,$.length):_e=="string"&&_ in $)?eq($[_],j):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(j,_){if(j==null)return[];var $=_.length;return $>1&&isIterateeCall$3(j,_[0],_[1])?_=[]:$>2&&isIterateeCall$3(_[0],_[1],_[2])&&(_=[_[0]]),baseOrderBy(j,baseFlatten$1(_,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$G(j){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$G(j)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$q.apply(this,arguments)}function _slicedToArray$c(j,_){return _arrayWithHoles$d(j)||_iterableToArrayLimit$c(j,_)||_unsupportedIterableToArray$l(j,_)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$l(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$l(j,_)}}function _arrayLikeToArray$l(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$c(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$d(j){if(Array.isArray(j))return j}function ownKeys$z(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$z(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$z(Object($),!0).forEach(function(_e){_defineProperty$E(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$z(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$E(j,_,$){return _=_toPropertyKey$F(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$F(j){var _=_toPrimitive$F(j,"string");return _typeof$G(_)=="symbol"?_:_+""}function _toPrimitive$F(j,_){if(_typeof$G(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$G(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function defaultFormatter(j){return Array.isArray(j)&&isNumOrStr(j[0])&&isNumOrStr(j[1])?j.join(" ~ "):j}var DefaultTooltipContent=function j(_){var $=_.separator,_e=$===void 0?" : ":$,et=_.contentStyle,tt=et===void 0?{}:et,rt=_.itemStyle,nt=rt===void 0?{}:rt,st=_.labelStyle,it=st===void 0?{}:st,at=_.payload,ot=_.formatter,ct=_.itemSorter,dt=_.wrapperClassName,pt=_.labelClassName,ut=_.label,lt=_.labelFormatter,ft=_.accessibilityLayer,ht=ft===void 0?!1:ft,yt=function(){if(at&&at.length){var xt={padding:0,margin:0},Ct=(ct?sortBy$1(at,ct):at).map(function(kt,Nt){if(kt.type==="none")return null;var St=_objectSpread$z({display:"block",paddingTop:4,paddingBottom:4,color:kt.color||"#000"},nt),Ot=kt.formatter||ot||defaultFormatter,Pt=kt.value,wt=kt.name,Dt=Pt,Vt=wt;if(Ot&&Dt!=null&&Vt!=null){var It=Ot(Pt,wt,kt,Nt,at);if(Array.isArray(It)){var At=_slicedToArray$c(It,2);Dt=At[0],Vt=At[1]}else Dt=It}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Nt),style:St},isNumOrStr(Vt)?React.createElement("span",{className:"recharts-tooltip-item-name"},Vt):null,isNumOrStr(Vt)?React.createElement("span",{className:"recharts-tooltip-item-separator"},_e):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Dt),React.createElement("span",{className:"recharts-tooltip-item-unit"},kt.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:xt},Ct)}return null},vt=_objectSpread$z({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},tt),gt=_objectSpread$z({margin:0},it),bt=!isNil$1(ut),mt=bt?ut:"",Et=clsx("recharts-default-tooltip",dt),Rt=clsx("recharts-tooltip-label",pt);bt&&lt&&at!==void 0&&at!==null&&(mt=lt(ut,at));var Tt=ht?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$q({className:Et,style:vt},Tt),React.createElement("p",{className:Rt,style:gt},React.isValidElement(mt)?mt:"".concat(mt)),yt())};function _typeof$F(j){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$F(j)}function _defineProperty$D(j,_,$){return _=_toPropertyKey$E(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$E(j){var _=_toPrimitive$E(j,"string");return _typeof$F(_)=="symbol"?_:_+""}function _toPrimitive$E(j,_){if(_typeof$F(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$F(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(j){var _=j.coordinate,$=j.translateX,_e=j.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$D(_defineProperty$D(_defineProperty$D(_defineProperty$D({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber($)&&_&&isNumber(_.x)&&$>=_.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber($)&&_&&isNumber(_.x)&&$<_.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(_e)&&_&&isNumber(_.y)&&_e>=_.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(_e)&&_&&isNumber(_.y)&&_e<_.y))}function getTooltipTranslateXY(j){var _=j.allowEscapeViewBox,$=j.coordinate,_e=j.key,et=j.offsetTopLeft,tt=j.position,rt=j.reverseDirection,nt=j.tooltipDimension,st=j.viewBox,it=j.viewBoxDimension;if(tt&&isNumber(tt[_e]))return tt[_e];var at=$[_e]-nt-et,ot=$[_e]+et;if(_[_e])return rt[_e]?at:ot;if(rt[_e]){var ct=at,dt=st[_e];return ct<dt?Math.max(ot,st[_e]):Math.max(at,st[_e])}var pt=ot+nt,ut=st[_e]+it;return pt>ut?Math.max(at,st[_e]):Math.max(ot,st[_e])}function getTransformStyle(j){var _=j.translateX,$=j.translateY,_e=j.useTranslate3d;return{transform:_e?"translate3d(".concat(_,"px, ").concat($,"px, 0)"):"translate(".concat(_,"px, ").concat($,"px)")}}function getTooltipTranslate(j){var _=j.allowEscapeViewBox,$=j.coordinate,_e=j.offsetTopLeft,et=j.position,tt=j.reverseDirection,rt=j.tooltipBox,nt=j.useTranslate3d,st=j.viewBox,it,at,ot;return rt.height>0&&rt.width>0&&$?(at=getTooltipTranslateXY({allowEscapeViewBox:_,coordinate:$,key:"x",offsetTopLeft:_e,position:et,reverseDirection:tt,tooltipDimension:rt.width,viewBox:st,viewBoxDimension:st.width}),ot=getTooltipTranslateXY({allowEscapeViewBox:_,coordinate:$,key:"y",offsetTopLeft:_e,position:et,reverseDirection:tt,tooltipDimension:rt.height,viewBox:st,viewBoxDimension:st.height}),it=getTransformStyle({translateX:at,translateY:ot,useTranslate3d:nt})):it=TOOLTIP_HIDDEN,{cssProperties:it,cssClasses:getTooltipCSSClassName({translateX:at,translateY:ot,coordinate:$})}}function _typeof$E(j){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$E(j)}function ownKeys$y(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$y(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$y(Object($),!0).forEach(function(_e){_defineProperty$C(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$y(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$j(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$D(_e.key),_e)}}function _createClass$j(j,_,$){return _&&_defineProperties$j(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$f(j,_,$){return _=_getPrototypeOf$g(_),_possibleConstructorReturn$g(j,_isNativeReflectConstruct$g()?Reflect.construct(_,$||[],_getPrototypeOf$g(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$g(j,_){if(_&&(_typeof$E(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(j)}function _assertThisInitialized$g(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$g(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!j})()}function _getPrototypeOf$g(j){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$g(j)}function _inherits$g(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$g(j,_)}function _setPrototypeOf$g(j,_){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$g(j,_)}function _defineProperty$C(j,_,$){return _=_toPropertyKey$D(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$D(j){var _=_toPrimitive$D(j,"string");return _typeof$E(_)=="symbol"?_:_+""}function _toPrimitive$D(j,_){if(_typeof$E(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$E(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var EPSILON=1,TooltipBoundingBox=function(j){function _(){var $;_classCallCheck$j(this,_);for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $=_callSuper$f(this,_,[].concat(et)),_defineProperty$C($,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$C($,"handleKeyDown",function(rt){if(rt.key==="Escape"){var nt,st,it,at;$.setState({dismissed:!0,dismissedAtCoordinate:{x:(nt=(st=$.props.coordinate)===null||st===void 0?void 0:st.x)!==null&&nt!==void 0?nt:0,y:(it=(at=$.props.coordinate)===null||at===void 0?void 0:at.y)!==null&&it!==void 0?it:0}})}}),$}return _inherits$g(_,j),_createClass$j(_,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _e=this.wrapperNode.getBoundingClientRect();(Math.abs(_e.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(_e.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:_e.width,height:_e.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var _e,et;this.props.active&&this.updateBBox(),this.state.dismissed&&(((_e=this.props.coordinate)===null||_e===void 0?void 0:_e.x)!==this.state.dismissedAtCoordinate.x||((et=this.props.coordinate)===null||et===void 0?void 0:et.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var _e=this,et=this.props,tt=et.active,rt=et.allowEscapeViewBox,nt=et.animationDuration,st=et.animationEasing,it=et.children,at=et.coordinate,ot=et.hasPayload,ct=et.isAnimationActive,dt=et.offset,pt=et.position,ut=et.reverseDirection,lt=et.useTranslate3d,ft=et.viewBox,ht=et.wrapperStyle,yt=getTooltipTranslate({allowEscapeViewBox:rt,coordinate:at,offsetTopLeft:dt,position:pt,reverseDirection:ut,tooltipBox:this.state.lastBoundingBox,useTranslate3d:lt,viewBox:ft}),vt=yt.cssClasses,gt=yt.cssProperties,bt=_objectSpread$y(_objectSpread$y({transition:ct&&tt?"transform ".concat(nt,"ms ").concat(st):void 0},gt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&tt&&ot?"visible":"hidden",position:"absolute",top:0,left:0},ht);return React.createElement("div",{tabIndex:-1,className:vt,style:bt,ref:function(Et){_e.wrapperNode=Et}},it)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function j(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function j(_){return Global[_]},set:function j(_,$){if(typeof _=="string")Global[_]=$;else{var _e=Object.keys(_);_e&&_e.length&&_e.forEach(function(et){Global[et]=_[et]})}}};function _typeof$D(j){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$D(j)}function ownKeys$x(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$x(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$x(Object($),!0).forEach(function(_e){_defineProperty$B(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$x(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$i(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$C(_e.key),_e)}}function _createClass$i(j,_,$){return _&&_defineProperties$i(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$e(j,_,$){return _=_getPrototypeOf$f(_),_possibleConstructorReturn$f(j,_isNativeReflectConstruct$f()?Reflect.construct(_,$||[],_getPrototypeOf$f(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$f(j,_){if(_&&(_typeof$D(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(j)}function _assertThisInitialized$f(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$f(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!j})()}function _getPrototypeOf$f(j){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$f(j)}function _inherits$f(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$f(j,_)}function _setPrototypeOf$f(j,_){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$f(j,_)}function _defineProperty$B(j,_,$){return _=_toPropertyKey$C(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$C(j){var _=_toPrimitive$C(j,"string");return _typeof$D(_)=="symbol"?_:_+""}function _toPrimitive$C(j,_){if(_typeof$D(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$D(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function defaultUniqBy(j){return j.dataKey}function renderContent(j,_){return React.isValidElement(j)?React.cloneElement(j,_):typeof j=="function"?React.createElement(j,_):React.createElement(DefaultTooltipContent,_)}var Tooltip=function(j){function _(){return _classCallCheck$i(this,_),_callSuper$e(this,_,arguments)}return _inherits$f(_,j),_createClass$i(_,[{key:"render",value:function(){var _e=this,et=this.props,tt=et.active,rt=et.allowEscapeViewBox,nt=et.animationDuration,st=et.animationEasing,it=et.content,at=et.coordinate,ot=et.filterNull,ct=et.isAnimationActive,dt=et.offset,pt=et.payload,ut=et.payloadUniqBy,lt=et.position,ft=et.reverseDirection,ht=et.useTranslate3d,yt=et.viewBox,vt=et.wrapperStyle,gt=pt??[];ot&&gt.length&&(gt=getUniqPayload(pt.filter(function(mt){return mt.value!=null&&(mt.hide!==!0||_e.props.includeHidden)}),ut,defaultUniqBy));var bt=gt.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:rt,animationDuration:nt,animationEasing:st,isAnimationActive:ct,active:tt,coordinate:at,hasPayload:bt,offset:dt,position:lt,reverseDirection:ft,useTranslate3d:ht,viewBox:yt,wrapperStyle:vt},renderContent(it,_objectSpread$x(_objectSpread$x({},this.props),{},{payload:gt})))}}])}(reactExports.PureComponent);_defineProperty$B(Tooltip,"displayName","Tooltip");_defineProperty$B(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(j){for(var _=j.length;_--&&reWhitespace.test(j.charAt(_)););return _}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(j){return j&&j.slice(0,trimmedEndIndex(j)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(j){if(typeof j=="number")return j;if(isSymbol$1(j))return NAN;if(isObject$2(j)){var _=typeof j.valueOf=="function"?j.valueOf():j;j=isObject$2(_)?_+"":_}if(typeof j!="string")return j===0?j:+j;j=baseTrim(j);var $=reIsBinary.test(j);return $||reIsOctal.test(j)?freeParseInt(j.slice(2),$?2:8):reIsBadHex.test(j)?NAN:+j}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(j,_,$){var _e,et,tt,rt,nt,st,it=0,at=!1,ot=!1,ct=!0;if(typeof j!="function")throw new TypeError(FUNC_ERROR_TEXT$1);_=toNumber$1(_)||0,isObject$1($)&&(at=!!$.leading,ot="maxWait"in $,tt=ot?nativeMax$2(toNumber$1($.maxWait)||0,_):tt,ct="trailing"in $?!!$.trailing:ct);function dt(bt){var mt=_e,Et=et;return _e=et=void 0,it=bt,rt=j.apply(Et,mt),rt}function pt(bt){return it=bt,nt=setTimeout(ft,_),at?dt(bt):rt}function ut(bt){var mt=bt-st,Et=bt-it,Rt=_-mt;return ot?nativeMin(Rt,tt-Et):Rt}function lt(bt){var mt=bt-st,Et=bt-it;return st===void 0||mt>=_||mt<0||ot&&Et>=tt}function ft(){var bt=now();if(lt(bt))return ht(bt);nt=setTimeout(ft,ut(bt))}function ht(bt){return nt=void 0,ct&&_e?dt(bt):(_e=et=void 0,rt)}function yt(){nt!==void 0&&clearTimeout(nt),it=0,_e=st=et=nt=void 0}function vt(){return nt===void 0?rt:ht(now())}function gt(){var bt=now(),mt=lt(bt);if(_e=arguments,et=this,st=bt,mt){if(nt===void 0)return pt(st);if(ot)return clearTimeout(nt),nt=setTimeout(ft,_),dt(st)}return nt===void 0&&(nt=setTimeout(ft,_)),rt}return gt.cancel=yt,gt.flush=vt,gt}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(j,_,$){var _e=!0,et=!0;if(typeof j!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject($)&&(_e="leading"in $?!!$.leading:_e,et="trailing"in $?!!$.trailing:et),debounce(j,_,{leading:_e,maxWait:_,trailing:et})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$C(j){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$C(j)}function ownKeys$w(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$w(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$w(Object($),!0).forEach(function(_e){_defineProperty$A(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$w(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$A(j,_,$){return _=_toPropertyKey$B(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$B(j){var _=_toPrimitive$B(j,"string");return _typeof$C(_)=="symbol"?_:_+""}function _toPrimitive$B(j,_){if(_typeof$C(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$C(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _slicedToArray$b(j,_){return _arrayWithHoles$c(j)||_iterableToArrayLimit$b(j,_)||_unsupportedIterableToArray$k(j,_)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$k(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$k(j,_)}}function _arrayLikeToArray$k(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$b(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$c(j){if(Array.isArray(j))return j}var ResponsiveContainer=reactExports.forwardRef(function(j,_){var $=j.aspect,_e=j.initialDimension,et=_e===void 0?{width:-1,height:-1}:_e,tt=j.width,rt=tt===void 0?"100%":tt,nt=j.height,st=nt===void 0?"100%":nt,it=j.minWidth,at=it===void 0?0:it,ot=j.minHeight,ct=j.maxHeight,dt=j.children,pt=j.debounce,ut=pt===void 0?0:pt,lt=j.id,ft=j.className,ht=j.onResize,yt=j.style,vt=yt===void 0?{}:yt,gt=reactExports.useRef(null),bt=reactExports.useRef();bt.current=ht,reactExports.useImperativeHandle(_,function(){return Object.defineProperty(gt.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),gt.current},configurable:!0})});var mt=reactExports.useState({containerWidth:et.width,containerHeight:et.height}),Et=_slicedToArray$b(mt,2),Rt=Et[0],Tt=Et[1],jt=reactExports.useCallback(function(Ct,kt){Tt(function(Nt){var St=Math.round(Ct),Ot=Math.round(kt);return Nt.containerWidth===St&&Nt.containerHeight===Ot?Nt:{containerWidth:St,containerHeight:Ot}})},[]);reactExports.useEffect(function(){var Ct=function(wt){var Dt,Vt=wt[0].contentRect,It=Vt.width,At=Vt.height;jt(It,At),(Dt=bt.current)===null||Dt===void 0||Dt.call(bt,It,At)};ut>0&&(Ct=throttle$1(Ct,ut,{trailing:!0,leading:!1}));var kt=new ResizeObserver(Ct),Nt=gt.current.getBoundingClientRect(),St=Nt.width,Ot=Nt.height;return jt(St,Ot),kt.observe(gt.current),function(){kt.disconnect()}},[jt,ut]);var xt=reactExports.useMemo(function(){var Ct=Rt.containerWidth,kt=Rt.containerHeight;if(Ct<0||kt<0)return null;warn(isPercent(rt)||isPercent(st),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,rt,st),warn(!$||$>0,"The aspect(%s) must be greater than zero.",$);var Nt=isPercent(rt)?Ct:rt,St=isPercent(st)?kt:st;$&&$>0&&(Nt?St=Nt/$:St&&(Nt=St*$),ct&&St>ct&&(St=ct)),warn(Nt>0||St>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Nt,St,rt,st,at,ot,$);var Ot=!Array.isArray(dt)&&getDisplayName(dt.type).endsWith("Chart");return React.Children.map(dt,function(Pt){return React.isValidElement(Pt)?reactExports.cloneElement(Pt,_objectSpread$w({width:Nt,height:St},Ot?{style:_objectSpread$w({height:"100%",width:"100%",maxHeight:St,maxWidth:Nt},Pt.props.style)}:{})):Pt})},[$,dt,st,ct,ot,at,Rt,rt]);return React.createElement("div",{id:lt?"".concat(lt):void 0,className:clsx("recharts-responsive-container",ft),style:_objectSpread$w(_objectSpread$w({},vt),{},{width:rt,height:st,minWidth:at,minHeight:ot,maxHeight:ct}),ref:gt},xt)}),Cell=function j(_){return null};Cell.displayName="Cell";function _typeof$B(j){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$B(j)}function ownKeys$v(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$v(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$v(Object($),!0).forEach(function(_e){_defineProperty$z(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$v(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$z(j,_,$){return _=_toPropertyKey$A(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$A(j){var _=_toPrimitive$A(j,"string");return _typeof$B(_)=="symbol"?_:_+""}function _toPrimitive$A(j,_){if(_typeof$B(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$B(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(j){var _=_objectSpread$v({},j);return Object.keys(_).forEach(function($){_[$]||delete _[$]}),_}var getStringSize=function j(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_==null||Global.isSsr)return{width:0,height:0};var _e=removeInvalidKeys($),et=JSON.stringify({text:_,copyStyle:_e});if(stringCache.widthCache[et])return stringCache.widthCache[et];try{var tt=document.getElementById(MEASUREMENT_SPAN_ID);tt||(tt=document.createElement("span"),tt.setAttribute("id",MEASUREMENT_SPAN_ID),tt.setAttribute("aria-hidden","true"),document.body.appendChild(tt));var rt=_objectSpread$v(_objectSpread$v({},SPAN_STYLE),_e);Object.assign(tt.style,rt),tt.textContent="".concat(_);var nt=tt.getBoundingClientRect(),st={width:nt.width,height:nt.height};return stringCache.widthCache[et]=st,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),st}catch{return{width:0,height:0}}},getOffset=function j(_){return{top:_.top+window.scrollY-document.documentElement.clientTop,left:_.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$A(j){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$A(j)}function _slicedToArray$a(j,_){return _arrayWithHoles$b(j)||_iterableToArrayLimit$a(j,_)||_unsupportedIterableToArray$j(j,_)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$j(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$j(j,_)}}function _arrayLikeToArray$j(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$a(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_===0){if(Object($)!==$)return;st=!1}else for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$b(j){if(Array.isArray(j))return j}function _classCallCheck$h(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$z(_e.key),_e)}}function _createClass$h(j,_,$){return _&&_defineProperties$h(j.prototype,_),$&&_defineProperties$h(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _toPropertyKey$z(j){var _=_toPrimitive$z(j,"string");return _typeof$A(_)=="symbol"?_:_+""}function _toPrimitive$z(j,_){if(_typeof$A(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_);if(_typeof$A(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(j,_){return j*CONVERSION_RATES[_]}var DecimalCSS=function(){function j(_,$){_classCallCheck$h(this,j),this.num=_,this.unit=$,this.num=_,this.unit=$,Number.isNaN(_)&&(this.unit=""),$!==""&&!CSS_LENGTH_UNIT_REGEX.test($)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes($)&&(this.num=convertToPx(_,$),this.unit="px")}return _createClass$h(j,[{key:"add",value:function($){return this.unit!==$.unit?new j(NaN,""):new j(this.num+$.num,this.unit)}},{key:"subtract",value:function($){return this.unit!==$.unit?new j(NaN,""):new j(this.num-$.num,this.unit)}},{key:"multiply",value:function($){return this.unit!==""&&$.unit!==""&&this.unit!==$.unit?new j(NaN,""):new j(this.num*$.num,this.unit||$.unit)}},{key:"divide",value:function($){return this.unit!==""&&$.unit!==""&&this.unit!==$.unit?new j(NaN,""):new j(this.num/$.num,this.unit||$.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function($){var _e,et=(_e=NUM_SPLIT_REGEX.exec($))!==null&&_e!==void 0?_e:[],tt=_slicedToArray$a(et,3),rt=tt[1],nt=tt[2];return new j(parseFloat(rt),nt??"")}}])}();function calculateArithmetic(j){if(j.includes(STR_NAN))return STR_NAN;for(var _=j;_.includes("*")||_.includes("/");){var $,_e=($=MULTIPLY_OR_DIVIDE_REGEX.exec(_))!==null&&$!==void 0?$:[],et=_slicedToArray$a(_e,4),tt=et[1],rt=et[2],nt=et[3],st=DecimalCSS.parse(tt??""),it=DecimalCSS.parse(nt??""),at=rt==="*"?st.multiply(it):st.divide(it);if(at.isNaN())return STR_NAN;_=_.replace(MULTIPLY_OR_DIVIDE_REGEX,at.toString())}for(;_.includes("+")||/.-\d+(?:\.\d+)?/.test(_);){var ot,ct=(ot=ADD_OR_SUBTRACT_REGEX.exec(_))!==null&&ot!==void 0?ot:[],dt=_slicedToArray$a(ct,4),pt=dt[1],ut=dt[2],lt=dt[3],ft=DecimalCSS.parse(pt??""),ht=DecimalCSS.parse(lt??""),yt=ut==="+"?ft.add(ht):ft.subtract(ht);if(yt.isNaN())return STR_NAN;_=_.replace(ADD_OR_SUBTRACT_REGEX,yt.toString())}return _}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(j){for(var _=j;_.includes("(");){var $=PARENTHESES_REGEX.exec(_),_e=_slicedToArray$a($,2),et=_e[1];_=_.replace(PARENTHESES_REGEX,calculateArithmetic(et))}return _}function evaluateExpression(j){var _=j.replace(/\s+/g,"");return _=calculateParentheses(_),_=calculateArithmetic(_),_}function safeEvaluateExpression(j){try{return evaluateExpression(j)}catch{return STR_NAN}}function reduceCSSCalc(j){var _=safeEvaluateExpression(j.slice(5,-1));return _===STR_NAN?"":_}var _excluded$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$p.apply(this,arguments)}function _objectWithoutProperties$e(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$e(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$e(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _slicedToArray$9(j,_){return _arrayWithHoles$a(j)||_iterableToArrayLimit$9(j,_)||_unsupportedIterableToArray$i(j,_)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$i(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$i(j,_)}}function _arrayLikeToArray$i(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$9(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_===0){if(Object($)!==$)return;st=!1}else for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$a(j){if(Array.isArray(j))return j}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function j(_){var $=_.children,_e=_.breakAll,et=_.style;try{var tt=[];isNil$1($)||(_e?tt=$.toString().split(""):tt=$.toString().split(BREAKING_SPACES));var rt=tt.map(function(st){return{word:st,width:getStringSize(st,et).width}}),nt=_e?0:getStringSize(" ",et).width;return{wordsWithComputedWidth:rt,spaceWidth:nt}}catch{return null}},calculateWordsByLines=function j(_,$,_e,et,tt){var rt=_.maxLines,nt=_.children,st=_.style,it=_.breakAll,at=isNumber(rt),ot=nt,ct=function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Nt.reduce(function(St,Ot){var Pt=Ot.word,wt=Ot.width,Dt=St[St.length-1];if(Dt&&(et==null||tt||Dt.width+wt+_e<Number(et)))Dt.words.push(Pt),Dt.width+=wt+_e;else{var Vt={words:[Pt],width:wt};St.push(Vt)}return St},[])},dt=ct($),pt=function(Nt){return Nt.reduce(function(St,Ot){return St.width>Ot.width?St:Ot})};if(!at)return dt;for(var ut="…",lt=function(Nt){var St=ot.slice(0,Nt),Ot=calculateWordWidths({breakAll:it,style:st,children:St+ut}).wordsWithComputedWidth,Pt=ct(Ot),wt=Pt.length>rt||pt(Pt).width>Number(et);return[wt,Pt]},ft=0,ht=ot.length-1,yt=0,vt;ft<=ht&&yt<=ot.length-1;){var gt=Math.floor((ft+ht)/2),bt=gt-1,mt=lt(bt),Et=_slicedToArray$9(mt,2),Rt=Et[0],Tt=Et[1],jt=lt(gt),xt=_slicedToArray$9(jt,1),Ct=xt[0];if(!Rt&&!Ct&&(ft=gt+1),Rt&&Ct&&(ht=gt-1),!Rt&&Ct){vt=Tt;break}yt++}return vt||dt},getWordsWithoutCalculate=function j(_){var $=isNil$1(_)?[]:_.toString().split(BREAKING_SPACES);return[{words:$}]},getWordsByLines=function j(_){var $=_.width,_e=_.scaleToFit,et=_.children,tt=_.style,rt=_.breakAll,nt=_.maxLines;if(($||_e)&&!Global.isSsr){var st,it,at=calculateWordWidths({breakAll:rt,children:et,style:tt});if(at){var ot=at.wordsWithComputedWidth,ct=at.spaceWidth;st=ot,it=ct}else return getWordsWithoutCalculate(et);return calculateWordsByLines({breakAll:rt,children:et,maxLines:nt,style:tt},st,it,$,_e)}return getWordsWithoutCalculate(et)},DEFAULT_FILL="#808080",Text=function j(_){var $=_.x,_e=$===void 0?0:$,et=_.y,tt=et===void 0?0:et,rt=_.lineHeight,nt=rt===void 0?"1em":rt,st=_.capHeight,it=st===void 0?"0.71em":st,at=_.scaleToFit,ot=at===void 0?!1:at,ct=_.textAnchor,dt=ct===void 0?"start":ct,pt=_.verticalAnchor,ut=pt===void 0?"end":pt,lt=_.fill,ft=lt===void 0?DEFAULT_FILL:lt,ht=_objectWithoutProperties$e(_,_excluded$e),yt=reactExports.useMemo(function(){return getWordsByLines({breakAll:ht.breakAll,children:ht.children,maxLines:ht.maxLines,scaleToFit:ot,style:ht.style,width:ht.width})},[ht.breakAll,ht.children,ht.maxLines,ot,ht.style,ht.width]),vt=ht.dx,gt=ht.dy,bt=ht.angle,mt=ht.className,Et=ht.breakAll,Rt=_objectWithoutProperties$e(ht,_excluded2$6);if(!isNumOrStr(_e)||!isNumOrStr(tt))return null;var Tt=_e+(isNumber(vt)?vt:0),jt=tt+(isNumber(gt)?gt:0),xt;switch(ut){case"start":xt=reduceCSSCalc("calc(".concat(it,")"));break;case"middle":xt=reduceCSSCalc("calc(".concat((yt.length-1)/2," * -").concat(nt," + (").concat(it," / 2))"));break;default:xt=reduceCSSCalc("calc(".concat(yt.length-1," * -").concat(nt,")"));break}var Ct=[];if(ot){var kt=yt[0].width,Nt=ht.width;Ct.push("scale(".concat((isNumber(Nt)?Nt/kt:1)/kt,")"))}return bt&&Ct.push("rotate(".concat(bt,", ").concat(Tt,", ").concat(jt,")")),Ct.length&&(Rt.transform=Ct.join(" ")),React.createElement("text",_extends$p({},filterProps(Rt,!0),{x:Tt,y:jt,className:clsx("recharts-text",mt),textAnchor:dt,fill:ft.includes("url")?DEFAULT_FILL:ft}),yt.map(function(St,Ot){var Pt=St.words.join(Et?"":" ");return React.createElement("tspan",{x:Tt,dy:Ot===0?xt:nt,key:"".concat(Pt,"-").concat(Ot)},Pt)}))};function ascending(j,_){return j==null||_==null?NaN:j<_?-1:j>_?1:j>=_?0:NaN}function descending(j,_){return j==null||_==null?NaN:_<j?-1:_>j?1:_>=j?0:NaN}function bisector(j){let _,$,_e;j.length!==2?(_=ascending,$=(nt,st)=>ascending(j(nt),st),_e=(nt,st)=>j(nt)-st):(_=j===ascending||j===descending?j:zero$1,$=j,_e=j);function et(nt,st,it=0,at=nt.length){if(it<at){if(_(st,st)!==0)return at;do{const ot=it+at>>>1;$(nt[ot],st)<0?it=ot+1:at=ot}while(it<at)}return it}function tt(nt,st,it=0,at=nt.length){if(it<at){if(_(st,st)!==0)return at;do{const ot=it+at>>>1;$(nt[ot],st)<=0?it=ot+1:at=ot}while(it<at)}return it}function rt(nt,st,it=0,at=nt.length){const ot=et(nt,st,it,at-1);return ot>it&&_e(nt[ot-1],st)>-_e(nt[ot],st)?ot-1:ot}return{left:et,center:rt,right:tt}}function zero$1(){return 0}function number$2(j){return j===null?NaN:+j}function*numbers(j,_){for(let $ of j)$!=null&&($=+$)>=$&&(yield $)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(_,$=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:$}}),_!=null)for(const[_e,et]of _)this.set(_e,et)}get(_){return super.get(intern_get(this,_))}has(_){return super.has(intern_get(this,_))}set(_,$){return super.set(intern_set(this,_),$)}delete(_){return super.delete(intern_delete(this,_))}}function intern_get({_intern:j,_key:_},$){const _e=_($);return j.has(_e)?j.get(_e):$}function intern_set({_intern:j,_key:_},$){const _e=_($);return j.has(_e)?j.get(_e):(j.set(_e,$),$)}function intern_delete({_intern:j,_key:_},$){const _e=_($);return j.has(_e)&&($=j.get(_e),j.delete(_e)),$}function keyof(j){return j!==null&&typeof j=="object"?j.valueOf():j}function compareDefined(j=ascending){if(j===ascending)return ascendingDefined;if(typeof j!="function")throw new TypeError("compare is not a function");return(_,$)=>{const _e=j(_,$);return _e||_e===0?_e:(j($,$)===0)-(j(_,_)===0)}}function ascendingDefined(j,_){return(j==null||!(j>=j))-(_==null||!(_>=_))||(j<_?-1:j>_?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(j,_,$){const _e=(_-j)/Math.max(0,$),et=Math.floor(Math.log10(_e)),tt=_e/Math.pow(10,et),rt=tt>=e10?10:tt>=e5?5:tt>=e2?2:1;let nt,st,it;return et<0?(it=Math.pow(10,-et)/rt,nt=Math.round(j*it),st=Math.round(_*it),nt/it<j&&++nt,st/it>_&&--st,it=-it):(it=Math.pow(10,et)*rt,nt=Math.round(j/it),st=Math.round(_/it),nt*it<j&&++nt,st*it>_&&--st),st<nt&&.5<=$&&$<2?tickSpec(j,_,$*2):[nt,st,it]}function ticks(j,_,$){if(_=+_,j=+j,$=+$,!($>0))return[];if(j===_)return[j];const _e=_<j,[et,tt,rt]=_e?tickSpec(_,j,$):tickSpec(j,_,$);if(!(tt>=et))return[];const nt=tt-et+1,st=new Array(nt);if(_e)if(rt<0)for(let it=0;it<nt;++it)st[it]=(tt-it)/-rt;else for(let it=0;it<nt;++it)st[it]=(tt-it)*rt;else if(rt<0)for(let it=0;it<nt;++it)st[it]=(et+it)/-rt;else for(let it=0;it<nt;++it)st[it]=(et+it)*rt;return st}function tickIncrement(j,_,$){return _=+_,j=+j,$=+$,tickSpec(j,_,$)[2]}function tickStep(j,_,$){_=+_,j=+j,$=+$;const _e=_<j,et=_e?tickIncrement(_,j,$):tickIncrement(j,_,$);return(_e?-1:1)*(et<0?1/-et:et)}function max$2(j,_){let $;for(const _e of j)_e!=null&&($<_e||$===void 0&&_e>=_e)&&($=_e);return $}function min$2(j,_){let $;for(const _e of j)_e!=null&&($>_e||$===void 0&&_e>=_e)&&($=_e);return $}function quickselect(j,_,$=0,_e=1/0,et){if(_=Math.floor(_),$=Math.floor(Math.max(0,$)),_e=Math.floor(Math.min(j.length-1,_e)),!($<=_&&_<=_e))return j;for(et=et===void 0?ascendingDefined:compareDefined(et);_e>$;){if(_e-$>600){const st=_e-$+1,it=_-$+1,at=Math.log(st),ot=.5*Math.exp(2*at/3),ct=.5*Math.sqrt(at*ot*(st-ot)/st)*(it-st/2<0?-1:1),dt=Math.max($,Math.floor(_-it*ot/st+ct)),pt=Math.min(_e,Math.floor(_+(st-it)*ot/st+ct));quickselect(j,_,dt,pt,et)}const tt=j[_];let rt=$,nt=_e;for(swap(j,$,_),et(j[_e],tt)>0&&swap(j,$,_e);rt<nt;){for(swap(j,rt,nt),++rt,--nt;et(j[rt],tt)<0;)++rt;for(;et(j[nt],tt)>0;)--nt}et(j[$],tt)===0?swap(j,$,nt):(++nt,swap(j,nt,_e)),nt<=_&&($=nt+1),_<=nt&&(_e=nt-1)}return j}function swap(j,_,$){const _e=j[_];j[_]=j[$],j[$]=_e}function quantile$1(j,_,$){if(j=Float64Array.from(numbers(j)),!(!(_e=j.length)||isNaN(_=+_))){if(_<=0||_e<2)return min$2(j);if(_>=1)return max$2(j);var _e,et=(_e-1)*_,tt=Math.floor(et),rt=max$2(quickselect(j,tt).subarray(0,tt+1)),nt=min$2(j.subarray(tt+1));return rt+(nt-rt)*(et-tt)}}function quantileSorted(j,_,$=number$2){if(!(!(_e=j.length)||isNaN(_=+_))){if(_<=0||_e<2)return+$(j[0],0,j);if(_>=1)return+$(j[_e-1],_e-1,j);var _e,et=(_e-1)*_,tt=Math.floor(et),rt=+$(j[tt],tt,j),nt=+$(j[tt+1],tt+1,j);return rt+(nt-rt)*(et-tt)}}function range$3(j,_,$){j=+j,_=+_,$=(et=arguments.length)<2?(_=j,j=0,1):et<3?1:+$;for(var _e=-1,et=Math.max(0,Math.ceil((_-j)/$))|0,tt=new Array(et);++_e<et;)tt[_e]=j+_e*$;return tt}function initRange(j,_){switch(arguments.length){case 0:break;case 1:this.range(j);break;default:this.range(_).domain(j);break}return this}function initInterpolator(j,_){switch(arguments.length){case 0:break;case 1:{typeof j=="function"?this.interpolator(j):this.range(j);break}default:{this.domain(j),typeof _=="function"?this.interpolator(_):this.range(_);break}}return this}const implicit=Symbol("implicit");function ordinal(){var j=new InternMap,_=[],$=[],_e=implicit;function et(tt){let rt=j.get(tt);if(rt===void 0){if(_e!==implicit)return _e;j.set(tt,rt=_.push(tt)-1)}return $[rt%$.length]}return et.domain=function(tt){if(!arguments.length)return _.slice();_=[],j=new InternMap;for(const rt of tt)j.has(rt)||j.set(rt,_.push(rt)-1);return et},et.range=function(tt){return arguments.length?($=Array.from(tt),et):$.slice()},et.unknown=function(tt){return arguments.length?(_e=tt,et):_e},et.copy=function(){return ordinal(_,$).unknown(_e)},initRange.apply(et,arguments),et}function band(){var j=ordinal().unknown(void 0),_=j.domain,$=j.range,_e=0,et=1,tt,rt,nt=!1,st=0,it=0,at=.5;delete j.unknown;function ot(){var ct=_().length,dt=et<_e,pt=dt?et:_e,ut=dt?_e:et;tt=(ut-pt)/Math.max(1,ct-st+it*2),nt&&(tt=Math.floor(tt)),pt+=(ut-pt-tt*(ct-st))*at,rt=tt*(1-st),nt&&(pt=Math.round(pt),rt=Math.round(rt));var lt=range$3(ct).map(function(ft){return pt+tt*ft});return $(dt?lt.reverse():lt)}return j.domain=function(ct){return arguments.length?(_(ct),ot()):_()},j.range=function(ct){return arguments.length?([_e,et]=ct,_e=+_e,et=+et,ot()):[_e,et]},j.rangeRound=function(ct){return[_e,et]=ct,_e=+_e,et=+et,nt=!0,ot()},j.bandwidth=function(){return rt},j.step=function(){return tt},j.round=function(ct){return arguments.length?(nt=!!ct,ot()):nt},j.padding=function(ct){return arguments.length?(st=Math.min(1,it=+ct),ot()):st},j.paddingInner=function(ct){return arguments.length?(st=Math.min(1,ct),ot()):st},j.paddingOuter=function(ct){return arguments.length?(it=+ct,ot()):it},j.align=function(ct){return arguments.length?(at=Math.max(0,Math.min(1,ct)),ot()):at},j.copy=function(){return band(_(),[_e,et]).round(nt).paddingInner(st).paddingOuter(it).align(at)},initRange.apply(ot(),arguments)}function pointish(j){var _=j.copy;return j.padding=j.paddingOuter,delete j.paddingInner,delete j.paddingOuter,j.copy=function(){return pointish(_())},j}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(j,_,$){j.prototype=_.prototype=$,$.constructor=j}function extend(j,_){var $=Object.create(j.prototype);for(var _e in _)$[_e]=_[_e];return $}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(j){return Object.assign(new this.constructor,this,j)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(j){var _,$;return j=(j+"").trim().toLowerCase(),(_=reHex.exec(j))?($=_[1].length,_=parseInt(_[1],16),$===6?rgbn(_):$===3?new Rgb(_>>8&15|_>>4&240,_>>4&15|_&240,(_&15)<<4|_&15,1):$===8?rgba(_>>24&255,_>>16&255,_>>8&255,(_&255)/255):$===4?rgba(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|_&240,((_&15)<<4|_&15)/255):null):(_=reRgbInteger.exec(j))?new Rgb(_[1],_[2],_[3],1):(_=reRgbPercent.exec(j))?new Rgb(_[1]*255/100,_[2]*255/100,_[3]*255/100,1):(_=reRgbaInteger.exec(j))?rgba(_[1],_[2],_[3],_[4]):(_=reRgbaPercent.exec(j))?rgba(_[1]*255/100,_[2]*255/100,_[3]*255/100,_[4]):(_=reHslPercent.exec(j))?hsla(_[1],_[2]/100,_[3]/100,1):(_=reHslaPercent.exec(j))?hsla(_[1],_[2]/100,_[3]/100,_[4]):named.hasOwnProperty(j)?rgbn(named[j]):j==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(j){return new Rgb(j>>16&255,j>>8&255,j&255,1)}function rgba(j,_,$,_e){return _e<=0&&(j=_=$=NaN),new Rgb(j,_,$,_e)}function rgbConvert(j){return j instanceof Color||(j=color(j)),j?(j=j.rgb(),new Rgb(j.r,j.g,j.b,j.opacity)):new Rgb}function rgb$1(j,_,$,_e){return arguments.length===1?rgbConvert(j):new Rgb(j,_,$,_e??1)}function Rgb(j,_,$,_e){this.r=+j,this.g=+_,this.b=+$,this.opacity=+_e}define(Rgb,rgb$1,extend(Color,{brighter(j){return j=j==null?brighter:Math.pow(brighter,j),new Rgb(this.r*j,this.g*j,this.b*j,this.opacity)},darker(j){return j=j==null?darker:Math.pow(darker,j),new Rgb(this.r*j,this.g*j,this.b*j,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const j=clampa(this.opacity);return`${j===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${j===1?")":`, ${j})`}`}function clampa(j){return isNaN(j)?1:Math.max(0,Math.min(1,j))}function clampi(j){return Math.max(0,Math.min(255,Math.round(j)||0))}function hex(j){return j=clampi(j),(j<16?"0":"")+j.toString(16)}function hsla(j,_,$,_e){return _e<=0?j=_=$=NaN:$<=0||$>=1?j=_=NaN:_<=0&&(j=NaN),new Hsl(j,_,$,_e)}function hslConvert(j){if(j instanceof Hsl)return new Hsl(j.h,j.s,j.l,j.opacity);if(j instanceof Color||(j=color(j)),!j)return new Hsl;if(j instanceof Hsl)return j;j=j.rgb();var _=j.r/255,$=j.g/255,_e=j.b/255,et=Math.min(_,$,_e),tt=Math.max(_,$,_e),rt=NaN,nt=tt-et,st=(tt+et)/2;return nt?(_===tt?rt=($-_e)/nt+($<_e)*6:$===tt?rt=(_e-_)/nt+2:rt=(_-$)/nt+4,nt/=st<.5?tt+et:2-tt-et,rt*=60):nt=st>0&&st<1?0:rt,new Hsl(rt,nt,st,j.opacity)}function hsl(j,_,$,_e){return arguments.length===1?hslConvert(j):new Hsl(j,_,$,_e??1)}function Hsl(j,_,$,_e){this.h=+j,this.s=+_,this.l=+$,this.opacity=+_e}define(Hsl,hsl,extend(Color,{brighter(j){return j=j==null?brighter:Math.pow(brighter,j),new Hsl(this.h,this.s,this.l*j,this.opacity)},darker(j){return j=j==null?darker:Math.pow(darker,j),new Hsl(this.h,this.s,this.l*j,this.opacity)},rgb(){var j=this.h%360+(this.h<0)*360,_=isNaN(j)||isNaN(this.s)?0:this.s,$=this.l,_e=$+($<.5?$:1-$)*_,et=2*$-_e;return new Rgb(hsl2rgb(j>=240?j-240:j+120,et,_e),hsl2rgb(j,et,_e),hsl2rgb(j<120?j+240:j-120,et,_e),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const j=clampa(this.opacity);return`${j===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${j===1?")":`, ${j})`}`}}));function clamph(j){return j=(j||0)%360,j<0?j+360:j}function clampt(j){return Math.max(0,Math.min(1,j||0))}function hsl2rgb(j,_,$){return(j<60?_+($-_)*j/60:j<180?$:j<240?_+($-_)*(240-j)/60:_)*255}const constant=j=>()=>j;function linear$1(j,_){return function($){return j+$*_}}function exponential(j,_,$){return j=Math.pow(j,$),_=Math.pow(_,$)-j,$=1/$,function(_e){return Math.pow(j+_e*_,$)}}function gamma(j){return(j=+j)==1?nogamma:function(_,$){return $-_?exponential(_,$,j):constant(isNaN(_)?$:_)}}function nogamma(j,_){var $=_-j;return $?linear$1(j,$):constant(isNaN(j)?_:j)}const rgb=function j(_){var $=gamma(_);function _e(et,tt){var rt=$((et=rgb$1(et)).r,(tt=rgb$1(tt)).r),nt=$(et.g,tt.g),st=$(et.b,tt.b),it=nogamma(et.opacity,tt.opacity);return function(at){return et.r=rt(at),et.g=nt(at),et.b=st(at),et.opacity=it(at),et+""}}return _e.gamma=j,_e}(1);function numberArray(j,_){_||(_=[]);var $=j?Math.min(_.length,j.length):0,_e=_.slice(),et;return function(tt){for(et=0;et<$;++et)_e[et]=j[et]*(1-tt)+_[et]*tt;return _e}}function isNumberArray(j){return ArrayBuffer.isView(j)&&!(j instanceof DataView)}function genericArray(j,_){var $=_?_.length:0,_e=j?Math.min($,j.length):0,et=new Array(_e),tt=new Array($),rt;for(rt=0;rt<_e;++rt)et[rt]=interpolate(j[rt],_[rt]);for(;rt<$;++rt)tt[rt]=_[rt];return function(nt){for(rt=0;rt<_e;++rt)tt[rt]=et[rt](nt);return tt}}function date$1(j,_){var $=new Date;return j=+j,_=+_,function(_e){return $.setTime(j*(1-_e)+_*_e),$}}function interpolateNumber$1(j,_){return j=+j,_=+_,function($){return j*(1-$)+_*$}}function object(j,_){var $={},_e={},et;(j===null||typeof j!="object")&&(j={}),(_===null||typeof _!="object")&&(_={});for(et in _)et in j?$[et]=interpolate(j[et],_[et]):_e[et]=_[et];return function(tt){for(et in $)_e[et]=$[et](tt);return _e}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(j){return function(){return j}}function one(j){return function(_){return j(_)+""}}function string(j,_){var $=reA.lastIndex=reB.lastIndex=0,_e,et,tt,rt=-1,nt=[],st=[];for(j=j+"",_=_+"";(_e=reA.exec(j))&&(et=reB.exec(_));)(tt=et.index)>$&&(tt=_.slice($,tt),nt[rt]?nt[rt]+=tt:nt[++rt]=tt),(_e=_e[0])===(et=et[0])?nt[rt]?nt[rt]+=et:nt[++rt]=et:(nt[++rt]=null,st.push({i:rt,x:interpolateNumber$1(_e,et)})),$=reB.lastIndex;return $<_.length&&(tt=_.slice($),nt[rt]?nt[rt]+=tt:nt[++rt]=tt),nt.length<2?st[0]?one(st[0].x):zero(_):(_=st.length,function(it){for(var at=0,ot;at<_;++at)nt[(ot=st[at]).i]=ot.x(it);return nt.join("")})}function interpolate(j,_){var $=typeof _,_e;return _==null||$==="boolean"?constant(_):($==="number"?interpolateNumber$1:$==="string"?(_e=color(_))?(_=_e,rgb):string:_ instanceof color?rgb:_ instanceof Date?date$1:isNumberArray(_)?numberArray:Array.isArray(_)?genericArray:typeof _.valueOf!="function"&&typeof _.toString!="function"||isNaN(_)?object:interpolateNumber$1)(j,_)}function interpolateRound(j,_){return j=+j,_=+_,function($){return Math.round(j*(1-$)+_*$)}}function piecewise(j,_){_===void 0&&(_=j,j=interpolate);for(var $=0,_e=_.length-1,et=_[0],tt=new Array(_e<0?0:_e);$<_e;)tt[$]=j(et,et=_[++$]);return function(rt){var nt=Math.max(0,Math.min(_e-1,Math.floor(rt*=_e)));return tt[nt](rt-nt)}}function constants(j){return function(){return j}}function number$1(j){return+j}var unit=[0,1];function identity$6(j){return j}function normalize(j,_){return(_-=j=+j)?function($){return($-j)/_}:constants(isNaN(_)?NaN:.5)}function clamper(j,_){var $;return j>_&&($=j,j=_,_=$),function(_e){return Math.max(j,Math.min(_,_e))}}function bimap(j,_,$){var _e=j[0],et=j[1],tt=_[0],rt=_[1];return et<_e?(_e=normalize(et,_e),tt=$(rt,tt)):(_e=normalize(_e,et),tt=$(tt,rt)),function(nt){return tt(_e(nt))}}function polymap(j,_,$){var _e=Math.min(j.length,_.length)-1,et=new Array(_e),tt=new Array(_e),rt=-1;for(j[_e]<j[0]&&(j=j.slice().reverse(),_=_.slice().reverse());++rt<_e;)et[rt]=normalize(j[rt],j[rt+1]),tt[rt]=$(_[rt],_[rt+1]);return function(nt){var st=bisectRight(j,nt,1,_e)-1;return tt[st](et[st](nt))}}function copy$1(j,_){return _.domain(j.domain()).range(j.range()).interpolate(j.interpolate()).clamp(j.clamp()).unknown(j.unknown())}function transformer$2(){var j=unit,_=unit,$=interpolate,_e,et,tt,rt=identity$6,nt,st,it;function at(){var ct=Math.min(j.length,_.length);return rt!==identity$6&&(rt=clamper(j[0],j[ct-1])),nt=ct>2?polymap:bimap,st=it=null,ot}function ot(ct){return ct==null||isNaN(ct=+ct)?tt:(st||(st=nt(j.map(_e),_,$)))(_e(rt(ct)))}return ot.invert=function(ct){return rt(et((it||(it=nt(_,j.map(_e),interpolateNumber$1)))(ct)))},ot.domain=function(ct){return arguments.length?(j=Array.from(ct,number$1),at()):j.slice()},ot.range=function(ct){return arguments.length?(_=Array.from(ct),at()):_.slice()},ot.rangeRound=function(ct){return _=Array.from(ct),$=interpolateRound,at()},ot.clamp=function(ct){return arguments.length?(rt=ct?!0:identity$6,at()):rt!==identity$6},ot.interpolate=function(ct){return arguments.length?($=ct,at()):$},ot.unknown=function(ct){return arguments.length?(tt=ct,ot):tt},function(ct,dt){return _e=ct,et=dt,at()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(j){return Math.abs(j=Math.round(j))>=1e21?j.toLocaleString("en").replace(/,/g,""):j.toString(10)}function formatDecimalParts(j,_){if(($=(j=_?j.toExponential(_-1):j.toExponential()).indexOf("e"))<0)return null;var $,_e=j.slice(0,$);return[_e.length>1?_e[0]+_e.slice(2):_e,+j.slice($+1)]}function exponent(j){return j=formatDecimalParts(Math.abs(j)),j?j[1]:NaN}function formatGroup(j,_){return function($,_e){for(var et=$.length,tt=[],rt=0,nt=j[0],st=0;et>0&&nt>0&&(st+nt+1>_e&&(nt=Math.max(1,_e-st)),tt.push($.substring(et-=nt,et+nt)),!((st+=nt+1)>_e));)nt=j[rt=(rt+1)%j.length];return tt.reverse().join(_)}}function formatNumerals(j){return function(_){return _.replace(/[0-9]/g,function($){return j[+$]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(j){if(!(_=re.exec(j)))throw new Error("invalid format: "+j);var _;return new FormatSpecifier({fill:_[1],align:_[2],sign:_[3],symbol:_[4],zero:_[5],width:_[6],comma:_[7],precision:_[8]&&_[8].slice(1),trim:_[9],type:_[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(j){this.fill=j.fill===void 0?" ":j.fill+"",this.align=j.align===void 0?">":j.align+"",this.sign=j.sign===void 0?"-":j.sign+"",this.symbol=j.symbol===void 0?"":j.symbol+"",this.zero=!!j.zero,this.width=j.width===void 0?void 0:+j.width,this.comma=!!j.comma,this.precision=j.precision===void 0?void 0:+j.precision,this.trim=!!j.trim,this.type=j.type===void 0?"":j.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(j){e:for(var _=j.length,$=1,_e=-1,et;$<_;++$)switch(j[$]){case".":_e=et=$;break;case"0":_e===0&&(_e=$),et=$;break;default:if(!+j[$])break e;_e>0&&(_e=0);break}return _e>0?j.slice(0,_e)+j.slice(et+1):j}var prefixExponent;function formatPrefixAuto(j,_){var $=formatDecimalParts(j,_);if(!$)return j+"";var _e=$[0],et=$[1],tt=et-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(et/3)))*3)+1,rt=_e.length;return tt===rt?_e:tt>rt?_e+new Array(tt-rt+1).join("0"):tt>0?_e.slice(0,tt)+"."+_e.slice(tt):"0."+new Array(1-tt).join("0")+formatDecimalParts(j,Math.max(0,_+tt-1))[0]}function formatRounded(j,_){var $=formatDecimalParts(j,_);if(!$)return j+"";var _e=$[0],et=$[1];return et<0?"0."+new Array(-et).join("0")+_e:_e.length>et+1?_e.slice(0,et+1)+"."+_e.slice(et+1):_e+new Array(et-_e.length+2).join("0")}const formatTypes={"%":(j,_)=>(j*100).toFixed(_),b:j=>Math.round(j).toString(2),c:j=>j+"",d:formatDecimal,e:(j,_)=>j.toExponential(_),f:(j,_)=>j.toFixed(_),g:(j,_)=>j.toPrecision(_),o:j=>Math.round(j).toString(8),p:(j,_)=>formatRounded(j*100,_),r:formatRounded,s:formatPrefixAuto,X:j=>Math.round(j).toString(16).toUpperCase(),x:j=>Math.round(j).toString(16)};function identity$5(j){return j}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(j){var _=j.grouping===void 0||j.thousands===void 0?identity$5:formatGroup(map$3.call(j.grouping,Number),j.thousands+""),$=j.currency===void 0?"":j.currency[0]+"",_e=j.currency===void 0?"":j.currency[1]+"",et=j.decimal===void 0?".":j.decimal+"",tt=j.numerals===void 0?identity$5:formatNumerals(map$3.call(j.numerals,String)),rt=j.percent===void 0?"%":j.percent+"",nt=j.minus===void 0?"−":j.minus+"",st=j.nan===void 0?"NaN":j.nan+"";function it(ot){ot=formatSpecifier(ot);var ct=ot.fill,dt=ot.align,pt=ot.sign,ut=ot.symbol,lt=ot.zero,ft=ot.width,ht=ot.comma,yt=ot.precision,vt=ot.trim,gt=ot.type;gt==="n"?(ht=!0,gt="g"):formatTypes[gt]||(yt===void 0&&(yt=12),vt=!0,gt="g"),(lt||ct==="0"&&dt==="=")&&(lt=!0,ct="0",dt="=");var bt=ut==="$"?$:ut==="#"&&/[boxX]/.test(gt)?"0"+gt.toLowerCase():"",mt=ut==="$"?_e:/[%p]/.test(gt)?rt:"",Et=formatTypes[gt],Rt=/[defgprs%]/.test(gt);yt=yt===void 0?6:/[gprs]/.test(gt)?Math.max(1,Math.min(21,yt)):Math.max(0,Math.min(20,yt));function Tt(jt){var xt=bt,Ct=mt,kt,Nt,St;if(gt==="c")Ct=Et(jt)+Ct,jt="";else{jt=+jt;var Ot=jt<0||1/jt<0;if(jt=isNaN(jt)?st:Et(Math.abs(jt),yt),vt&&(jt=formatTrim(jt)),Ot&&+jt==0&&pt!=="+"&&(Ot=!1),xt=(Ot?pt==="("?pt:nt:pt==="-"||pt==="("?"":pt)+xt,Ct=(gt==="s"?prefixes[8+prefixExponent/3]:"")+Ct+(Ot&&pt==="("?")":""),Rt){for(kt=-1,Nt=jt.length;++kt<Nt;)if(St=jt.charCodeAt(kt),48>St||St>57){Ct=(St===46?et+jt.slice(kt+1):jt.slice(kt))+Ct,jt=jt.slice(0,kt);break}}}ht&&!lt&&(jt=_(jt,1/0));var Pt=xt.length+jt.length+Ct.length,wt=Pt<ft?new Array(ft-Pt+1).join(ct):"";switch(ht&&lt&&(jt=_(wt+jt,wt.length?ft-Ct.length:1/0),wt=""),dt){case"<":jt=xt+jt+Ct+wt;break;case"=":jt=xt+wt+jt+Ct;break;case"^":jt=wt.slice(0,Pt=wt.length>>1)+xt+jt+Ct+wt.slice(Pt);break;default:jt=wt+xt+jt+Ct;break}return tt(jt)}return Tt.toString=function(){return ot+""},Tt}function at(ot,ct){var dt=it((ot=formatSpecifier(ot),ot.type="f",ot)),pt=Math.max(-8,Math.min(8,Math.floor(exponent(ct)/3)))*3,ut=Math.pow(10,-pt),lt=prefixes[8+pt/3];return function(ft){return dt(ut*ft)+lt}}return{format:it,formatPrefix:at}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(j){return locale$1=formatLocale$1(j),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(j){return Math.max(0,-exponent(Math.abs(j)))}function precisionPrefix(j,_){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(_)/3)))*3-exponent(Math.abs(j)))}function precisionRound(j,_){return j=Math.abs(j),_=Math.abs(_)-j,Math.max(0,exponent(_)-exponent(j))+1}function tickFormat(j,_,$,_e){var et=tickStep(j,_,$),tt;switch(_e=formatSpecifier(_e??",f"),_e.type){case"s":{var rt=Math.max(Math.abs(j),Math.abs(_));return _e.precision==null&&!isNaN(tt=precisionPrefix(et,rt))&&(_e.precision=tt),formatPrefix(_e,rt)}case"":case"e":case"g":case"p":case"r":{_e.precision==null&&!isNaN(tt=precisionRound(et,Math.max(Math.abs(j),Math.abs(_))))&&(_e.precision=tt-(_e.type==="e"));break}case"f":case"%":{_e.precision==null&&!isNaN(tt=precisionFixed(et))&&(_e.precision=tt-(_e.type==="%")*2);break}}return format(_e)}function linearish(j){var _=j.domain;return j.ticks=function($){var _e=_();return ticks(_e[0],_e[_e.length-1],$??10)},j.tickFormat=function($,_e){var et=_();return tickFormat(et[0],et[et.length-1],$??10,_e)},j.nice=function($){$==null&&($=10);var _e=_(),et=0,tt=_e.length-1,rt=_e[et],nt=_e[tt],st,it,at=10;for(nt<rt&&(it=rt,rt=nt,nt=it,it=et,et=tt,tt=it);at-- >0;){if(it=tickIncrement(rt,nt,$),it===st)return _e[et]=rt,_e[tt]=nt,_(_e);if(it>0)rt=Math.floor(rt/it)*it,nt=Math.ceil(nt/it)*it;else if(it<0)rt=Math.ceil(rt*it)/it,nt=Math.floor(nt*it)/it;else break;st=it}return j},j}function linear(){var j=continuous();return j.copy=function(){return copy$1(j,linear())},initRange.apply(j,arguments),linearish(j)}function identity$4(j){var _;function $(_e){return _e==null||isNaN(_e=+_e)?_:_e}return $.invert=$,$.domain=$.range=function(_e){return arguments.length?(j=Array.from(_e,number$1),$):j.slice()},$.unknown=function(_e){return arguments.length?(_=_e,$):_},$.copy=function(){return identity$4(j).unknown(_)},j=arguments.length?Array.from(j,number$1):[0,1],linearish($)}function nice(j,_){j=j.slice();var $=0,_e=j.length-1,et=j[$],tt=j[_e],rt;return tt<et&&(rt=$,$=_e,_e=rt,rt=et,et=tt,tt=rt),j[$]=_.floor(et),j[_e]=_.ceil(tt),j}function transformLog(j){return Math.log(j)}function transformExp(j){return Math.exp(j)}function transformLogn(j){return-Math.log(-j)}function transformExpn(j){return-Math.exp(-j)}function pow10(j){return isFinite(j)?+("1e"+j):j<0?0:j}function powp(j){return j===10?pow10:j===Math.E?Math.exp:_=>Math.pow(j,_)}function logp(j){return j===Math.E?Math.log:j===10&&Math.log10||j===2&&Math.log2||(j=Math.log(j),_=>Math.log(_)/j)}function reflect(j){return(_,$)=>-j(-_,$)}function loggish(j){const _=j(transformLog,transformExp),$=_.domain;let _e=10,et,tt;function rt(){return et=logp(_e),tt=powp(_e),$()[0]<0?(et=reflect(et),tt=reflect(tt),j(transformLogn,transformExpn)):j(transformLog,transformExp),_}return _.base=function(nt){return arguments.length?(_e=+nt,rt()):_e},_.domain=function(nt){return arguments.length?($(nt),rt()):$()},_.ticks=nt=>{const st=$();let it=st[0],at=st[st.length-1];const ot=at<it;ot&&([it,at]=[at,it]);let ct=et(it),dt=et(at),pt,ut;const lt=nt==null?10:+nt;let ft=[];if(!(_e%1)&&dt-ct<lt){if(ct=Math.floor(ct),dt=Math.ceil(dt),it>0){for(;ct<=dt;++ct)for(pt=1;pt<_e;++pt)if(ut=ct<0?pt/tt(-ct):pt*tt(ct),!(ut<it)){if(ut>at)break;ft.push(ut)}}else for(;ct<=dt;++ct)for(pt=_e-1;pt>=1;--pt)if(ut=ct>0?pt/tt(-ct):pt*tt(ct),!(ut<it)){if(ut>at)break;ft.push(ut)}ft.length*2<lt&&(ft=ticks(it,at,lt))}else ft=ticks(ct,dt,Math.min(dt-ct,lt)).map(tt);return ot?ft.reverse():ft},_.tickFormat=(nt,st)=>{if(nt==null&&(nt=10),st==null&&(st=_e===10?"s":","),typeof st!="function"&&(!(_e%1)&&(st=formatSpecifier(st)).precision==null&&(st.trim=!0),st=format(st)),nt===1/0)return st;const it=Math.max(1,_e*nt/_.ticks().length);return at=>{let ot=at/tt(Math.round(et(at)));return ot*_e<_e-.5&&(ot*=_e),ot<=it?st(at):""}},_.nice=()=>$(nice($(),{floor:nt=>tt(Math.floor(et(nt))),ceil:nt=>tt(Math.ceil(et(nt)))})),_}function log(){const j=loggish(transformer$2()).domain([1,10]);return j.copy=()=>copy$1(j,log()).base(j.base()),initRange.apply(j,arguments),j}function transformSymlog(j){return function(_){return Math.sign(_)*Math.log1p(Math.abs(_/j))}}function transformSymexp(j){return function(_){return Math.sign(_)*Math.expm1(Math.abs(_))*j}}function symlogish(j){var _=1,$=j(transformSymlog(_),transformSymexp(_));return $.constant=function(_e){return arguments.length?j(transformSymlog(_=+_e),transformSymexp(_)):_},linearish($)}function symlog(){var j=symlogish(transformer$2());return j.copy=function(){return copy$1(j,symlog()).constant(j.constant())},initRange.apply(j,arguments)}function transformPow(j){return function(_){return _<0?-Math.pow(-_,j):Math.pow(_,j)}}function transformSqrt(j){return j<0?-Math.sqrt(-j):Math.sqrt(j)}function transformSquare(j){return j<0?-j*j:j*j}function powish(j){var _=j(identity$6,identity$6),$=1;function _e(){return $===1?j(identity$6,identity$6):$===.5?j(transformSqrt,transformSquare):j(transformPow($),transformPow(1/$))}return _.exponent=function(et){return arguments.length?($=+et,_e()):$},linearish(_)}function pow(){var j=powish(transformer$2());return j.copy=function(){return copy$1(j,pow()).exponent(j.exponent())},initRange.apply(j,arguments),j}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(j){return Math.sign(j)*j*j}function unsquare(j){return Math.sign(j)*Math.sqrt(Math.abs(j))}function radial(){var j=continuous(),_=[0,1],$=!1,_e;function et(tt){var rt=unsquare(j(tt));return isNaN(rt)?_e:$?Math.round(rt):rt}return et.invert=function(tt){return j.invert(square(tt))},et.domain=function(tt){return arguments.length?(j.domain(tt),et):j.domain()},et.range=function(tt){return arguments.length?(j.range((_=Array.from(tt,number$1)).map(square)),et):_.slice()},et.rangeRound=function(tt){return et.range(tt).round(!0)},et.round=function(tt){return arguments.length?($=!!tt,et):$},et.clamp=function(tt){return arguments.length?(j.clamp(tt),et):j.clamp()},et.unknown=function(tt){return arguments.length?(_e=tt,et):_e},et.copy=function(){return radial(j.domain(),_).round($).clamp(j.clamp()).unknown(_e)},initRange.apply(et,arguments),linearish(et)}function quantile(){var j=[],_=[],$=[],_e;function et(){var rt=0,nt=Math.max(1,_.length);for($=new Array(nt-1);++rt<nt;)$[rt-1]=quantileSorted(j,rt/nt);return tt}function tt(rt){return rt==null||isNaN(rt=+rt)?_e:_[bisectRight($,rt)]}return tt.invertExtent=function(rt){var nt=_.indexOf(rt);return nt<0?[NaN,NaN]:[nt>0?$[nt-1]:j[0],nt<$.length?$[nt]:j[j.length-1]]},tt.domain=function(rt){if(!arguments.length)return j.slice();j=[];for(let nt of rt)nt!=null&&!isNaN(nt=+nt)&&j.push(nt);return j.sort(ascending),et()},tt.range=function(rt){return arguments.length?(_=Array.from(rt),et()):_.slice()},tt.unknown=function(rt){return arguments.length?(_e=rt,tt):_e},tt.quantiles=function(){return $.slice()},tt.copy=function(){return quantile().domain(j).range(_).unknown(_e)},initRange.apply(tt,arguments)}function quantize(){var j=0,_=1,$=1,_e=[.5],et=[0,1],tt;function rt(st){return st!=null&&st<=st?et[bisectRight(_e,st,0,$)]:tt}function nt(){var st=-1;for(_e=new Array($);++st<$;)_e[st]=((st+1)*_-(st-$)*j)/($+1);return rt}return rt.domain=function(st){return arguments.length?([j,_]=st,j=+j,_=+_,nt()):[j,_]},rt.range=function(st){return arguments.length?($=(et=Array.from(st)).length-1,nt()):et.slice()},rt.invertExtent=function(st){var it=et.indexOf(st);return it<0?[NaN,NaN]:it<1?[j,_e[0]]:it>=$?[_e[$-1],_]:[_e[it-1],_e[it]]},rt.unknown=function(st){return arguments.length&&(tt=st),rt},rt.thresholds=function(){return _e.slice()},rt.copy=function(){return quantize().domain([j,_]).range(et).unknown(tt)},initRange.apply(linearish(rt),arguments)}function threshold(){var j=[.5],_=[0,1],$,_e=1;function et(tt){return tt!=null&&tt<=tt?_[bisectRight(j,tt,0,_e)]:$}return et.domain=function(tt){return arguments.length?(j=Array.from(tt),_e=Math.min(j.length,_.length-1),et):j.slice()},et.range=function(tt){return arguments.length?(_=Array.from(tt),_e=Math.min(j.length,_.length-1),et):_.slice()},et.invertExtent=function(tt){var rt=_.indexOf(tt);return[j[rt-1],j[rt]]},et.unknown=function(tt){return arguments.length?($=tt,et):$},et.copy=function(){return threshold().domain(j).range(_).unknown($)},initRange.apply(et,arguments)}const t0=new Date,t1=new Date;function timeInterval(j,_,$,_e){function et(tt){return j(tt=arguments.length===0?new Date:new Date(+tt)),tt}return et.floor=tt=>(j(tt=new Date(+tt)),tt),et.ceil=tt=>(j(tt=new Date(tt-1)),_(tt,1),j(tt),tt),et.round=tt=>{const rt=et(tt),nt=et.ceil(tt);return tt-rt<nt-tt?rt:nt},et.offset=(tt,rt)=>(_(tt=new Date(+tt),rt==null?1:Math.floor(rt)),tt),et.range=(tt,rt,nt)=>{const st=[];if(tt=et.ceil(tt),nt=nt==null?1:Math.floor(nt),!(tt<rt)||!(nt>0))return st;let it;do st.push(it=new Date(+tt)),_(tt,nt),j(tt);while(it<tt&&tt<rt);return st},et.filter=tt=>timeInterval(rt=>{if(rt>=rt)for(;j(rt),!tt(rt);)rt.setTime(rt-1)},(rt,nt)=>{if(rt>=rt)if(nt<0)for(;++nt<=0;)for(;_(rt,-1),!tt(rt););else for(;--nt>=0;)for(;_(rt,1),!tt(rt););}),$&&(et.count=(tt,rt)=>(t0.setTime(+tt),t1.setTime(+rt),j(t0),j(t1),Math.floor($(t0,t1))),et.every=tt=>(tt=Math.floor(tt),!isFinite(tt)||!(tt>0)?null:tt>1?et.filter(_e?rt=>_e(rt)%tt===0:rt=>et.count(0,rt)%tt===0):et)),et}const millisecond=timeInterval(()=>{},(j,_)=>{j.setTime(+j+_)},(j,_)=>_-j);millisecond.every=j=>(j=Math.floor(j),!isFinite(j)||!(j>0)?null:j>1?timeInterval(_=>{_.setTime(Math.floor(_/j)*j)},(_,$)=>{_.setTime(+_+$*j)},(_,$)=>($-_)/j):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(j=>{j.setTime(j-j.getMilliseconds())},(j,_)=>{j.setTime(+j+_*durationSecond)},(j,_)=>(_-j)/durationSecond,j=>j.getUTCSeconds());second.range;const timeMinute=timeInterval(j=>{j.setTime(j-j.getMilliseconds()-j.getSeconds()*durationSecond)},(j,_)=>{j.setTime(+j+_*durationMinute)},(j,_)=>(_-j)/durationMinute,j=>j.getMinutes());timeMinute.range;const utcMinute=timeInterval(j=>{j.setUTCSeconds(0,0)},(j,_)=>{j.setTime(+j+_*durationMinute)},(j,_)=>(_-j)/durationMinute,j=>j.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(j=>{j.setTime(j-j.getMilliseconds()-j.getSeconds()*durationSecond-j.getMinutes()*durationMinute)},(j,_)=>{j.setTime(+j+_*durationHour)},(j,_)=>(_-j)/durationHour,j=>j.getHours());timeHour.range;const utcHour=timeInterval(j=>{j.setUTCMinutes(0,0,0)},(j,_)=>{j.setTime(+j+_*durationHour)},(j,_)=>(_-j)/durationHour,j=>j.getUTCHours());utcHour.range;const timeDay=timeInterval(j=>j.setHours(0,0,0,0),(j,_)=>j.setDate(j.getDate()+_),(j,_)=>(_-j-(_.getTimezoneOffset()-j.getTimezoneOffset())*durationMinute)/durationDay,j=>j.getDate()-1);timeDay.range;const utcDay=timeInterval(j=>{j.setUTCHours(0,0,0,0)},(j,_)=>{j.setUTCDate(j.getUTCDate()+_)},(j,_)=>(_-j)/durationDay,j=>j.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(j=>{j.setUTCHours(0,0,0,0)},(j,_)=>{j.setUTCDate(j.getUTCDate()+_)},(j,_)=>(_-j)/durationDay,j=>Math.floor(j/durationDay));unixDay.range;function timeWeekday(j){return timeInterval(_=>{_.setDate(_.getDate()-(_.getDay()+7-j)%7),_.setHours(0,0,0,0)},(_,$)=>{_.setDate(_.getDate()+$*7)},(_,$)=>($-_-($.getTimezoneOffset()-_.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(j){return timeInterval(_=>{_.setUTCDate(_.getUTCDate()-(_.getUTCDay()+7-j)%7),_.setUTCHours(0,0,0,0)},(_,$)=>{_.setUTCDate(_.getUTCDate()+$*7)},(_,$)=>($-_)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(j=>{j.setDate(1),j.setHours(0,0,0,0)},(j,_)=>{j.setMonth(j.getMonth()+_)},(j,_)=>_.getMonth()-j.getMonth()+(_.getFullYear()-j.getFullYear())*12,j=>j.getMonth());timeMonth.range;const utcMonth=timeInterval(j=>{j.setUTCDate(1),j.setUTCHours(0,0,0,0)},(j,_)=>{j.setUTCMonth(j.getUTCMonth()+_)},(j,_)=>_.getUTCMonth()-j.getUTCMonth()+(_.getUTCFullYear()-j.getUTCFullYear())*12,j=>j.getUTCMonth());utcMonth.range;const timeYear=timeInterval(j=>{j.setMonth(0,1),j.setHours(0,0,0,0)},(j,_)=>{j.setFullYear(j.getFullYear()+_)},(j,_)=>_.getFullYear()-j.getFullYear(),j=>j.getFullYear());timeYear.every=j=>!isFinite(j=Math.floor(j))||!(j>0)?null:timeInterval(_=>{_.setFullYear(Math.floor(_.getFullYear()/j)*j),_.setMonth(0,1),_.setHours(0,0,0,0)},(_,$)=>{_.setFullYear(_.getFullYear()+$*j)});timeYear.range;const utcYear=timeInterval(j=>{j.setUTCMonth(0,1),j.setUTCHours(0,0,0,0)},(j,_)=>{j.setUTCFullYear(j.getUTCFullYear()+_)},(j,_)=>_.getUTCFullYear()-j.getUTCFullYear(),j=>j.getUTCFullYear());utcYear.every=j=>!isFinite(j=Math.floor(j))||!(j>0)?null:timeInterval(_=>{_.setUTCFullYear(Math.floor(_.getUTCFullYear()/j)*j),_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},(_,$)=>{_.setUTCFullYear(_.getUTCFullYear()+$*j)});utcYear.range;function ticker(j,_,$,_e,et,tt){const rt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[tt,1,durationMinute],[tt,5,5*durationMinute],[tt,15,15*durationMinute],[tt,30,30*durationMinute],[et,1,durationHour],[et,3,3*durationHour],[et,6,6*durationHour],[et,12,12*durationHour],[_e,1,durationDay],[_e,2,2*durationDay],[$,1,durationWeek],[_,1,durationMonth],[_,3,3*durationMonth],[j,1,durationYear]];function nt(it,at,ot){const ct=at<it;ct&&([it,at]=[at,it]);const dt=ot&&typeof ot.range=="function"?ot:st(it,at,ot),pt=dt?dt.range(it,+at+1):[];return ct?pt.reverse():pt}function st(it,at,ot){const ct=Math.abs(at-it)/ot,dt=bisector(([,,lt])=>lt).right(rt,ct);if(dt===rt.length)return j.every(tickStep(it/durationYear,at/durationYear,ot));if(dt===0)return millisecond.every(Math.max(tickStep(it,at,ot),1));const[pt,ut]=rt[ct/rt[dt-1][2]<rt[dt][2]/ct?dt-1:dt];return pt.every(ut)}return[nt,st]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(j){if(0<=j.y&&j.y<100){var _=new Date(-1,j.m,j.d,j.H,j.M,j.S,j.L);return _.setFullYear(j.y),_}return new Date(j.y,j.m,j.d,j.H,j.M,j.S,j.L)}function utcDate(j){if(0<=j.y&&j.y<100){var _=new Date(Date.UTC(-1,j.m,j.d,j.H,j.M,j.S,j.L));return _.setUTCFullYear(j.y),_}return new Date(Date.UTC(j.y,j.m,j.d,j.H,j.M,j.S,j.L))}function newDate(j,_,$){return{y:j,m:_,d:$,H:0,M:0,S:0,L:0}}function formatLocale(j){var _=j.dateTime,$=j.date,_e=j.time,et=j.periods,tt=j.days,rt=j.shortDays,nt=j.months,st=j.shortMonths,it=formatRe(et),at=formatLookup(et),ot=formatRe(tt),ct=formatLookup(tt),dt=formatRe(rt),pt=formatLookup(rt),ut=formatRe(nt),lt=formatLookup(nt),ft=formatRe(st),ht=formatLookup(st),yt={a:Ot,A:Pt,b:wt,B:Dt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Vt,q:It,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},vt={a:At,A:$t,b:Mt,B:Ht,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Bt,q:Ut,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},gt={a:Tt,A:jt,b:xt,B:Ct,c:kt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Rt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Nt,X:St,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};yt.x=bt($,yt),yt.X=bt(_e,yt),yt.c=bt(_,yt),vt.x=bt($,vt),vt.X=bt(_e,vt),vt.c=bt(_,vt);function bt(zt,Qt){return function(sr){var Kt=[],fr=-1,dr=0,xr=zt.length,ar,rr,Lt;for(sr instanceof Date||(sr=new Date(+sr));++fr<xr;)zt.charCodeAt(fr)===37&&(Kt.push(zt.slice(dr,fr)),(rr=pads[ar=zt.charAt(++fr)])!=null?ar=zt.charAt(++fr):rr=ar==="e"?" ":"0",(Lt=Qt[ar])&&(ar=Lt(sr,rr)),Kt.push(ar),dr=fr+1);return Kt.push(zt.slice(dr,fr)),Kt.join("")}}function mt(zt,Qt){return function(sr){var Kt=newDate(1900,void 0,1),fr=Et(Kt,zt,sr+="",0),dr,xr;if(fr!=sr.length)return null;if("Q"in Kt)return new Date(Kt.Q);if("s"in Kt)return new Date(Kt.s*1e3+("L"in Kt?Kt.L:0));if(Qt&&!("Z"in Kt)&&(Kt.Z=0),"p"in Kt&&(Kt.H=Kt.H%12+Kt.p*12),Kt.m===void 0&&(Kt.m="q"in Kt?Kt.q:0),"V"in Kt){if(Kt.V<1||Kt.V>53)return null;"w"in Kt||(Kt.w=1),"Z"in Kt?(dr=utcDate(newDate(Kt.y,0,1)),xr=dr.getUTCDay(),dr=xr>4||xr===0?utcMonday.ceil(dr):utcMonday(dr),dr=utcDay.offset(dr,(Kt.V-1)*7),Kt.y=dr.getUTCFullYear(),Kt.m=dr.getUTCMonth(),Kt.d=dr.getUTCDate()+(Kt.w+6)%7):(dr=localDate(newDate(Kt.y,0,1)),xr=dr.getDay(),dr=xr>4||xr===0?timeMonday.ceil(dr):timeMonday(dr),dr=timeDay.offset(dr,(Kt.V-1)*7),Kt.y=dr.getFullYear(),Kt.m=dr.getMonth(),Kt.d=dr.getDate()+(Kt.w+6)%7)}else("W"in Kt||"U"in Kt)&&("w"in Kt||(Kt.w="u"in Kt?Kt.u%7:"W"in Kt?1:0),xr="Z"in Kt?utcDate(newDate(Kt.y,0,1)).getUTCDay():localDate(newDate(Kt.y,0,1)).getDay(),Kt.m=0,Kt.d="W"in Kt?(Kt.w+6)%7+Kt.W*7-(xr+5)%7:Kt.w+Kt.U*7-(xr+6)%7);return"Z"in Kt?(Kt.H+=Kt.Z/100|0,Kt.M+=Kt.Z%100,utcDate(Kt)):localDate(Kt)}}function Et(zt,Qt,sr,Kt){for(var fr=0,dr=Qt.length,xr=sr.length,ar,rr;fr<dr;){if(Kt>=xr)return-1;if(ar=Qt.charCodeAt(fr++),ar===37){if(ar=Qt.charAt(fr++),rr=gt[ar in pads?Qt.charAt(fr++):ar],!rr||(Kt=rr(zt,sr,Kt))<0)return-1}else if(ar!=sr.charCodeAt(Kt++))return-1}return Kt}function Rt(zt,Qt,sr){var Kt=it.exec(Qt.slice(sr));return Kt?(zt.p=at.get(Kt[0].toLowerCase()),sr+Kt[0].length):-1}function Tt(zt,Qt,sr){var Kt=dt.exec(Qt.slice(sr));return Kt?(zt.w=pt.get(Kt[0].toLowerCase()),sr+Kt[0].length):-1}function jt(zt,Qt,sr){var Kt=ot.exec(Qt.slice(sr));return Kt?(zt.w=ct.get(Kt[0].toLowerCase()),sr+Kt[0].length):-1}function xt(zt,Qt,sr){var Kt=ft.exec(Qt.slice(sr));return Kt?(zt.m=ht.get(Kt[0].toLowerCase()),sr+Kt[0].length):-1}function Ct(zt,Qt,sr){var Kt=ut.exec(Qt.slice(sr));return Kt?(zt.m=lt.get(Kt[0].toLowerCase()),sr+Kt[0].length):-1}function kt(zt,Qt,sr){return Et(zt,_,Qt,sr)}function Nt(zt,Qt,sr){return Et(zt,$,Qt,sr)}function St(zt,Qt,sr){return Et(zt,_e,Qt,sr)}function Ot(zt){return rt[zt.getDay()]}function Pt(zt){return tt[zt.getDay()]}function wt(zt){return st[zt.getMonth()]}function Dt(zt){return nt[zt.getMonth()]}function Vt(zt){return et[+(zt.getHours()>=12)]}function It(zt){return 1+~~(zt.getMonth()/3)}function At(zt){return rt[zt.getUTCDay()]}function $t(zt){return tt[zt.getUTCDay()]}function Mt(zt){return st[zt.getUTCMonth()]}function Ht(zt){return nt[zt.getUTCMonth()]}function Bt(zt){return et[+(zt.getUTCHours()>=12)]}function Ut(zt){return 1+~~(zt.getUTCMonth()/3)}return{format:function(zt){var Qt=bt(zt+="",yt);return Qt.toString=function(){return zt},Qt},parse:function(zt){var Qt=mt(zt+="",!1);return Qt.toString=function(){return zt},Qt},utcFormat:function(zt){var Qt=bt(zt+="",vt);return Qt.toString=function(){return zt},Qt},utcParse:function(zt){var Qt=mt(zt+="",!0);return Qt.toString=function(){return zt},Qt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(j,_,$){var _e=j<0?"-":"",et=(_e?-j:j)+"",tt=et.length;return _e+(tt<$?new Array($-tt+1).join(_)+et:et)}function requote(j){return j.replace(requoteRe,"\\$&")}function formatRe(j){return new RegExp("^(?:"+j.map(requote).join("|")+")","i")}function formatLookup(j){return new Map(j.map((_,$)=>[_.toLowerCase(),$]))}function parseWeekdayNumberSunday(j,_,$){var _e=numberRe.exec(_.slice($,$+1));return _e?(j.w=+_e[0],$+_e[0].length):-1}function parseWeekdayNumberMonday(j,_,$){var _e=numberRe.exec(_.slice($,$+1));return _e?(j.u=+_e[0],$+_e[0].length):-1}function parseWeekNumberSunday(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.U=+_e[0],$+_e[0].length):-1}function parseWeekNumberISO(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.V=+_e[0],$+_e[0].length):-1}function parseWeekNumberMonday(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.W=+_e[0],$+_e[0].length):-1}function parseFullYear(j,_,$){var _e=numberRe.exec(_.slice($,$+4));return _e?(j.y=+_e[0],$+_e[0].length):-1}function parseYear(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.y=+_e[0]+(+_e[0]>68?1900:2e3),$+_e[0].length):-1}function parseZone(j,_,$){var _e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(_.slice($,$+6));return _e?(j.Z=_e[1]?0:-(_e[2]+(_e[3]||"00")),$+_e[0].length):-1}function parseQuarter(j,_,$){var _e=numberRe.exec(_.slice($,$+1));return _e?(j.q=_e[0]*3-3,$+_e[0].length):-1}function parseMonthNumber(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.m=_e[0]-1,$+_e[0].length):-1}function parseDayOfMonth(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.d=+_e[0],$+_e[0].length):-1}function parseDayOfYear(j,_,$){var _e=numberRe.exec(_.slice($,$+3));return _e?(j.m=0,j.d=+_e[0],$+_e[0].length):-1}function parseHour24(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.H=+_e[0],$+_e[0].length):-1}function parseMinutes(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.M=+_e[0],$+_e[0].length):-1}function parseSeconds(j,_,$){var _e=numberRe.exec(_.slice($,$+2));return _e?(j.S=+_e[0],$+_e[0].length):-1}function parseMilliseconds(j,_,$){var _e=numberRe.exec(_.slice($,$+3));return _e?(j.L=+_e[0],$+_e[0].length):-1}function parseMicroseconds(j,_,$){var _e=numberRe.exec(_.slice($,$+6));return _e?(j.L=Math.floor(_e[0]/1e3),$+_e[0].length):-1}function parseLiteralPercent(j,_,$){var _e=percentRe.exec(_.slice($,$+1));return _e?$+_e[0].length:-1}function parseUnixTimestamp(j,_,$){var _e=numberRe.exec(_.slice($));return _e?(j.Q=+_e[0],$+_e[0].length):-1}function parseUnixTimestampSeconds(j,_,$){var _e=numberRe.exec(_.slice($));return _e?(j.s=+_e[0],$+_e[0].length):-1}function formatDayOfMonth(j,_){return pad(j.getDate(),_,2)}function formatHour24(j,_){return pad(j.getHours(),_,2)}function formatHour12(j,_){return pad(j.getHours()%12||12,_,2)}function formatDayOfYear(j,_){return pad(1+timeDay.count(timeYear(j),j),_,3)}function formatMilliseconds(j,_){return pad(j.getMilliseconds(),_,3)}function formatMicroseconds(j,_){return formatMilliseconds(j,_)+"000"}function formatMonthNumber(j,_){return pad(j.getMonth()+1,_,2)}function formatMinutes(j,_){return pad(j.getMinutes(),_,2)}function formatSeconds(j,_){return pad(j.getSeconds(),_,2)}function formatWeekdayNumberMonday(j){var _=j.getDay();return _===0?7:_}function formatWeekNumberSunday(j,_){return pad(timeSunday.count(timeYear(j)-1,j),_,2)}function dISO(j){var _=j.getDay();return _>=4||_===0?timeThursday(j):timeThursday.ceil(j)}function formatWeekNumberISO(j,_){return j=dISO(j),pad(timeThursday.count(timeYear(j),j)+(timeYear(j).getDay()===4),_,2)}function formatWeekdayNumberSunday(j){return j.getDay()}function formatWeekNumberMonday(j,_){return pad(timeMonday.count(timeYear(j)-1,j),_,2)}function formatYear(j,_){return pad(j.getFullYear()%100,_,2)}function formatYearISO(j,_){return j=dISO(j),pad(j.getFullYear()%100,_,2)}function formatFullYear(j,_){return pad(j.getFullYear()%1e4,_,4)}function formatFullYearISO(j,_){var $=j.getDay();return j=$>=4||$===0?timeThursday(j):timeThursday.ceil(j),pad(j.getFullYear()%1e4,_,4)}function formatZone(j){var _=j.getTimezoneOffset();return(_>0?"-":(_*=-1,"+"))+pad(_/60|0,"0",2)+pad(_%60,"0",2)}function formatUTCDayOfMonth(j,_){return pad(j.getUTCDate(),_,2)}function formatUTCHour24(j,_){return pad(j.getUTCHours(),_,2)}function formatUTCHour12(j,_){return pad(j.getUTCHours()%12||12,_,2)}function formatUTCDayOfYear(j,_){return pad(1+utcDay.count(utcYear(j),j),_,3)}function formatUTCMilliseconds(j,_){return pad(j.getUTCMilliseconds(),_,3)}function formatUTCMicroseconds(j,_){return formatUTCMilliseconds(j,_)+"000"}function formatUTCMonthNumber(j,_){return pad(j.getUTCMonth()+1,_,2)}function formatUTCMinutes(j,_){return pad(j.getUTCMinutes(),_,2)}function formatUTCSeconds(j,_){return pad(j.getUTCSeconds(),_,2)}function formatUTCWeekdayNumberMonday(j){var _=j.getUTCDay();return _===0?7:_}function formatUTCWeekNumberSunday(j,_){return pad(utcSunday.count(utcYear(j)-1,j),_,2)}function UTCdISO(j){var _=j.getUTCDay();return _>=4||_===0?utcThursday(j):utcThursday.ceil(j)}function formatUTCWeekNumberISO(j,_){return j=UTCdISO(j),pad(utcThursday.count(utcYear(j),j)+(utcYear(j).getUTCDay()===4),_,2)}function formatUTCWeekdayNumberSunday(j){return j.getUTCDay()}function formatUTCWeekNumberMonday(j,_){return pad(utcMonday.count(utcYear(j)-1,j),_,2)}function formatUTCYear(j,_){return pad(j.getUTCFullYear()%100,_,2)}function formatUTCYearISO(j,_){return j=UTCdISO(j),pad(j.getUTCFullYear()%100,_,2)}function formatUTCFullYear(j,_){return pad(j.getUTCFullYear()%1e4,_,4)}function formatUTCFullYearISO(j,_){var $=j.getUTCDay();return j=$>=4||$===0?utcThursday(j):utcThursday.ceil(j),pad(j.getUTCFullYear()%1e4,_,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(j){return+j}function formatUnixTimestampSeconds(j){return Math.floor(+j/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(j){return locale=formatLocale(j),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(j){return new Date(j)}function number(j){return j instanceof Date?+j:+new Date(+j)}function calendar(j,_,$,_e,et,tt,rt,nt,st,it){var at=continuous(),ot=at.invert,ct=at.domain,dt=it(".%L"),pt=it(":%S"),ut=it("%I:%M"),lt=it("%I %p"),ft=it("%a %d"),ht=it("%b %d"),yt=it("%B"),vt=it("%Y");function gt(bt){return(st(bt)<bt?dt:nt(bt)<bt?pt:rt(bt)<bt?ut:tt(bt)<bt?lt:_e(bt)<bt?et(bt)<bt?ft:ht:$(bt)<bt?yt:vt)(bt)}return at.invert=function(bt){return new Date(ot(bt))},at.domain=function(bt){return arguments.length?ct(Array.from(bt,number)):ct().map(date)},at.ticks=function(bt){var mt=ct();return j(mt[0],mt[mt.length-1],bt??10)},at.tickFormat=function(bt,mt){return mt==null?gt:it(mt)},at.nice=function(bt){var mt=ct();return(!bt||typeof bt.range!="function")&&(bt=_(mt[0],mt[mt.length-1],bt??10)),bt?ct(nice(mt,bt)):at},at.copy=function(){return copy$1(at,calendar(j,_,$,_e,et,tt,rt,nt,st,it))},at}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var j=0,_=1,$,_e,et,tt,rt=identity$6,nt=!1,st;function it(ot){return ot==null||isNaN(ot=+ot)?st:rt(et===0?.5:(ot=(tt(ot)-$)*et,nt?Math.max(0,Math.min(1,ot)):ot))}it.domain=function(ot){return arguments.length?([j,_]=ot,$=tt(j=+j),_e=tt(_=+_),et=$===_e?0:1/(_e-$),it):[j,_]},it.clamp=function(ot){return arguments.length?(nt=!!ot,it):nt},it.interpolator=function(ot){return arguments.length?(rt=ot,it):rt};function at(ot){return function(ct){var dt,pt;return arguments.length?([dt,pt]=ct,rt=ot(dt,pt),it):[rt(0),rt(1)]}}return it.range=at(interpolate),it.rangeRound=at(interpolateRound),it.unknown=function(ot){return arguments.length?(st=ot,it):st},function(ot){return tt=ot,$=ot(j),_e=ot(_),et=$===_e?0:1/(_e-$),it}}function copy(j,_){return _.domain(j.domain()).interpolator(j.interpolator()).clamp(j.clamp()).unknown(j.unknown())}function sequential(){var j=linearish(transformer$1()(identity$6));return j.copy=function(){return copy(j,sequential())},initInterpolator.apply(j,arguments)}function sequentialLog(){var j=loggish(transformer$1()).domain([1,10]);return j.copy=function(){return copy(j,sequentialLog()).base(j.base())},initInterpolator.apply(j,arguments)}function sequentialSymlog(){var j=symlogish(transformer$1());return j.copy=function(){return copy(j,sequentialSymlog()).constant(j.constant())},initInterpolator.apply(j,arguments)}function sequentialPow(){var j=powish(transformer$1());return j.copy=function(){return copy(j,sequentialPow()).exponent(j.exponent())},initInterpolator.apply(j,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var j=[],_=identity$6;function $(_e){if(_e!=null&&!isNaN(_e=+_e))return _((bisectRight(j,_e,1)-1)/(j.length-1))}return $.domain=function(_e){if(!arguments.length)return j.slice();j=[];for(let et of _e)et!=null&&!isNaN(et=+et)&&j.push(et);return j.sort(ascending),$},$.interpolator=function(_e){return arguments.length?(_=_e,$):_},$.range=function(){return j.map((_e,et)=>_(et/(j.length-1)))},$.quantiles=function(_e){return Array.from({length:_e+1},(et,tt)=>quantile$1(j,tt/_e))},$.copy=function(){return sequentialQuantile(_).domain(j)},initInterpolator.apply($,arguments)}function transformer(){var j=0,_=.5,$=1,_e=1,et,tt,rt,nt,st,it=identity$6,at,ot=!1,ct;function dt(ut){return isNaN(ut=+ut)?ct:(ut=.5+((ut=+at(ut))-tt)*(_e*ut<_e*tt?nt:st),it(ot?Math.max(0,Math.min(1,ut)):ut))}dt.domain=function(ut){return arguments.length?([j,_,$]=ut,et=at(j=+j),tt=at(_=+_),rt=at($=+$),nt=et===tt?0:.5/(tt-et),st=tt===rt?0:.5/(rt-tt),_e=tt<et?-1:1,dt):[j,_,$]},dt.clamp=function(ut){return arguments.length?(ot=!!ut,dt):ot},dt.interpolator=function(ut){return arguments.length?(it=ut,dt):it};function pt(ut){return function(lt){var ft,ht,yt;return arguments.length?([ft,ht,yt]=lt,it=piecewise(ut,[ft,ht,yt]),dt):[it(0),it(.5),it(1)]}}return dt.range=pt(interpolate),dt.rangeRound=pt(interpolateRound),dt.unknown=function(ut){return arguments.length?(ct=ut,dt):ct},function(ut){return at=ut,et=ut(j),tt=ut(_),rt=ut($),nt=et===tt?0:.5/(tt-et),st=tt===rt?0:.5/(rt-tt),_e=tt<et?-1:1,dt}}function diverging(){var j=linearish(transformer()(identity$6));return j.copy=function(){return copy(j,diverging())},initInterpolator.apply(j,arguments)}function divergingLog(){var j=loggish(transformer()).domain([.1,1,10]);return j.copy=function(){return copy(j,divergingLog()).base(j.base())},initInterpolator.apply(j,arguments)}function divergingSymlog(){var j=symlogish(transformer());return j.copy=function(){return copy(j,divergingSymlog()).constant(j.constant())},initInterpolator.apply(j,arguments)}function divergingPow(){var j=powish(transformer());return j.copy=function(){return copy(j,divergingPow()).exponent(j.exponent())},initInterpolator.apply(j,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(j,_,$){for(var _e=-1,et=j.length;++_e<et;){var tt=j[_e],rt=_(tt);if(rt!=null&&(nt===void 0?rt===rt&&!isSymbol(rt):$(rt,nt)))var nt=rt,st=tt}return st}var _baseExtremum=baseExtremum$4;function baseGt$2(j,_){return j>_}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(j){return j&&j.length?baseExtremum$3(j,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(j,_){return j<_}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(j){return j&&j.length?baseExtremum$2(j,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(j,_){var $=isArray$3(j)?arrayMap:baseMap;return $(j,baseIteratee$7(_))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(j,_){return baseFlatten(map$1(j,_),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(j,_){return baseIsEqual(j,_)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var j=new this.constructor(this);return j.s&&(j.s=1),j};P.comparedTo=P.cmp=function(j){var _,$,_e,et,tt=this;if(j=new tt.constructor(j),tt.s!==j.s)return tt.s||-j.s;if(tt.e!==j.e)return tt.e>j.e^tt.s<0?1:-1;for(_e=tt.d.length,et=j.d.length,_=0,$=_e<et?_e:et;_<$;++_)if(tt.d[_]!==j.d[_])return tt.d[_]>j.d[_]^tt.s<0?1:-1;return _e===et?0:_e>et^tt.s<0?1:-1};P.decimalPlaces=P.dp=function(){var j=this,_=j.d.length-1,$=(_-j.e)*LOG_BASE;if(_=j.d[_],_)for(;_%10==0;_/=10)$--;return $<0?0:$};P.dividedBy=P.div=function(j){return divide(this,new this.constructor(j))};P.dividedToIntegerBy=P.idiv=function(j){var _=this,$=_.constructor;return round(divide(_,new $(j),0,1),$.precision)};P.equals=P.eq=function(j){return!this.cmp(j)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(j){return this.cmp(j)>0};P.greaterThanOrEqualTo=P.gte=function(j){return this.cmp(j)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(j){return this.cmp(j)<0};P.lessThanOrEqualTo=P.lte=function(j){return this.cmp(j)<1};P.logarithm=P.log=function(j){var _,$=this,_e=$.constructor,et=_e.precision,tt=et+5;if(j===void 0)j=new _e(10);else if(j=new _e(j),j.s<1||j.eq(ONE))throw Error(decimalError+"NaN");if($.s<1)throw Error(decimalError+($.s?"NaN":"-Infinity"));return $.eq(ONE)?new _e(0):(external=!1,_=divide(ln($,tt),ln(j,tt),tt),external=!0,round(_,et))};P.minus=P.sub=function(j){var _=this;return j=new _.constructor(j),_.s==j.s?subtract(_,j):add(_,(j.s=-j.s,j))};P.modulo=P.mod=function(j){var _,$=this,_e=$.constructor,et=_e.precision;if(j=new _e(j),!j.s)throw Error(decimalError+"NaN");return $.s?(external=!1,_=divide($,j,0,1).times(j),external=!0,$.minus(_)):round(new _e($),et)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var j=new this.constructor(this);return j.s=-j.s||0,j};P.plus=P.add=function(j){var _=this;return j=new _.constructor(j),_.s==j.s?add(_,j):subtract(_,(j.s=-j.s,j))};P.precision=P.sd=function(j){var _,$,_e,et=this;if(j!==void 0&&j!==!!j&&j!==1&&j!==0)throw Error(invalidArgument+j);if(_=getBase10Exponent(et)+1,_e=et.d.length-1,$=_e*LOG_BASE+1,_e=et.d[_e],_e){for(;_e%10==0;_e/=10)$--;for(_e=et.d[0];_e>=10;_e/=10)$++}return j&&_>$?_:$};P.squareRoot=P.sqrt=function(){var j,_,$,_e,et,tt,rt,nt=this,st=nt.constructor;if(nt.s<1){if(!nt.s)return new st(0);throw Error(decimalError+"NaN")}for(j=getBase10Exponent(nt),external=!1,et=Math.sqrt(+nt),et==0||et==1/0?(_=digitsToString(nt.d),(_.length+j)%2==0&&(_+="0"),et=Math.sqrt(_),j=mathfloor((j+1)/2)-(j<0||j%2),et==1/0?_="5e"+j:(_=et.toExponential(),_=_.slice(0,_.indexOf("e")+1)+j),_e=new st(_)):_e=new st(et.toString()),$=st.precision,et=rt=$+3;;)if(tt=_e,_e=tt.plus(divide(nt,tt,rt+2)).times(.5),digitsToString(tt.d).slice(0,rt)===(_=digitsToString(_e.d)).slice(0,rt)){if(_=_.slice(rt-3,rt+1),et==rt&&_=="4999"){if(round(tt,$+1,0),tt.times(tt).eq(nt)){_e=tt;break}}else if(_!="9999")break;rt+=4}return external=!0,round(_e,$)};P.times=P.mul=function(j){var _,$,_e,et,tt,rt,nt,st,it,at=this,ot=at.constructor,ct=at.d,dt=(j=new ot(j)).d;if(!at.s||!j.s)return new ot(0);for(j.s*=at.s,$=at.e+j.e,st=ct.length,it=dt.length,st<it&&(tt=ct,ct=dt,dt=tt,rt=st,st=it,it=rt),tt=[],rt=st+it,_e=rt;_e--;)tt.push(0);for(_e=it;--_e>=0;){for(_=0,et=st+_e;et>_e;)nt=tt[et]+dt[_e]*ct[et-_e-1]+_,tt[et--]=nt%BASE|0,_=nt/BASE|0;tt[et]=(tt[et]+_)%BASE|0}for(;!tt[--rt];)tt.pop();return _?++$:tt.shift(),j.d=tt,j.e=$,external?round(j,ot.precision):j};P.toDecimalPlaces=P.todp=function(j,_){var $=this,_e=$.constructor;return $=new _e($),j===void 0?$:(checkInt32(j,0,MAX_DIGITS),_===void 0?_=_e.rounding:checkInt32(_,0,8),round($,j+getBase10Exponent($)+1,_))};P.toExponential=function(j,_){var $,_e=this,et=_e.constructor;return j===void 0?$=toString(_e,!0):(checkInt32(j,0,MAX_DIGITS),_===void 0?_=et.rounding:checkInt32(_,0,8),_e=round(new et(_e),j+1,_),$=toString(_e,!0,j+1)),$};P.toFixed=function(j,_){var $,_e,et=this,tt=et.constructor;return j===void 0?toString(et):(checkInt32(j,0,MAX_DIGITS),_===void 0?_=tt.rounding:checkInt32(_,0,8),_e=round(new tt(et),j+getBase10Exponent(et)+1,_),$=toString(_e.abs(),!1,j+getBase10Exponent(_e)+1),et.isneg()&&!et.isZero()?"-"+$:$)};P.toInteger=P.toint=function(){var j=this,_=j.constructor;return round(new _(j),getBase10Exponent(j)+1,_.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(j){var _,$,_e,et,tt,rt,nt=this,st=nt.constructor,it=12,at=+(j=new st(j));if(!j.s)return new st(ONE);if(nt=new st(nt),!nt.s){if(j.s<1)throw Error(decimalError+"Infinity");return nt}if(nt.eq(ONE))return nt;if(_e=st.precision,j.eq(ONE))return round(nt,_e);if(_=j.e,$=j.d.length-1,rt=_>=$,tt=nt.s,rt){if(($=at<0?-at:at)<=MAX_SAFE_INTEGER){for(et=new st(ONE),_=Math.ceil(_e/LOG_BASE+4),external=!1;$%2&&(et=et.times(nt),truncate(et.d,_)),$=mathfloor($/2),$!==0;)nt=nt.times(nt),truncate(nt.d,_);return external=!0,j.s<0?new st(ONE).div(et):round(et,_e)}}else if(tt<0)throw Error(decimalError+"NaN");return tt=tt<0&&j.d[Math.max(_,$)]&1?-1:1,nt.s=1,external=!1,et=j.times(ln(nt,_e+it)),external=!0,et=exp(et),et.s=tt,et};P.toPrecision=function(j,_){var $,_e,et=this,tt=et.constructor;return j===void 0?($=getBase10Exponent(et),_e=toString(et,$<=tt.toExpNeg||$>=tt.toExpPos)):(checkInt32(j,1,MAX_DIGITS),_===void 0?_=tt.rounding:checkInt32(_,0,8),et=round(new tt(et),j,_),$=getBase10Exponent(et),_e=toString(et,j<=$||$<=tt.toExpNeg,j)),_e};P.toSignificantDigits=P.tosd=function(j,_){var $=this,_e=$.constructor;return j===void 0?(j=_e.precision,_=_e.rounding):(checkInt32(j,1,MAX_DIGITS),_===void 0?_=_e.rounding:checkInt32(_,0,8)),round(new _e($),j,_)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var j=this,_=getBase10Exponent(j),$=j.constructor;return toString(j,_<=$.toExpNeg||_>=$.toExpPos)};function add(j,_){var $,_e,et,tt,rt,nt,st,it,at=j.constructor,ot=at.precision;if(!j.s||!_.s)return _.s||(_=new at(j)),external?round(_,ot):_;if(st=j.d,it=_.d,rt=j.e,et=_.e,st=st.slice(),tt=rt-et,tt){for(tt<0?(_e=st,tt=-tt,nt=it.length):(_e=it,et=rt,nt=st.length),rt=Math.ceil(ot/LOG_BASE),nt=rt>nt?rt+1:nt+1,tt>nt&&(tt=nt,_e.length=1),_e.reverse();tt--;)_e.push(0);_e.reverse()}for(nt=st.length,tt=it.length,nt-tt<0&&(tt=nt,_e=it,it=st,st=_e),$=0;tt;)$=(st[--tt]=st[tt]+it[tt]+$)/BASE|0,st[tt]%=BASE;for($&&(st.unshift($),++et),nt=st.length;st[--nt]==0;)st.pop();return _.d=st,_.e=et,external?round(_,ot):_}function checkInt32(j,_,$){if(j!==~~j||j<_||j>$)throw Error(invalidArgument+j)}function digitsToString(j){var _,$,_e,et=j.length-1,tt="",rt=j[0];if(et>0){for(tt+=rt,_=1;_<et;_++)_e=j[_]+"",$=LOG_BASE-_e.length,$&&(tt+=getZeroString($)),tt+=_e;rt=j[_],_e=rt+"",$=LOG_BASE-_e.length,$&&(tt+=getZeroString($))}else if(rt===0)return"0";for(;rt%10===0;)rt/=10;return tt+rt}var divide=function(){function j(_e,et){var tt,rt=0,nt=_e.length;for(_e=_e.slice();nt--;)tt=_e[nt]*et+rt,_e[nt]=tt%BASE|0,rt=tt/BASE|0;return rt&&_e.unshift(rt),_e}function _(_e,et,tt,rt){var nt,st;if(tt!=rt)st=tt>rt?1:-1;else for(nt=st=0;nt<tt;nt++)if(_e[nt]!=et[nt]){st=_e[nt]>et[nt]?1:-1;break}return st}function $(_e,et,tt){for(var rt=0;tt--;)_e[tt]-=rt,rt=_e[tt]<et[tt]?1:0,_e[tt]=rt*BASE+_e[tt]-et[tt];for(;!_e[0]&&_e.length>1;)_e.shift()}return function(_e,et,tt,rt){var nt,st,it,at,ot,ct,dt,pt,ut,lt,ft,ht,yt,vt,gt,bt,mt,Et,Rt=_e.constructor,Tt=_e.s==et.s?1:-1,jt=_e.d,xt=et.d;if(!_e.s)return new Rt(_e);if(!et.s)throw Error(decimalError+"Division by zero");for(st=_e.e-et.e,mt=xt.length,gt=jt.length,dt=new Rt(Tt),pt=dt.d=[],it=0;xt[it]==(jt[it]||0);)++it;if(xt[it]>(jt[it]||0)&&--st,tt==null?ht=tt=Rt.precision:rt?ht=tt+(getBase10Exponent(_e)-getBase10Exponent(et))+1:ht=tt,ht<0)return new Rt(0);if(ht=ht/LOG_BASE+2|0,it=0,mt==1)for(at=0,xt=xt[0],ht++;(it<gt||at)&&ht--;it++)yt=at*BASE+(jt[it]||0),pt[it]=yt/xt|0,at=yt%xt|0;else{for(at=BASE/(xt[0]+1)|0,at>1&&(xt=j(xt,at),jt=j(jt,at),mt=xt.length,gt=jt.length),vt=mt,ut=jt.slice(0,mt),lt=ut.length;lt<mt;)ut[lt++]=0;Et=xt.slice(),Et.unshift(0),bt=xt[0],xt[1]>=BASE/2&&++bt;do at=0,nt=_(xt,ut,mt,lt),nt<0?(ft=ut[0],mt!=lt&&(ft=ft*BASE+(ut[1]||0)),at=ft/bt|0,at>1?(at>=BASE&&(at=BASE-1),ot=j(xt,at),ct=ot.length,lt=ut.length,nt=_(ot,ut,ct,lt),nt==1&&(at--,$(ot,mt<ct?Et:xt,ct))):(at==0&&(nt=at=1),ot=xt.slice()),ct=ot.length,ct<lt&&ot.unshift(0),$(ut,ot,lt),nt==-1&&(lt=ut.length,nt=_(xt,ut,mt,lt),nt<1&&(at++,$(ut,mt<lt?Et:xt,lt))),lt=ut.length):nt===0&&(at++,ut=[0]),pt[it++]=at,nt&&ut[0]?ut[lt++]=jt[vt]||0:(ut=[jt[vt]],lt=1);while((vt++<gt||ut[0]!==void 0)&&ht--)}return pt[0]||pt.shift(),dt.e=st,round(dt,rt?tt+getBase10Exponent(dt)+1:tt)}}();function exp(j,_){var $,_e,et,tt,rt,nt,st=0,it=0,at=j.constructor,ot=at.precision;if(getBase10Exponent(j)>16)throw Error(exponentOutOfRange+getBase10Exponent(j));if(!j.s)return new at(ONE);for(_==null?(external=!1,nt=ot):nt=_,rt=new at(.03125);j.abs().gte(.1);)j=j.times(rt),it+=5;for(_e=Math.log(mathpow(2,it))/Math.LN10*2+5|0,nt+=_e,$=et=tt=new at(ONE),at.precision=nt;;){if(et=round(et.times(j),nt),$=$.times(++st),rt=tt.plus(divide(et,$,nt)),digitsToString(rt.d).slice(0,nt)===digitsToString(tt.d).slice(0,nt)){for(;it--;)tt=round(tt.times(tt),nt);return at.precision=ot,_==null?(external=!0,round(tt,ot)):tt}tt=rt}}function getBase10Exponent(j){for(var _=j.e*LOG_BASE,$=j.d[0];$>=10;$/=10)_++;return _}function getLn10(j,_,$){if(_>j.LN10.sd())throw external=!0,$&&(j.precision=$),Error(decimalError+"LN10 precision limit exceeded");return round(new j(j.LN10),_)}function getZeroString(j){for(var _="";j--;)_+="0";return _}function ln(j,_){var $,_e,et,tt,rt,nt,st,it,at,ot=1,ct=10,dt=j,pt=dt.d,ut=dt.constructor,lt=ut.precision;if(dt.s<1)throw Error(decimalError+(dt.s?"NaN":"-Infinity"));if(dt.eq(ONE))return new ut(0);if(_==null?(external=!1,it=lt):it=_,dt.eq(10))return _==null&&(external=!0),getLn10(ut,it);if(it+=ct,ut.precision=it,$=digitsToString(pt),_e=$.charAt(0),tt=getBase10Exponent(dt),Math.abs(tt)<15e14){for(;_e<7&&_e!=1||_e==1&&$.charAt(1)>3;)dt=dt.times(j),$=digitsToString(dt.d),_e=$.charAt(0),ot++;tt=getBase10Exponent(dt),_e>1?(dt=new ut("0."+$),tt++):dt=new ut(_e+"."+$.slice(1))}else return st=getLn10(ut,it+2,lt).times(tt+""),dt=ln(new ut(_e+"."+$.slice(1)),it-ct).plus(st),ut.precision=lt,_==null?(external=!0,round(dt,lt)):dt;for(nt=rt=dt=divide(dt.minus(ONE),dt.plus(ONE),it),at=round(dt.times(dt),it),et=3;;){if(rt=round(rt.times(at),it),st=nt.plus(divide(rt,new ut(et),it)),digitsToString(st.d).slice(0,it)===digitsToString(nt.d).slice(0,it))return nt=nt.times(2),tt!==0&&(nt=nt.plus(getLn10(ut,it+2,lt).times(tt+""))),nt=divide(nt,new ut(ot),it),ut.precision=lt,_==null?(external=!0,round(nt,lt)):nt;nt=st,et+=2}}function parseDecimal(j,_){var $,_e,et;for(($=_.indexOf("."))>-1&&(_=_.replace(".","")),(_e=_.search(/e/i))>0?($<0&&($=_e),$+=+_.slice(_e+1),_=_.substring(0,_e)):$<0&&($=_.length),_e=0;_.charCodeAt(_e)===48;)++_e;for(et=_.length;_.charCodeAt(et-1)===48;)--et;if(_=_.slice(_e,et),_){if(et-=_e,$=$-_e-1,j.e=mathfloor($/LOG_BASE),j.d=[],_e=($+1)%LOG_BASE,$<0&&(_e+=LOG_BASE),_e<et){for(_e&&j.d.push(+_.slice(0,_e)),et-=LOG_BASE;_e<et;)j.d.push(+_.slice(_e,_e+=LOG_BASE));_=_.slice(_e),_e=LOG_BASE-_.length}else _e-=et;for(;_e--;)_+="0";if(j.d.push(+_),external&&(j.e>MAX_E||j.e<-MAX_E))throw Error(exponentOutOfRange+$)}else j.s=0,j.e=0,j.d=[0];return j}function round(j,_,$){var _e,et,tt,rt,nt,st,it,at,ot=j.d;for(rt=1,tt=ot[0];tt>=10;tt/=10)rt++;if(_e=_-rt,_e<0)_e+=LOG_BASE,et=_,it=ot[at=0];else{if(at=Math.ceil((_e+1)/LOG_BASE),tt=ot.length,at>=tt)return j;for(it=tt=ot[at],rt=1;tt>=10;tt/=10)rt++;_e%=LOG_BASE,et=_e-LOG_BASE+rt}if($!==void 0&&(tt=mathpow(10,rt-et-1),nt=it/tt%10|0,st=_<0||ot[at+1]!==void 0||it%tt,st=$<4?(nt||st)&&($==0||$==(j.s<0?3:2)):nt>5||nt==5&&($==4||st||$==6&&(_e>0?et>0?it/mathpow(10,rt-et):0:ot[at-1])%10&1||$==(j.s<0?8:7))),_<1||!ot[0])return st?(tt=getBase10Exponent(j),ot.length=1,_=_-tt-1,ot[0]=mathpow(10,(LOG_BASE-_%LOG_BASE)%LOG_BASE),j.e=mathfloor(-_/LOG_BASE)||0):(ot.length=1,ot[0]=j.e=j.s=0),j;if(_e==0?(ot.length=at,tt=1,at--):(ot.length=at+1,tt=mathpow(10,LOG_BASE-_e),ot[at]=et>0?(it/mathpow(10,rt-et)%mathpow(10,et)|0)*tt:0),st)for(;;)if(at==0){(ot[0]+=tt)==BASE&&(ot[0]=1,++j.e);break}else{if(ot[at]+=tt,ot[at]!=BASE)break;ot[at--]=0,tt=1}for(_e=ot.length;ot[--_e]===0;)ot.pop();if(external&&(j.e>MAX_E||j.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(j));return j}function subtract(j,_){var $,_e,et,tt,rt,nt,st,it,at,ot,ct=j.constructor,dt=ct.precision;if(!j.s||!_.s)return _.s?_.s=-_.s:_=new ct(j),external?round(_,dt):_;if(st=j.d,ot=_.d,_e=_.e,it=j.e,st=st.slice(),rt=it-_e,rt){for(at=rt<0,at?($=st,rt=-rt,nt=ot.length):($=ot,_e=it,nt=st.length),et=Math.max(Math.ceil(dt/LOG_BASE),nt)+2,rt>et&&(rt=et,$.length=1),$.reverse(),et=rt;et--;)$.push(0);$.reverse()}else{for(et=st.length,nt=ot.length,at=et<nt,at&&(nt=et),et=0;et<nt;et++)if(st[et]!=ot[et]){at=st[et]<ot[et];break}rt=0}for(at&&($=st,st=ot,ot=$,_.s=-_.s),nt=st.length,et=ot.length-nt;et>0;--et)st[nt++]=0;for(et=ot.length;et>rt;){if(st[--et]<ot[et]){for(tt=et;tt&&st[--tt]===0;)st[tt]=BASE-1;--st[tt],st[et]+=BASE}st[et]-=ot[et]}for(;st[--nt]===0;)st.pop();for(;st[0]===0;st.shift())--_e;return st[0]?(_.d=st,_.e=_e,external?round(_,dt):_):new ct(0)}function toString(j,_,$){var _e,et=getBase10Exponent(j),tt=digitsToString(j.d),rt=tt.length;return _?($&&(_e=$-rt)>0?tt=tt.charAt(0)+"."+tt.slice(1)+getZeroString(_e):rt>1&&(tt=tt.charAt(0)+"."+tt.slice(1)),tt=tt+(et<0?"e":"e+")+et):et<0?(tt="0."+getZeroString(-et-1)+tt,$&&(_e=$-rt)>0&&(tt+=getZeroString(_e))):et>=rt?(tt+=getZeroString(et+1-rt),$&&(_e=$-et-1)>0&&(tt=tt+"."+getZeroString(_e))):((_e=et+1)<rt&&(tt=tt.slice(0,_e)+"."+tt.slice(_e)),$&&(_e=$-rt)>0&&(et+1===rt&&(tt+="."),tt+=getZeroString(_e))),j.s<0?"-"+tt:tt}function truncate(j,_){if(j.length>_)return j.length=_,!0}function clone(j){var _,$,_e;function et(tt){var rt=this;if(!(rt instanceof et))return new et(tt);if(rt.constructor=et,tt instanceof et){rt.s=tt.s,rt.e=tt.e,rt.d=(tt=tt.d)?tt.slice():tt;return}if(typeof tt=="number"){if(tt*0!==0)throw Error(invalidArgument+tt);if(tt>0)rt.s=1;else if(tt<0)tt=-tt,rt.s=-1;else{rt.s=0,rt.e=0,rt.d=[0];return}if(tt===~~tt&&tt<1e7){rt.e=0,rt.d=[tt];return}return parseDecimal(rt,tt.toString())}else if(typeof tt!="string")throw Error(invalidArgument+tt);if(tt.charCodeAt(0)===45?(tt=tt.slice(1),rt.s=-1):rt.s=1,isDecimal.test(tt))parseDecimal(rt,tt);else throw Error(invalidArgument+tt)}if(et.prototype=P,et.ROUND_UP=0,et.ROUND_DOWN=1,et.ROUND_CEIL=2,et.ROUND_FLOOR=3,et.ROUND_HALF_UP=4,et.ROUND_HALF_DOWN=5,et.ROUND_HALF_EVEN=6,et.ROUND_HALF_CEIL=7,et.ROUND_HALF_FLOOR=8,et.clone=clone,et.config=et.set=config,j===void 0&&(j={}),j)for(_e=["precision","rounding","toExpNeg","toExpPos","LN10"],_=0;_<_e.length;)j.hasOwnProperty($=_e[_++])||(j[$]=this[$]);return et.config(j),et}function config(j){if(!j||typeof j!="object")throw Error(decimalError+"Object expected");var _,$,_e,et=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(_=0;_<et.length;_+=3)if((_e=j[$=et[_]])!==void 0)if(mathfloor(_e)===_e&&_e>=et[_+1]&&_e<=et[_+2])this[$]=_e;else throw Error(invalidArgument+$+": "+_e);if((_e=j[$="LN10"])!==void 0)if(_e==Math.LN10)this[$]=new this(_e);else throw Error(invalidArgument+$+": "+_e);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(j){return _arrayWithoutHoles$b(j)||_iterableToArray$c(j)||_unsupportedIterableToArray$h(j)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$h(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$h(j,_)}}function _iterableToArray$c(j){if(typeof Symbol<"u"&&Symbol.iterator in Object(j))return Array.from(j)}function _arrayWithoutHoles$b(j){if(Array.isArray(j))return _arrayLikeToArray$h(j)}function _arrayLikeToArray$h(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}var identity$1=function j(_){return _},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function j(_){return _===PLACE_HOLDER},curry0=function j(_){return function $(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?$:_.apply(void 0,arguments)}},curryN=function j(_,$){return _===1?$:curry0(function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];var rt=et.filter(function(nt){return nt!==PLACE_HOLDER}).length;return rt>=_?$.apply(void 0,et):j(_-rt,curry0(function(){for(var nt=arguments.length,st=new Array(nt),it=0;it<nt;it++)st[it]=arguments[it];var at=et.map(function(ot){return isPlaceHolder(ot)?st.shift():ot});return $.apply(void 0,_toConsumableArray$b(at).concat(st))}))})},curry=function j(_){return curryN(_.length,_)},range$2=function j(_,$){for(var _e=[],et=_;et<$;++et)_e[et-_]=et;return _e},map=curry(function(j,_){return Array.isArray(_)?_.map(j):Object.keys(_).map(function($){return _[$]}).map(j)}),compose=function j(){for(var _=arguments.length,$=new Array(_),_e=0;_e<_;_e++)$[_e]=arguments[_e];if(!$.length)return identity$1;var et=$.reverse(),tt=et[0],rt=et.slice(1);return function(){return rt.reduce(function(nt,st){return st(nt)},tt.apply(void 0,arguments))}},reverse=function j(_){return Array.isArray(_)?_.reverse():_.split("").reverse.join("")},memoize=function j(_){var $=null,_e=null;return function(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return $&&tt.every(function(nt,st){return nt===$[st]})||($=tt,_e=_.apply(void 0,tt)),_e}};function getDigitCount(j){var _;return j===0?_=1:_=Math.floor(new Decimal$1(j).abs().log(10).toNumber())+1,_}function rangeStep(j,_,$){for(var _e=new Decimal$1(j),et=0,tt=[];_e.lt(_)&&et<1e5;)tt.push(_e.toNumber()),_e=_e.add($),et++;return tt}var interpolateNumber=curry(function(j,_,$){var _e=+j,et=+_;return _e+$*(et-_e)}),uninterpolateNumber=curry(function(j,_,$){var _e=_-+j;return _e=_e||1/0,($-j)/_e}),uninterpolateTruncation=curry(function(j,_,$){var _e=_-+j;return _e=_e||1/0,Math.max(0,Math.min(1,($-j)/_e))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(j){return _arrayWithoutHoles$a(j)||_iterableToArray$b(j)||_unsupportedIterableToArray$g(j)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(j){if(typeof Symbol<"u"&&Symbol.iterator in Object(j))return Array.from(j)}function _arrayWithoutHoles$a(j){if(Array.isArray(j))return _arrayLikeToArray$g(j)}function _slicedToArray$8(j,_){return _arrayWithHoles$9(j)||_iterableToArrayLimit$8(j,_)||_unsupportedIterableToArray$g(j,_)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$g(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$g(j,_)}}function _arrayLikeToArray$g(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$8(j,_){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(j)))){var $=[],_e=!0,et=!1,tt=void 0;try{for(var rt=j[Symbol.iterator](),nt;!(_e=(nt=rt.next()).done)&&($.push(nt.value),!(_&&$.length===_));_e=!0);}catch(st){et=!0,tt=st}finally{try{!_e&&rt.return!=null&&rt.return()}finally{if(et)throw tt}}return $}}function _arrayWithHoles$9(j){if(Array.isArray(j))return j}function getValidInterval(j){var _=_slicedToArray$8(j,2),$=_[0],_e=_[1],et=$,tt=_e;return $>_e&&(et=_e,tt=$),[et,tt]}function getFormatStep(j,_,$){if(j.lte(0))return new Decimal$1(0);var _e=Arithmetic.getDigitCount(j.toNumber()),et=new Decimal$1(10).pow(_e),tt=j.div(et),rt=_e!==1?.05:.1,nt=new Decimal$1(Math.ceil(tt.div(rt).toNumber())).add($).mul(rt),st=nt.mul(et);return _?st:new Decimal$1(Math.ceil(st))}function getTickOfSingleValue(j,_,$){var _e=1,et=new Decimal$1(j);if(!et.isint()&&$){var tt=Math.abs(j);tt<1?(_e=new Decimal$1(10).pow(Arithmetic.getDigitCount(j)-1),et=new Decimal$1(Math.floor(et.div(_e).toNumber())).mul(_e)):tt>1&&(et=new Decimal$1(Math.floor(j)))}else j===0?et=new Decimal$1(Math.floor((_-1)/2)):$||(et=new Decimal$1(Math.floor(j)));var rt=Math.floor((_-1)/2),nt=compose(map(function(st){return et.add(new Decimal$1(st-rt).mul(_e)).toNumber()}),range$2);return nt(0,_)}function calculateStep(j,_,$,_e){var et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((_-j)/($-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var tt=getFormatStep(new Decimal$1(_).sub(j).div($-1),_e,et),rt;j<=0&&_>=0?rt=new Decimal$1(0):(rt=new Decimal$1(j).add(_).div(2),rt=rt.sub(new Decimal$1(rt).mod(tt)));var nt=Math.ceil(rt.sub(j).div(tt).toNumber()),st=Math.ceil(new Decimal$1(_).sub(rt).div(tt).toNumber()),it=nt+st+1;return it>$?calculateStep(j,_,$,_e,et+1):(it<$&&(st=_>0?st+($-it):st,nt=_>0?nt:nt+($-it)),{step:tt,tickMin:rt.sub(new Decimal$1(nt).mul(tt)),tickMax:rt.add(new Decimal$1(st).mul(tt))})}function getNiceTickValuesFn(j){var _=_slicedToArray$8(j,2),$=_[0],_e=_[1],et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,rt=Math.max(et,2),nt=getValidInterval([$,_e]),st=_slicedToArray$8(nt,2),it=st[0],at=st[1];if(it===-1/0||at===1/0){var ot=at===1/0?[it].concat(_toConsumableArray$a(range$2(0,et-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$2(0,et-1).map(function(){return-1/0})),[at]);return $>_e?reverse(ot):ot}if(it===at)return getTickOfSingleValue(it,et,tt);var ct=calculateStep(it,at,rt,tt),dt=ct.step,pt=ct.tickMin,ut=ct.tickMax,lt=Arithmetic.rangeStep(pt,ut.add(new Decimal$1(.1).mul(dt)),dt);return $>_e?reverse(lt):lt}function getTickValuesFixedDomainFn(j,_){var $=_slicedToArray$8(j,2),_e=$[0],et=$[1],tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,rt=getValidInterval([_e,et]),nt=_slicedToArray$8(rt,2),st=nt[0],it=nt[1];if(st===-1/0||it===1/0)return[_e,et];if(st===it)return[st];var at=Math.max(_,2),ot=getFormatStep(new Decimal$1(it).sub(st).div(at-1),tt,0),ct=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(st),new Decimal$1(it).sub(new Decimal$1(.99).mul(ot)),ot)),[it]);return _e>et?reverse(ct):ct}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(j,_){throw new Error(prefix)}var _excluded$d=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$z(j){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$z(j)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$o.apply(this,arguments)}function _slicedToArray$7(j,_){return _arrayWithHoles$8(j)||_iterableToArrayLimit$7(j,_)||_unsupportedIterableToArray$f(j,_)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$f(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$f(j,_)}}function _arrayLikeToArray$f(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$7(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$8(j){if(Array.isArray(j))return j}function _objectWithoutProperties$d(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$d(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$d(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _classCallCheck$g(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$y(_e.key),_e)}}function _createClass$g(j,_,$){return _&&_defineProperties$g(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$d(j,_,$){return _=_getPrototypeOf$e(_),_possibleConstructorReturn$e(j,_isNativeReflectConstruct$e()?Reflect.construct(_,$||[],_getPrototypeOf$e(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$e(j,_){if(_&&(_typeof$z(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(j)}function _assertThisInitialized$e(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$e(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!j})()}function _getPrototypeOf$e(j){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$e(j)}function _inherits$e(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$e(j,_)}function _setPrototypeOf$e(j,_){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$e(j,_)}function _defineProperty$y(j,_,$){return _=_toPropertyKey$y(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$y(j){var _=_toPrimitive$y(j,"string");return _typeof$z(_)=="symbol"?_:_+""}function _toPrimitive$y(j,_){if(_typeof$z(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$z(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var ErrorBar=function(j){function _(){return _classCallCheck$g(this,_),_callSuper$d(this,_,arguments)}return _inherits$e(_,j),_createClass$g(_,[{key:"render",value:function(){var _e=this.props,et=_e.offset,tt=_e.layout,rt=_e.width,nt=_e.dataKey,st=_e.data,it=_e.dataPointFormatter,at=_e.xAxis,ot=_e.yAxis,ct=_objectWithoutProperties$d(_e,_excluded$d),dt=filterProps(ct,!1);this.props.direction==="x"&&at.type!=="number"&&invariant();var pt=st.map(function(ut){var lt=it(ut,nt),ft=lt.x,ht=lt.y,yt=lt.value,vt=lt.errorVal;if(!vt)return null;var gt=[],bt,mt;if(Array.isArray(vt)){var Et=_slicedToArray$7(vt,2);bt=Et[0],mt=Et[1]}else bt=mt=vt;if(tt==="vertical"){var Rt=at.scale,Tt=ht+et,jt=Tt+rt,xt=Tt-rt,Ct=Rt(yt-bt),kt=Rt(yt+mt);gt.push({x1:kt,y1:jt,x2:kt,y2:xt}),gt.push({x1:Ct,y1:Tt,x2:kt,y2:Tt}),gt.push({x1:Ct,y1:jt,x2:Ct,y2:xt})}else if(tt==="horizontal"){var Nt=ot.scale,St=ft+et,Ot=St-rt,Pt=St+rt,wt=Nt(yt-bt),Dt=Nt(yt+mt);gt.push({x1:Ot,y1:Dt,x2:Pt,y2:Dt}),gt.push({x1:St,y1:wt,x2:St,y2:Dt}),gt.push({x1:Ot,y1:wt,x2:Pt,y2:wt})}return React.createElement(Layer,_extends$o({className:"recharts-errorBar",key:"bar-".concat(gt.map(function(Vt){return"".concat(Vt.x1,"-").concat(Vt.x2,"-").concat(Vt.y1,"-").concat(Vt.y2)}))},dt),gt.map(function(Vt){return React.createElement("line",_extends$o({},Vt,{key:"line-".concat(Vt.x1,"-").concat(Vt.x2,"-").concat(Vt.y1,"-").concat(Vt.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},pt)}}])}(React.Component);_defineProperty$y(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$y(ErrorBar,"displayName","ErrorBar");function _typeof$y(j){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$y(j)}function ownKeys$u(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$u(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$u(Object($),!0).forEach(function(_e){_defineProperty$x(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$u(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$x(j,_,$){return _=_toPropertyKey$x(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$x(j){var _=_toPrimitive$x(j,"string");return _typeof$y(_)=="symbol"?_:_+""}function _toPrimitive$x(j,_){if(_typeof$y(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$y(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getLegendProps=function j(_){var $=_.children,_e=_.formattedGraphicalItems,et=_.legendWidth,tt=_.legendContent,rt=findChildByType($,Legend);if(!rt)return null;var nt=Legend.defaultProps,st=nt!==void 0?_objectSpread$u(_objectSpread$u({},nt),rt.props):{},it;return rt.props&&rt.props.payload?it=rt.props&&rt.props.payload:tt==="children"?it=(_e||[]).reduce(function(at,ot){var ct=ot.item,dt=ot.props,pt=dt.sectors||dt.data||[];return at.concat(pt.map(function(ut){return{type:rt.props.iconType||ct.props.legendType,value:ut.name,color:ut.fill,payload:ut}}))},[]):it=(_e||[]).map(function(at){var ot=at.item,ct=ot.type.defaultProps,dt=ct!==void 0?_objectSpread$u(_objectSpread$u({},ct),ot.props):{},pt=dt.dataKey,ut=dt.name,lt=dt.legendType,ft=dt.hide;return{inactive:ft,dataKey:pt,type:st.iconType||lt||"square",color:getMainColorOfGraphicItem(ot),value:ut||pt,payload:dt}}),_objectSpread$u(_objectSpread$u(_objectSpread$u({},st),Legend.getWithHeight(rt,et)),{},{payload:it,item:rt})};function _typeof$x(j){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$x(j)}function _toConsumableArray$9(j){return _arrayWithoutHoles$9(j)||_iterableToArray$a(j)||_unsupportedIterableToArray$e(j)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$e(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$e(j,_)}}function _iterableToArray$a(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$9(j){if(Array.isArray(j))return _arrayLikeToArray$e(j)}function _arrayLikeToArray$e(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function ownKeys$t(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$t(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$t(Object($),!0).forEach(function(_e){_defineProperty$w(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$t(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$w(j,_,$){return _=_toPropertyKey$w(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$w(j){var _=_toPrimitive$w(j,"string");return _typeof$x(_)=="symbol"?_:_+""}function _toPrimitive$w(j,_){if(_typeof$x(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$x(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function getValueByDataKey(j,_,$){return isNil$1(j)||isNil$1(_)?$:isNumOrStr(_)?get$2(j,_,$):isFunction$3(_)?_(j):$}function getDomainOfDataByKey(j,_,$,_e){var et=flatMap$1(j,function(nt){return getValueByDataKey(nt,_)});if($==="number"){var tt=et.filter(function(nt){return isNumber(nt)||parseFloat(nt)});return tt.length?[min$1(tt),max$1(tt)]:[1/0,-1/0]}var rt=_e?et.filter(function(nt){return!isNil$1(nt)}):et;return rt.map(function(nt){return isNumOrStr(nt)||nt instanceof Date?nt:""})}var calculateActiveTickIndex=function j(_){var $,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],et=arguments.length>2?arguments[2]:void 0,tt=arguments.length>3?arguments[3]:void 0,rt=-1,nt=($=_e==null?void 0:_e.length)!==null&&$!==void 0?$:0;if(nt<=1)return 0;if(tt&&tt.axisType==="angleAxis"&&Math.abs(Math.abs(tt.range[1]-tt.range[0])-360)<=1e-6)for(var st=tt.range,it=0;it<nt;it++){var at=it>0?et[it-1].coordinate:et[nt-1].coordinate,ot=et[it].coordinate,ct=it>=nt-1?et[0].coordinate:et[it+1].coordinate,dt=void 0;if(mathSign(ot-at)!==mathSign(ct-ot)){var pt=[];if(mathSign(ct-ot)===mathSign(st[1]-st[0])){dt=ct;var ut=ot+st[1]-st[0];pt[0]=Math.min(ut,(ut+at)/2),pt[1]=Math.max(ut,(ut+at)/2)}else{dt=at;var lt=ct+st[1]-st[0];pt[0]=Math.min(ot,(lt+ot)/2),pt[1]=Math.max(ot,(lt+ot)/2)}var ft=[Math.min(ot,(dt+ot)/2),Math.max(ot,(dt+ot)/2)];if(_>ft[0]&&_<=ft[1]||_>=pt[0]&&_<=pt[1]){rt=et[it].index;break}}else{var ht=Math.min(at,ct),yt=Math.max(at,ct);if(_>(ht+ot)/2&&_<=(yt+ot)/2){rt=et[it].index;break}}}else for(var vt=0;vt<nt;vt++)if(vt===0&&_<=(_e[vt].coordinate+_e[vt+1].coordinate)/2||vt>0&&vt<nt-1&&_>(_e[vt].coordinate+_e[vt-1].coordinate)/2&&_<=(_e[vt].coordinate+_e[vt+1].coordinate)/2||vt===nt-1&&_>(_e[vt].coordinate+_e[vt-1].coordinate)/2){rt=_e[vt].index;break}return rt},getMainColorOfGraphicItem=function j(_){var $,_e=_,et=_e.type.displayName,tt=($=_.type)!==null&&$!==void 0&&$.defaultProps?_objectSpread$t(_objectSpread$t({},_.type.defaultProps),_.props):_.props,rt=tt.stroke,nt=tt.fill,st;switch(et){case"Line":st=rt;break;case"Area":case"Radar":st=rt&&rt!=="none"?rt:nt;break;default:st=nt;break}return st},getBarSizeList=function j(_){var $=_.barSize,_e=_.totalSize,et=_.stackGroups,tt=et===void 0?{}:et;if(!tt)return{};for(var rt={},nt=Object.keys(tt),st=0,it=nt.length;st<it;st++)for(var at=tt[nt[st]].stackGroups,ot=Object.keys(at),ct=0,dt=ot.length;ct<dt;ct++){var pt=at[ot[ct]],ut=pt.items,lt=pt.cateAxisId,ft=ut.filter(function(mt){return getDisplayName(mt.type).indexOf("Bar")>=0});if(ft&&ft.length){var ht=ft[0].type.defaultProps,yt=ht!==void 0?_objectSpread$t(_objectSpread$t({},ht),ft[0].props):ft[0].props,vt=yt.barSize,gt=yt[lt];rt[gt]||(rt[gt]=[]);var bt=isNil$1(vt)?$:vt;rt[gt].push({item:ft[0],stackList:ft.slice(1),barSize:isNil$1(bt)?void 0:getPercentValue(bt,_e,0)})}}return rt},getBarPosition=function j(_){var $=_.barGap,_e=_.barCategoryGap,et=_.bandSize,tt=_.sizeList,rt=tt===void 0?[]:tt,nt=_.maxBarSize,st=rt.length;if(st<1)return null;var it=getPercentValue($,et,0,!0),at,ot=[];if(rt[0].barSize===+rt[0].barSize){var ct=!1,dt=et/st,pt=rt.reduce(function(vt,gt){return vt+gt.barSize||0},0);pt+=(st-1)*it,pt>=et&&(pt-=(st-1)*it,it=0),pt>=et&&dt>0&&(ct=!0,dt*=.9,pt=st*dt);var ut=(et-pt)/2>>0,lt={offset:ut-it,size:0};at=rt.reduce(function(vt,gt){var bt={item:gt.item,position:{offset:lt.offset+lt.size+it,size:ct?dt:gt.barSize}},mt=[].concat(_toConsumableArray$9(vt),[bt]);return lt=mt[mt.length-1].position,gt.stackList&&gt.stackList.length&&gt.stackList.forEach(function(Et){mt.push({item:Et,position:lt})}),mt},ot)}else{var ft=getPercentValue(_e,et,0,!0);et-2*ft-(st-1)*it<=0&&(it=0);var ht=(et-2*ft-(st-1)*it)/st;ht>1&&(ht>>=0);var yt=nt===+nt?Math.min(ht,nt):ht;at=rt.reduce(function(vt,gt,bt){var mt=[].concat(_toConsumableArray$9(vt),[{item:gt.item,position:{offset:ft+(ht+it)*bt+(ht-yt)/2,size:yt}}]);return gt.stackList&&gt.stackList.length&&gt.stackList.forEach(function(Et){mt.push({item:Et,position:mt[mt.length-1].position})}),mt},ot)}return at},appendOffsetOfLegend=function j(_,$,_e,et){var tt=_e.children,rt=_e.width,nt=_e.margin,st=rt-(nt.left||0)-(nt.right||0),it=getLegendProps({children:tt,legendWidth:st});if(it){var at=et||{},ot=at.width,ct=at.height,dt=it.align,pt=it.verticalAlign,ut=it.layout;if((ut==="vertical"||ut==="horizontal"&&pt==="middle")&&dt!=="center"&&isNumber(_[dt]))return _objectSpread$t(_objectSpread$t({},_),{},_defineProperty$w({},dt,_[dt]+(ot||0)));if((ut==="horizontal"||ut==="vertical"&&dt==="center")&&pt!=="middle"&&isNumber(_[pt]))return _objectSpread$t(_objectSpread$t({},_),{},_defineProperty$w({},pt,_[pt]+(ct||0)))}return _},isErrorBarRelevantForAxis=function j(_,$,_e){return isNil$1($)?!0:_==="horizontal"?$==="yAxis":_==="vertical"||_e==="x"?$==="xAxis":_e==="y"?$==="yAxis":!0},getDomainOfErrorBars=function j(_,$,_e,et,tt){var rt=$.props.children,nt=findAllByType(rt,ErrorBar).filter(function(it){return isErrorBarRelevantForAxis(et,tt,it.props.direction)});if(nt&&nt.length){var st=nt.map(function(it){return it.props.dataKey});return _.reduce(function(it,at){var ot=getValueByDataKey(at,_e);if(isNil$1(ot))return it;var ct=Array.isArray(ot)?[min$1(ot),max$1(ot)]:[ot,ot],dt=st.reduce(function(pt,ut){var lt=getValueByDataKey(at,ut,0),ft=ct[0]-Math.abs(Array.isArray(lt)?lt[0]:lt),ht=ct[1]+Math.abs(Array.isArray(lt)?lt[1]:lt);return[Math.min(ft,pt[0]),Math.max(ht,pt[1])]},[1/0,-1/0]);return[Math.min(dt[0],it[0]),Math.max(dt[1],it[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function j(_,$,_e,et,tt){var rt=$.map(function(nt){return getDomainOfErrorBars(_,nt,_e,tt,et)}).filter(function(nt){return!isNil$1(nt)});return rt&&rt.length?rt.reduce(function(nt,st){return[Math.min(nt[0],st[0]),Math.max(nt[1],st[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function j(_,$,_e,et,tt){var rt=$.map(function(st){var it=st.props.dataKey;return _e==="number"&&it&&getDomainOfErrorBars(_,st,it,et)||getDomainOfDataByKey(_,it,_e,tt)});if(_e==="number")return rt.reduce(function(st,it){return[Math.min(st[0],it[0]),Math.max(st[1],it[1])]},[1/0,-1/0]);var nt={};return rt.reduce(function(st,it){for(var at=0,ot=it.length;at<ot;at++)nt[it[at]]||(nt[it[at]]=!0,st.push(it[at]));return st},[])},isCategoricalAxis=function j(_,$){return _==="horizontal"&&$==="xAxis"||_==="vertical"&&$==="yAxis"||_==="centric"&&$==="angleAxis"||_==="radial"&&$==="radiusAxis"},getCoordinatesOfGrid=function j(_,$,_e,et){if(et)return _.map(function(st){return st.coordinate});var tt,rt,nt=_.map(function(st){return st.coordinate===$&&(tt=!0),st.coordinate===_e&&(rt=!0),st.coordinate});return tt||nt.push($),rt||nt.push(_e),nt},getTicksOfAxis=function j(_,$,_e){if(!_)return null;var et=_.scale,tt=_.duplicateDomain,rt=_.type,nt=_.range,st=_.realScaleType==="scaleBand"?et.bandwidth()/2:2,it=($||_e)&&rt==="category"&&et.bandwidth?et.bandwidth()/st:0;if(it=_.axisType==="angleAxis"&&(nt==null?void 0:nt.length)>=2?mathSign(nt[0]-nt[1])*2*it:it,$&&(_.ticks||_.niceTicks)){var at=(_.ticks||_.niceTicks).map(function(ot){var ct=tt?tt.indexOf(ot):ot;return{coordinate:et(ct)+it,value:ot,offset:it}});return at.filter(function(ot){return!isNan(ot.coordinate)})}return _.isCategorical&&_.categoricalDomain?_.categoricalDomain.map(function(ot,ct){return{coordinate:et(ot)+it,value:ot,index:ct,offset:it}}):et.ticks&&!_e?et.ticks(_.tickCount).map(function(ot){return{coordinate:et(ot)+it,value:ot,offset:it}}):et.domain().map(function(ot,ct){return{coordinate:et(ot)+it,value:tt?tt[ot]:ot,index:ct,offset:it}})},handlerWeakMap=new WeakMap,combineEventHandlers=function j(_,$){if(typeof $!="function")return _;handlerWeakMap.has(_)||handlerWeakMap.set(_,new WeakMap);var _e=handlerWeakMap.get(_);if(_e.has($))return _e.get($);var et=function(){_.apply(void 0,arguments),$.apply(void 0,arguments)};return _e.set($,et),et},parseScale=function j(_,$,_e){var et=_.scale,tt=_.type,rt=_.layout,nt=_.axisType;if(et==="auto")return rt==="radial"&&nt==="radiusAxis"?{scale:band(),realScaleType:"band"}:rt==="radial"&&nt==="angleAxis"?{scale:linear(),realScaleType:"linear"}:tt==="category"&&$&&($.indexOf("LineChart")>=0||$.indexOf("AreaChart")>=0||$.indexOf("ComposedChart")>=0&&!_e)?{scale:point(),realScaleType:"point"}:tt==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(et)){var st="scale".concat(upperFirst$1(et));return{scale:(d3Scales[st]||point)(),realScaleType:d3Scales[st]?st:"point"}}return isFunction$3(et)?{scale:et}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function j(_){var $=_.domain();if(!(!$||$.length<=2)){var _e=$.length,et=_.range(),tt=Math.min(et[0],et[1])-EPS,rt=Math.max(et[0],et[1])+EPS,nt=_($[0]),st=_($[_e-1]);(nt<tt||nt>rt||st<tt||st>rt)&&_.domain([$[0],$[_e-1]])}},findPositionOfBar=function j(_,$){if(!_)return null;for(var _e=0,et=_.length;_e<et;_e++)if(_[_e].item===$)return _[_e].position;return null},truncateByDomain=function j(_,$){if(!$||$.length!==2||!isNumber($[0])||!isNumber($[1]))return _;var _e=Math.min($[0],$[1]),et=Math.max($[0],$[1]),tt=[_[0],_[1]];return(!isNumber(_[0])||_[0]<_e)&&(tt[0]=_e),(!isNumber(_[1])||_[1]>et)&&(tt[1]=et),tt[0]>et&&(tt[0]=et),tt[1]<_e&&(tt[1]=_e),tt},offsetSign=function j(_){var $=_.length;if(!($<=0))for(var _e=0,et=_[0].length;_e<et;++_e)for(var tt=0,rt=0,nt=0;nt<$;++nt){var st=isNan(_[nt][_e][1])?_[nt][_e][0]:_[nt][_e][1];st>=0?(_[nt][_e][0]=tt,_[nt][_e][1]=tt+st,tt=_[nt][_e][1]):(_[nt][_e][0]=rt,_[nt][_e][1]=rt+st,rt=_[nt][_e][1])}},offsetPositive=function j(_){var $=_.length;if(!($<=0))for(var _e=0,et=_[0].length;_e<et;++_e)for(var tt=0,rt=0;rt<$;++rt){var nt=isNan(_[rt][_e][1])?_[rt][_e][0]:_[rt][_e][1];nt>=0?(_[rt][_e][0]=tt,_[rt][_e][1]=tt+nt,tt=_[rt][_e][1]):(_[rt][_e][0]=0,_[rt][_e][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function j(_,$,_e){var et=$.map(function(nt){return nt.props.dataKey}),tt=STACK_OFFSET_MAP[_e],rt=shapeStack().keys(et).value(function(nt,st){return+getValueByDataKey(nt,st,0)}).order(stackOrderNone).offset(tt);return rt(_)},getStackGroupsByAxisId=function j(_,$,_e,et,tt,rt){if(!_)return null;var nt=rt?$.reverse():$,st={},it=nt.reduce(function(ot,ct){var dt,pt=(dt=ct.type)!==null&&dt!==void 0&&dt.defaultProps?_objectSpread$t(_objectSpread$t({},ct.type.defaultProps),ct.props):ct.props,ut=pt.stackId,lt=pt.hide;if(lt)return ot;var ft=pt[_e],ht=ot[ft]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(ut)){var yt=ht.stackGroups[ut]||{numericAxisId:_e,cateAxisId:et,items:[]};yt.items.push(ct),ht.hasStack=!0,ht.stackGroups[ut]=yt}else ht.stackGroups[uniqueId("_stackId_")]={numericAxisId:_e,cateAxisId:et,items:[ct]};return _objectSpread$t(_objectSpread$t({},ot),{},_defineProperty$w({},ft,ht))},st),at={};return Object.keys(it).reduce(function(ot,ct){var dt=it[ct];if(dt.hasStack){var pt={};dt.stackGroups=Object.keys(dt.stackGroups).reduce(function(ut,lt){var ft=dt.stackGroups[lt];return _objectSpread$t(_objectSpread$t({},ut),{},_defineProperty$w({},lt,{numericAxisId:_e,cateAxisId:et,items:ft.items,stackedData:getStackedData(_,ft.items,tt)}))},pt)}return _objectSpread$t(_objectSpread$t({},ot),{},_defineProperty$w({},ct,dt))},at)},getTicksOfScale=function j(_,$){var _e=$.realScaleType,et=$.type,tt=$.tickCount,rt=$.originalDomain,nt=$.allowDecimals,st=_e||$.scale;if(st!=="auto"&&st!=="linear")return null;if(tt&&et==="number"&&rt&&(rt[0]==="auto"||rt[1]==="auto")){var it=_.domain();if(!it.length)return null;var at=getNiceTickValues(it,tt,nt);return _.domain([min$1(at),max$1(at)]),{niceTicks:at}}if(tt&&et==="number"){var ot=_.domain(),ct=getTickValuesFixedDomain(ot,tt,nt);return{niceTicks:ct}}return null};function getCateCoordinateOfLine(j){var _=j.axis,$=j.ticks,_e=j.bandSize,et=j.entry,tt=j.index,rt=j.dataKey;if(_.type==="category"){if(!_.allowDuplicatedCategory&&_.dataKey&&!isNil$1(et[_.dataKey])){var nt=findEntryInArray($,"value",et[_.dataKey]);if(nt)return nt.coordinate+_e/2}return $[tt]?$[tt].coordinate+_e/2:null}var st=getValueByDataKey(et,isNil$1(rt)?_.dataKey:rt);return isNil$1(st)?null:_.scale(st)}var getCateCoordinateOfBar=function j(_){var $=_.axis,_e=_.ticks,et=_.offset,tt=_.bandSize,rt=_.entry,nt=_.index;if($.type==="category")return _e[nt]?_e[nt].coordinate+et:null;var st=getValueByDataKey(rt,$.dataKey,$.domain[nt]);return isNil$1(st)?null:$.scale(st)-tt/2+et},getBaseValueOfBar=function j(_){var $=_.numericAxis,_e=$.scale.domain();if($.type==="number"){var et=Math.min(_e[0],_e[1]),tt=Math.max(_e[0],_e[1]);return et<=0&&tt>=0?0:tt<0?tt:et}return _e[0]},getStackedDataOfItem=function j(_,$){var _e,et=(_e=_.type)!==null&&_e!==void 0&&_e.defaultProps?_objectSpread$t(_objectSpread$t({},_.type.defaultProps),_.props):_.props,tt=et.stackId;if(isNumOrStr(tt)){var rt=$[tt];if(rt){var nt=rt.items.indexOf(_);return nt>=0?rt.stackedData[nt]:null}}return null},getDomainOfSingle=function j(_){return _.reduce(function($,_e){return[min$1(_e.concat([$[0]]).filter(isNumber)),max$1(_e.concat([$[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function j(_,$,_e){return Object.keys(_).reduce(function(et,tt){var rt=_[tt],nt=rt.stackedData,st=nt.reduce(function(it,at){var ot=getDomainOfSingle(at.slice($,_e+1));return[Math.min(it[0],ot[0]),Math.max(it[1],ot[1])]},[1/0,-1/0]);return[Math.min(st[0],et[0]),Math.max(st[1],et[1])]},[1/0,-1/0]).map(function(et){return et===1/0||et===-1/0?0:et})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function j(_,$,_e){if(isFunction$3(_))return _($,_e);if(!Array.isArray(_))return $;var et=[];if(isNumber(_[0]))et[0]=_e?_[0]:Math.min(_[0],$[0]);else if(MIN_VALUE_REG.test(_[0])){var tt=+MIN_VALUE_REG.exec(_[0])[1];et[0]=$[0]-tt}else isFunction$3(_[0])?et[0]=_[0]($[0]):et[0]=$[0];if(isNumber(_[1]))et[1]=_e?_[1]:Math.max(_[1],$[1]);else if(MAX_VALUE_REG.test(_[1])){var rt=+MAX_VALUE_REG.exec(_[1])[1];et[1]=$[1]+rt}else isFunction$3(_[1])?et[1]=_[1]($[1]):et[1]=$[1];return et},getBandSizeOfAxis=function j(_,$,_e){if(_&&_.scale&&_.scale.bandwidth){var et=_.scale.bandwidth();if(!_e||et>0)return et}if(_&&$&&$.length>=2){for(var tt=sortBy$1($,function(ot){return ot.coordinate}),rt=1/0,nt=1,st=tt.length;nt<st;nt++){var it=tt[nt],at=tt[nt-1];rt=Math.min((it.coordinate||0)-(at.coordinate||0),rt)}return rt===1/0?0:rt}return _e?void 0:0},parseDomainOfCategoryAxis=function j(_,$,_e){return!_||!_.length||isEqual$1(_,get$2(_e,"type.defaultProps.domain"))?$:_},getTooltipItem=function j(_,$){var _e=_.type.defaultProps?_objectSpread$t(_objectSpread$t({},_.type.defaultProps),_.props):_.props,et=_e.dataKey,tt=_e.name,rt=_e.unit,nt=_e.formatter,st=_e.tooltipType,it=_e.chartType,at=_e.hide;return _objectSpread$t(_objectSpread$t({},filterProps(_,!1)),{},{dataKey:et,unit:rt,formatter:nt,name:tt||et,color:getMainColorOfGraphicItem(_),value:getValueByDataKey($,et),type:st,payload:$,chartType:it,hide:at})};function _typeof$w(j){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$w(j)}function ownKeys$s(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$s(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$s(Object($),!0).forEach(function(_e){_defineProperty$v(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$s(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$v(j,_,$){return _=_toPropertyKey$v(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$v(j){var _=_toPrimitive$v(j,"string");return _typeof$w(_)=="symbol"?_:_+""}function _toPrimitive$v(j,_){if(_typeof$w(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$w(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _slicedToArray$6(j,_){return _arrayWithHoles$7(j)||_iterableToArrayLimit$6(j,_)||_unsupportedIterableToArray$d(j,_)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$d(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$d(j,_)}}function _arrayLikeToArray$d(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$6(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$7(j){if(Array.isArray(j))return j}var RADIAN$1=Math.PI/180,radianToDegree=function j(_){return _*180/Math.PI},polarToCartesian=function j(_,$,_e,et){return{x:_+Math.cos(-RADIAN$1*et)*_e,y:$+Math.sin(-RADIAN$1*et)*_e}},getMaxRadius=function j(_,$){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(_-(_e.left||0)-(_e.right||0)),Math.abs($-(_e.top||0)-(_e.bottom||0)))/2},formatAxisMap$1=function j(_,$,_e,et,tt){var rt=_.width,nt=_.height,st=_.startAngle,it=_.endAngle,at=getPercentValue(_.cx,rt,rt/2),ot=getPercentValue(_.cy,nt,nt/2),ct=getMaxRadius(rt,nt,_e),dt=getPercentValue(_.innerRadius,ct,0),pt=getPercentValue(_.outerRadius,ct,ct*.8),ut=Object.keys($);return ut.reduce(function(lt,ft){var ht=$[ft],yt=ht.domain,vt=ht.reversed,gt;if(isNil$1(ht.range))et==="angleAxis"?gt=[st,it]:et==="radiusAxis"&&(gt=[dt,pt]),vt&&(gt=[gt[1],gt[0]]);else{gt=ht.range;var bt=gt,mt=_slicedToArray$6(bt,2);st=mt[0],it=mt[1]}var Et=parseScale(ht,tt),Rt=Et.realScaleType,Tt=Et.scale;Tt.domain(yt).range(gt),checkDomainOfScale(Tt);var jt=getTicksOfScale(Tt,_objectSpread$s(_objectSpread$s({},ht),{},{realScaleType:Rt})),xt=_objectSpread$s(_objectSpread$s(_objectSpread$s({},ht),jt),{},{range:gt,radius:pt,realScaleType:Rt,scale:Tt,cx:at,cy:ot,innerRadius:dt,outerRadius:pt,startAngle:st,endAngle:it});return _objectSpread$s(_objectSpread$s({},lt),{},_defineProperty$v({},ft,xt))},{})},distanceBetweenPoints=function j(_,$){var _e=_.x,et=_.y,tt=$.x,rt=$.y;return Math.sqrt(Math.pow(_e-tt,2)+Math.pow(et-rt,2))},getAngleOfPoint=function j(_,$){var _e=_.x,et=_.y,tt=$.cx,rt=$.cy,nt=distanceBetweenPoints({x:_e,y:et},{x:tt,y:rt});if(nt<=0)return{radius:nt};var st=(_e-tt)/nt,it=Math.acos(st);return et>rt&&(it=2*Math.PI-it),{radius:nt,angle:radianToDegree(it),angleInRadian:it}},formatAngleOfSector=function j(_){var $=_.startAngle,_e=_.endAngle,et=Math.floor($/360),tt=Math.floor(_e/360),rt=Math.min(et,tt);return{startAngle:$-rt*360,endAngle:_e-rt*360}},reverseFormatAngleOfSetor=function j(_,$){var _e=$.startAngle,et=$.endAngle,tt=Math.floor(_e/360),rt=Math.floor(et/360),nt=Math.min(tt,rt);return _+nt*360},inRangeOfSector=function j(_,$){var _e=_.x,et=_.y,tt=getAngleOfPoint({x:_e,y:et},$),rt=tt.radius,nt=tt.angle,st=$.innerRadius,it=$.outerRadius;if(rt<st||rt>it)return!1;if(rt===0)return!0;var at=formatAngleOfSector($),ot=at.startAngle,ct=at.endAngle,dt=nt,pt;if(ot<=ct){for(;dt>ct;)dt-=360;for(;dt<ot;)dt+=360;pt=dt>=ot&&dt<=ct}else{for(;dt>ot;)dt-=360;for(;dt<ct;)dt+=360;pt=dt>=ct&&dt<=ot}return pt?_objectSpread$s(_objectSpread$s({},$),{},{radius:rt,angle:reverseFormatAngleOfSetor(dt,$)}):null},getTickClassName=function j(_){return!reactExports.isValidElement(_)&&!isFunction$3(_)&&typeof _!="boolean"?_.className:""};function _typeof$v(j){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$v(j)}var _excluded$c=["offset"];function _toConsumableArray$8(j){return _arrayWithoutHoles$8(j)||_iterableToArray$9(j)||_unsupportedIterableToArray$c(j)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$c(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$c(j,_)}}function _iterableToArray$9(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$8(j){if(Array.isArray(j))return _arrayLikeToArray$c(j)}function _arrayLikeToArray$c(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _objectWithoutProperties$c(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$c(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$c(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function ownKeys$r(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$r(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$r(Object($),!0).forEach(function(_e){_defineProperty$u(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$r(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$u(j,_,$){return _=_toPropertyKey$u(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$u(j){var _=_toPrimitive$u(j,"string");return _typeof$v(_)=="symbol"?_:_+""}function _toPrimitive$u(j,_){if(_typeof$v(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$v(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$n.apply(this,arguments)}var getLabel=function j(_){var $=_.value,_e=_.formatter,et=isNil$1(_.children)?$:_.children;return isFunction$3(_e)?_e(et):et},getDeltaAngle$1=function j(_,$){var _e=mathSign($-_),et=Math.min(Math.abs($-_),360);return _e*et},renderRadialLabel=function j(_,$,_e){var et=_.position,tt=_.viewBox,rt=_.offset,nt=_.className,st=tt,it=st.cx,at=st.cy,ot=st.innerRadius,ct=st.outerRadius,dt=st.startAngle,pt=st.endAngle,ut=st.clockWise,lt=(ot+ct)/2,ft=getDeltaAngle$1(dt,pt),ht=ft>=0?1:-1,yt,vt;et==="insideStart"?(yt=dt+ht*rt,vt=ut):et==="insideEnd"?(yt=pt-ht*rt,vt=!ut):et==="end"&&(yt=pt+ht*rt,vt=ut),vt=ft<=0?vt:!vt;var gt=polarToCartesian(it,at,lt,yt),bt=polarToCartesian(it,at,lt,yt+(vt?1:-1)*359),mt="M".concat(gt.x,",").concat(gt.y,`
    A`).concat(lt,",").concat(lt,",0,1,").concat(vt?0:1,`,
    `).concat(bt.x,",").concat(bt.y),Et=isNil$1(_.id)?uniqueId("recharts-radial-line-"):_.id;return React.createElement("text",_extends$n({},_e,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",nt)}),React.createElement("defs",null,React.createElement("path",{id:Et,d:mt})),React.createElement("textPath",{xlinkHref:"#".concat(Et)},$))},getAttrsOfPolarLabel=function j(_){var $=_.viewBox,_e=_.offset,et=_.position,tt=$,rt=tt.cx,nt=tt.cy,st=tt.innerRadius,it=tt.outerRadius,at=tt.startAngle,ot=tt.endAngle,ct=(at+ot)/2;if(et==="outside"){var dt=polarToCartesian(rt,nt,it+_e,ct),pt=dt.x,ut=dt.y;return{x:pt,y:ut,textAnchor:pt>=rt?"start":"end",verticalAnchor:"middle"}}if(et==="center")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"middle"};if(et==="centerTop")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"start"};if(et==="centerBottom")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"end"};var lt=(st+it)/2,ft=polarToCartesian(rt,nt,lt,ct),ht=ft.x,yt=ft.y;return{x:ht,y:yt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function j(_){var $=_.viewBox,_e=_.parentViewBox,et=_.offset,tt=_.position,rt=$,nt=rt.x,st=rt.y,it=rt.width,at=rt.height,ot=at>=0?1:-1,ct=ot*et,dt=ot>0?"end":"start",pt=ot>0?"start":"end",ut=it>=0?1:-1,lt=ut*et,ft=ut>0?"end":"start",ht=ut>0?"start":"end";if(tt==="top"){var yt={x:nt+it/2,y:st-ot*et,textAnchor:"middle",verticalAnchor:dt};return _objectSpread$r(_objectSpread$r({},yt),_e?{height:Math.max(st-_e.y,0),width:it}:{})}if(tt==="bottom"){var vt={x:nt+it/2,y:st+at+ct,textAnchor:"middle",verticalAnchor:pt};return _objectSpread$r(_objectSpread$r({},vt),_e?{height:Math.max(_e.y+_e.height-(st+at),0),width:it}:{})}if(tt==="left"){var gt={x:nt-lt,y:st+at/2,textAnchor:ft,verticalAnchor:"middle"};return _objectSpread$r(_objectSpread$r({},gt),_e?{width:Math.max(gt.x-_e.x,0),height:at}:{})}if(tt==="right"){var bt={x:nt+it+lt,y:st+at/2,textAnchor:ht,verticalAnchor:"middle"};return _objectSpread$r(_objectSpread$r({},bt),_e?{width:Math.max(_e.x+_e.width-bt.x,0),height:at}:{})}var mt=_e?{width:it,height:at}:{};return tt==="insideLeft"?_objectSpread$r({x:nt+lt,y:st+at/2,textAnchor:ht,verticalAnchor:"middle"},mt):tt==="insideRight"?_objectSpread$r({x:nt+it-lt,y:st+at/2,textAnchor:ft,verticalAnchor:"middle"},mt):tt==="insideTop"?_objectSpread$r({x:nt+it/2,y:st+ct,textAnchor:"middle",verticalAnchor:pt},mt):tt==="insideBottom"?_objectSpread$r({x:nt+it/2,y:st+at-ct,textAnchor:"middle",verticalAnchor:dt},mt):tt==="insideTopLeft"?_objectSpread$r({x:nt+lt,y:st+ct,textAnchor:ht,verticalAnchor:pt},mt):tt==="insideTopRight"?_objectSpread$r({x:nt+it-lt,y:st+ct,textAnchor:ft,verticalAnchor:pt},mt):tt==="insideBottomLeft"?_objectSpread$r({x:nt+lt,y:st+at-ct,textAnchor:ht,verticalAnchor:dt},mt):tt==="insideBottomRight"?_objectSpread$r({x:nt+it-lt,y:st+at-ct,textAnchor:ft,verticalAnchor:dt},mt):isObject$8(tt)&&(isNumber(tt.x)||isPercent(tt.x))&&(isNumber(tt.y)||isPercent(tt.y))?_objectSpread$r({x:nt+getPercentValue(tt.x,it),y:st+getPercentValue(tt.y,at),textAnchor:"end",verticalAnchor:"end"},mt):_objectSpread$r({x:nt+it/2,y:st+at/2,textAnchor:"middle",verticalAnchor:"middle"},mt)},isPolar=function j(_){return"cx"in _&&isNumber(_.cx)};function Label(j){var _=j.offset,$=_===void 0?5:_,_e=_objectWithoutProperties$c(j,_excluded$c),et=_objectSpread$r({offset:$},_e),tt=et.viewBox,rt=et.position,nt=et.value,st=et.children,it=et.content,at=et.className,ot=at===void 0?"":at,ct=et.textBreakAll;if(!tt||isNil$1(nt)&&isNil$1(st)&&!reactExports.isValidElement(it)&&!isFunction$3(it))return null;if(reactExports.isValidElement(it))return reactExports.cloneElement(it,et);var dt;if(isFunction$3(it)){if(dt=reactExports.createElement(it,et),reactExports.isValidElement(dt))return dt}else dt=getLabel(et);var pt=isPolar(tt),ut=filterProps(et,!0);if(pt&&(rt==="insideStart"||rt==="insideEnd"||rt==="end"))return renderRadialLabel(et,dt,ut);var lt=pt?getAttrsOfPolarLabel(et):getAttrsOfCartesianLabel(et);return React.createElement(Text,_extends$n({className:clsx("recharts-label",ot)},ut,lt,{breakAll:ct}),dt)}Label.displayName="Label";var parseViewBox=function j(_){var $=_.cx,_e=_.cy,et=_.angle,tt=_.startAngle,rt=_.endAngle,nt=_.r,st=_.radius,it=_.innerRadius,at=_.outerRadius,ot=_.x,ct=_.y,dt=_.top,pt=_.left,ut=_.width,lt=_.height,ft=_.clockWise,ht=_.labelViewBox;if(ht)return ht;if(isNumber(ut)&&isNumber(lt)){if(isNumber(ot)&&isNumber(ct))return{x:ot,y:ct,width:ut,height:lt};if(isNumber(dt)&&isNumber(pt))return{x:dt,y:pt,width:ut,height:lt}}return isNumber(ot)&&isNumber(ct)?{x:ot,y:ct,width:0,height:0}:isNumber($)&&isNumber(_e)?{cx:$,cy:_e,startAngle:tt||et||0,endAngle:rt||et||0,innerRadius:it||0,outerRadius:at||st||nt||0,clockWise:ft}:_.viewBox?_.viewBox:{}},parseLabel=function j(_,$){return _?_===!0?React.createElement(Label,{key:"label-implicit",viewBox:$}):isNumOrStr(_)?React.createElement(Label,{key:"label-implicit",viewBox:$,value:_}):reactExports.isValidElement(_)?_.type===Label?reactExports.cloneElement(_,{key:"label-implicit",viewBox:$}):React.createElement(Label,{key:"label-implicit",content:_,viewBox:$}):isFunction$3(_)?React.createElement(Label,{key:"label-implicit",content:_,viewBox:$}):isObject$8(_)?React.createElement(Label,_extends$n({viewBox:$},_,{key:"label-implicit"})):null:null},renderCallByParent$1=function j(_,$){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_||!_.children&&_e&&!_.label)return null;var et=_.children,tt=parseViewBox(_),rt=findAllByType(et,Label).map(function(st,it){return reactExports.cloneElement(st,{viewBox:$||tt,key:"label-".concat(it)})});if(!_e)return rt;var nt=parseLabel(_.label,$||tt);return[nt].concat(_toConsumableArray$8(rt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(j){var _=j==null?0:j.length;return _?j[_-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$u(j){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$u(j)}var _excluded$b=["valueAccessor"],_excluded2$5=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(j){return _arrayWithoutHoles$7(j)||_iterableToArray$8(j)||_unsupportedIterableToArray$b(j)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$b(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$b(j,_)}}function _iterableToArray$8(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$7(j){if(Array.isArray(j))return _arrayLikeToArray$b(j)}function _arrayLikeToArray$b(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$m.apply(this,arguments)}function ownKeys$q(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$q(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$q(Object($),!0).forEach(function(_e){_defineProperty$t(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$q(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$t(j,_,$){return _=_toPropertyKey$t(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$t(j){var _=_toPrimitive$t(j,"string");return _typeof$u(_)=="symbol"?_:_+""}function _toPrimitive$t(j,_){if(_typeof$u(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$u(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _objectWithoutProperties$b(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$b(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$b(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}var defaultAccessor=function j(_){return Array.isArray(_.value)?last$1(_.value):_.value};function LabelList(j){var _=j.valueAccessor,$=_===void 0?defaultAccessor:_,_e=_objectWithoutProperties$b(j,_excluded$b),et=_e.data,tt=_e.dataKey,rt=_e.clockWise,nt=_e.id,st=_e.textBreakAll,it=_objectWithoutProperties$b(_e,_excluded2$5);return!et||!et.length?null:React.createElement(Layer,{className:"recharts-label-list"},et.map(function(at,ot){var ct=isNil$1(tt)?$(at,ot):getValueByDataKey(at&&at.payload,tt),dt=isNil$1(nt)?{}:{id:"".concat(nt,"-").concat(ot)};return React.createElement(Label,_extends$m({},filterProps(at,!0),it,dt,{parentViewBox:at.parentViewBox,value:ct,textBreakAll:st,viewBox:Label.parseViewBox(isNil$1(rt)?at:_objectSpread$q(_objectSpread$q({},at),{},{clockWise:rt})),key:"label-".concat(ot),index:ot}))}))}LabelList.displayName="LabelList";function parseLabelList(j,_){return j?j===!0?React.createElement(LabelList,{key:"labelList-implicit",data:_}):React.isValidElement(j)||isFunction$3(j)?React.createElement(LabelList,{key:"labelList-implicit",data:_,content:j}):isObject$8(j)?React.createElement(LabelList,_extends$m({data:_},j,{key:"labelList-implicit"})):null:null}function renderCallByParent(j,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!j||!j.children&&$&&!j.label)return null;var _e=j.children,et=findAllByType(_e,LabelList).map(function(rt,nt){return reactExports.cloneElement(rt,{data:_,key:"labelList-".concat(nt)})});if(!$)return et;var tt=parseLabelList(j.label,_);return[tt].concat(_toConsumableArray$7(et))}LabelList.renderCallByParent=renderCallByParent;function _typeof$t(j){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$t(j)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$l.apply(this,arguments)}function ownKeys$p(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$p(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$p(Object($),!0).forEach(function(_e){_defineProperty$s(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$p(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$s(j,_,$){return _=_toPropertyKey$s(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$s(j){var _=_toPrimitive$s(j,"string");return _typeof$t(_)=="symbol"?_:_+""}function _toPrimitive$s(j,_){if(_typeof$t(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$t(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getDeltaAngle=function j(_,$){var _e=mathSign($-_),et=Math.min(Math.abs($-_),359.999);return _e*et},getTangentCircle=function j(_){var $=_.cx,_e=_.cy,et=_.radius,tt=_.angle,rt=_.sign,nt=_.isExternal,st=_.cornerRadius,it=_.cornerIsExternal,at=st*(nt?1:-1)+et,ot=Math.asin(st/at)/RADIAN$1,ct=it?tt:tt+rt*ot,dt=polarToCartesian($,_e,at,ct),pt=polarToCartesian($,_e,et,ct),ut=it?tt-rt*ot:tt,lt=polarToCartesian($,_e,at*Math.cos(ot*RADIAN$1),ut);return{center:dt,circleTangency:pt,lineTangency:lt,theta:ot}},getSectorPath=function j(_){var $=_.cx,_e=_.cy,et=_.innerRadius,tt=_.outerRadius,rt=_.startAngle,nt=_.endAngle,st=getDeltaAngle(rt,nt),it=rt+st,at=polarToCartesian($,_e,tt,rt),ot=polarToCartesian($,_e,tt,it),ct="M ".concat(at.x,",").concat(at.y,`
    A `).concat(tt,",").concat(tt,`,0,
    `).concat(+(Math.abs(st)>180),",").concat(+(rt>it),`,
    `).concat(ot.x,",").concat(ot.y,`
  `);if(et>0){var dt=polarToCartesian($,_e,et,rt),pt=polarToCartesian($,_e,et,it);ct+="L ".concat(pt.x,",").concat(pt.y,`
            A `).concat(et,",").concat(et,`,0,
            `).concat(+(Math.abs(st)>180),",").concat(+(rt<=it),`,
            `).concat(dt.x,",").concat(dt.y," Z")}else ct+="L ".concat($,",").concat(_e," Z");return ct},getSectorWithCorner=function j(_){var $=_.cx,_e=_.cy,et=_.innerRadius,tt=_.outerRadius,rt=_.cornerRadius,nt=_.forceCornerRadius,st=_.cornerIsExternal,it=_.startAngle,at=_.endAngle,ot=mathSign(at-it),ct=getTangentCircle({cx:$,cy:_e,radius:tt,angle:it,sign:ot,cornerRadius:rt,cornerIsExternal:st}),dt=ct.circleTangency,pt=ct.lineTangency,ut=ct.theta,lt=getTangentCircle({cx:$,cy:_e,radius:tt,angle:at,sign:-ot,cornerRadius:rt,cornerIsExternal:st}),ft=lt.circleTangency,ht=lt.lineTangency,yt=lt.theta,vt=st?Math.abs(it-at):Math.abs(it-at)-ut-yt;if(vt<0)return nt?"M ".concat(pt.x,",").concat(pt.y,`
        a`).concat(rt,",").concat(rt,",0,0,1,").concat(rt*2,`,0
        a`).concat(rt,",").concat(rt,",0,0,1,").concat(-rt*2,`,0
      `):getSectorPath({cx:$,cy:_e,innerRadius:et,outerRadius:tt,startAngle:it,endAngle:at});var gt="M ".concat(pt.x,",").concat(pt.y,`
    A`).concat(rt,",").concat(rt,",0,0,").concat(+(ot<0),",").concat(dt.x,",").concat(dt.y,`
    A`).concat(tt,",").concat(tt,",0,").concat(+(vt>180),",").concat(+(ot<0),",").concat(ft.x,",").concat(ft.y,`
    A`).concat(rt,",").concat(rt,",0,0,").concat(+(ot<0),",").concat(ht.x,",").concat(ht.y,`
  `);if(et>0){var bt=getTangentCircle({cx:$,cy:_e,radius:et,angle:it,sign:ot,isExternal:!0,cornerRadius:rt,cornerIsExternal:st}),mt=bt.circleTangency,Et=bt.lineTangency,Rt=bt.theta,Tt=getTangentCircle({cx:$,cy:_e,radius:et,angle:at,sign:-ot,isExternal:!0,cornerRadius:rt,cornerIsExternal:st}),jt=Tt.circleTangency,xt=Tt.lineTangency,Ct=Tt.theta,kt=st?Math.abs(it-at):Math.abs(it-at)-Rt-Ct;if(kt<0&&rt===0)return"".concat(gt,"L").concat($,",").concat(_e,"Z");gt+="L".concat(xt.x,",").concat(xt.y,`
      A`).concat(rt,",").concat(rt,",0,0,").concat(+(ot<0),",").concat(jt.x,",").concat(jt.y,`
      A`).concat(et,",").concat(et,",0,").concat(+(kt>180),",").concat(+(ot>0),",").concat(mt.x,",").concat(mt.y,`
      A`).concat(rt,",").concat(rt,",0,0,").concat(+(ot<0),",").concat(Et.x,",").concat(Et.y,"Z")}else gt+="L".concat($,",").concat(_e,"Z");return gt},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function j(_){var $=_objectSpread$p(_objectSpread$p({},defaultProps$3),_),_e=$.cx,et=$.cy,tt=$.innerRadius,rt=$.outerRadius,nt=$.cornerRadius,st=$.forceCornerRadius,it=$.cornerIsExternal,at=$.startAngle,ot=$.endAngle,ct=$.className;if(rt<tt||at===ot)return null;var dt=clsx("recharts-sector",ct),pt=rt-tt,ut=getPercentValue(nt,pt,0,!0),lt;return ut>0&&Math.abs(at-ot)<360?lt=getSectorWithCorner({cx:_e,cy:et,innerRadius:tt,outerRadius:rt,cornerRadius:Math.min(ut,pt/2),forceCornerRadius:st,cornerIsExternal:it,startAngle:at,endAngle:ot}):lt=getSectorPath({cx:_e,cy:et,innerRadius:tt,outerRadius:rt,startAngle:at,endAngle:ot}),React.createElement("path",_extends$l({},filterProps($,!0),{className:dt,d:lt,role:"img"}))};function _typeof$s(j){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$s(j)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$k.apply(this,arguments)}function ownKeys$o(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$o(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$o(Object($),!0).forEach(function(_e){_defineProperty$r(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$o(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$r(j,_,$){return _=_toPropertyKey$r(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$r(j){var _=_toPrimitive$r(j,"string");return _typeof$s(_)=="symbol"?_:_+""}function _toPrimitive$r(j,_){if(_typeof$s(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$s(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function j(_){return _.x===+_.x&&_.y===+_.y},getX=function j(_){return _.x},getY=function j(_){return _.y},getCurveFactory=function j(_,$){if(isFunction$3(_))return _;var _e="curve".concat(upperFirst$1(_));return(_e==="curveMonotone"||_e==="curveBump")&&$?CURVE_FACTORIES["".concat(_e).concat($==="vertical"?"Y":"X")]:CURVE_FACTORIES[_e]||curveLinear},getPath$1=function j(_){var $=_.type,_e=$===void 0?"linear":$,et=_.points,tt=et===void 0?[]:et,rt=_.baseLine,nt=_.layout,st=_.connectNulls,it=st===void 0?!1:st,at=getCurveFactory(_e,nt),ot=it?tt.filter(function(ut){return defined(ut)}):tt,ct;if(Array.isArray(rt)){var dt=it?rt.filter(function(ut){return defined(ut)}):rt,pt=ot.map(function(ut,lt){return _objectSpread$o(_objectSpread$o({},ut),{},{base:dt[lt]})});return nt==="vertical"?ct=shapeArea().y(getY).x1(getX).x0(function(ut){return ut.base.x}):ct=shapeArea().x(getX).y1(getY).y0(function(ut){return ut.base.y}),ct.defined(defined).curve(at),ct(pt)}return nt==="vertical"&&isNumber(rt)?ct=shapeArea().y(getY).x1(getX).x0(rt):isNumber(rt)?ct=shapeArea().x(getX).y1(getY).y0(rt):ct=shapeLine().x(getX).y(getY),ct.defined(defined).curve(at),ct(ot)},Curve=function j(_){var $=_.className,_e=_.points,et=_.path,tt=_.pathRef;if((!_e||!_e.length)&&!et)return null;var rt=_e&&_e.length?getPath$1(_):et;return React.createElement("path",_extends$k({},filterProps(_,!1),adaptEventHandlers(_),{className:clsx("recharts-curve",$),d:rt,ref:tt}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function j(_e,et,tt,rt,nt,st){if(st!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}j.isRequired=j;function _(){return j}var $={array:j,bigint:j,bool:j,func:j,number:j,object:j,string:j,symbol:j,any:j,arrayOf:_,element:j,elementType:j,instanceOf:_,node:j,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(j,_){return function(_e,et,tt){return j(_e,et,tt)&&_(_e,et,tt)}}function createIsCircular(j){return function($,_e,et){if(!$||!_e||typeof $!="object"||typeof _e!="object")return j($,_e,et);var tt=et.cache,rt=tt.get($),nt=tt.get(_e);if(rt&&nt)return rt===_e&&nt===$;tt.set($,_e),tt.set(_e,$);var st=j($,_e,et);return tt.delete($),tt.delete(_e),st}}function getStrictProperties(j){return getOwnPropertyNames(j).concat(getOwnPropertySymbols(j))}var hasOwn=Object.hasOwn||function(j,_){return hasOwnProperty$1.call(j,_)};function sameValueZeroEqual(j,_){return j===_||!j&&!_&&j!==j&&_!==_}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(j,_,$){var _e=j.length;if(_.length!==_e)return!1;for(;_e-- >0;)if(!$.equals(j[_e],_[_e],_e,_e,j,_,$))return!1;return!0}function areDatesEqual(j,_){return sameValueZeroEqual(j.getTime(),_.getTime())}function areErrorsEqual(j,_){return j.name===_.name&&j.message===_.message&&j.cause===_.cause&&j.stack===_.stack}function areFunctionsEqual(j,_){return j===_}function areMapsEqual(j,_,$){var _e=j.size;if(_e!==_.size)return!1;if(!_e)return!0;for(var et=new Array(_e),tt=j.entries(),rt,nt,st=0;(rt=tt.next())&&!rt.done;){for(var it=_.entries(),at=!1,ot=0;(nt=it.next())&&!nt.done;){if(et[ot]){ot++;continue}var ct=rt.value,dt=nt.value;if($.equals(ct[0],dt[0],st,ot,j,_,$)&&$.equals(ct[1],dt[1],ct[0],dt[0],j,_,$)){at=et[ot]=!0;break}ot++}if(!at)return!1;st++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(j,_,$){var _e=keys$1(j),et=_e.length;if(keys$1(_).length!==et)return!1;for(;et-- >0;)if(!isPropertyEqual(j,_,$,_e[et]))return!1;return!0}function areObjectsEqualStrict(j,_,$){var _e=getStrictProperties(j),et=_e.length;if(getStrictProperties(_).length!==et)return!1;for(var tt,rt,nt;et-- >0;)if(tt=_e[et],!isPropertyEqual(j,_,$,tt)||(rt=getOwnPropertyDescriptor(j,tt),nt=getOwnPropertyDescriptor(_,tt),(rt||nt)&&(!rt||!nt||rt.configurable!==nt.configurable||rt.enumerable!==nt.enumerable||rt.writable!==nt.writable)))return!1;return!0}function arePrimitiveWrappersEqual(j,_){return sameValueZeroEqual(j.valueOf(),_.valueOf())}function areRegExpsEqual(j,_){return j.source===_.source&&j.flags===_.flags}function areSetsEqual(j,_,$){var _e=j.size;if(_e!==_.size)return!1;if(!_e)return!0;for(var et=new Array(_e),tt=j.values(),rt,nt;(rt=tt.next())&&!rt.done;){for(var st=_.values(),it=!1,at=0;(nt=st.next())&&!nt.done;){if(!et[at]&&$.equals(rt.value,nt.value,rt.value,nt.value,j,_,$)){it=et[at]=!0;break}at++}if(!it)return!1}return!0}function areTypedArraysEqual(j,_){var $=j.length;if(_.length!==$)return!1;for(;$-- >0;)if(j[$]!==_[$])return!1;return!0}function areUrlsEqual(j,_){return j.hostname===_.hostname&&j.pathname===_.pathname&&j.protocol===_.protocol&&j.port===_.port&&j.hash===_.hash&&j.username===_.username&&j.password===_.password}function isPropertyEqual(j,_,$,_e){return(_e===REACT_OWNER||_e===PREACT_OWNER||_e===PREACT_VNODE)&&(j.$$typeof||_.$$typeof)?!0:hasOwn(_,_e)&&$.equals(j[_e],_[_e],_e,_e,j,_,$)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(j){var _=j.areArraysEqual,$=j.areDatesEqual,_e=j.areErrorsEqual,et=j.areFunctionsEqual,tt=j.areMapsEqual,rt=j.areNumbersEqual,nt=j.areObjectsEqual,st=j.arePrimitiveWrappersEqual,it=j.areRegExpsEqual,at=j.areSetsEqual,ot=j.areTypedArraysEqual,ct=j.areUrlsEqual;return function(pt,ut,lt){if(pt===ut)return!0;if(pt==null||ut==null)return!1;var ft=typeof pt;if(ft!==typeof ut)return!1;if(ft!=="object")return ft==="number"?rt(pt,ut,lt):ft==="function"?et(pt,ut,lt):!1;var ht=pt.constructor;if(ht!==ut.constructor)return!1;if(ht===Object)return nt(pt,ut,lt);if(isArray$2(pt))return _(pt,ut,lt);if(isTypedArray!=null&&isTypedArray(pt))return ot(pt,ut,lt);if(ht===Date)return $(pt,ut,lt);if(ht===RegExp)return it(pt,ut,lt);if(ht===Map)return tt(pt,ut,lt);if(ht===Set)return at(pt,ut,lt);var yt=getTag(pt);return yt===DATE_TAG?$(pt,ut,lt):yt===REG_EXP_TAG?it(pt,ut,lt):yt===MAP_TAG?tt(pt,ut,lt):yt===SET_TAG?at(pt,ut,lt):yt===OBJECT_TAG?typeof pt.then!="function"&&typeof ut.then!="function"&&nt(pt,ut,lt):yt===URL_TAG?ct(pt,ut,lt):yt===ERROR_TAG?_e(pt,ut,lt):yt===ARGUMENTS_TAG?nt(pt,ut,lt):yt===BOOLEAN_TAG||yt===NUMBER_TAG||yt===STRING_TAG?st(pt,ut,lt):!1}}function createEqualityComparatorConfig(j){var _=j.circular,$=j.createCustomConfig,_e=j.strict,et={areArraysEqual:_e?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:_e?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:_e?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:_e?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:_e?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if($&&(et=assign({},et,$(et))),_){var tt=createIsCircular(et.areArraysEqual),rt=createIsCircular(et.areMapsEqual),nt=createIsCircular(et.areObjectsEqual),st=createIsCircular(et.areSetsEqual);et=assign({},et,{areArraysEqual:tt,areMapsEqual:rt,areObjectsEqual:nt,areSetsEqual:st})}return et}function createInternalEqualityComparator(j){return function(_,$,_e,et,tt,rt,nt){return j(_,$,nt)}}function createIsEqual(j){var _=j.circular,$=j.comparator,_e=j.createState,et=j.equals,tt=j.strict;if(_e)return function(st,it){var at=_e(),ot=at.cache,ct=ot===void 0?_?new WeakMap:void 0:ot,dt=at.meta;return $(st,it,{cache:ct,equals:et,meta:dt,strict:tt})};if(_)return function(st,it){return $(st,it,{cache:new WeakMap,equals:et,meta:void 0,strict:tt})};var rt={cache:void 0,equals:et,meta:void 0,strict:tt};return function(st,it){return $(st,it,rt)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(j){j===void 0&&(j={});var _=j.circular,$=_===void 0?!1:_,_e=j.createInternalComparator,et=j.createState,tt=j.strict,rt=tt===void 0?!1:tt,nt=createEqualityComparatorConfig(j),st=createEqualityComparator(nt),it=_e?_e(st):createInternalEqualityComparator(st);return createIsEqual({circular:$,comparator:st,createState:et,equals:it,strict:rt})}function safeRequestAnimationFrame(j){typeof requestAnimationFrame<"u"&&requestAnimationFrame(j)}function setRafTimeout(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=-1,_e=function et(tt){$<0&&($=tt),tt-$>_?(j(tt),$=-1):safeRequestAnimationFrame(et)};requestAnimationFrame(_e)}function _typeof$r(j){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$r(j)}function _toArray(j){return _arrayWithHoles$6(j)||_iterableToArray$7(j)||_unsupportedIterableToArray$a(j)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$a(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$a(j,_)}}function _arrayLikeToArray$a(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArray$7(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithHoles$6(j){if(Array.isArray(j))return j}function createAnimateManager(){var j={},_=function(){return null},$=!1,_e=function et(tt){if(!$){if(Array.isArray(tt)){if(!tt.length)return;var rt=tt,nt=_toArray(rt),st=nt[0],it=nt.slice(1);if(typeof st=="number"){setRafTimeout(et.bind(null,it),st);return}et(st),setRafTimeout(et.bind(null,it));return}_typeof$r(tt)==="object"&&(j=tt,_(j)),typeof tt=="function"&&tt()}};return{stop:function(){$=!0},start:function(tt){$=!1,_e(tt)},subscribe:function(tt){return _=tt,function(){_=function(){return null}}}}}function _typeof$q(j){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$q(j)}function ownKeys$n(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$n(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$n(Object($),!0).forEach(function(_e){_defineProperty$q(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$n(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$q(j,_,$){return _=_toPropertyKey$q(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$q(j){var _=_toPrimitive$q(j,"string");return _typeof$q(_)==="symbol"?_:String(_)}function _toPrimitive$q(j,_){if(_typeof$q(j)!=="object"||j===null)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$q(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getIntersectionKeys=function j(_,$){return[Object.keys(_),Object.keys($)].reduce(function(_e,et){return _e.filter(function(tt){return et.includes(tt)})})},identity=function j(_){return _},getDashCase=function j(_){return _.replace(/([A-Z])/g,function($){return"-".concat($.toLowerCase())})},mapObject=function j(_,$){return Object.keys($).reduce(function(_e,et){return _objectSpread$n(_objectSpread$n({},_e),{},_defineProperty$q({},et,_(et,$[et])))},{})},getTransitionVal=function j(_,$,_e){return _.map(function(et){return"".concat(getDashCase(et)," ").concat($,"ms ").concat(_e)}).join(",")};function _slicedToArray$5(j,_){return _arrayWithHoles$5(j)||_iterableToArrayLimit$5(j,_)||_unsupportedIterableToArray$9(j,_)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$5(j){if(Array.isArray(j))return j}function _toConsumableArray$6(j){return _arrayWithoutHoles$6(j)||_iterableToArray$6(j)||_unsupportedIterableToArray$9(j)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$9(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$9(j,_)}}function _iterableToArray$6(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$6(j){if(Array.isArray(j))return _arrayLikeToArray$9(j)}function _arrayLikeToArray$9(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}var ACCURACY=1e-4,cubicBezierFactor=function j(_,$){return[0,3*_,3*$-6*_,3*_-3*$+1]},multyTime=function j(_,$){return _.map(function(_e,et){return _e*Math.pow($,et)}).reduce(function(_e,et){return _e+et})},cubicBezier=function j(_,$){return function(_e){var et=cubicBezierFactor(_,$);return multyTime(et,_e)}},derivativeCubicBezier=function j(_,$){return function(_e){var et=cubicBezierFactor(_,$),tt=[].concat(_toConsumableArray$6(et.map(function(rt,nt){return rt*nt}).slice(1)),[0]);return multyTime(tt,_e)}},configBezier=function j(){for(var _=arguments.length,$=new Array(_),_e=0;_e<_;_e++)$[_e]=arguments[_e];var et=$[0],tt=$[1],rt=$[2],nt=$[3];if($.length===1)switch($[0]){case"linear":et=0,tt=0,rt=1,nt=1;break;case"ease":et=.25,tt=.1,rt=.25,nt=1;break;case"ease-in":et=.42,tt=0,rt=1,nt=1;break;case"ease-out":et=.42,tt=0,rt=.58,nt=1;break;case"ease-in-out":et=0,tt=0,rt=.58,nt=1;break;default:{var st=$[0].split("(");if(st[0]==="cubic-bezier"&&st[1].split(")")[0].split(",").length===4){var it=st[1].split(")")[0].split(",").map(function(lt){return parseFloat(lt)}),at=_slicedToArray$5(it,4);et=at[0],tt=at[1],rt=at[2],nt=at[3]}}}var ot=cubicBezier(et,rt),ct=cubicBezier(tt,nt),dt=derivativeCubicBezier(et,rt),pt=function(ft){return ft>1?1:ft<0?0:ft},ut=function(ft){for(var ht=ft>1?1:ft,yt=ht,vt=0;vt<8;++vt){var gt=ot(yt)-ht,bt=dt(yt);if(Math.abs(gt-ht)<ACCURACY||bt<ACCURACY)return ct(yt);yt=pt(yt-gt/bt)}return ct(yt)};return ut.isStepper=!1,ut},configSpring=function j(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=_.stiff,_e=$===void 0?100:$,et=_.damping,tt=et===void 0?8:et,rt=_.dt,nt=rt===void 0?17:rt,st=function(at,ot,ct){var dt=-(at-ot)*_e,pt=ct*tt,ut=ct+(dt-pt)*nt/1e3,lt=ct*nt/1e3+at;return Math.abs(lt-ot)<ACCURACY&&Math.abs(ut)<ACCURACY?[ot,0]:[lt,ut]};return st.isStepper=!0,st.dt=nt,st},configEasing=function j(){for(var _=arguments.length,$=new Array(_),_e=0;_e<_;_e++)$[_e]=arguments[_e];var et=$[0];if(typeof et=="string")switch(et){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(et);case"spring":return configSpring();default:if(et.split("(")[0]==="cubic-bezier")return configBezier(et)}return typeof et=="function"?et:null};function _typeof$p(j){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$p(j)}function _toConsumableArray$5(j){return _arrayWithoutHoles$5(j)||_iterableToArray$5(j)||_unsupportedIterableToArray$8(j)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$5(j){if(Array.isArray(j))return _arrayLikeToArray$8(j)}function ownKeys$m(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$m(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$m(Object($),!0).forEach(function(_e){_defineProperty$p(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$m(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$p(j,_,$){return _=_toPropertyKey$p(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$p(j){var _=_toPrimitive$p(j,"string");return _typeof$p(_)==="symbol"?_:String(_)}function _toPrimitive$p(j,_){if(_typeof$p(j)!=="object"||j===null)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$p(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _slicedToArray$4(j,_){return _arrayWithHoles$4(j)||_iterableToArrayLimit$4(j,_)||_unsupportedIterableToArray$8(j,_)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$8(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$8(j,_)}}function _arrayLikeToArray$8(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$4(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$4(j){if(Array.isArray(j))return j}var alpha=function j(_,$,_e){return _+($-_)*_e},needContinue=function j(_){var $=_.from,_e=_.to;return $!==_e},calStepperVals=function j(_,$,_e){var et=mapObject(function(tt,rt){if(needContinue(rt)){var nt=_(rt.from,rt.to,rt.velocity),st=_slicedToArray$4(nt,2),it=st[0],at=st[1];return _objectSpread$m(_objectSpread$m({},rt),{},{from:it,velocity:at})}return rt},$);return _e<1?mapObject(function(tt,rt){return needContinue(rt)?_objectSpread$m(_objectSpread$m({},rt),{},{velocity:alpha(rt.velocity,et[tt].velocity,_e),from:alpha(rt.from,et[tt].from,_e)}):rt},$):j(_,et,_e-1)};const configUpdate=function(j,_,$,_e,et){var tt=getIntersectionKeys(j,_),rt=tt.reduce(function(lt,ft){return _objectSpread$m(_objectSpread$m({},lt),{},_defineProperty$p({},ft,[j[ft],_[ft]]))},{}),nt=tt.reduce(function(lt,ft){return _objectSpread$m(_objectSpread$m({},lt),{},_defineProperty$p({},ft,{from:j[ft],velocity:0,to:_[ft]}))},{}),st=-1,it,at,ot=function(){return null},ct=function(){return mapObject(function(ft,ht){return ht.from},nt)},dt=function(){return!Object.values(nt).filter(needContinue).length},pt=function(ft){it||(it=ft);var ht=ft-it,yt=ht/$.dt;nt=calStepperVals($,nt,yt),et(_objectSpread$m(_objectSpread$m(_objectSpread$m({},j),_),ct())),it=ft,dt()||(st=requestAnimationFrame(ot))},ut=function(ft){at||(at=ft);var ht=(ft-at)/_e,yt=mapObject(function(gt,bt){return alpha.apply(void 0,_toConsumableArray$5(bt).concat([$(ht)]))},rt);if(et(_objectSpread$m(_objectSpread$m(_objectSpread$m({},j),_),yt)),ht<1)st=requestAnimationFrame(ot);else{var vt=mapObject(function(gt,bt){return alpha.apply(void 0,_toConsumableArray$5(bt).concat([$(1)]))},rt);et(_objectSpread$m(_objectSpread$m(_objectSpread$m({},j),_),vt))}};return ot=$.isStepper?pt:ut,function(){return requestAnimationFrame(ot),function(){cancelAnimationFrame(st)}}};function _typeof$o(j){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$o(j)}var _excluded$a=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$a(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$a(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$a(j,_){if(j==null)return{};var $={},_e=Object.keys(j),et,tt;for(tt=0;tt<_e.length;tt++)et=_e[tt],!(_.indexOf(et)>=0)&&($[et]=j[et]);return $}function _toConsumableArray$4(j){return _arrayWithoutHoles$4(j)||_iterableToArray$4(j)||_unsupportedIterableToArray$7(j)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$7(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$7(j,_)}}function _iterableToArray$4(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$4(j){if(Array.isArray(j))return _arrayLikeToArray$7(j)}function _arrayLikeToArray$7(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function ownKeys$l(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$l(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$l(Object($),!0).forEach(function(_e){_defineProperty$o(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$l(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$o(j,_,$){return _=_toPropertyKey$o(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _classCallCheck$f(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$o(_e.key),_e)}}function _createClass$f(j,_,$){return _&&_defineProperties$f(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _toPropertyKey$o(j){var _=_toPrimitive$o(j,"string");return _typeof$o(_)==="symbol"?_:String(_)}function _toPrimitive$o(j,_){if(_typeof$o(j)!=="object"||j===null)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$o(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _inherits$d(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$d(j,_)}function _setPrototypeOf$d(j,_){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$d(j,_)}function _createSuper(j){var _=_isNativeReflectConstruct$d();return function(){var _e=_getPrototypeOf$d(j),et;if(_){var tt=_getPrototypeOf$d(this).constructor;et=Reflect.construct(_e,arguments,tt)}else et=_e.apply(this,arguments);return _possibleConstructorReturn$d(this,et)}}function _possibleConstructorReturn$d(j,_){if(_&&(_typeof$o(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(j)}function _assertThisInitialized$d(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(j){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$d(j)}var Animate=function(j){_inherits$d($,j);var _=_createSuper($);function $(_e,et){var tt;_classCallCheck$f(this,$),tt=_.call(this,_e,et);var rt=tt.props,nt=rt.isActive,st=rt.attributeName,it=rt.from,at=rt.to,ot=rt.steps,ct=rt.children,dt=rt.duration;if(tt.handleStyleChange=tt.handleStyleChange.bind(_assertThisInitialized$d(tt)),tt.changeStyle=tt.changeStyle.bind(_assertThisInitialized$d(tt)),!nt||dt<=0)return tt.state={style:{}},typeof ct=="function"&&(tt.state={style:at}),_possibleConstructorReturn$d(tt);if(ot&&ot.length)tt.state={style:ot[0].style};else if(it){if(typeof ct=="function")return tt.state={style:it},_possibleConstructorReturn$d(tt);tt.state={style:st?_defineProperty$o({},st,it):it}}else tt.state={style:{}};return tt}return _createClass$f($,[{key:"componentDidMount",value:function(){var et=this.props,tt=et.isActive,rt=et.canBegin;this.mounted=!0,!(!tt||!rt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(et){var tt=this.props,rt=tt.isActive,nt=tt.canBegin,st=tt.attributeName,it=tt.shouldReAnimate,at=tt.to,ot=tt.from,ct=this.state.style;if(nt){if(!rt){var dt={style:st?_defineProperty$o({},st,at):at};this.state&&ct&&(st&&ct[st]!==at||!st&&ct!==at)&&this.setState(dt);return}if(!(deepEqual(et.to,at)&&et.canBegin&&et.isActive)){var pt=!et.canBegin||!et.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var ut=pt||it?ot:et.to;if(this.state&&ct){var lt={style:st?_defineProperty$o({},st,ut):ut};(st&&ct[st]!==ut||!st&&ct!==ut)&&this.setState(lt)}this.runAnimation(_objectSpread$l(_objectSpread$l({},this.props),{},{from:ut,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var et=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),et&&et()}},{key:"handleStyleChange",value:function(et){this.changeStyle(et)}},{key:"changeStyle",value:function(et){this.mounted&&this.setState({style:et})}},{key:"runJSAnimation",value:function(et){var tt=this,rt=et.from,nt=et.to,st=et.duration,it=et.easing,at=et.begin,ot=et.onAnimationEnd,ct=et.onAnimationStart,dt=configUpdate(rt,nt,configEasing(it),st,this.changeStyle),pt=function(){tt.stopJSAnimation=dt()};this.manager.start([ct,at,pt,st,ot])}},{key:"runStepAnimation",value:function(et){var tt=this,rt=et.steps,nt=et.begin,st=et.onAnimationStart,it=rt[0],at=it.style,ot=it.duration,ct=ot===void 0?0:ot,dt=function(ut,lt,ft){if(ft===0)return ut;var ht=lt.duration,yt=lt.easing,vt=yt===void 0?"ease":yt,gt=lt.style,bt=lt.properties,mt=lt.onAnimationEnd,Et=ft>0?rt[ft-1]:lt,Rt=bt||Object.keys(gt);if(typeof vt=="function"||vt==="spring")return[].concat(_toConsumableArray$4(ut),[tt.runJSAnimation.bind(tt,{from:Et.style,to:gt,duration:ht,easing:vt}),ht]);var Tt=getTransitionVal(Rt,ht,vt),jt=_objectSpread$l(_objectSpread$l(_objectSpread$l({},Et.style),gt),{},{transition:Tt});return[].concat(_toConsumableArray$4(ut),[jt,ht,mt]).filter(identity)};return this.manager.start([st].concat(_toConsumableArray$4(rt.reduce(dt,[at,Math.max(ct,nt)])),[et.onAnimationEnd]))}},{key:"runAnimation",value:function(et){this.manager||(this.manager=createAnimateManager());var tt=et.begin,rt=et.duration,nt=et.attributeName,st=et.to,it=et.easing,at=et.onAnimationStart,ot=et.onAnimationEnd,ct=et.steps,dt=et.children,pt=this.manager;if(this.unSubscribe=pt.subscribe(this.handleStyleChange),typeof it=="function"||typeof dt=="function"||it==="spring"){this.runJSAnimation(et);return}if(ct.length>1){this.runStepAnimation(et);return}var ut=nt?_defineProperty$o({},nt,st):st,lt=getTransitionVal(Object.keys(ut),rt,it);pt.start([at,tt,_objectSpread$l(_objectSpread$l({},ut),{},{transition:lt}),rt,ot])}},{key:"render",value:function(){var et=this.props,tt=et.children;et.begin;var rt=et.duration;et.attributeName,et.easing;var nt=et.isActive;et.steps,et.from,et.to,et.canBegin,et.onAnimationEnd,et.shouldReAnimate,et.onAnimationReStart;var st=_objectWithoutProperties$a(et,_excluded$a),it=reactExports.Children.count(tt),at=this.state.style;if(typeof tt=="function")return tt(at);if(!nt||it===0||rt<=0)return tt;var ot=function(dt){var pt=dt.props,ut=pt.style,lt=ut===void 0?{}:ut,ft=pt.className,ht=reactExports.cloneElement(dt,_objectSpread$l(_objectSpread$l({},st),{},{style:_objectSpread$l(_objectSpread$l({},lt),at),className:ft}));return ht};return it===1?ot(reactExports.Children.only(tt)):React.createElement("div",null,reactExports.Children.map(tt,function(ct){return ot(ct)}))}}]),$}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function j(){},onAnimationStart:function j(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$n(j){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$n(j)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$j.apply(this,arguments)}function _slicedToArray$3(j,_){return _arrayWithHoles$3(j)||_iterableToArrayLimit$3(j,_)||_unsupportedIterableToArray$6(j,_)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$6(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$6(j,_)}}function _arrayLikeToArray$6(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$3(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$3(j){if(Array.isArray(j))return j}function ownKeys$k(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$k(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$k(Object($),!0).forEach(function(_e){_defineProperty$n(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$k(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$n(j,_,$){return _=_toPropertyKey$n(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$n(j){var _=_toPrimitive$n(j,"string");return _typeof$n(_)=="symbol"?_:_+""}function _toPrimitive$n(j,_){if(_typeof$n(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$n(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getRectanglePath=function j(_,$,_e,et,tt){var rt=Math.min(Math.abs(_e)/2,Math.abs(et)/2),nt=et>=0?1:-1,st=_e>=0?1:-1,it=et>=0&&_e>=0||et<0&&_e<0?1:0,at;if(rt>0&&tt instanceof Array){for(var ot=[0,0,0,0],ct=0,dt=4;ct<dt;ct++)ot[ct]=tt[ct]>rt?rt:tt[ct];at="M".concat(_,",").concat($+nt*ot[0]),ot[0]>0&&(at+="A ".concat(ot[0],",").concat(ot[0],",0,0,").concat(it,",").concat(_+st*ot[0],",").concat($)),at+="L ".concat(_+_e-st*ot[1],",").concat($),ot[1]>0&&(at+="A ".concat(ot[1],",").concat(ot[1],",0,0,").concat(it,`,
        `).concat(_+_e,",").concat($+nt*ot[1])),at+="L ".concat(_+_e,",").concat($+et-nt*ot[2]),ot[2]>0&&(at+="A ".concat(ot[2],",").concat(ot[2],",0,0,").concat(it,`,
        `).concat(_+_e-st*ot[2],",").concat($+et)),at+="L ".concat(_+st*ot[3],",").concat($+et),ot[3]>0&&(at+="A ".concat(ot[3],",").concat(ot[3],",0,0,").concat(it,`,
        `).concat(_,",").concat($+et-nt*ot[3])),at+="Z"}else if(rt>0&&tt===+tt&&tt>0){var pt=Math.min(rt,tt);at="M ".concat(_,",").concat($+nt*pt,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(it,",").concat(_+st*pt,",").concat($,`
            L `).concat(_+_e-st*pt,",").concat($,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(it,",").concat(_+_e,",").concat($+nt*pt,`
            L `).concat(_+_e,",").concat($+et-nt*pt,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(it,",").concat(_+_e-st*pt,",").concat($+et,`
            L `).concat(_+st*pt,",").concat($+et,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(it,",").concat(_,",").concat($+et-nt*pt," Z")}else at="M ".concat(_,",").concat($," h ").concat(_e," v ").concat(et," h ").concat(-_e," Z");return at},isInRectangle=function j(_,$){if(!_||!$)return!1;var _e=_.x,et=_.y,tt=$.x,rt=$.y,nt=$.width,st=$.height;if(Math.abs(nt)>0&&Math.abs(st)>0){var it=Math.min(tt,tt+nt),at=Math.max(tt,tt+nt),ot=Math.min(rt,rt+st),ct=Math.max(rt,rt+st);return _e>=it&&_e<=at&&et>=ot&&et<=ct}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function j(_){var $=_objectSpread$k(_objectSpread$k({},defaultProps$2),_),_e=reactExports.useRef(),et=reactExports.useState(-1),tt=_slicedToArray$3(et,2),rt=tt[0],nt=tt[1];reactExports.useEffect(function(){if(_e.current&&_e.current.getTotalLength)try{var vt=_e.current.getTotalLength();vt&&nt(vt)}catch{}},[]);var st=$.x,it=$.y,at=$.width,ot=$.height,ct=$.radius,dt=$.className,pt=$.animationEasing,ut=$.animationDuration,lt=$.animationBegin,ft=$.isAnimationActive,ht=$.isUpdateAnimationActive;if(st!==+st||it!==+it||at!==+at||ot!==+ot||at===0||ot===0)return null;var yt=clsx("recharts-rectangle",dt);return ht?React.createElement(Animate,{canBegin:rt>0,from:{width:at,height:ot,x:st,y:it},to:{width:at,height:ot,x:st,y:it},duration:ut,animationEasing:pt,isActive:ht},function(vt){var gt=vt.width,bt=vt.height,mt=vt.x,Et=vt.y;return React.createElement(Animate,{canBegin:rt>0,from:"0px ".concat(rt===-1?1:rt,"px"),to:"".concat(rt,"px 0px"),attributeName:"strokeDasharray",begin:lt,duration:ut,isActive:ft,easing:pt},React.createElement("path",_extends$j({},filterProps($,!0),{className:yt,d:getRectanglePath(mt,Et,gt,bt,ct),ref:_e})))}):React.createElement("path",_extends$j({},filterProps($,!0),{className:yt,d:getRectanglePath(st,it,at,ot,ct)}))},_excluded$9=["points","className","baseLinePoints","connectNulls"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$i.apply(this,arguments)}function _objectWithoutProperties$9(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$9(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$9(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _toConsumableArray$3(j){return _arrayWithoutHoles$3(j)||_iterableToArray$3(j)||_unsupportedIterableToArray$5(j)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$5(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$5(j,_)}}function _iterableToArray$3(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$3(j){if(Array.isArray(j))return _arrayLikeToArray$5(j)}function _arrayLikeToArray$5(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}var isValidatePoint=function j(_){return _&&_.x===+_.x&&_.y===+_.y},getParsedPoints=function j(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=[[]];return _.forEach(function(_e){isValidatePoint(_e)?$[$.length-1].push(_e):$[$.length-1].length>0&&$.push([])}),isValidatePoint(_[0])&&$[$.length-1].push(_[0]),$[$.length-1].length<=0&&($=$.slice(0,-1)),$},getSinglePolygonPath=function j(_,$){var _e=getParsedPoints(_);$&&(_e=[_e.reduce(function(tt,rt){return[].concat(_toConsumableArray$3(tt),_toConsumableArray$3(rt))},[])]);var et=_e.map(function(tt){return tt.reduce(function(rt,nt,st){return"".concat(rt).concat(st===0?"M":"L").concat(nt.x,",").concat(nt.y)},"")}).join("");return _e.length===1?"".concat(et,"Z"):et},getRanglePath=function j(_,$,_e){var et=getSinglePolygonPath(_,_e);return"".concat(et.slice(-1)==="Z"?et.slice(0,-1):et,"L").concat(getSinglePolygonPath($.reverse(),_e).slice(1))},Polygon=function j(_){var $=_.points,_e=_.className,et=_.baseLinePoints,tt=_.connectNulls,rt=_objectWithoutProperties$9(_,_excluded$9);if(!$||!$.length)return null;var nt=clsx("recharts-polygon",_e);if(et&&et.length){var st=rt.stroke&&rt.stroke!=="none",it=getRanglePath($,et,tt);return React.createElement("g",{className:nt},React.createElement("path",_extends$i({},filterProps(rt,!0),{fill:it.slice(-1)==="Z"?rt.fill:"none",stroke:"none",d:it})),st?React.createElement("path",_extends$i({},filterProps(rt,!0),{fill:"none",d:getSinglePolygonPath($,tt)})):null,st?React.createElement("path",_extends$i({},filterProps(rt,!0),{fill:"none",d:getSinglePolygonPath(et,tt)})):null)}var at=getSinglePolygonPath($,tt);return React.createElement("path",_extends$i({},filterProps(rt,!0),{fill:at.slice(-1)==="Z"?rt.fill:"none",className:nt,d:at}))};function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$h.apply(this,arguments)}var Dot=function j(_){var $=_.cx,_e=_.cy,et=_.r,tt=_.className,rt=clsx("recharts-dot",tt);return $===+$&&_e===+_e&&et===+et?React.createElement("circle",_extends$h({},filterProps(_,!1),adaptEventHandlers(_),{className:rt,cx:$,cy:_e,r:et})):null};function _typeof$m(j){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$m(j)}var _excluded$8=["x","y","top","left","width","height","className"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$g.apply(this,arguments)}function ownKeys$j(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$j(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$j(Object($),!0).forEach(function(_e){_defineProperty$m(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$j(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$m(j,_,$){return _=_toPropertyKey$m(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$m(j){var _=_toPrimitive$m(j,"string");return _typeof$m(_)=="symbol"?_:_+""}function _toPrimitive$m(j,_){if(_typeof$m(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$m(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _objectWithoutProperties$8(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$8(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$8(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}var getPath=function j(_,$,_e,et,tt,rt){return"M".concat(_,",").concat(tt,"v").concat(et,"M").concat(rt,",").concat($,"h").concat(_e)},Cross=function j(_){var $=_.x,_e=$===void 0?0:$,et=_.y,tt=et===void 0?0:et,rt=_.top,nt=rt===void 0?0:rt,st=_.left,it=st===void 0?0:st,at=_.width,ot=at===void 0?0:at,ct=_.height,dt=ct===void 0?0:ct,pt=_.className,ut=_objectWithoutProperties$8(_,_excluded$8),lt=_objectSpread$j({x:_e,y:tt,top:nt,left:it,width:ot,height:dt},ut);return!isNumber(_e)||!isNumber(tt)||!isNumber(ot)||!isNumber(dt)||!isNumber(nt)||!isNumber(it)?null:React.createElement("path",_extends$g({},filterProps(lt,!0),{className:clsx("recharts-cross",pt),d:getPath(_e,tt,ot,dt,nt,it)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(j,_){return j&&j.length?baseExtremum$1(j,baseIteratee$6(_),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(j,_){return j&&j.length?baseExtremum(j,baseIteratee$5(_),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$7=["cx","cy","angle","ticks","axisLine"],_excluded2$4=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$l(j){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$l(j)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$f.apply(this,arguments)}function ownKeys$i(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$i(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$i(Object($),!0).forEach(function(_e){_defineProperty$l(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$i(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _objectWithoutProperties$7(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$7(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$7(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _classCallCheck$e(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$l(_e.key),_e)}}function _createClass$e(j,_,$){return _&&_defineProperties$e(j.prototype,_),$&&_defineProperties$e(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$c(j,_,$){return _=_getPrototypeOf$c(_),_possibleConstructorReturn$c(j,_isNativeReflectConstruct$c()?Reflect.construct(_,$||[],_getPrototypeOf$c(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$c(j,_){if(_&&(_typeof$l(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(j)}function _assertThisInitialized$c(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$c(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!j})()}function _getPrototypeOf$c(j){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$c(j)}function _inherits$c(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$c(j,_)}function _setPrototypeOf$c(j,_){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$c(j,_)}function _defineProperty$l(j,_,$){return _=_toPropertyKey$l(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$l(j){var _=_toPrimitive$l(j,"string");return _typeof$l(_)=="symbol"?_:_+""}function _toPrimitive$l(j,_){if(_typeof$l(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$l(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var PolarRadiusAxis=function(j){function _(){return _classCallCheck$e(this,_),_callSuper$c(this,_,arguments)}return _inherits$c(_,j),_createClass$e(_,[{key:"getTickValueCoord",value:function(_e){var et=_e.coordinate,tt=this.props,rt=tt.angle,nt=tt.cx,st=tt.cy;return polarToCartesian(nt,st,et,rt)}},{key:"getTickTextAnchor",value:function(){var _e=this.props.orientation,et;switch(_e){case"left":et="end";break;case"right":et="start";break;default:et="middle";break}return et}},{key:"getViewBox",value:function(){var _e=this.props,et=_e.cx,tt=_e.cy,rt=_e.angle,nt=_e.ticks,st=maxBy$1(nt,function(at){return at.coordinate||0}),it=minBy$1(nt,function(at){return at.coordinate||0});return{cx:et,cy:tt,startAngle:rt,endAngle:rt,innerRadius:it.coordinate||0,outerRadius:st.coordinate||0}}},{key:"renderAxisLine",value:function(){var _e=this.props,et=_e.cx,tt=_e.cy,rt=_e.angle,nt=_e.ticks,st=_e.axisLine,it=_objectWithoutProperties$7(_e,_excluded$7),at=nt.reduce(function(pt,ut){return[Math.min(pt[0],ut.coordinate),Math.max(pt[1],ut.coordinate)]},[1/0,-1/0]),ot=polarToCartesian(et,tt,at[0],rt),ct=polarToCartesian(et,tt,at[1],rt),dt=_objectSpread$i(_objectSpread$i(_objectSpread$i({},filterProps(it,!1)),{},{fill:"none"},filterProps(st,!1)),{},{x1:ot.x,y1:ot.y,x2:ct.x,y2:ct.y});return React.createElement("line",_extends$f({className:"recharts-polar-radius-axis-line"},dt))}},{key:"renderTicks",value:function(){var _e=this,et=this.props,tt=et.ticks,rt=et.tick,nt=et.angle,st=et.tickFormatter,it=et.stroke,at=_objectWithoutProperties$7(et,_excluded2$4),ot=this.getTickTextAnchor(),ct=filterProps(at,!1),dt=filterProps(rt,!1),pt=tt.map(function(ut,lt){var ft=_e.getTickValueCoord(ut),ht=_objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i({textAnchor:ot,transform:"rotate(".concat(90-nt,", ").concat(ft.x,", ").concat(ft.y,")")},ct),{},{stroke:"none",fill:it},dt),{},{index:lt},ft),{},{payload:ut});return React.createElement(Layer,_extends$f({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(rt)),key:"tick-".concat(ut.coordinate)},adaptEventsOfChild(_e.props,ut,lt)),_.renderTickItem(rt,ht,st?st(ut.value,lt):ut.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},pt)}},{key:"render",value:function(){var _e=this.props,et=_e.ticks,tt=_e.axisLine,rt=_e.tick;return!et||!et.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},tt&&this.renderAxisLine(),rt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(_e,et,tt){var rt;return React.isValidElement(_e)?rt=React.cloneElement(_e,et):isFunction$3(_e)?rt=_e(et):rt=React.createElement(Text,_extends$f({},et,{className:"recharts-polar-radius-axis-tick-value"}),tt),rt}}])}(reactExports.PureComponent);_defineProperty$l(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$l(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$l(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$k(j){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$k(j)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$e.apply(this,arguments)}function ownKeys$h(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$h(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$h(Object($),!0).forEach(function(_e){_defineProperty$k(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$h(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$d(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$k(_e.key),_e)}}function _createClass$d(j,_,$){return _&&_defineProperties$d(j.prototype,_),$&&_defineProperties$d(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$b(j,_,$){return _=_getPrototypeOf$b(_),_possibleConstructorReturn$b(j,_isNativeReflectConstruct$b()?Reflect.construct(_,$||[],_getPrototypeOf$b(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$b(j,_){if(_&&(_typeof$k(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(j)}function _assertThisInitialized$b(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$b(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!j})()}function _getPrototypeOf$b(j){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$b(j)}function _inherits$b(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$b(j,_)}function _setPrototypeOf$b(j,_){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$b(j,_)}function _defineProperty$k(j,_,$){return _=_toPropertyKey$k(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$k(j){var _=_toPrimitive$k(j,"string");return _typeof$k(_)=="symbol"?_:_+""}function _toPrimitive$k(j,_){if(_typeof$k(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$k(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(j){function _(){return _classCallCheck$d(this,_),_callSuper$b(this,_,arguments)}return _inherits$b(_,j),_createClass$d(_,[{key:"getTickLineCoord",value:function(_e){var et=this.props,tt=et.cx,rt=et.cy,nt=et.radius,st=et.orientation,it=et.tickSize,at=it||8,ot=polarToCartesian(tt,rt,nt,_e.coordinate),ct=polarToCartesian(tt,rt,nt+(st==="inner"?-1:1)*at,_e.coordinate);return{x1:ot.x,y1:ot.y,x2:ct.x,y2:ct.y}}},{key:"getTickTextAnchor",value:function(_e){var et=this.props.orientation,tt=Math.cos(-_e.coordinate*RADIAN),rt;return tt>eps?rt=et==="outer"?"start":"end":tt<-eps?rt=et==="outer"?"end":"start":rt="middle",rt}},{key:"renderAxisLine",value:function(){var _e=this.props,et=_e.cx,tt=_e.cy,rt=_e.radius,nt=_e.axisLine,st=_e.axisLineType,it=_objectSpread$h(_objectSpread$h({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(nt,!1));if(st==="circle")return React.createElement(Dot,_extends$e({className:"recharts-polar-angle-axis-line"},it,{cx:et,cy:tt,r:rt}));var at=this.props.ticks,ot=at.map(function(ct){return polarToCartesian(et,tt,rt,ct.coordinate)});return React.createElement(Polygon,_extends$e({className:"recharts-polar-angle-axis-line"},it,{points:ot}))}},{key:"renderTicks",value:function(){var _e=this,et=this.props,tt=et.ticks,rt=et.tick,nt=et.tickLine,st=et.tickFormatter,it=et.stroke,at=filterProps(this.props,!1),ot=filterProps(rt,!1),ct=_objectSpread$h(_objectSpread$h({},at),{},{fill:"none"},filterProps(nt,!1)),dt=tt.map(function(pt,ut){var lt=_e.getTickLineCoord(pt),ft=_e.getTickTextAnchor(pt),ht=_objectSpread$h(_objectSpread$h(_objectSpread$h({textAnchor:ft},at),{},{stroke:"none",fill:it},ot),{},{index:ut,payload:pt,x:lt.x2,y:lt.y2});return React.createElement(Layer,_extends$e({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(rt)),key:"tick-".concat(pt.coordinate)},adaptEventsOfChild(_e.props,pt,ut)),nt&&React.createElement("line",_extends$e({className:"recharts-polar-angle-axis-tick-line"},ct,lt)),rt&&_.renderTickItem(rt,ht,st?st(pt.value,ut):pt.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},dt)}},{key:"render",value:function(){var _e=this.props,et=_e.ticks,tt=_e.radius,rt=_e.axisLine;return tt<=0||!et||!et.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},rt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(_e,et,tt){var rt;return React.isValidElement(_e)?rt=React.cloneElement(_e,et):isFunction$3(_e)?rt=_e(et):rt=React.createElement(Text,_extends$e({},et,{className:"recharts-polar-angle-axis-tick-value"}),tt),rt}}])}(reactExports.PureComponent);_defineProperty$k(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$k(PolarAngleAxis,"axisType","angleAxis");_defineProperty$k(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(j){if(!isObjectLike$1(j)||baseGetTag$1(j)!=objectTag)return!1;var _=getPrototype(j);if(_===null)return!0;var $=hasOwnProperty.call(_,"constructor")&&_.constructor;return typeof $=="function"&&$ instanceof $&&funcToString.call($)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(j){return j===!0||j===!1||isObjectLike(j)&&baseGetTag(j)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$j(j){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$j(j)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$d.apply(this,arguments)}function _slicedToArray$2(j,_){return _arrayWithHoles$2(j)||_iterableToArrayLimit$2(j,_)||_unsupportedIterableToArray$4(j,_)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$4(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$4(j,_)}}function _arrayLikeToArray$4(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$2(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$2(j){if(Array.isArray(j))return j}function ownKeys$g(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$g(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$g(Object($),!0).forEach(function(_e){_defineProperty$j(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$g(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$j(j,_,$){return _=_toPropertyKey$j(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$j(j){var _=_toPrimitive$j(j,"string");return _typeof$j(_)=="symbol"?_:_+""}function _toPrimitive$j(j,_){if(_typeof$j(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$j(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getTrapezoidPath=function j(_,$,_e,et,tt){var rt=_e-et,nt;return nt="M ".concat(_,",").concat($),nt+="L ".concat(_+_e,",").concat($),nt+="L ".concat(_+_e-rt/2,",").concat($+tt),nt+="L ".concat(_+_e-rt/2-et,",").concat($+tt),nt+="L ".concat(_,",").concat($," Z"),nt},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function j(_){var $=_objectSpread$g(_objectSpread$g({},defaultProps$1),_),_e=reactExports.useRef(),et=reactExports.useState(-1),tt=_slicedToArray$2(et,2),rt=tt[0],nt=tt[1];reactExports.useEffect(function(){if(_e.current&&_e.current.getTotalLength)try{var yt=_e.current.getTotalLength();yt&&nt(yt)}catch{}},[]);var st=$.x,it=$.y,at=$.upperWidth,ot=$.lowerWidth,ct=$.height,dt=$.className,pt=$.animationEasing,ut=$.animationDuration,lt=$.animationBegin,ft=$.isUpdateAnimationActive;if(st!==+st||it!==+it||at!==+at||ot!==+ot||ct!==+ct||at===0&&ot===0||ct===0)return null;var ht=clsx("recharts-trapezoid",dt);return ft?React.createElement(Animate,{canBegin:rt>0,from:{upperWidth:0,lowerWidth:0,height:ct,x:st,y:it},to:{upperWidth:at,lowerWidth:ot,height:ct,x:st,y:it},duration:ut,animationEasing:pt,isActive:ft},function(yt){var vt=yt.upperWidth,gt=yt.lowerWidth,bt=yt.height,mt=yt.x,Et=yt.y;return React.createElement(Animate,{canBegin:rt>0,from:"0px ".concat(rt===-1?1:rt,"px"),to:"".concat(rt,"px 0px"),attributeName:"strokeDasharray",begin:lt,duration:ut,easing:pt},React.createElement("path",_extends$d({},filterProps($,!0),{className:ht,d:getTrapezoidPath(mt,Et,vt,gt,bt),ref:_e})))}):React.createElement("g",null,React.createElement("path",_extends$d({},filterProps($,!0),{className:ht,d:getTrapezoidPath(st,it,at,ot,ct)})))},_excluded$6=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$i(j){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$i(j)}function _objectWithoutProperties$6(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$6(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$6(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function ownKeys$f(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$f(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$f(Object($),!0).forEach(function(_e){_defineProperty$i(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$f(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$i(j,_,$){return _=_toPropertyKey$i(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$i(j){var _=_toPrimitive$i(j,"string");return _typeof$i(_)=="symbol"?_:_+""}function _toPrimitive$i(j,_){if(_typeof$i(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$i(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function defaultPropTransformer(j,_){return _objectSpread$f(_objectSpread$f({},_),j)}function isSymbolsProps(j,_){return j==="symbols"}function ShapeSelector(j){var _=j.shapeType,$=j.elementProps;switch(_){case"rectangle":return React.createElement(Rectangle,$);case"trapezoid":return React.createElement(Trapezoid,$);case"sector":return React.createElement(Sector,$);case"symbols":if(isSymbolsProps(_))return React.createElement(Symbols,$);break;default:return null}}function getPropsFromShapeOption(j){return reactExports.isValidElement(j)?j.props:j}function Shape(j){var _=j.option,$=j.shapeType,_e=j.propTransformer,et=_e===void 0?defaultPropTransformer:_e,tt=j.activeClassName,rt=tt===void 0?"recharts-active-shape":tt,nt=j.isActive,st=_objectWithoutProperties$6(j,_excluded$6),it;if(reactExports.isValidElement(_))it=reactExports.cloneElement(_,_objectSpread$f(_objectSpread$f({},st),getPropsFromShapeOption(_)));else if(isFunction$3(_))it=_(st);else if(isPlainObject$1(_)&&!isBoolean$1(_)){var at=et(_,st);it=React.createElement(ShapeSelector,{shapeType:$,elementProps:at})}else{var ot=st;it=React.createElement(ShapeSelector,{shapeType:$,elementProps:ot})}return nt?React.createElement(Layer,{className:rt},it):it}function isFunnel(j,_){return _!=null&&"trapezoids"in j.props}function isPie(j,_){return _!=null&&"sectors"in j.props}function isScatter(j,_){return _!=null&&"points"in j.props}function compareFunnel(j,_){var $,_e,et=j.x===(_==null||($=_.labelViewBox)===null||$===void 0?void 0:$.x)||j.x===_.x,tt=j.y===(_==null||(_e=_.labelViewBox)===null||_e===void 0?void 0:_e.y)||j.y===_.y;return et&&tt}function comparePie(j,_){var $=j.endAngle===_.endAngle,_e=j.startAngle===_.startAngle;return $&&_e}function compareScatter(j,_){var $=j.x===_.x,_e=j.y===_.y,et=j.z===_.z;return $&&_e&&et}function getComparisonFn(j,_){var $;return isFunnel(j,_)?$=compareFunnel:isPie(j,_)?$=comparePie:isScatter(j,_)&&($=compareScatter),$}function getShapeDataKey(j,_){var $;return isFunnel(j,_)?$="trapezoids":isPie(j,_)?$="sectors":isScatter(j,_)&&($="points"),$}function getActiveShapeTooltipPayload(j,_){if(isFunnel(j,_)){var $;return($=_.tooltipPayload)===null||$===void 0||($=$[0])===null||$===void 0||($=$.payload)===null||$===void 0?void 0:$.payload}if(isPie(j,_)){var _e;return(_e=_.tooltipPayload)===null||_e===void 0||(_e=_e[0])===null||_e===void 0||(_e=_e.payload)===null||_e===void 0?void 0:_e.payload}return isScatter(j,_)?_.payload:{}}function getActiveShapeIndexForTooltip(j){var _=j.activeTooltipItem,$=j.graphicalItem,_e=j.itemData,et=getShapeDataKey($,_),tt=getActiveShapeTooltipPayload($,_),rt=_e.filter(function(st,it){var at=isEqual$1(tt,st),ot=$.props[et].filter(function(pt){var ut=getComparisonFn($,_);return ut(pt,_)}),ct=$.props[et].indexOf(ot[ot.length-1]),dt=it===ct;return at&&dt}),nt=_e.indexOf(rt[rt.length-1]);return nt}var _Pie;function _typeof$h(j){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$h(j)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$c.apply(this,arguments)}function ownKeys$e(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$e(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$e(Object($),!0).forEach(function(_e){_defineProperty$h(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$e(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$c(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$h(_e.key),_e)}}function _createClass$c(j,_,$){return _&&_defineProperties$c(j.prototype,_),$&&_defineProperties$c(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$a(j,_,$){return _=_getPrototypeOf$a(_),_possibleConstructorReturn$a(j,_isNativeReflectConstruct$a()?Reflect.construct(_,$||[],_getPrototypeOf$a(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$a(j,_){if(_&&(_typeof$h(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(j)}function _assertThisInitialized$a(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$a(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!j})()}function _getPrototypeOf$a(j){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$a(j)}function _inherits$a(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$a(j,_)}function _setPrototypeOf$a(j,_){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$a(j,_)}function _defineProperty$h(j,_,$){return _=_toPropertyKey$h(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$h(j){var _=_toPrimitive$h(j,"string");return _typeof$h(_)=="symbol"?_:_+""}function _toPrimitive$h(j,_){if(_typeof$h(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$h(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var Pie=function(j){function _($){var _e;return _classCallCheck$c(this,_),_e=_callSuper$a(this,_,[$]),_defineProperty$h(_e,"pieRef",null),_defineProperty$h(_e,"sectorRefs",[]),_defineProperty$h(_e,"id",uniqueId("recharts-pie-")),_defineProperty$h(_e,"handleAnimationEnd",function(){var et=_e.props.onAnimationEnd;_e.setState({isAnimationFinished:!0}),isFunction$3(et)&&et()}),_defineProperty$h(_e,"handleAnimationStart",function(){var et=_e.props.onAnimationStart;_e.setState({isAnimationFinished:!1}),isFunction$3(et)&&et()}),_e.state={isAnimationFinished:!$.isAnimationActive,prevIsAnimationActive:$.isAnimationActive,prevAnimationId:$.animationId,sectorToFocus:0},_e}return _inherits$a(_,j),_createClass$c(_,[{key:"isActiveIndex",value:function(_e){var et=this.props.activeIndex;return Array.isArray(et)?et.indexOf(_e)!==-1:_e===et}},{key:"hasActiveIndex",value:function(){var _e=this.props.activeIndex;return Array.isArray(_e)?_e.length!==0:_e||_e===0}},{key:"renderLabels",value:function(_e){var et=this.props.isAnimationActive;if(et&&!this.state.isAnimationFinished)return null;var tt=this.props,rt=tt.label,nt=tt.labelLine,st=tt.dataKey,it=tt.valueKey,at=filterProps(this.props,!1),ot=filterProps(rt,!1),ct=filterProps(nt,!1),dt=rt&&rt.offsetRadius||20,pt=_e.map(function(ut,lt){var ft=(ut.startAngle+ut.endAngle)/2,ht=polarToCartesian(ut.cx,ut.cy,ut.outerRadius+dt,ft),yt=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},at),ut),{},{stroke:"none"},ot),{},{index:lt,textAnchor:_.getTextAnchor(ht.x,ut.cx)},ht),vt=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},at),ut),{},{fill:"none",stroke:ut.fill},ct),{},{index:lt,points:[polarToCartesian(ut.cx,ut.cy,ut.outerRadius,ft),ht]}),gt=st;return isNil$1(st)&&isNil$1(it)?gt="value":isNil$1(st)&&(gt=it),React.createElement(Layer,{key:"label-".concat(ut.startAngle,"-").concat(ut.endAngle,"-").concat(ut.midAngle,"-").concat(lt)},nt&&_.renderLabelLineItem(nt,vt,"line"),_.renderLabelItem(rt,yt,getValueByDataKey(ut,gt)))});return React.createElement(Layer,{className:"recharts-pie-labels"},pt)}},{key:"renderSectorsStatically",value:function(_e){var et=this,tt=this.props,rt=tt.activeShape,nt=tt.blendStroke,st=tt.inactiveShape;return _e.map(function(it,at){if((it==null?void 0:it.startAngle)===0&&(it==null?void 0:it.endAngle)===0&&_e.length!==1)return null;var ot=et.isActiveIndex(at),ct=st&&et.hasActiveIndex()?st:null,dt=ot?rt:ct,pt=_objectSpread$e(_objectSpread$e({},it),{},{stroke:nt?it.fill:it.stroke,tabIndex:-1});return React.createElement(Layer,_extends$c({ref:function(lt){lt&&!et.sectorRefs.includes(lt)&&et.sectorRefs.push(lt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(et.props,it,at),{key:"sector-".concat(it==null?void 0:it.startAngle,"-").concat(it==null?void 0:it.endAngle,"-").concat(it.midAngle,"-").concat(at)}),React.createElement(Shape,_extends$c({option:dt,isActive:ot,shapeType:"sector"},pt)))})}},{key:"renderSectorsWithAnimation",value:function(){var _e=this,et=this.props,tt=et.sectors,rt=et.isAnimationActive,nt=et.animationBegin,st=et.animationDuration,it=et.animationEasing,at=et.animationId,ot=this.state,ct=ot.prevSectors,dt=ot.prevIsAnimationActive;return React.createElement(Animate,{begin:nt,duration:st,isActive:rt,easing:it,from:{t:0},to:{t:1},key:"pie-".concat(at,"-").concat(dt),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(pt){var ut=pt.t,lt=[],ft=tt&&tt[0],ht=ft.startAngle;return tt.forEach(function(yt,vt){var gt=ct&&ct[vt],bt=vt>0?get$2(yt,"paddingAngle",0):0;if(gt){var mt=interpolateNumber$2(gt.endAngle-gt.startAngle,yt.endAngle-yt.startAngle),Et=_objectSpread$e(_objectSpread$e({},yt),{},{startAngle:ht+bt,endAngle:ht+mt(ut)+bt});lt.push(Et),ht=Et.endAngle}else{var Rt=yt.endAngle,Tt=yt.startAngle,jt=interpolateNumber$2(0,Rt-Tt),xt=jt(ut),Ct=_objectSpread$e(_objectSpread$e({},yt),{},{startAngle:ht+bt,endAngle:ht+xt+bt});lt.push(Ct),ht=Ct.endAngle}}),React.createElement(Layer,null,_e.renderSectorsStatically(lt))})}},{key:"attachKeyboardHandlers",value:function(_e){var et=this;_e.onkeydown=function(tt){if(!tt.altKey)switch(tt.key){case"ArrowLeft":{var rt=++et.state.sectorToFocus%et.sectorRefs.length;et.sectorRefs[rt].focus(),et.setState({sectorToFocus:rt});break}case"ArrowRight":{var nt=--et.state.sectorToFocus<0?et.sectorRefs.length-1:et.state.sectorToFocus%et.sectorRefs.length;et.sectorRefs[nt].focus(),et.setState({sectorToFocus:nt});break}case"Escape":{et.sectorRefs[et.state.sectorToFocus].blur(),et.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var _e=this.props,et=_e.sectors,tt=_e.isAnimationActive,rt=this.state.prevSectors;return tt&&et&&et.length&&(!rt||!isEqual$1(rt,et))?this.renderSectorsWithAnimation():this.renderSectorsStatically(et)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var _e=this,et=this.props,tt=et.hide,rt=et.sectors,nt=et.className,st=et.label,it=et.cx,at=et.cy,ot=et.innerRadius,ct=et.outerRadius,dt=et.isAnimationActive,pt=this.state.isAnimationFinished;if(tt||!rt||!rt.length||!isNumber(it)||!isNumber(at)||!isNumber(ot)||!isNumber(ct))return null;var ut=clsx("recharts-pie",nt);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:ut,ref:function(ft){_e.pieRef=ft}},this.renderSectors(),st&&this.renderLabels(rt),Label.renderCallByParent(this.props,null,!1),(!dt||pt)&&LabelList.renderCallByParent(this.props,rt,!1))}}],[{key:"getDerivedStateFromProps",value:function(_e,et){return et.prevIsAnimationActive!==_e.isAnimationActive?{prevIsAnimationActive:_e.isAnimationActive,prevAnimationId:_e.animationId,curSectors:_e.sectors,prevSectors:[],isAnimationFinished:!0}:_e.isAnimationActive&&_e.animationId!==et.prevAnimationId?{prevAnimationId:_e.animationId,curSectors:_e.sectors,prevSectors:et.curSectors,isAnimationFinished:!0}:_e.sectors!==et.curSectors?{curSectors:_e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(_e,et){return _e>et?"start":_e<et?"end":"middle"}},{key:"renderLabelLineItem",value:function(_e,et,tt){if(React.isValidElement(_e))return React.cloneElement(_e,et);if(isFunction$3(_e))return _e(et);var rt=clsx("recharts-pie-label-line",typeof _e!="boolean"?_e.className:"");return React.createElement(Curve,_extends$c({},et,{key:tt,type:"linear",className:rt}))}},{key:"renderLabelItem",value:function(_e,et,tt){if(React.isValidElement(_e))return React.cloneElement(_e,et);var rt=tt;if(isFunction$3(_e)&&(rt=_e(et),React.isValidElement(rt)))return rt;var nt=clsx("recharts-pie-label-text",typeof _e!="boolean"&&!isFunction$3(_e)?_e.className:"");return React.createElement(Text,_extends$c({},et,{alignmentBaseline:"middle",className:nt}),rt)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$h(Pie,"displayName","Pie");_defineProperty$h(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$h(Pie,"parseDeltaAngle",function(j,_){var $=mathSign(_-j),_e=Math.min(Math.abs(_-j),360);return $*_e});_defineProperty$h(Pie,"getRealPieData",function(j){var _=j.data,$=j.children,_e=filterProps(j,!1),et=findAllByType($,Cell);return _&&_.length?_.map(function(tt,rt){return _objectSpread$e(_objectSpread$e(_objectSpread$e({payload:tt},_e),tt),et&&et[rt]&&et[rt].props)}):et&&et.length?et.map(function(tt){return _objectSpread$e(_objectSpread$e({},_e),tt.props)}):[]});_defineProperty$h(Pie,"parseCoordinateOfPie",function(j,_){var $=_.top,_e=_.left,et=_.width,tt=_.height,rt=getMaxRadius(et,tt),nt=_e+getPercentValue(j.cx,et,et/2),st=$+getPercentValue(j.cy,tt,tt/2),it=getPercentValue(j.innerRadius,rt,0),at=getPercentValue(j.outerRadius,rt,rt*.8),ot=j.maxRadius||Math.sqrt(et*et+tt*tt)/2;return{cx:nt,cy:st,innerRadius:it,outerRadius:at,maxRadius:ot}});_defineProperty$h(Pie,"getComposedData",function(j){var _=j.item,$=j.offset,_e=_.type.defaultProps!==void 0?_objectSpread$e(_objectSpread$e({},_.type.defaultProps),_.props):_.props,et=_Pie.getRealPieData(_e);if(!et||!et.length)return null;var tt=_e.cornerRadius,rt=_e.startAngle,nt=_e.endAngle,st=_e.paddingAngle,it=_e.dataKey,at=_e.nameKey,ot=_e.valueKey,ct=_e.tooltipType,dt=Math.abs(_e.minAngle),pt=_Pie.parseCoordinateOfPie(_e,$),ut=_Pie.parseDeltaAngle(rt,nt),lt=Math.abs(ut),ft=it;isNil$1(it)&&isNil$1(ot)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),ft="value"):isNil$1(it)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),ft=ot);var ht=et.filter(function(Et){return getValueByDataKey(Et,ft,0)!==0}).length,yt=(lt>=360?ht:ht-1)*st,vt=lt-ht*dt-yt,gt=et.reduce(function(Et,Rt){var Tt=getValueByDataKey(Rt,ft,0);return Et+(isNumber(Tt)?Tt:0)},0),bt;if(gt>0){var mt;bt=et.map(function(Et,Rt){var Tt=getValueByDataKey(Et,ft,0),jt=getValueByDataKey(Et,at,Rt),xt=(isNumber(Tt)?Tt:0)/gt,Ct;Rt?Ct=mt.endAngle+mathSign(ut)*st*(Tt!==0?1:0):Ct=rt;var kt=Ct+mathSign(ut)*((Tt!==0?dt:0)+xt*vt),Nt=(Ct+kt)/2,St=(pt.innerRadius+pt.outerRadius)/2,Ot=[{name:jt,value:Tt,payload:Et,dataKey:ft,type:ct}],Pt=polarToCartesian(pt.cx,pt.cy,St,Nt);return mt=_objectSpread$e(_objectSpread$e(_objectSpread$e({percent:xt,cornerRadius:tt,name:jt,tooltipPayload:Ot,midAngle:Nt,middleRadius:St,tooltipPosition:Pt},Et),pt),{},{value:getValueByDataKey(Et,ft),startAngle:Ct,endAngle:kt,payload:Et,paddingAngle:mathSign(ut)*st}),mt})}return _objectSpread$e(_objectSpread$e({},pt),{},{sectors:bt,data:et})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(j,_,$,_e){for(var et=-1,tt=nativeMax$1(nativeCeil((_-j)/($||1)),0),rt=Array(tt);tt--;)rt[_e?tt:++et]=j,j+=$;return rt}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(j){if(!j)return j===0?j:0;if(j=toNumber(j),j===INFINITY||j===-INFINITY){var _=j<0?-1:1;return _*MAX_INTEGER}return j===j?j:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(j){return function(_,$,_e){return _e&&typeof _e!="number"&&isIterateeCall$2(_,$,_e)&&($=_e=void 0),_=toFinite$1(_),$===void 0?($=_,_=0):$=toFinite$1($),_e=_e===void 0?_<$?1:-1:toFinite$1(_e),baseRange(_,$,_e,j)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$g(j){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$g(j)}function ownKeys$d(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$d(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$d(Object($),!0).forEach(function(_e){_defineProperty$g(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$d(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$g(j,_,$){return _=_toPropertyKey$g(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$g(j){var _=_toPrimitive$g(j,"string");return _typeof$g(_)=="symbol"?_:_+""}function _toPrimitive$g(j,_){if(_typeof$g(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$g(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function j(_,$){var _e=_.replace(/(\w)/,function(tt){return tt.toUpperCase()}),et=PREFIX_LIST.reduce(function(tt,rt){return _objectSpread$d(_objectSpread$d({},tt),{},_defineProperty$g({},rt+_e,$))},{});return et[_]=$,et};function _typeof$f(j){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$f(j)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$b.apply(this,arguments)}function ownKeys$c(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$c(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$c(Object($),!0).forEach(function(_e){_defineProperty$f(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$c(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$b(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$f(_e.key),_e)}}function _createClass$b(j,_,$){return _&&_defineProperties$b(j.prototype,_),$&&_defineProperties$b(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$9(j,_,$){return _=_getPrototypeOf$9(_),_possibleConstructorReturn$9(j,_isNativeReflectConstruct$9()?Reflect.construct(_,$||[],_getPrototypeOf$9(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$9(j,_){if(_&&(_typeof$f(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(j)}function _assertThisInitialized$9(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$9(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!j})()}function _getPrototypeOf$9(j){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$9(j)}function _inherits$9(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$9(j,_)}function _setPrototypeOf$9(j,_){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$9(j,_)}function _defineProperty$f(j,_,$){return _=_toPropertyKey$f(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$f(j){var _=_toPrimitive$f(j,"string");return _typeof$f(_)=="symbol"?_:_+""}function _toPrimitive$f(j,_){if(_typeof$f(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$f(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var createScale=function j(_){var $=_.data,_e=_.startIndex,et=_.endIndex,tt=_.x,rt=_.width,nt=_.travellerWidth;if(!$||!$.length)return{};var st=$.length,it=point().domain(range$1(0,st)).range([tt,tt+rt-nt]),at=it.domain().map(function(ot){return it(ot)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:it(_e),endX:it(et),scale:it,scaleValues:at}},isTouch=function j(_){return _.changedTouches&&!!_.changedTouches.length},Brush=function(j){function _($){var _e;return _classCallCheck$b(this,_),_e=_callSuper$9(this,_,[$]),_defineProperty$f(_e,"handleDrag",function(et){_e.leaveTimer&&(clearTimeout(_e.leaveTimer),_e.leaveTimer=null),_e.state.isTravellerMoving?_e.handleTravellerMove(et):_e.state.isSlideMoving&&_e.handleSlideDrag(et)}),_defineProperty$f(_e,"handleTouchMove",function(et){et.changedTouches!=null&&et.changedTouches.length>0&&_e.handleDrag(et.changedTouches[0])}),_defineProperty$f(_e,"handleDragEnd",function(){_e.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var et=_e.props,tt=et.endIndex,rt=et.onDragEnd,nt=et.startIndex;rt==null||rt({endIndex:tt,startIndex:nt})}),_e.detachDragEndListener()}),_defineProperty$f(_e,"handleLeaveWrapper",function(){(_e.state.isTravellerMoving||_e.state.isSlideMoving)&&(_e.leaveTimer=window.setTimeout(_e.handleDragEnd,_e.props.leaveTimeOut))}),_defineProperty$f(_e,"handleEnterSlideOrTraveller",function(){_e.setState({isTextActive:!0})}),_defineProperty$f(_e,"handleLeaveSlideOrTraveller",function(){_e.setState({isTextActive:!1})}),_defineProperty$f(_e,"handleSlideDragStart",function(et){var tt=isTouch(et)?et.changedTouches[0]:et;_e.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:tt.pageX}),_e.attachDragEndListener()}),_e.travellerDragStartHandlers={startX:_e.handleTravellerDragStart.bind(_e,"startX"),endX:_e.handleTravellerDragStart.bind(_e,"endX")},_e.state={},_e}return _inherits$9(_,j),_createClass$b(_,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(_e){var et=_e.startX,tt=_e.endX,rt=this.state.scaleValues,nt=this.props,st=nt.gap,it=nt.data,at=it.length-1,ot=Math.min(et,tt),ct=Math.max(et,tt),dt=_.getIndexInRange(rt,ot),pt=_.getIndexInRange(rt,ct);return{startIndex:dt-dt%st,endIndex:pt===at?at:pt-pt%st}}},{key:"getTextOfTick",value:function(_e){var et=this.props,tt=et.data,rt=et.tickFormatter,nt=et.dataKey,st=getValueByDataKey(tt[_e],nt,_e);return isFunction$3(rt)?rt(st,_e):st}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(_e){var et=this.state,tt=et.slideMoveStartX,rt=et.startX,nt=et.endX,st=this.props,it=st.x,at=st.width,ot=st.travellerWidth,ct=st.startIndex,dt=st.endIndex,pt=st.onChange,ut=_e.pageX-tt;ut>0?ut=Math.min(ut,it+at-ot-nt,it+at-ot-rt):ut<0&&(ut=Math.max(ut,it-rt,it-nt));var lt=this.getIndex({startX:rt+ut,endX:nt+ut});(lt.startIndex!==ct||lt.endIndex!==dt)&&pt&&pt(lt),this.setState({startX:rt+ut,endX:nt+ut,slideMoveStartX:_e.pageX})}},{key:"handleTravellerDragStart",value:function(_e,et){var tt=isTouch(et)?et.changedTouches[0]:et;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:_e,brushMoveStartX:tt.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(_e){var et=this.state,tt=et.brushMoveStartX,rt=et.movingTravellerId,nt=et.endX,st=et.startX,it=this.state[rt],at=this.props,ot=at.x,ct=at.width,dt=at.travellerWidth,pt=at.onChange,ut=at.gap,lt=at.data,ft={startX:this.state.startX,endX:this.state.endX},ht=_e.pageX-tt;ht>0?ht=Math.min(ht,ot+ct-dt-it):ht<0&&(ht=Math.max(ht,ot-it)),ft[rt]=it+ht;var yt=this.getIndex(ft),vt=yt.startIndex,gt=yt.endIndex,bt=function(){var Et=lt.length-1;return rt==="startX"&&(nt>st?vt%ut===0:gt%ut===0)||nt<st&&gt===Et||rt==="endX"&&(nt>st?gt%ut===0:vt%ut===0)||nt>st&&gt===Et};this.setState(_defineProperty$f(_defineProperty$f({},rt,it+ht),"brushMoveStartX",_e.pageX),function(){pt&&bt()&&pt(yt)})}},{key:"handleTravellerMoveKeyboard",value:function(_e,et){var tt=this,rt=this.state,nt=rt.scaleValues,st=rt.startX,it=rt.endX,at=this.state[et],ot=nt.indexOf(at);if(ot!==-1){var ct=ot+_e;if(!(ct===-1||ct>=nt.length)){var dt=nt[ct];et==="startX"&&dt>=it||et==="endX"&&dt<=st||this.setState(_defineProperty$f({},et,dt),function(){tt.props.onChange(tt.getIndex({startX:tt.state.startX,endX:tt.state.endX}))})}}}},{key:"renderBackground",value:function(){var _e=this.props,et=_e.x,tt=_e.y,rt=_e.width,nt=_e.height,st=_e.fill,it=_e.stroke;return React.createElement("rect",{stroke:it,fill:st,x:et,y:tt,width:rt,height:nt})}},{key:"renderPanorama",value:function(){var _e=this.props,et=_e.x,tt=_e.y,rt=_e.width,nt=_e.height,st=_e.data,it=_e.children,at=_e.padding,ot=reactExports.Children.only(it);return ot?React.cloneElement(ot,{x:et,y:tt,width:rt,height:nt,margin:at,compact:!0,data:st}):null}},{key:"renderTravellerLayer",value:function(_e,et){var tt,rt,nt=this,st=this.props,it=st.y,at=st.travellerWidth,ot=st.height,ct=st.traveller,dt=st.ariaLabel,pt=st.data,ut=st.startIndex,lt=st.endIndex,ft=Math.max(_e,this.props.x),ht=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:ft,y:it,width:at,height:ot}),yt=dt||"Min value: ".concat((tt=pt[ut])===null||tt===void 0?void 0:tt.name,", Max value: ").concat((rt=pt[lt])===null||rt===void 0?void 0:rt.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":yt,"aria-valuenow":_e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[et],onTouchStart:this.travellerDragStartHandlers[et],onKeyDown:function(gt){["ArrowLeft","ArrowRight"].includes(gt.key)&&(gt.preventDefault(),gt.stopPropagation(),nt.handleTravellerMoveKeyboard(gt.key==="ArrowRight"?1:-1,et))},onFocus:function(){nt.setState({isTravellerFocused:!0})},onBlur:function(){nt.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},_.renderTraveller(ct,ht))}},{key:"renderSlide",value:function(_e,et){var tt=this.props,rt=tt.y,nt=tt.height,st=tt.stroke,it=tt.travellerWidth,at=Math.min(_e,et)+it,ot=Math.max(Math.abs(et-_e)-it,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:st,fillOpacity:.2,x:at,y:rt,width:ot,height:nt})}},{key:"renderText",value:function(){var _e=this.props,et=_e.startIndex,tt=_e.endIndex,rt=_e.y,nt=_e.height,st=_e.travellerWidth,it=_e.stroke,at=this.state,ot=at.startX,ct=at.endX,dt=5,pt={pointerEvents:"none",fill:it};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(ot,ct)-dt,y:rt+nt/2},pt),this.getTextOfTick(et)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(ot,ct)+st+dt,y:rt+nt/2},pt),this.getTextOfTick(tt)))}},{key:"render",value:function(){var _e=this.props,et=_e.data,tt=_e.className,rt=_e.children,nt=_e.x,st=_e.y,it=_e.width,at=_e.height,ot=_e.alwaysShowText,ct=this.state,dt=ct.startX,pt=ct.endX,ut=ct.isTextActive,lt=ct.isSlideMoving,ft=ct.isTravellerMoving,ht=ct.isTravellerFocused;if(!et||!et.length||!isNumber(nt)||!isNumber(st)||!isNumber(it)||!isNumber(at)||it<=0||at<=0)return null;var yt=clsx("recharts-brush",tt),vt=React.Children.count(rt)===1,gt=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:yt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:gt},this.renderBackground(),vt&&this.renderPanorama(),this.renderSlide(dt,pt),this.renderTravellerLayer(dt,"startX"),this.renderTravellerLayer(pt,"endX"),(ut||lt||ft||ht||ot)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(_e){var et=_e.x,tt=_e.y,rt=_e.width,nt=_e.height,st=_e.stroke,it=Math.floor(tt+nt/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:et,y:tt,width:rt,height:nt,fill:st,stroke:"none"}),React.createElement("line",{x1:et+1,y1:it,x2:et+rt-1,y2:it,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:et+1,y1:it+2,x2:et+rt-1,y2:it+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(_e,et){var tt;return React.isValidElement(_e)?tt=React.cloneElement(_e,et):isFunction$3(_e)?tt=_e(et):tt=_.renderDefaultTraveller(et),tt}},{key:"getDerivedStateFromProps",value:function(_e,et){var tt=_e.data,rt=_e.width,nt=_e.x,st=_e.travellerWidth,it=_e.updateId,at=_e.startIndex,ot=_e.endIndex;if(tt!==et.prevData||it!==et.prevUpdateId)return _objectSpread$c({prevData:tt,prevTravellerWidth:st,prevUpdateId:it,prevX:nt,prevWidth:rt},tt&&tt.length?createScale({data:tt,width:rt,x:nt,travellerWidth:st,startIndex:at,endIndex:ot}):{scale:null,scaleValues:null});if(et.scale&&(rt!==et.prevWidth||nt!==et.prevX||st!==et.prevTravellerWidth)){et.scale.range([nt,nt+rt-st]);var ct=et.scale.domain().map(function(dt){return et.scale(dt)});return{prevData:tt,prevTravellerWidth:st,prevUpdateId:it,prevX:nt,prevWidth:rt,startX:et.scale(_e.startIndex),endX:et.scale(_e.endIndex),scaleValues:ct}}return null}},{key:"getIndexInRange",value:function(_e,et){for(var tt=_e.length,rt=0,nt=tt-1;nt-rt>1;){var st=Math.floor((rt+nt)/2);_e[st]>et?nt=st:rt=st}return et>=_e[nt]?nt:rt}}])}(reactExports.PureComponent);_defineProperty$f(Brush,"displayName","Brush");_defineProperty$f(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(j,_){var $;return baseEach$1(j,function(_e,et,tt){return $=_(_e,et,tt),!$}),!!$}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(j,_,$){var _e=isArray$1(j)?arraySome:baseSome;return $&&isIterateeCall$1(j,_,$)&&(_=void 0),_e(j,baseIteratee$4(_))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function j(_,$){var _e=_.alwaysShow,et=_.ifOverflow;return _e&&(et="extendDomain"),et===$},defineProperty=_defineProperty$F;function baseAssignValue$1(j,_,$){_=="__proto__"&&defineProperty?defineProperty(j,_,{configurable:!0,enumerable:!0,value:$,writable:!0}):j[_]=$}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(j,_){var $={};return _=baseIteratee$3(_),baseForOwn(j,function(_e,et,tt){baseAssignValue($,et,_(_e,et,tt))}),$}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(j,_){for(var $=-1,_e=j==null?0:j.length;++$<_e;)if(!_(j[$],$,j))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(j,_){var $=!0;return baseEach(j,function(_e,et,tt){return $=!!_(_e,et,tt),$}),$}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(j,_,$){var _e=isArray(j)?arrayEvery:baseEvery;return $&&isIterateeCall(j,_,$)&&(_=void 0),_e(j,baseIteratee$2(_))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$5=["x","y"];function _typeof$e(j){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$e(j)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$a.apply(this,arguments)}function ownKeys$b(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$b(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$b(Object($),!0).forEach(function(_e){_defineProperty$e(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$b(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$e(j,_,$){return _=_toPropertyKey$e(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$e(j){var _=_toPrimitive$e(j,"string");return _typeof$e(_)=="symbol"?_:_+""}function _toPrimitive$e(j,_){if(_typeof$e(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$e(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _objectWithoutProperties$5(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$5(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$5(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function typeguardBarRectangleProps(j,_){var $=j.x,_e=j.y,et=_objectWithoutProperties$5(j,_excluded$5),tt="".concat($),rt=parseInt(tt,10),nt="".concat(_e),st=parseInt(nt,10),it="".concat(_.height||et.height),at=parseInt(it,10),ot="".concat(_.width||et.width),ct=parseInt(ot,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},_),et),rt?{x:rt}:{}),st?{y:st}:{}),{},{height:at,width:ct,name:_.name,radius:_.radius})}function BarRectangle(j){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},j))}var minPointSizeCallback=function j(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(_e,et){if(typeof _=="number")return _;var tt=typeof _e=="number";return tt?_(_e,et):(tt||invariant(),$)}},_excluded$4=["value","background"],_Bar;function _typeof$d(j){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$d(j)}function _objectWithoutProperties$4(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$4(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$4(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$9.apply(this,arguments)}function ownKeys$a(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$a(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$a(Object($),!0).forEach(function(_e){_defineProperty$d(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$a(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$a(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$d(_e.key),_e)}}function _createClass$a(j,_,$){return _&&_defineProperties$a(j.prototype,_),$&&_defineProperties$a(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$8(j,_,$){return _=_getPrototypeOf$8(_),_possibleConstructorReturn$8(j,_isNativeReflectConstruct$8()?Reflect.construct(_,$||[],_getPrototypeOf$8(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$8(j,_){if(_&&(_typeof$d(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(j)}function _assertThisInitialized$8(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$8(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!j})()}function _getPrototypeOf$8(j){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$8(j)}function _inherits$8(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$8(j,_)}function _setPrototypeOf$8(j,_){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$8(j,_)}function _defineProperty$d(j,_,$){return _=_toPropertyKey$d(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$d(j){var _=_toPrimitive$d(j,"string");return _typeof$d(_)=="symbol"?_:_+""}function _toPrimitive$d(j,_){if(_typeof$d(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$d(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var Bar=function(j){function _(){var $;_classCallCheck$a(this,_);for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $=_callSuper$8(this,_,[].concat(et)),_defineProperty$d($,"state",{isAnimationFinished:!1}),_defineProperty$d($,"id",uniqueId("recharts-bar-")),_defineProperty$d($,"handleAnimationEnd",function(){var rt=$.props.onAnimationEnd;$.setState({isAnimationFinished:!0}),rt&&rt()}),_defineProperty$d($,"handleAnimationStart",function(){var rt=$.props.onAnimationStart;$.setState({isAnimationFinished:!1}),rt&&rt()}),$}return _inherits$8(_,j),_createClass$a(_,[{key:"renderRectanglesStatically",value:function(_e){var et=this,tt=this.props,rt=tt.shape,nt=tt.dataKey,st=tt.activeIndex,it=tt.activeBar,at=filterProps(this.props,!1);return _e&&_e.map(function(ot,ct){var dt=ct===st,pt=dt?it:rt,ut=_objectSpread$a(_objectSpread$a(_objectSpread$a({},at),ot),{},{isActive:dt,option:pt,index:ct,dataKey:nt,onAnimationStart:et.handleAnimationStart,onAnimationEnd:et.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(et.props,ot,ct),{key:"rectangle-".concat(ot==null?void 0:ot.x,"-").concat(ot==null?void 0:ot.y,"-").concat(ot==null?void 0:ot.value,"-").concat(ct)}),React.createElement(BarRectangle,ut))})}},{key:"renderRectanglesWithAnimation",value:function(){var _e=this,et=this.props,tt=et.data,rt=et.layout,nt=et.isAnimationActive,st=et.animationBegin,it=et.animationDuration,at=et.animationEasing,ot=et.animationId,ct=this.state.prevData;return React.createElement(Animate,{begin:st,duration:it,isActive:nt,easing:at,from:{t:0},to:{t:1},key:"bar-".concat(ot),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(dt){var pt=dt.t,ut=tt.map(function(lt,ft){var ht=ct&&ct[ft];if(ht){var yt=interpolateNumber$2(ht.x,lt.x),vt=interpolateNumber$2(ht.y,lt.y),gt=interpolateNumber$2(ht.width,lt.width),bt=interpolateNumber$2(ht.height,lt.height);return _objectSpread$a(_objectSpread$a({},lt),{},{x:yt(pt),y:vt(pt),width:gt(pt),height:bt(pt)})}if(rt==="horizontal"){var mt=interpolateNumber$2(0,lt.height),Et=mt(pt);return _objectSpread$a(_objectSpread$a({},lt),{},{y:lt.y+lt.height-Et,height:Et})}var Rt=interpolateNumber$2(0,lt.width),Tt=Rt(pt);return _objectSpread$a(_objectSpread$a({},lt),{},{width:Tt})});return React.createElement(Layer,null,_e.renderRectanglesStatically(ut))})}},{key:"renderRectangles",value:function(){var _e=this.props,et=_e.data,tt=_e.isAnimationActive,rt=this.state.prevData;return tt&&et&&et.length&&(!rt||!isEqual$1(rt,et))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(et)}},{key:"renderBackground",value:function(){var _e=this,et=this.props,tt=et.data,rt=et.dataKey,nt=et.activeIndex,st=filterProps(this.props.background,!1);return tt.map(function(it,at){it.value;var ot=it.background,ct=_objectWithoutProperties$4(it,_excluded$4);if(!ot)return null;var dt=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},ct),{},{fill:"#eee"},ot),st),adaptEventsOfChild(_e.props,it,at)),{},{onAnimationStart:_e.handleAnimationStart,onAnimationEnd:_e.handleAnimationEnd,dataKey:rt,index:at,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(at),option:_e.props.background,isActive:at===nt},dt))})}},{key:"renderErrorBar",value:function(_e,et){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var tt=this.props,rt=tt.data,nt=tt.xAxis,st=tt.yAxis,it=tt.layout,at=tt.children,ot=findAllByType(at,ErrorBar);if(!ot)return null;var ct=it==="vertical"?rt[0].height/2:rt[0].width/2,dt=function(lt,ft){var ht=Array.isArray(lt.value)?lt.value[1]:lt.value;return{x:lt.x,y:lt.y,value:ht,errorVal:getValueByDataKey(lt,ft)}},pt={clipPath:_e?"url(#clipPath-".concat(et,")"):null};return React.createElement(Layer,pt,ot.map(function(ut){return React.cloneElement(ut,{key:"error-bar-".concat(et,"-").concat(ut.props.dataKey),data:rt,xAxis:nt,yAxis:st,layout:it,offset:ct,dataPointFormatter:dt})}))}},{key:"render",value:function(){var _e=this.props,et=_e.hide,tt=_e.data,rt=_e.className,nt=_e.xAxis,st=_e.yAxis,it=_e.left,at=_e.top,ot=_e.width,ct=_e.height,dt=_e.isAnimationActive,pt=_e.background,ut=_e.id;if(et||!tt||!tt.length)return null;var lt=this.state.isAnimationFinished,ft=clsx("recharts-bar",rt),ht=nt&&nt.allowDataOverflow,yt=st&&st.allowDataOverflow,vt=ht||yt,gt=isNil$1(ut)?this.id:ut;return React.createElement(Layer,{className:ft},ht||yt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(gt)},React.createElement("rect",{x:ht?it:it-ot/2,y:yt?at:at-ct/2,width:ht?ot:ot*2,height:yt?ct:ct*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:vt?"url(#clipPath-".concat(gt,")"):null},pt?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(vt,gt),(!dt||lt)&&LabelList.renderCallByParent(this.props,tt))}}],[{key:"getDerivedStateFromProps",value:function(_e,et){return _e.animationId!==et.prevAnimationId?{prevAnimationId:_e.animationId,curData:_e.data,prevData:et.curData}:_e.data!==et.curData?{curData:_e.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$d(Bar,"displayName","Bar");_defineProperty$d(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$d(Bar,"getComposedData",function(j){var _=j.props,$=j.item,_e=j.barPosition,et=j.bandSize,tt=j.xAxis,rt=j.yAxis,nt=j.xAxisTicks,st=j.yAxisTicks,it=j.stackedData,at=j.dataStartIndex,ot=j.displayedData,ct=j.offset,dt=findPositionOfBar(_e,$);if(!dt)return null;var pt=_.layout,ut=$.type.defaultProps,lt=ut!==void 0?_objectSpread$a(_objectSpread$a({},ut),$.props):$.props,ft=lt.dataKey,ht=lt.children,yt=lt.minPointSize,vt=pt==="horizontal"?rt:tt,gt=it?vt.scale.domain():null,bt=getBaseValueOfBar({numericAxis:vt}),mt=findAllByType(ht,Cell),Et=ot.map(function(Rt,Tt){var jt,xt,Ct,kt,Nt,St;it?jt=truncateByDomain(it[at+Tt],gt):(jt=getValueByDataKey(Rt,ft),Array.isArray(jt)||(jt=[bt,jt]));var Ot=minPointSizeCallback(yt,_Bar.defaultProps.minPointSize)(jt[1],Tt);if(pt==="horizontal"){var Pt,wt=[rt.scale(jt[0]),rt.scale(jt[1])],Dt=wt[0],Vt=wt[1];xt=getCateCoordinateOfBar({axis:tt,ticks:nt,bandSize:et,offset:dt.offset,entry:Rt,index:Tt}),Ct=(Pt=Vt??Dt)!==null&&Pt!==void 0?Pt:void 0,kt=dt.size;var It=Dt-Vt;if(Nt=Number.isNaN(It)?0:It,St={x:xt,y:rt.y,width:kt,height:rt.height},Math.abs(Ot)>0&&Math.abs(Nt)<Math.abs(Ot)){var At=mathSign(Nt||Ot)*(Math.abs(Ot)-Math.abs(Nt));Ct-=At,Nt+=At}}else{var $t=[tt.scale(jt[0]),tt.scale(jt[1])],Mt=$t[0],Ht=$t[1];if(xt=Mt,Ct=getCateCoordinateOfBar({axis:rt,ticks:st,bandSize:et,offset:dt.offset,entry:Rt,index:Tt}),kt=Ht-Mt,Nt=dt.size,St={x:tt.x,y:Ct,width:tt.width,height:Nt},Math.abs(Ot)>0&&Math.abs(kt)<Math.abs(Ot)){var Bt=mathSign(kt||Ot)*(Math.abs(Ot)-Math.abs(kt));kt+=Bt}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},Rt),{},{x:xt,y:Ct,width:kt,height:Nt,value:it?jt:jt[1],payload:Rt,background:St},mt&&mt[Tt]&&mt[Tt].props),{},{tooltipPayload:[getTooltipItem($,Rt)],tooltipPosition:{x:xt+kt/2,y:Ct+Nt/2}})});return _objectSpread$a({data:Et,layout:pt},ct)});function _typeof$c(j){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$c(j)}function _classCallCheck$9(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$c(_e.key),_e)}}function _createClass$9(j,_,$){return _&&_defineProperties$9(j.prototype,_),$&&_defineProperties$9(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function ownKeys$9(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$9(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$9(Object($),!0).forEach(function(_e){_defineProperty$c(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$9(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$c(j,_,$){return _=_toPropertyKey$c(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$c(j){var _=_toPrimitive$c(j,"string");return _typeof$c(_)=="symbol"?_:_+""}function _toPrimitive$c(j,_){if(_typeof$c(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$c(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var formatAxisMap=function j(_,$,_e,et,tt){var rt=_.width,nt=_.height,st=_.layout,it=_.children,at=Object.keys($),ot={left:_e.left,leftMirror:_e.left,right:rt-_e.right,rightMirror:rt-_e.right,top:_e.top,topMirror:_e.top,bottom:nt-_e.bottom,bottomMirror:nt-_e.bottom},ct=!!findChildByType(it,Bar);return at.reduce(function(dt,pt){var ut=$[pt],lt=ut.orientation,ft=ut.domain,ht=ut.padding,yt=ht===void 0?{}:ht,vt=ut.mirror,gt=ut.reversed,bt="".concat(lt).concat(vt?"Mirror":""),mt,Et,Rt,Tt,jt;if(ut.type==="number"&&(ut.padding==="gap"||ut.padding==="no-gap")){var xt=ft[1]-ft[0],Ct=1/0,kt=ut.categoricalDomain.sort();if(kt.forEach(function($t,Mt){Mt>0&&(Ct=Math.min(($t||0)-(kt[Mt-1]||0),Ct))}),Number.isFinite(Ct)){var Nt=Ct/xt,St=ut.layout==="vertical"?_e.height:_e.width;if(ut.padding==="gap"&&(mt=Nt*St/2),ut.padding==="no-gap"){var Ot=getPercentValue(_.barCategoryGap,Nt*St),Pt=Nt*St/2;mt=Pt-Ot-(Pt-Ot)/St*Ot}}}et==="xAxis"?Et=[_e.left+(yt.left||0)+(mt||0),_e.left+_e.width-(yt.right||0)-(mt||0)]:et==="yAxis"?Et=st==="horizontal"?[_e.top+_e.height-(yt.bottom||0),_e.top+(yt.top||0)]:[_e.top+(yt.top||0)+(mt||0),_e.top+_e.height-(yt.bottom||0)-(mt||0)]:Et=ut.range,gt&&(Et=[Et[1],Et[0]]);var wt=parseScale(ut,tt,ct),Dt=wt.scale,Vt=wt.realScaleType;Dt.domain(ft).range(Et),checkDomainOfScale(Dt);var It=getTicksOfScale(Dt,_objectSpread$9(_objectSpread$9({},ut),{},{realScaleType:Vt}));et==="xAxis"?(jt=lt==="top"&&!vt||lt==="bottom"&&vt,Rt=_e.left,Tt=ot[bt]-jt*ut.height):et==="yAxis"&&(jt=lt==="left"&&!vt||lt==="right"&&vt,Rt=ot[bt]-jt*ut.width,Tt=_e.top);var At=_objectSpread$9(_objectSpread$9(_objectSpread$9({},ut),It),{},{realScaleType:Vt,x:Rt,y:Tt,scale:Dt,width:et==="xAxis"?_e.width:ut.width,height:et==="yAxis"?_e.height:ut.height});return At.bandSize=getBandSizeOfAxis(At,It),!ut.hide&&et==="xAxis"?ot[bt]+=(jt?-1:1)*At.height:ut.hide||(ot[bt]+=(jt?-1:1)*At.width),_objectSpread$9(_objectSpread$9({},dt),{},_defineProperty$c({},pt,At))},{})},rectWithPoints=function j(_,$){var _e=_.x,et=_.y,tt=$.x,rt=$.y;return{x:Math.min(_e,tt),y:Math.min(et,rt),width:Math.abs(tt-_e),height:Math.abs(rt-et)}},rectWithCoords=function j(_){var $=_.x1,_e=_.y1,et=_.x2,tt=_.y2;return rectWithPoints({x:$,y:_e},{x:et,y:tt})},ScaleHelper=function(){function j(_){_classCallCheck$9(this,j),this.scale=_}return _createClass$9(j,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=_e.bandAware,tt=_e.position;if($!==void 0){if(tt)switch(tt){case"start":return this.scale($);case"middle":{var rt=this.bandwidth?this.bandwidth()/2:0;return this.scale($)+rt}case"end":{var nt=this.bandwidth?this.bandwidth():0;return this.scale($)+nt}default:return this.scale($)}if(et){var st=this.bandwidth?this.bandwidth()/2:0;return this.scale($)+st}return this.scale($)}}},{key:"isInRange",value:function($){var _e=this.range(),et=_e[0],tt=_e[_e.length-1];return et<=tt?$>=et&&$<=tt:$>=tt&&$<=et}}],[{key:"create",value:function($){return new j($)}}])}();_defineProperty$c(ScaleHelper,"EPS",1e-4);var createLabeledScales=function j(_){var $=Object.keys(_).reduce(function(_e,et){return _objectSpread$9(_objectSpread$9({},_e),{},_defineProperty$c({},et,ScaleHelper.create(_[et])))},{});return _objectSpread$9(_objectSpread$9({},$),{},{apply:function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=tt.bandAware,nt=tt.position;return mapValues$1(et,function(st,it){return $[it].apply(st,{bandAware:rt,position:nt})})},isInRange:function(et){return every$1(et,function(tt,rt){return $[rt].isInRange(tt)})}})};function normalizeAngle(j){return(j%180+180)%180}var getAngledRectangleWidth=function j(_){var $=_.width,_e=_.height,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,tt=normalizeAngle(et),rt=tt*Math.PI/180,nt=Math.atan(_e/$),st=rt>nt&&rt<Math.PI-nt?_e/Math.sin(rt):$/Math.cos(rt);return Math.abs(st)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(j){return function(_,$,_e){var et=Object(_);if(!isArrayLike(_)){var tt=baseIteratee$1($);_=keys(_),$=function(nt){return tt(et[nt],nt,et)}}var rt=j(_,$,_e);return rt>-1?et[tt?_[rt]:rt]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(j){var _=toFinite(j),$=_%1;return _===_?$?_-$:_:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(j,_,$){var _e=j==null?0:j.length;if(!_e)return-1;var et=$==null?0:toInteger($);return et<0&&(et=nativeMax(_e+et,0)),baseFindIndex(j,baseIteratee(_),et)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(j){return{x:j.left,y:j.top,width:j.width,height:j.height}},function(j){return["l",j.left,"t",j.top,"w",j.width,"h",j.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function j(_){var $=_.state,_e=$.xAxisMap,et=$.yAxisMap,tt=$.offset,rt=_.clipPathId,nt=_.children,st=_.width,it=_.height,at=calculateViewBox(tt);return React.createElement(XAxisContext.Provider,{value:_e},React.createElement(YAxisContext.Provider,{value:et},React.createElement(OffsetContext.Provider,{value:tt},React.createElement(ViewBoxContext.Provider,{value:at},React.createElement(ClipPathIdContext.Provider,{value:rt},React.createElement(ChartHeightContext.Provider,{value:it},React.createElement(ChartWidthContext.Provider,{value:st},nt)))))))},useClipPathId=function j(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function j(_){var $=reactExports.useContext(XAxisContext);$==null&&invariant();var _e=$[_];return _e==null&&invariant(),_e},useArbitraryXAxis=function j(){var _=reactExports.useContext(XAxisContext);return getAnyElementOfObject(_)},useYAxisWithFiniteDomainOrRandom=function j(){var _=reactExports.useContext(YAxisContext),$=find$1(_,function(_e){return every$1(_e.domain,Number.isFinite)});return $||getAnyElementOfObject(_)},useYAxisOrThrow=function j(_){var $=reactExports.useContext(YAxisContext);$==null&&invariant();var _e=$[_];return _e==null&&invariant(),_e},useViewBox=function j(){var _=reactExports.useContext(ViewBoxContext);return _},useOffset=function j(){return reactExports.useContext(OffsetContext)},useChartWidth=function j(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function j(){return reactExports.useContext(ChartHeightContext)};function _typeof$b(j){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$b(j)}function _classCallCheck$8(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$b(_e.key),_e)}}function _createClass$8(j,_,$){return _&&_defineProperties$8(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$7(j,_,$){return _=_getPrototypeOf$7(_),_possibleConstructorReturn$7(j,_isNativeReflectConstruct$7()?Reflect.construct(_,$||[],_getPrototypeOf$7(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$7(j,_){if(_&&(_typeof$b(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(j)}function _assertThisInitialized$7(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$7(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!j})()}function _getPrototypeOf$7(j){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$7(j)}function _inherits$7(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$7(j,_)}function _setPrototypeOf$7(j,_){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$7(j,_)}function ownKeys$8(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$8(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$8(Object($),!0).forEach(function(_e){_defineProperty$b(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$8(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$b(j,_,$){return _=_toPropertyKey$b(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$b(j){var _=_toPrimitive$b(j,"string");return _typeof$b(_)=="symbol"?_:_+""}function _toPrimitive$b(j,_){if(_typeof$b(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$b(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _slicedToArray$1(j,_){return _arrayWithHoles$1(j)||_iterableToArrayLimit$1(j,_)||_unsupportedIterableToArray$3(j,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$3(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$3(j,_)}}function _arrayLikeToArray$3(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _iterableToArrayLimit$1(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles$1(j){if(Array.isArray(j))return j}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$8.apply(this,arguments)}var renderLine=function j(_,$){var _e;return React.isValidElement(_)?_e=React.cloneElement(_,$):isFunction$3(_)?_e=_($):_e=React.createElement("line",_extends$8({},$,{className:"recharts-reference-line-line"})),_e},getEndPoints=function j(_,$,_e,et,tt,rt,nt,st,it){var at=tt.x,ot=tt.y,ct=tt.width,dt=tt.height;if(_e){var pt=it.y,ut=_.y.apply(pt,{position:rt});if(ifOverflowMatches(it,"discard")&&!_.y.isInRange(ut))return null;var lt=[{x:at+ct,y:ut},{x:at,y:ut}];return st==="left"?lt.reverse():lt}if($){var ft=it.x,ht=_.x.apply(ft,{position:rt});if(ifOverflowMatches(it,"discard")&&!_.x.isInRange(ht))return null;var yt=[{x:ht,y:ot+dt},{x:ht,y:ot}];return nt==="top"?yt.reverse():yt}if(et){var vt=it.segment,gt=vt.map(function(bt){return _.apply(bt,{position:rt})});return ifOverflowMatches(it,"discard")&&some$1(gt,function(bt){return!_.isInRange(bt)})?null:gt}return null};function ReferenceLineImpl(j){var _=j.x,$=j.y,_e=j.segment,et=j.xAxisId,tt=j.yAxisId,rt=j.shape,nt=j.className,st=j.alwaysShow,it=useClipPathId(),at=useXAxisOrThrow(et),ot=useYAxisOrThrow(tt),ct=useViewBox();if(!it||!ct)return null;warn(st===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dt=createLabeledScales({x:at.scale,y:ot.scale}),pt=isNumOrStr(_),ut=isNumOrStr($),lt=_e&&_e.length===2,ft=getEndPoints(dt,pt,ut,lt,ct,j.position,at.orientation,ot.orientation,j);if(!ft)return null;var ht=_slicedToArray$1(ft,2),yt=ht[0],vt=yt.x,gt=yt.y,bt=ht[1],mt=bt.x,Et=bt.y,Rt=ifOverflowMatches(j,"hidden")?"url(#".concat(it,")"):void 0,Tt=_objectSpread$8(_objectSpread$8({clipPath:Rt},filterProps(j,!0)),{},{x1:vt,y1:gt,x2:mt,y2:Et});return React.createElement(Layer,{className:clsx("recharts-reference-line",nt)},renderLine(rt,Tt),Label.renderCallByParent(j,rectWithCoords({x1:vt,y1:gt,x2:mt,y2:Et})))}var ReferenceLine=function(j){function _(){return _classCallCheck$8(this,_),_callSuper$7(this,_,arguments)}return _inherits$7(_,j),_createClass$8(_,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$b(ReferenceLine,"displayName","ReferenceLine");_defineProperty$b(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$7.apply(this,arguments)}function _typeof$a(j){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$a(j)}function ownKeys$7(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$7(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$7(Object($),!0).forEach(function(_e){_defineProperty$a(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$7(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$7(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$a(_e.key),_e)}}function _createClass$7(j,_,$){return _&&_defineProperties$7(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$6(j,_,$){return _=_getPrototypeOf$6(_),_possibleConstructorReturn$6(j,_isNativeReflectConstruct$6()?Reflect.construct(_,$||[],_getPrototypeOf$6(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$6(j,_){if(_&&(_typeof$a(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(j)}function _assertThisInitialized$6(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$6(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!j})()}function _getPrototypeOf$6(j){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$6(j)}function _inherits$6(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$6(j,_)}function _setPrototypeOf$6(j,_){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$6(j,_)}function _defineProperty$a(j,_,$){return _=_toPropertyKey$a(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$a(j){var _=_toPrimitive$a(j,"string");return _typeof$a(_)=="symbol"?_:_+""}function _toPrimitive$a(j,_){if(_typeof$a(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$a(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getCoordinate=function j(_){var $=_.x,_e=_.y,et=_.xAxis,tt=_.yAxis,rt=createLabeledScales({x:et.scale,y:tt.scale}),nt=rt.apply({x:$,y:_e},{bandAware:!0});return ifOverflowMatches(_,"discard")&&!rt.isInRange(nt)?null:nt},ReferenceDot=function(j){function _(){return _classCallCheck$7(this,_),_callSuper$6(this,_,arguments)}return _inherits$6(_,j),_createClass$7(_,[{key:"render",value:function(){var _e=this.props,et=_e.x,tt=_e.y,rt=_e.r,nt=_e.alwaysShow,st=_e.clipPathId,it=isNumOrStr(et),at=isNumOrStr(tt);if(warn(nt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!it||!at)return null;var ot=getCoordinate(this.props);if(!ot)return null;var ct=ot.x,dt=ot.y,pt=this.props,ut=pt.shape,lt=pt.className,ft=ifOverflowMatches(this.props,"hidden")?"url(#".concat(st,")"):void 0,ht=_objectSpread$7(_objectSpread$7({clipPath:ft},filterProps(this.props,!0)),{},{cx:ct,cy:dt});return React.createElement(Layer,{className:clsx("recharts-reference-dot",lt)},_.renderDot(ut,ht),Label.renderCallByParent(this.props,{x:ct-rt,y:dt-rt,width:2*rt,height:2*rt}))}}])}(React.Component);_defineProperty$a(ReferenceDot,"displayName","ReferenceDot");_defineProperty$a(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$a(ReferenceDot,"renderDot",function(j,_){var $;return React.isValidElement(j)?$=React.cloneElement(j,_):isFunction$3(j)?$=j(_):$=React.createElement(Dot,_extends$7({},_,{cx:_.cx,cy:_.cy,className:"recharts-reference-dot-dot"})),$});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$6.apply(this,arguments)}function _typeof$9(j){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$9(j)}function ownKeys$6(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$6(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$6(Object($),!0).forEach(function(_e){_defineProperty$9(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$6(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _classCallCheck$6(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$9(_e.key),_e)}}function _createClass$6(j,_,$){return _&&_defineProperties$6(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$5(j,_,$){return _=_getPrototypeOf$5(_),_possibleConstructorReturn$5(j,_isNativeReflectConstruct$5()?Reflect.construct(_,$||[],_getPrototypeOf$5(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$5(j,_){if(_&&(_typeof$9(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(j)}function _assertThisInitialized$5(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$5(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!j})()}function _getPrototypeOf$5(j){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$5(j)}function _inherits$5(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$5(j,_)}function _setPrototypeOf$5(j,_){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$5(j,_)}function _defineProperty$9(j,_,$){return _=_toPropertyKey$9(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$9(j){var _=_toPrimitive$9(j,"string");return _typeof$9(_)=="symbol"?_:_+""}function _toPrimitive$9(j,_){if(_typeof$9(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$9(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var getRect=function j(_,$,_e,et,tt){var rt=tt.x1,nt=tt.x2,st=tt.y1,it=tt.y2,at=tt.xAxis,ot=tt.yAxis;if(!at||!ot)return null;var ct=createLabeledScales({x:at.scale,y:ot.scale}),dt={x:_?ct.x.apply(rt,{position:"start"}):ct.x.rangeMin,y:_e?ct.y.apply(st,{position:"start"}):ct.y.rangeMin},pt={x:$?ct.x.apply(nt,{position:"end"}):ct.x.rangeMax,y:et?ct.y.apply(it,{position:"end"}):ct.y.rangeMax};return ifOverflowMatches(tt,"discard")&&(!ct.isInRange(dt)||!ct.isInRange(pt))?null:rectWithPoints(dt,pt)},ReferenceArea=function(j){function _(){return _classCallCheck$6(this,_),_callSuper$5(this,_,arguments)}return _inherits$5(_,j),_createClass$6(_,[{key:"render",value:function(){var _e=this.props,et=_e.x1,tt=_e.x2,rt=_e.y1,nt=_e.y2,st=_e.className,it=_e.alwaysShow,at=_e.clipPathId;warn(it===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ot=isNumOrStr(et),ct=isNumOrStr(tt),dt=isNumOrStr(rt),pt=isNumOrStr(nt),ut=this.props.shape;if(!ot&&!ct&&!dt&&!pt&&!ut)return null;var lt=getRect(ot,ct,dt,pt,this.props);if(!lt&&!ut)return null;var ft=ifOverflowMatches(this.props,"hidden")?"url(#".concat(at,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",st)},_.renderRect(ut,_objectSpread$6(_objectSpread$6({clipPath:ft},filterProps(this.props,!0)),lt)),Label.renderCallByParent(this.props,lt))}}])}(React.Component);_defineProperty$9(ReferenceArea,"displayName","ReferenceArea");_defineProperty$9(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$9(ReferenceArea,"renderRect",function(j,_){var $;return React.isValidElement(j)?$=React.cloneElement(j,_):isFunction$3(j)?$=j(_):$=React.createElement(Rectangle,_extends$6({},_,{className:"recharts-reference-area-rect"})),$});function getEveryNthWithCondition(j,_,$){if(_<1)return[];if(_===1&&$===void 0)return j;for(var _e=[],et=0;et<j.length;et+=_)_e.push(j[et]);return _e}function getAngledTickWidth(j,_,$){var _e={width:j.width+_.width,height:j.height+_.height};return getAngledRectangleWidth(_e,$)}function getTickBoundaries(j,_,$){var _e=$==="width",et=j.x,tt=j.y,rt=j.width,nt=j.height;return _===1?{start:_e?et:tt,end:_e?et+rt:tt+nt}:{start:_e?et+rt:tt+nt,end:_e?et:tt}}function isVisible(j,_,$,_e,et){if(j*_<j*_e||j*_>j*et)return!1;var tt=$();return j*(_-j*tt/2-_e)>=0&&j*(_+j*tt/2-et)<=0}function getNumberIntervalTicks(j,_){return getEveryNthWithCondition(j,_+1)}function getEquidistantTicks(j,_,$,_e,et){for(var tt=(_e||[]).slice(),rt=_.start,nt=_.end,st=0,it=1,at=rt,ot=function(){var pt=_e==null?void 0:_e[st];if(pt===void 0)return{v:getEveryNthWithCondition(_e,it)};var ut=st,lt,ft=function(){return lt===void 0&&(lt=$(pt,ut)),lt},ht=pt.coordinate,yt=st===0||isVisible(j,ht,ft,at,nt);yt||(st=0,at=rt,it+=1),yt&&(at=ht+j*(ft()/2+et),st+=it)},ct;it<=tt.length;)if(ct=ot(),ct)return ct.v;return[]}function _typeof$8(j){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$8(j)}function ownKeys$5(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$5(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$5(Object($),!0).forEach(function(_e){_defineProperty$8(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$5(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$8(j,_,$){return _=_toPropertyKey$8(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$8(j){var _=_toPrimitive$8(j,"string");return _typeof$8(_)=="symbol"?_:_+""}function _toPrimitive$8(j,_){if(_typeof$8(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$8(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function getTicksEnd(j,_,$,_e,et){for(var tt=(_e||[]).slice(),rt=tt.length,nt=_.start,st=_.end,it=function(ct){var dt=tt[ct],pt,ut=function(){return pt===void 0&&(pt=$(dt,ct)),pt};if(ct===rt-1){var lt=j*(dt.coordinate+j*ut()/2-st);tt[ct]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:lt>0?dt.coordinate-lt*j:dt.coordinate})}else tt[ct]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:dt.coordinate});var ft=isVisible(j,dt.tickCoord,ut,nt,st);ft&&(st=dt.tickCoord-j*(ut()/2+et),tt[ct]=_objectSpread$5(_objectSpread$5({},dt),{},{isShow:!0}))},at=rt-1;at>=0;at--)it(at);return tt}function getTicksStart(j,_,$,_e,et,tt){var rt=(_e||[]).slice(),nt=rt.length,st=_.start,it=_.end;if(tt){var at=_e[nt-1],ot=$(at,nt-1),ct=j*(at.coordinate+j*ot/2-it);rt[nt-1]=at=_objectSpread$5(_objectSpread$5({},at),{},{tickCoord:ct>0?at.coordinate-ct*j:at.coordinate});var dt=isVisible(j,at.tickCoord,function(){return ot},st,it);dt&&(it=at.tickCoord-j*(ot/2+et),rt[nt-1]=_objectSpread$5(_objectSpread$5({},at),{},{isShow:!0}))}for(var pt=tt?nt-1:nt,ut=function(ht){var yt=rt[ht],vt,gt=function(){return vt===void 0&&(vt=$(yt,ht)),vt};if(ht===0){var bt=j*(yt.coordinate-j*gt()/2-st);rt[ht]=yt=_objectSpread$5(_objectSpread$5({},yt),{},{tickCoord:bt<0?yt.coordinate-bt*j:yt.coordinate})}else rt[ht]=yt=_objectSpread$5(_objectSpread$5({},yt),{},{tickCoord:yt.coordinate});var mt=isVisible(j,yt.tickCoord,gt,st,it);mt&&(st=yt.tickCoord+j*(gt()/2+et),rt[ht]=_objectSpread$5(_objectSpread$5({},yt),{},{isShow:!0}))},lt=0;lt<pt;lt++)ut(lt);return rt}function getTicks(j,_,$){var _e=j.tick,et=j.ticks,tt=j.viewBox,rt=j.minTickGap,nt=j.orientation,st=j.interval,it=j.tickFormatter,at=j.unit,ot=j.angle;if(!et||!et.length||!_e)return[];if(isNumber(st)||Global.isSsr)return getNumberIntervalTicks(et,typeof st=="number"&&isNumber(st)?st:0);var ct=[],dt=nt==="top"||nt==="bottom"?"width":"height",pt=at&&dt==="width"?getStringSize(at,{fontSize:_,letterSpacing:$}):{width:0,height:0},ut=function(yt,vt){var gt=isFunction$3(it)?it(yt.value,vt):yt.value;return dt==="width"?getAngledTickWidth(getStringSize(gt,{fontSize:_,letterSpacing:$}),pt,ot):getStringSize(gt,{fontSize:_,letterSpacing:$})[dt]},lt=et.length>=2?mathSign(et[1].coordinate-et[0].coordinate):1,ft=getTickBoundaries(tt,lt,dt);return st==="equidistantPreserveStart"?getEquidistantTicks(lt,ft,ut,et,rt):(st==="preserveStart"||st==="preserveStartEnd"?ct=getTicksStart(lt,ft,ut,et,rt,st==="preserveStartEnd"):ct=getTicksEnd(lt,ft,ut,et,rt),ct.filter(function(ht){return ht.isShow}))}var _excluded$3=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7(j){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$7(j)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$5.apply(this,arguments)}function ownKeys$4(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$4(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$4(Object($),!0).forEach(function(_e){_defineProperty$7(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$4(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _objectWithoutProperties$3(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$3(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$3(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _classCallCheck$5(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$7(_e.key),_e)}}function _createClass$5(j,_,$){return _&&_defineProperties$5(j.prototype,_),$&&_defineProperties$5(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$4(j,_,$){return _=_getPrototypeOf$4(_),_possibleConstructorReturn$4(j,_isNativeReflectConstruct$4()?Reflect.construct(_,$||[],_getPrototypeOf$4(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$4(j,_){if(_&&(_typeof$7(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(j)}function _assertThisInitialized$4(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$4(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!j})()}function _getPrototypeOf$4(j){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$4(j)}function _inherits$4(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$4(j,_)}function _setPrototypeOf$4(j,_){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$4(j,_)}function _defineProperty$7(j,_,$){return _=_toPropertyKey$7(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$7(j){var _=_toPrimitive$7(j,"string");return _typeof$7(_)=="symbol"?_:_+""}function _toPrimitive$7(j,_){if(_typeof$7(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$7(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var CartesianAxis=function(j){function _($){var _e;return _classCallCheck$5(this,_),_e=_callSuper$4(this,_,[$]),_e.state={fontSize:"",letterSpacing:""},_e}return _inherits$4(_,j),_createClass$5(_,[{key:"shouldComponentUpdate",value:function(_e,et){var tt=_e.viewBox,rt=_objectWithoutProperties$3(_e,_excluded$3),nt=this.props,st=nt.viewBox,it=_objectWithoutProperties$3(nt,_excluded2$3);return!shallowEqual(tt,st)||!shallowEqual(rt,it)||!shallowEqual(et,this.state)}},{key:"componentDidMount",value:function(){var _e=this.layerReference;if(_e){var et=_e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];et&&this.setState({fontSize:window.getComputedStyle(et).fontSize,letterSpacing:window.getComputedStyle(et).letterSpacing})}}},{key:"getTickLineCoord",value:function(_e){var et=this.props,tt=et.x,rt=et.y,nt=et.width,st=et.height,it=et.orientation,at=et.tickSize,ot=et.mirror,ct=et.tickMargin,dt,pt,ut,lt,ft,ht,yt=ot?-1:1,vt=_e.tickSize||at,gt=isNumber(_e.tickCoord)?_e.tickCoord:_e.coordinate;switch(it){case"top":dt=pt=_e.coordinate,lt=rt+ +!ot*st,ut=lt-yt*vt,ht=ut-yt*ct,ft=gt;break;case"left":ut=lt=_e.coordinate,pt=tt+ +!ot*nt,dt=pt-yt*vt,ft=dt-yt*ct,ht=gt;break;case"right":ut=lt=_e.coordinate,pt=tt+ +ot*nt,dt=pt+yt*vt,ft=dt+yt*ct,ht=gt;break;default:dt=pt=_e.coordinate,lt=rt+ +ot*st,ut=lt+yt*vt,ht=ut+yt*ct,ft=gt;break}return{line:{x1:dt,y1:ut,x2:pt,y2:lt},tick:{x:ft,y:ht}}}},{key:"getTickTextAnchor",value:function(){var _e=this.props,et=_e.orientation,tt=_e.mirror,rt;switch(et){case"left":rt=tt?"start":"end";break;case"right":rt=tt?"end":"start";break;default:rt="middle";break}return rt}},{key:"getTickVerticalAnchor",value:function(){var _e=this.props,et=_e.orientation,tt=_e.mirror,rt="end";switch(et){case"left":case"right":rt="middle";break;case"top":rt=tt?"start":"end";break;default:rt=tt?"end":"start";break}return rt}},{key:"renderAxisLine",value:function(){var _e=this.props,et=_e.x,tt=_e.y,rt=_e.width,nt=_e.height,st=_e.orientation,it=_e.mirror,at=_e.axisLine,ot=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(at,!1)),{},{fill:"none"});if(st==="top"||st==="bottom"){var ct=+(st==="top"&&!it||st==="bottom"&&it);ot=_objectSpread$4(_objectSpread$4({},ot),{},{x1:et,y1:tt+ct*nt,x2:et+rt,y2:tt+ct*nt})}else{var dt=+(st==="left"&&!it||st==="right"&&it);ot=_objectSpread$4(_objectSpread$4({},ot),{},{x1:et+dt*rt,y1:tt,x2:et+dt*rt,y2:tt+nt})}return React.createElement("line",_extends$5({},ot,{className:clsx("recharts-cartesian-axis-line",get$2(at,"className"))}))}},{key:"renderTicks",value:function(_e,et,tt){var rt=this,nt=this.props,st=nt.tickLine,it=nt.stroke,at=nt.tick,ot=nt.tickFormatter,ct=nt.unit,dt=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:_e}),et,tt),pt=this.getTickTextAnchor(),ut=this.getTickVerticalAnchor(),lt=filterProps(this.props,!1),ft=filterProps(at,!1),ht=_objectSpread$4(_objectSpread$4({},lt),{},{fill:"none"},filterProps(st,!1)),yt=dt.map(function(vt,gt){var bt=rt.getTickLineCoord(vt),mt=bt.line,Et=bt.tick,Rt=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:pt,verticalAnchor:ut},lt),{},{stroke:"none",fill:it},ft),Et),{},{index:gt,payload:vt,visibleTicksCount:dt.length,tickFormatter:ot});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(vt.value,"-").concat(vt.coordinate,"-").concat(vt.tickCoord)},adaptEventsOfChild(rt.props,vt,gt)),st&&React.createElement("line",_extends$5({},ht,mt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(st,"className"))})),at&&_.renderTickItem(at,Rt,"".concat(isFunction$3(ot)?ot(vt.value,gt):vt.value).concat(ct||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},yt)}},{key:"render",value:function(){var _e=this,et=this.props,tt=et.axisLine,rt=et.width,nt=et.height,st=et.ticksGenerator,it=et.className,at=et.hide;if(at)return null;var ot=this.props,ct=ot.ticks,dt=_objectWithoutProperties$3(ot,_excluded3),pt=ct;return isFunction$3(st)&&(pt=ct&&ct.length>0?st(this.props):st(dt)),rt<=0||nt<=0||!pt||!pt.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",it),ref:function(lt){_e.layerReference=lt}},tt&&this.renderAxisLine(),this.renderTicks(pt,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(_e,et,tt){var rt;return React.isValidElement(_e)?rt=React.cloneElement(_e,et):isFunction$3(_e)?rt=_e(et):rt=React.createElement(Text,_extends$5({},et,{className:"recharts-cartesian-axis-tick-value"}),tt),rt}}])}(reactExports.Component);_defineProperty$7(CartesianAxis,"displayName","CartesianAxis");_defineProperty$7(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$2=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$6(j){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$6(j)}function ownKeys$3(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$3(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object($),!0).forEach(function(_e){_defineProperty$6(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$3(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$6(j,_,$){return _=_toPropertyKey$6(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$6(j){var _=_toPrimitive$6(j,"string");return _typeof$6(_)=="symbol"?_:_+""}function _toPrimitive$6(j,_){if(_typeof$6(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$6(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$4.apply(this,arguments)}function _objectWithoutProperties$2(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$2(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$2(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}var Background=function j(_){var $=_.fill;if(!$||$==="none")return null;var _e=_.fillOpacity,et=_.x,tt=_.y,rt=_.width,nt=_.height,st=_.ry;return React.createElement("rect",{x:et,y:tt,ry:st,width:rt,height:nt,stroke:"none",fill:$,fillOpacity:_e,className:"recharts-cartesian-grid-bg"})};function renderLineItem(j,_){var $;if(React.isValidElement(j))$=React.cloneElement(j,_);else if(isFunction$3(j))$=j(_);else{var _e=_.x1,et=_.y1,tt=_.x2,rt=_.y2,nt=_.key,st=_objectWithoutProperties$2(_,_excluded$2),it=filterProps(st,!1);it.offset;var at=_objectWithoutProperties$2(it,_excluded2$2);$=React.createElement("line",_extends$4({},at,{x1:_e,y1:et,x2:tt,y2:rt,fill:"none",key:nt}))}return $}function HorizontalGridLines(j){var _=j.x,$=j.width,_e=j.horizontal,et=_e===void 0?!0:_e,tt=j.horizontalPoints;if(!et||!tt||!tt.length)return null;var rt=tt.map(function(nt,st){var it=_objectSpread$3(_objectSpread$3({},j),{},{x1:_,y1:nt,x2:_+$,y2:nt,key:"line-".concat(st),index:st});return renderLineItem(et,it)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},rt)}function VerticalGridLines(j){var _=j.y,$=j.height,_e=j.vertical,et=_e===void 0?!0:_e,tt=j.verticalPoints;if(!et||!tt||!tt.length)return null;var rt=tt.map(function(nt,st){var it=_objectSpread$3(_objectSpread$3({},j),{},{x1:nt,y1:_,x2:nt,y2:_+$,key:"line-".concat(st),index:st});return renderLineItem(et,it)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},rt)}function HorizontalStripes(j){var _=j.horizontalFill,$=j.fillOpacity,_e=j.x,et=j.y,tt=j.width,rt=j.height,nt=j.horizontalPoints,st=j.horizontal,it=st===void 0?!0:st;if(!it||!_||!_.length)return null;var at=nt.map(function(ct){return Math.round(ct+et-et)}).sort(function(ct,dt){return ct-dt});et!==at[0]&&at.unshift(0);var ot=at.map(function(ct,dt){var pt=!at[dt+1],ut=pt?et+rt-ct:at[dt+1]-ct;if(ut<=0)return null;var lt=dt%_.length;return React.createElement("rect",{key:"react-".concat(dt),y:ct,x:_e,height:ut,width:tt,stroke:"none",fill:_[lt],fillOpacity:$,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ot)}function VerticalStripes(j){var _=j.vertical,$=_===void 0?!0:_,_e=j.verticalFill,et=j.fillOpacity,tt=j.x,rt=j.y,nt=j.width,st=j.height,it=j.verticalPoints;if(!$||!_e||!_e.length)return null;var at=it.map(function(ct){return Math.round(ct+tt-tt)}).sort(function(ct,dt){return ct-dt});tt!==at[0]&&at.unshift(0);var ot=at.map(function(ct,dt){var pt=!at[dt+1],ut=pt?tt+nt-ct:at[dt+1]-ct;if(ut<=0)return null;var lt=dt%_e.length;return React.createElement("rect",{key:"react-".concat(dt),x:ct,y:rt,width:ut,height:st,stroke:"none",fill:_e[lt],fillOpacity:et,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ot)}var defaultVerticalCoordinatesGenerator=function j(_,$){var _e=_.xAxis,et=_.width,tt=_.height,rt=_.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),_e),{},{ticks:getTicksOfAxis(_e,!0),viewBox:{x:0,y:0,width:et,height:tt}})),rt.left,rt.left+rt.width,$)},defaultHorizontalCoordinatesGenerator=function j(_,$){var _e=_.yAxis,et=_.width,tt=_.height,rt=_.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),_e),{},{ticks:getTicksOfAxis(_e,!0),viewBox:{x:0,y:0,width:et,height:tt}})),rt.top,rt.top+rt.height,$)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(j){var _,$,_e,et,tt,rt,nt=useChartWidth(),st=useChartHeight(),it=useOffset(),at=_objectSpread$3(_objectSpread$3({},j),{},{stroke:(_=j.stroke)!==null&&_!==void 0?_:defaultProps.stroke,fill:($=j.fill)!==null&&$!==void 0?$:defaultProps.fill,horizontal:(_e=j.horizontal)!==null&&_e!==void 0?_e:defaultProps.horizontal,horizontalFill:(et=j.horizontalFill)!==null&&et!==void 0?et:defaultProps.horizontalFill,vertical:(tt=j.vertical)!==null&&tt!==void 0?tt:defaultProps.vertical,verticalFill:(rt=j.verticalFill)!==null&&rt!==void 0?rt:defaultProps.verticalFill,x:isNumber(j.x)?j.x:it.left,y:isNumber(j.y)?j.y:it.top,width:isNumber(j.width)?j.width:it.width,height:isNumber(j.height)?j.height:it.height}),ot=at.x,ct=at.y,dt=at.width,pt=at.height,ut=at.syncWithTicks,lt=at.horizontalValues,ft=at.verticalValues,ht=useArbitraryXAxis(),yt=useYAxisWithFiniteDomainOrRandom();if(!isNumber(dt)||dt<=0||!isNumber(pt)||pt<=0||!isNumber(ot)||ot!==+ot||!isNumber(ct)||ct!==+ct)return null;var vt=at.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,gt=at.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,bt=at.horizontalPoints,mt=at.verticalPoints;if((!bt||!bt.length)&&isFunction$3(gt)){var Et=lt&&lt.length,Rt=gt({yAxis:yt?_objectSpread$3(_objectSpread$3({},yt),{},{ticks:Et?lt:yt.ticks}):void 0,width:nt,height:st,offset:it},Et?!0:ut);warn(Array.isArray(Rt),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(Rt),"]")),Array.isArray(Rt)&&(bt=Rt)}if((!mt||!mt.length)&&isFunction$3(vt)){var Tt=ft&&ft.length,jt=vt({xAxis:ht?_objectSpread$3(_objectSpread$3({},ht),{},{ticks:Tt?ft:ht.ticks}):void 0,width:nt,height:st,offset:it},Tt?!0:ut);warn(Array.isArray(jt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(jt),"]")),Array.isArray(jt)&&(mt=jt)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:at.fill,fillOpacity:at.fillOpacity,x:at.x,y:at.y,width:at.width,height:at.height,ry:at.ry}),React.createElement(HorizontalGridLines,_extends$4({},at,{offset:it,horizontalPoints:bt,xAxis:ht,yAxis:yt})),React.createElement(VerticalGridLines,_extends$4({},at,{offset:it,verticalPoints:mt,xAxis:ht,yAxis:yt})),React.createElement(HorizontalStripes,_extends$4({},at,{horizontalPoints:bt})),React.createElement(VerticalStripes,_extends$4({},at,{verticalPoints:mt})))}CartesianGrid.displayName="CartesianGrid";var _excluded$1=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$5(j){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$5(j)}function _objectWithoutProperties$1(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose$1(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose$1(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$3.apply(this,arguments)}function ownKeys$2(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$2(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object($),!0).forEach(function(_e){_defineProperty$5(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$2(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _toConsumableArray$2(j){return _arrayWithoutHoles$2(j)||_iterableToArray$2(j)||_unsupportedIterableToArray$2(j)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$2(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$2(j,_)}}function _iterableToArray$2(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$2(j){if(Array.isArray(j))return _arrayLikeToArray$2(j)}function _arrayLikeToArray$2(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function _classCallCheck$4(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$5(_e.key),_e)}}function _createClass$4(j,_,$){return _&&_defineProperties$4(j.prototype,_),$&&_defineProperties$4(j,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$3(j,_,$){return _=_getPrototypeOf$3(_),_possibleConstructorReturn$3(j,_isNativeReflectConstruct$3()?Reflect.construct(_,$||[],_getPrototypeOf$3(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$3(j,_){if(_&&(_typeof$5(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(j)}function _assertThisInitialized$3(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$3(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!j})()}function _getPrototypeOf$3(j){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$3(j)}function _inherits$3(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$3(j,_)}function _setPrototypeOf$3(j,_){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$3(j,_)}function _defineProperty$5(j,_,$){return _=_toPropertyKey$5(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$5(j){var _=_toPrimitive$5(j,"string");return _typeof$5(_)=="symbol"?_:_+""}function _toPrimitive$5(j,_){if(_typeof$5(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$5(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var Line=function(j){function _(){var $;_classCallCheck$4(this,_);for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $=_callSuper$3(this,_,[].concat(et)),_defineProperty$5($,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$5($,"generateSimpleStrokeDasharray",function(rt,nt){return"".concat(nt,"px ").concat(rt-nt,"px")}),_defineProperty$5($,"getStrokeDasharray",function(rt,nt,st){var it=st.reduce(function(ft,ht){return ft+ht});if(!it)return $.generateSimpleStrokeDasharray(nt,rt);for(var at=Math.floor(rt/it),ot=rt%it,ct=nt-rt,dt=[],pt=0,ut=0;pt<st.length;ut+=st[pt],++pt)if(ut+st[pt]>ot){dt=[].concat(_toConsumableArray$2(st.slice(0,pt)),[ot-ut]);break}var lt=dt.length%2===0?[0,ct]:[ct];return[].concat(_toConsumableArray$2(_.repeat(st,at)),_toConsumableArray$2(dt),lt).map(function(ft){return"".concat(ft,"px")}).join(", ")}),_defineProperty$5($,"id",uniqueId("recharts-line-")),_defineProperty$5($,"pathRef",function(rt){$.mainCurve=rt}),_defineProperty$5($,"handleAnimationEnd",function(){$.setState({isAnimationFinished:!0}),$.props.onAnimationEnd&&$.props.onAnimationEnd()}),_defineProperty$5($,"handleAnimationStart",function(){$.setState({isAnimationFinished:!1}),$.props.onAnimationStart&&$.props.onAnimationStart()}),$}return _inherits$3(_,j),_createClass$4(_,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var _e=this.getTotalLength();this.setState({totalLength:_e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var _e=this.getTotalLength();_e!==this.state.totalLength&&this.setState({totalLength:_e})}}},{key:"getTotalLength",value:function(){var _e=this.mainCurve;try{return _e&&_e.getTotalLength&&_e.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(_e,et){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var tt=this.props,rt=tt.points,nt=tt.xAxis,st=tt.yAxis,it=tt.layout,at=tt.children,ot=findAllByType(at,ErrorBar);if(!ot)return null;var ct=function(ut,lt){return{x:ut.x,y:ut.y,value:ut.value,errorVal:getValueByDataKey(ut.payload,lt)}},dt={clipPath:_e?"url(#clipPath-".concat(et,")"):null};return React.createElement(Layer,dt,ot.map(function(pt){return React.cloneElement(pt,{key:"bar-".concat(pt.props.dataKey),data:rt,xAxis:nt,yAxis:st,layout:it,dataPointFormatter:ct})}))}},{key:"renderDots",value:function(_e,et,tt){var rt=this.props.isAnimationActive;if(rt&&!this.state.isAnimationFinished)return null;var nt=this.props,st=nt.dot,it=nt.points,at=nt.dataKey,ot=filterProps(this.props,!1),ct=filterProps(st,!0),dt=it.map(function(ut,lt){var ft=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(lt),r:3},ot),ct),{},{index:lt,cx:ut.x,cy:ut.y,value:ut.value,dataKey:at,payload:ut.payload,points:it});return _.renderDotItem(st,ft)}),pt={clipPath:_e?"url(#clipPath-".concat(et?"":"dots-").concat(tt,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},pt),dt)}},{key:"renderCurveStatically",value:function(_e,et,tt,rt){var nt=this.props,st=nt.type,it=nt.layout,at=nt.connectNulls;nt.ref;var ot=_objectWithoutProperties$1(nt,_excluded$1),ct=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(ot,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:et?"url(#clipPath-".concat(tt,")"):null,points:_e},rt),{},{type:st,layout:it,connectNulls:at});return React.createElement(Curve,_extends$3({},ct,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(_e,et){var tt=this,rt=this.props,nt=rt.points,st=rt.strokeDasharray,it=rt.isAnimationActive,at=rt.animationBegin,ot=rt.animationDuration,ct=rt.animationEasing,dt=rt.animationId,pt=rt.animateNewValues,ut=rt.width,lt=rt.height,ft=this.state,ht=ft.prevPoints,yt=ft.totalLength;return React.createElement(Animate,{begin:at,duration:ot,isActive:it,easing:ct,from:{t:0},to:{t:1},key:"line-".concat(dt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(vt){var gt=vt.t;if(ht){var bt=ht.length/nt.length,mt=nt.map(function(xt,Ct){var kt=Math.floor(Ct*bt);if(ht[kt]){var Nt=ht[kt],St=interpolateNumber$2(Nt.x,xt.x),Ot=interpolateNumber$2(Nt.y,xt.y);return _objectSpread$2(_objectSpread$2({},xt),{},{x:St(gt),y:Ot(gt)})}if(pt){var Pt=interpolateNumber$2(ut*2,xt.x),wt=interpolateNumber$2(lt/2,xt.y);return _objectSpread$2(_objectSpread$2({},xt),{},{x:Pt(gt),y:wt(gt)})}return _objectSpread$2(_objectSpread$2({},xt),{},{x:xt.x,y:xt.y})});return tt.renderCurveStatically(mt,_e,et)}var Et=interpolateNumber$2(0,yt),Rt=Et(gt),Tt;if(st){var jt="".concat(st).split(/[,\s]+/gim).map(function(xt){return parseFloat(xt)});Tt=tt.getStrokeDasharray(Rt,yt,jt)}else Tt=tt.generateSimpleStrokeDasharray(yt,Rt);return tt.renderCurveStatically(nt,_e,et,{strokeDasharray:Tt})})}},{key:"renderCurve",value:function(_e,et){var tt=this.props,rt=tt.points,nt=tt.isAnimationActive,st=this.state,it=st.prevPoints,at=st.totalLength;return nt&&rt&&rt.length&&(!it&&at>0||!isEqual$1(it,rt))?this.renderCurveWithAnimation(_e,et):this.renderCurveStatically(rt,_e,et)}},{key:"render",value:function(){var _e,et=this.props,tt=et.hide,rt=et.dot,nt=et.points,st=et.className,it=et.xAxis,at=et.yAxis,ot=et.top,ct=et.left,dt=et.width,pt=et.height,ut=et.isAnimationActive,lt=et.id;if(tt||!nt||!nt.length)return null;var ft=this.state.isAnimationFinished,ht=nt.length===1,yt=clsx("recharts-line",st),vt=it&&it.allowDataOverflow,gt=at&&at.allowDataOverflow,bt=vt||gt,mt=isNil$1(lt)?this.id:lt,Et=(_e=filterProps(rt,!1))!==null&&_e!==void 0?_e:{r:3,strokeWidth:2},Rt=Et.r,Tt=Rt===void 0?3:Rt,jt=Et.strokeWidth,xt=jt===void 0?2:jt,Ct=hasClipDot(rt)?rt:{},kt=Ct.clipDot,Nt=kt===void 0?!0:kt,St=Tt*2+xt;return React.createElement(Layer,{className:yt},vt||gt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(mt)},React.createElement("rect",{x:vt?ct:ct-dt/2,y:gt?ot:ot-pt/2,width:vt?dt:dt*2,height:gt?pt:pt*2})),!Nt&&React.createElement("clipPath",{id:"clipPath-dots-".concat(mt)},React.createElement("rect",{x:ct-St/2,y:ot-St/2,width:dt+St,height:pt+St}))):null,!ht&&this.renderCurve(bt,mt),this.renderErrorBar(bt,mt),(ht||rt)&&this.renderDots(bt,Nt,mt),(!ut||ft)&&LabelList.renderCallByParent(this.props,nt))}}],[{key:"getDerivedStateFromProps",value:function(_e,et){return _e.animationId!==et.prevAnimationId?{prevAnimationId:_e.animationId,curPoints:_e.points,prevPoints:et.curPoints}:_e.points!==et.curPoints?{curPoints:_e.points}:null}},{key:"repeat",value:function(_e,et){for(var tt=_e.length%2!==0?[].concat(_toConsumableArray$2(_e),[0]):_e,rt=[],nt=0;nt<et;++nt)rt=[].concat(_toConsumableArray$2(rt),_toConsumableArray$2(tt));return rt}},{key:"renderDotItem",value:function(_e,et){var tt;if(React.isValidElement(_e))tt=React.cloneElement(_e,et);else if(isFunction$3(_e))tt=_e(et);else{var rt=et.key,nt=_objectWithoutProperties$1(et,_excluded2$1),st=clsx("recharts-line-dot",typeof _e!="boolean"?_e.className:"");tt=React.createElement(Dot,_extends$3({key:rt},nt,{className:st}))}return tt}}])}(reactExports.PureComponent);_defineProperty$5(Line,"displayName","Line");_defineProperty$5(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$5(Line,"getComposedData",function(j){var _=j.props,$=j.xAxis,_e=j.yAxis,et=j.xAxisTicks,tt=j.yAxisTicks,rt=j.dataKey,nt=j.bandSize,st=j.displayedData,it=j.offset,at=_.layout,ot=st.map(function(ct,dt){var pt=getValueByDataKey(ct,rt);return at==="horizontal"?{x:getCateCoordinateOfLine({axis:$,ticks:et,bandSize:nt,entry:ct,index:dt}),y:isNil$1(pt)?null:_e.scale(pt),value:pt,payload:ct}:{x:isNil$1(pt)?null:$.scale(pt),y:getCateCoordinateOfLine({axis:_e,ticks:tt,bandSize:nt,entry:ct,index:dt}),value:pt,payload:ct}});return _objectSpread$2({points:ot,layout:at},it)});function _typeof$4(j){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$4(j)}function _classCallCheck$3(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$4(_e.key),_e)}}function _createClass$3(j,_,$){return _&&_defineProperties$3(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$2(j,_,$){return _=_getPrototypeOf$2(_),_possibleConstructorReturn$2(j,_isNativeReflectConstruct$2()?Reflect.construct(_,$||[],_getPrototypeOf$2(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$2(j,_){if(_&&(_typeof$4(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(j)}function _assertThisInitialized$2(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$2(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!j})()}function _getPrototypeOf$2(j){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$2(j)}function _inherits$2(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$2(j,_)}function _setPrototypeOf$2(j,_){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$2(j,_)}function _defineProperty$4(j,_,$){return _=_toPropertyKey$4(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$4(j){var _=_toPrimitive$4(j,"string");return _typeof$4(_)=="symbol"?_:_+""}function _toPrimitive$4(j,_){if(_typeof$4(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$4(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$2.apply(this,arguments)}function XAxisImpl(j){var _=j.xAxisId,$=useChartWidth(),_e=useChartHeight(),et=useXAxisOrThrow(_);return et==null?null:React.createElement(CartesianAxis,_extends$2({},et,{className:clsx("recharts-".concat(et.axisType," ").concat(et.axisType),et.className),viewBox:{x:0,y:0,width:$,height:_e},ticksGenerator:function(rt){return getTicksOfAxis(rt,!0)}}))}var XAxis=function(j){function _(){return _classCallCheck$3(this,_),_callSuper$2(this,_,arguments)}return _inherits$2(_,j),_createClass$3(_,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(j){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$3(j)}function _classCallCheck$2(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$3(_e.key),_e)}}function _createClass$2(j,_,$){return _&&_defineProperties$2(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper$1(j,_,$){return _=_getPrototypeOf$1(_),_possibleConstructorReturn$1(j,_isNativeReflectConstruct$1()?Reflect.construct(_,$||[],_getPrototypeOf$1(j).constructor):_.apply(j,$))}function _possibleConstructorReturn$1(j,_){if(_&&(_typeof$3(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(j)}function _assertThisInitialized$1(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct$1(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!j})()}function _getPrototypeOf$1(j){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$1(j)}function _inherits$1(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf$1(j,_)}function _setPrototypeOf$1(j,_){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$1(j,_)}function _defineProperty$3(j,_,$){return _=_toPropertyKey$3(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$3(j){var _=_toPrimitive$3(j,"string");return _typeof$3(_)=="symbol"?_:_+""}function _toPrimitive$3(j,_){if(_typeof$3(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$3(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends$1.apply(this,arguments)}var YAxisImpl=function j(_){var $=_.yAxisId,_e=useChartWidth(),et=useChartHeight(),tt=useYAxisOrThrow($);return tt==null?null:React.createElement(CartesianAxis,_extends$1({},tt,{className:clsx("recharts-".concat(tt.axisType," ").concat(tt.axisType),tt.className),viewBox:{x:0,y:0,width:_e,height:et},ticksGenerator:function(nt){return getTicksOfAxis(nt,!0)}}))},YAxis=function(j){function _(){return _classCallCheck$2(this,_),_callSuper$1(this,_,arguments)}return _inherits$1(_,j),_createClass$2(_,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(j){return _arrayWithoutHoles$1(j)||_iterableToArray$1(j)||_unsupportedIterableToArray$1(j)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray$1(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$1(j,_)}}function _iterableToArray$1(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles$1(j){if(Array.isArray(j))return _arrayLikeToArray$1(j)}function _arrayLikeToArray$1(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}var detectReferenceElementsDomain=function j(_,$,_e,et,tt){var rt=findAllByType(_,ReferenceLine),nt=findAllByType(_,ReferenceDot),st=[].concat(_toConsumableArray$1(rt),_toConsumableArray$1(nt)),it=findAllByType(_,ReferenceArea),at="".concat(et,"Id"),ot=et[0],ct=$;if(st.length&&(ct=st.reduce(function(ut,lt){if(lt.props[at]===_e&&ifOverflowMatches(lt.props,"extendDomain")&&isNumber(lt.props[ot])){var ft=lt.props[ot];return[Math.min(ut[0],ft),Math.max(ut[1],ft)]}return ut},ct)),it.length){var dt="".concat(ot,"1"),pt="".concat(ot,"2");ct=it.reduce(function(ut,lt){if(lt.props[at]===_e&&ifOverflowMatches(lt.props,"extendDomain")&&isNumber(lt.props[dt])&&isNumber(lt.props[pt])){var ft=lt.props[dt],ht=lt.props[pt];return[Math.min(ut[0],ft,ht),Math.max(ut[1],ft,ht)]}return ut},ct)}return tt&&tt.length&&(ct=tt.reduce(function(ut,lt){return isNumber(lt)?[Math.min(ut[0],lt),Math.max(ut[1],lt)]:ut},ct)),ct},eventemitter3={exports:{}};(function(j){var _=Object.prototype.hasOwnProperty,$="~";function _e(){}Object.create&&(_e.prototype=Object.create(null),new _e().__proto__||($=!1));function et(st,it,at){this.fn=st,this.context=it,this.once=at||!1}function tt(st,it,at,ot,ct){if(typeof at!="function")throw new TypeError("The listener must be a function");var dt=new et(at,ot||st,ct),pt=$?$+it:it;return st._events[pt]?st._events[pt].fn?st._events[pt]=[st._events[pt],dt]:st._events[pt].push(dt):(st._events[pt]=dt,st._eventsCount++),st}function rt(st,it){--st._eventsCount===0?st._events=new _e:delete st._events[it]}function nt(){this._events=new _e,this._eventsCount=0}nt.prototype.eventNames=function(){var it=[],at,ot;if(this._eventsCount===0)return it;for(ot in at=this._events)_.call(at,ot)&&it.push($?ot.slice(1):ot);return Object.getOwnPropertySymbols?it.concat(Object.getOwnPropertySymbols(at)):it},nt.prototype.listeners=function(it){var at=$?$+it:it,ot=this._events[at];if(!ot)return[];if(ot.fn)return[ot.fn];for(var ct=0,dt=ot.length,pt=new Array(dt);ct<dt;ct++)pt[ct]=ot[ct].fn;return pt},nt.prototype.listenerCount=function(it){var at=$?$+it:it,ot=this._events[at];return ot?ot.fn?1:ot.length:0},nt.prototype.emit=function(it,at,ot,ct,dt,pt){var ut=$?$+it:it;if(!this._events[ut])return!1;var lt=this._events[ut],ft=arguments.length,ht,yt;if(lt.fn){switch(lt.once&&this.removeListener(it,lt.fn,void 0,!0),ft){case 1:return lt.fn.call(lt.context),!0;case 2:return lt.fn.call(lt.context,at),!0;case 3:return lt.fn.call(lt.context,at,ot),!0;case 4:return lt.fn.call(lt.context,at,ot,ct),!0;case 5:return lt.fn.call(lt.context,at,ot,ct,dt),!0;case 6:return lt.fn.call(lt.context,at,ot,ct,dt,pt),!0}for(yt=1,ht=new Array(ft-1);yt<ft;yt++)ht[yt-1]=arguments[yt];lt.fn.apply(lt.context,ht)}else{var vt=lt.length,gt;for(yt=0;yt<vt;yt++)switch(lt[yt].once&&this.removeListener(it,lt[yt].fn,void 0,!0),ft){case 1:lt[yt].fn.call(lt[yt].context);break;case 2:lt[yt].fn.call(lt[yt].context,at);break;case 3:lt[yt].fn.call(lt[yt].context,at,ot);break;case 4:lt[yt].fn.call(lt[yt].context,at,ot,ct);break;default:if(!ht)for(gt=1,ht=new Array(ft-1);gt<ft;gt++)ht[gt-1]=arguments[gt];lt[yt].fn.apply(lt[yt].context,ht)}}return!0},nt.prototype.on=function(it,at,ot){return tt(this,it,at,ot,!1)},nt.prototype.once=function(it,at,ot){return tt(this,it,at,ot,!0)},nt.prototype.removeListener=function(it,at,ot,ct){var dt=$?$+it:it;if(!this._events[dt])return this;if(!at)return rt(this,dt),this;var pt=this._events[dt];if(pt.fn)pt.fn===at&&(!ct||pt.once)&&(!ot||pt.context===ot)&&rt(this,dt);else{for(var ut=0,lt=[],ft=pt.length;ut<ft;ut++)(pt[ut].fn!==at||ct&&!pt[ut].once||ot&&pt[ut].context!==ot)&&lt.push(pt[ut]);lt.length?this._events[dt]=lt.length===1?lt[0]:lt:rt(this,dt)}return this},nt.prototype.removeAllListeners=function(it){var at;return it?(at=$?$+it:it,this._events[at]&&rt(this,at)):(this._events=new _e,this._eventsCount=0),this},nt.prototype.off=nt.prototype.removeListener,nt.prototype.addListener=nt.prototype.on,nt.prefixed=$,nt.EventEmitter=nt,j.exports=nt})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(j){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$2(j)}function _classCallCheck$1(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey$2(_e.key),_e)}}function _createClass$1(j,_,$){return _&&_defineProperties$1(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _defineProperty$2(j,_,$){return _=_toPropertyKey$2(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$2(j){var _=_toPrimitive$2(j,"string");return _typeof$2(_)=="symbol"?_:_+""}function _toPrimitive$2(j,_){if(_typeof$2(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_);if(_typeof$2(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}var AccessibilityManager=function(){function j(){_classCallCheck$1(this,j),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(j,[{key:"setDetails",value:function($){var _e,et=$.coordinateList,tt=et===void 0?null:et,rt=$.container,nt=rt===void 0?null:rt,st=$.layout,it=st===void 0?null:st,at=$.offset,ot=at===void 0?null:at,ct=$.mouseHandlerCallback,dt=ct===void 0?null:ct;this.coordinateList=(_e=tt??this.coordinateList)!==null&&_e!==void 0?_e:[],this.container=nt??this.container,this.layout=it??this.layout,this.offset=ot??this.offset,this.mouseHandlerCallback=dt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function($){if(this.coordinateList.length!==0)switch($.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function($){this.activeIndex=$}},{key:"spoofMouse",value:function(){var $,_e;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var et=this.container.getBoundingClientRect(),tt=et.x,rt=et.y,nt=et.height,st=this.coordinateList[this.activeIndex].coordinate,it=(($=window)===null||$===void 0?void 0:$.scrollX)||0,at=((_e=window)===null||_e===void 0?void 0:_e.scrollY)||0,ot=tt+st+it,ct=rt+this.offset.top+nt/2+at;this.mouseHandlerCallback({pageX:ot,pageY:ct})}}}])}();function isDomainSpecifiedByUser(j,_,$){if($==="number"&&_===!0&&Array.isArray(j)){var _e=j==null?void 0:j[0],et=j==null?void 0:j[1];if(_e&&et&&isNumber(_e)&&isNumber(et))return!0}return!1}function getCursorRectangle(j,_,$,_e){var et=_e/2;return{stroke:"none",fill:"#ccc",x:j==="horizontal"?_.x-et:$.left+.5,y:j==="horizontal"?$.top+.5:_.y-et,width:j==="horizontal"?_e:$.width-1,height:j==="horizontal"?$.height-1:_e}}function getRadialCursorPoints(j){var _=j.cx,$=j.cy,_e=j.radius,et=j.startAngle,tt=j.endAngle,rt=polarToCartesian(_,$,_e,et),nt=polarToCartesian(_,$,_e,tt);return{points:[rt,nt],cx:_,cy:$,radius:_e,startAngle:et,endAngle:tt}}function getCursorPoints(j,_,$){var _e,et,tt,rt;if(j==="horizontal")_e=_.x,tt=_e,et=$.top,rt=$.top+$.height;else if(j==="vertical")et=_.y,rt=et,_e=$.left,tt=$.left+$.width;else if(_.cx!=null&&_.cy!=null)if(j==="centric"){var nt=_.cx,st=_.cy,it=_.innerRadius,at=_.outerRadius,ot=_.angle,ct=polarToCartesian(nt,st,it,ot),dt=polarToCartesian(nt,st,at,ot);_e=ct.x,et=ct.y,tt=dt.x,rt=dt.y}else return getRadialCursorPoints(_);return[{x:_e,y:et},{x:tt,y:rt}]}function _typeof$1(j){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$1(j)}function ownKeys$1(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread$1(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object($),!0).forEach(function(_e){_defineProperty$1(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty$1(j,_,$){return _=_toPropertyKey$1(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey$1(j){var _=_toPrimitive$1(j,"string");return _typeof$1(_)=="symbol"?_:_+""}function _toPrimitive$1(j,_){if(_typeof$1(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof$1(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}function Cursor(j){var _,$,_e=j.element,et=j.tooltipEventType,tt=j.isActive,rt=j.activeCoordinate,nt=j.activePayload,st=j.offset,it=j.activeTooltipIndex,at=j.tooltipAxisBandSize,ot=j.layout,ct=j.chartName,dt=(_=_e.props.cursor)!==null&&_!==void 0?_:($=_e.type.defaultProps)===null||$===void 0?void 0:$.cursor;if(!_e||!dt||!tt||!rt||ct!=="ScatterChart"&&et!=="axis")return null;var pt,ut=Curve;if(ct==="ScatterChart")pt=rt,ut=Cross;else if(ct==="BarChart")pt=getCursorRectangle(ot,rt,st,at),ut=Rectangle;else if(ot==="radial"){var lt=getRadialCursorPoints(rt),ft=lt.cx,ht=lt.cy,yt=lt.radius,vt=lt.startAngle,gt=lt.endAngle;pt={cx:ft,cy:ht,startAngle:vt,endAngle:gt,innerRadius:yt,outerRadius:yt},ut=Sector}else pt={points:getCursorPoints(ot,rt,st)},ut=Curve;var bt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},st),pt),filterProps(dt,!1)),{},{payload:nt,payloadIndex:it,className:clsx("recharts-tooltip-cursor",dt.className)});return reactExports.isValidElement(dt)?reactExports.cloneElement(dt,bt):reactExports.createElement(ut,bt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(j){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof(j)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(j){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(j[_e]=$[_e])}return j},_extends.apply(this,arguments)}function _slicedToArray(j,_){return _arrayWithHoles(j)||_iterableToArrayLimit(j,_)||_unsupportedIterableToArray(j,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(j,_){var $=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if($!=null){var _e,et,tt,rt,nt=[],st=!0,it=!1;try{if(tt=($=$.call(j)).next,_!==0)for(;!(st=(_e=tt.call($)).done)&&(nt.push(_e.value),nt.length!==_);st=!0);}catch(at){it=!0,et=at}finally{try{if(!st&&$.return!=null&&(rt=$.return(),Object(rt)!==rt))return}finally{if(it)throw et}}return nt}}function _arrayWithHoles(j){if(Array.isArray(j))return j}function _objectWithoutProperties(j,_){if(j==null)return{};var $=_objectWithoutPropertiesLoose(j,_),_e,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(j);for(et=0;et<tt.length;et++)_e=tt[et],!(_.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(j,_e)&&($[_e]=j[_e])}return $}function _objectWithoutPropertiesLoose(j,_){if(j==null)return{};var $={};for(var _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){if(_.indexOf(_e)>=0)continue;$[_e]=j[_e]}return $}function _classCallCheck(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(j,_){for(var $=0;$<_.length;$++){var _e=_[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(j,_toPropertyKey(_e.key),_e)}}function _createClass(j,_,$){return _&&_defineProperties(j.prototype,_),Object.defineProperty(j,"prototype",{writable:!1}),j}function _callSuper(j,_,$){return _=_getPrototypeOf(_),_possibleConstructorReturn(j,_isNativeReflectConstruct()?Reflect.construct(_,$||[],_getPrototypeOf(j).constructor):_.apply(j,$))}function _possibleConstructorReturn(j,_){if(_&&(_typeof(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(j)}function _assertThisInitialized(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _isNativeReflectConstruct(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!j})()}function _getPrototypeOf(j){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf(j)}function _inherits(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),_&&_setPrototypeOf(j,_)}function _setPrototypeOf(j,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf(j,_)}function _toConsumableArray(j){return _arrayWithoutHoles(j)||_iterableToArray(j)||_unsupportedIterableToArray(j)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(j,_){if(j){if(typeof j=="string")return _arrayLikeToArray(j,_);var $=Object.prototype.toString.call(j).slice(8,-1);if($==="Object"&&j.constructor&&($=j.constructor.name),$==="Map"||$==="Set")return Array.from(j);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray(j,_)}}function _iterableToArray(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function _arrayWithoutHoles(j){if(Array.isArray(j))return _arrayLikeToArray(j)}function _arrayLikeToArray(j,_){(_==null||_>j.length)&&(_=j.length);for(var $=0,_e=new Array(_);$<_;$++)_e[$]=j[$];return _e}function ownKeys(j,_){var $=Object.keys(j);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(j);_&&(_e=_e.filter(function(et){return Object.getOwnPropertyDescriptor(j,et).enumerable})),$.push.apply($,_e)}return $}function _objectSpread(j){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object($),!0).forEach(function(_e){_defineProperty(j,_e,$[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(_e){Object.defineProperty(j,_e,Object.getOwnPropertyDescriptor($,_e))})}return j}function _defineProperty(j,_,$){return _=_toPropertyKey(_),_ in j?Object.defineProperty(j,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[_]=$,j}function _toPropertyKey(j){var _=_toPrimitive(j,"string");return _typeof(_)=="symbol"?_:_+""}function _toPrimitive(j,_){if(_typeof(j)!="object"||!j)return j;var $=j[Symbol.toPrimitive];if($!==void 0){var _e=$.call(j,_||"default");if(_typeof(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(j)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(j){return j}var calculateTooltipPos=function j(_,$){return $==="horizontal"?_.x:$==="vertical"?_.y:$==="centric"?_.angle:_.radius},getActiveCoordinate=function j(_,$,_e,et){var tt=$.find(function(at){return at&&at.index===_e});if(tt){if(_==="horizontal")return{x:tt.coordinate,y:et.y};if(_==="vertical")return{x:et.x,y:tt.coordinate};if(_==="centric"){var rt=tt.coordinate,nt=et.radius;return _objectSpread(_objectSpread(_objectSpread({},et),polarToCartesian(et.cx,et.cy,nt,rt)),{},{angle:rt,radius:nt})}var st=tt.coordinate,it=et.angle;return _objectSpread(_objectSpread(_objectSpread({},et),polarToCartesian(et.cx,et.cy,st,it)),{},{angle:it,radius:st})}return originCoordinate},getDisplayedData=function j(_,$){var _e=$.graphicalItems,et=$.dataStartIndex,tt=$.dataEndIndex,rt=(_e??[]).reduce(function(nt,st){var it=st.props.data;return it&&it.length?[].concat(_toConsumableArray(nt),_toConsumableArray(it)):nt},[]);return rt.length>0?rt:_&&_.length&&isNumber(et)&&isNumber(tt)?_.slice(et,tt+1):[]};function getDefaultDomainByAxisType(j){return j==="number"?[0,"auto"]:void 0}var getTooltipContent=function j(_,$,_e,et){var tt=_.graphicalItems,rt=_.tooltipAxis,nt=getDisplayedData($,_);return _e<0||!tt||!tt.length||_e>=nt.length?null:tt.reduce(function(st,it){var at,ot=(at=it.props.data)!==null&&at!==void 0?at:$;ot&&_.dataStartIndex+_.dataEndIndex!==0&&_.dataEndIndex-_.dataStartIndex>=_e&&(ot=ot.slice(_.dataStartIndex,_.dataEndIndex+1));var ct;if(rt.dataKey&&!rt.allowDuplicatedCategory){var dt=ot===void 0?nt:ot;ct=findEntryInArray(dt,rt.dataKey,et)}else ct=ot&&ot[_e]||nt[_e];return ct?[].concat(_toConsumableArray(st),[getTooltipItem(it,ct)]):st},[])},getTooltipData=function j(_,$,_e,et){var tt=et||{x:_.chartX,y:_.chartY},rt=calculateTooltipPos(tt,_e),nt=_.orderedTooltipTicks,st=_.tooltipAxis,it=_.tooltipTicks,at=calculateActiveTickIndex(rt,nt,it,st);if(at>=0&&it){var ot=it[at]&&it[at].value,ct=getTooltipContent(_,$,at,ot),dt=getActiveCoordinate(_e,nt,at,tt);return{activeTooltipIndex:at,activeLabel:ot,activePayload:ct,activeCoordinate:dt}}return null},getAxisMapByAxes=function j(_,$){var _e=$.axes,et=$.graphicalItems,tt=$.axisType,rt=$.axisIdKey,nt=$.stackGroups,st=$.dataStartIndex,it=$.dataEndIndex,at=_.layout,ot=_.children,ct=_.stackOffset,dt=isCategoricalAxis(at,tt);return _e.reduce(function(pt,ut){var lt,ft=ut.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ut.type.defaultProps),ut.props):ut.props,ht=ft.type,yt=ft.dataKey,vt=ft.allowDataOverflow,gt=ft.allowDuplicatedCategory,bt=ft.scale,mt=ft.ticks,Et=ft.includeHidden,Rt=ft[rt];if(pt[Rt])return pt;var Tt=getDisplayedData(_.data,{graphicalItems:et.filter(function(It){var At,$t=rt in It.props?It.props[rt]:(At=It.type.defaultProps)===null||At===void 0?void 0:At[rt];return $t===Rt}),dataStartIndex:st,dataEndIndex:it}),jt=Tt.length,xt,Ct,kt;isDomainSpecifiedByUser(ft.domain,vt,ht)&&(xt=parseSpecifiedDomain(ft.domain,null,vt),dt&&(ht==="number"||bt!=="auto")&&(kt=getDomainOfDataByKey(Tt,yt,"category")));var Nt=getDefaultDomainByAxisType(ht);if(!xt||xt.length===0){var St,Ot=(St=ft.domain)!==null&&St!==void 0?St:Nt;if(yt){if(xt=getDomainOfDataByKey(Tt,yt,ht),ht==="category"&&dt){var Pt=hasDuplicate(xt);gt&&Pt?(Ct=xt,xt=range$1(0,jt)):gt||(xt=parseDomainOfCategoryAxis(Ot,xt,ut).reduce(function(It,At){return It.indexOf(At)>=0?It:[].concat(_toConsumableArray(It),[At])},[]))}else if(ht==="category")gt?xt=xt.filter(function(It){return It!==""&&!isNil$1(It)}):xt=parseDomainOfCategoryAxis(Ot,xt,ut).reduce(function(It,At){return It.indexOf(At)>=0||At===""||isNil$1(At)?It:[].concat(_toConsumableArray(It),[At])},[]);else if(ht==="number"){var wt=parseErrorBarsOfAxis(Tt,et.filter(function(It){var At,$t,Mt=rt in It.props?It.props[rt]:(At=It.type.defaultProps)===null||At===void 0?void 0:At[rt],Ht="hide"in It.props?It.props.hide:($t=It.type.defaultProps)===null||$t===void 0?void 0:$t.hide;return Mt===Rt&&(Et||!Ht)}),yt,tt,at);wt&&(xt=wt)}dt&&(ht==="number"||bt!=="auto")&&(kt=getDomainOfDataByKey(Tt,yt,"category"))}else dt?xt=range$1(0,jt):nt&&nt[Rt]&&nt[Rt].hasStack&&ht==="number"?xt=ct==="expand"?[0,1]:getDomainOfStackGroups(nt[Rt].stackGroups,st,it):xt=getDomainOfItemsWithSameAxis(Tt,et.filter(function(It){var At=rt in It.props?It.props[rt]:It.type.defaultProps[rt],$t="hide"in It.props?It.props.hide:It.type.defaultProps.hide;return At===Rt&&(Et||!$t)}),ht,at,!0);if(ht==="number")xt=detectReferenceElementsDomain(ot,xt,Rt,tt,mt),Ot&&(xt=parseSpecifiedDomain(Ot,xt,vt));else if(ht==="category"&&Ot){var Dt=Ot,Vt=xt.every(function(It){return Dt.indexOf(It)>=0});Vt&&(xt=Dt)}}return _objectSpread(_objectSpread({},pt),{},_defineProperty({},Rt,_objectSpread(_objectSpread({},ft),{},{axisType:tt,domain:xt,categoricalDomain:kt,duplicateDomain:Ct,originalDomain:(lt=ft.domain)!==null&&lt!==void 0?lt:Nt,isCategorical:dt,layout:at})))},{})},getAxisMapByItems=function j(_,$){var _e=$.graphicalItems,et=$.Axis,tt=$.axisType,rt=$.axisIdKey,nt=$.stackGroups,st=$.dataStartIndex,it=$.dataEndIndex,at=_.layout,ot=_.children,ct=getDisplayedData(_.data,{graphicalItems:_e,dataStartIndex:st,dataEndIndex:it}),dt=ct.length,pt=isCategoricalAxis(at,tt),ut=-1;return _e.reduce(function(lt,ft){var ht=ft.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ft.type.defaultProps),ft.props):ft.props,yt=ht[rt],vt=getDefaultDomainByAxisType("number");if(!lt[yt]){ut++;var gt;return pt?gt=range$1(0,dt):nt&&nt[yt]&&nt[yt].hasStack?(gt=getDomainOfStackGroups(nt[yt].stackGroups,st,it),gt=detectReferenceElementsDomain(ot,gt,yt,tt)):(gt=parseSpecifiedDomain(vt,getDomainOfItemsWithSameAxis(ct,_e.filter(function(bt){var mt,Et,Rt=rt in bt.props?bt.props[rt]:(mt=bt.type.defaultProps)===null||mt===void 0?void 0:mt[rt],Tt="hide"in bt.props?bt.props.hide:(Et=bt.type.defaultProps)===null||Et===void 0?void 0:Et.hide;return Rt===yt&&!Tt}),"number",at),et.defaultProps.allowDataOverflow),gt=detectReferenceElementsDomain(ot,gt,yt,tt)),_objectSpread(_objectSpread({},lt),{},_defineProperty({},yt,_objectSpread(_objectSpread({axisType:tt},et.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(tt,".").concat(ut%2),null),domain:gt,originalDomain:vt,isCategorical:pt,layout:at})))}return lt},{})},getAxisMap=function j(_,$){var _e=$.axisType,et=_e===void 0?"xAxis":_e,tt=$.AxisComp,rt=$.graphicalItems,nt=$.stackGroups,st=$.dataStartIndex,it=$.dataEndIndex,at=_.children,ot="".concat(et,"Id"),ct=findAllByType(at,tt),dt={};return ct&&ct.length?dt=getAxisMapByAxes(_,{axes:ct,graphicalItems:rt,axisType:et,axisIdKey:ot,stackGroups:nt,dataStartIndex:st,dataEndIndex:it}):rt&&rt.length&&(dt=getAxisMapByItems(_,{Axis:tt,graphicalItems:rt,axisType:et,axisIdKey:ot,stackGroups:nt,dataStartIndex:st,dataEndIndex:it})),dt},tooltipTicksGenerator=function j(_){var $=getAnyElementOfObject(_),_e=getTicksOfAxis($,!1,!0);return{tooltipTicks:_e,orderedTooltipTicks:sortBy$1(_e,function(et){return et.coordinate}),tooltipAxis:$,tooltipAxisBandSize:getBandSizeOfAxis($,_e)}},createDefaultState=function j(_){var $=_.children,_e=_.defaultShowTooltip,et=findChildByType($,Brush),tt=0,rt=0;return _.data&&_.data.length!==0&&(rt=_.data.length-1),et&&et.props&&(et.props.startIndex>=0&&(tt=et.props.startIndex),et.props.endIndex>=0&&(rt=et.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:tt,dataEndIndex:rt,activeTooltipIndex:-1,isTooltipActive:!!_e}},hasGraphicalBarItem=function j(_){return!_||!_.length?!1:_.some(function($){var _e=getDisplayName($&&$.type);return _e&&_e.indexOf("Bar")>=0})},getAxisNameByLayout=function j(_){return _==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:_==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:_==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function j(_,$){var _e=_.props,et=_.graphicalItems,tt=_.xAxisMap,rt=tt===void 0?{}:tt,nt=_.yAxisMap,st=nt===void 0?{}:nt,it=_e.width,at=_e.height,ot=_e.children,ct=_e.margin||{},dt=findChildByType(ot,Brush),pt=findChildByType(ot,Legend),ut=Object.keys(st).reduce(function(gt,bt){var mt=st[bt],Et=mt.orientation;return!mt.mirror&&!mt.hide?_objectSpread(_objectSpread({},gt),{},_defineProperty({},Et,gt[Et]+mt.width)):gt},{left:ct.left||0,right:ct.right||0}),lt=Object.keys(rt).reduce(function(gt,bt){var mt=rt[bt],Et=mt.orientation;return!mt.mirror&&!mt.hide?_objectSpread(_objectSpread({},gt),{},_defineProperty({},Et,get$2(gt,"".concat(Et))+mt.height)):gt},{top:ct.top||0,bottom:ct.bottom||0}),ft=_objectSpread(_objectSpread({},lt),ut),ht=ft.bottom;dt&&(ft.bottom+=dt.props.height||Brush.defaultProps.height),pt&&$&&(ft=appendOffsetOfLegend(ft,et,_e,$));var yt=it-ft.left-ft.right,vt=at-ft.top-ft.bottom;return _objectSpread(_objectSpread({brushBottom:ht},ft),{},{width:Math.max(yt,0),height:Math.max(vt,0)})},getCartesianAxisSize=function j(_,$){if($==="xAxis")return _[$].width;if($==="yAxis")return _[$].height},generateCategoricalChart=function j(_){var $=_.chartName,_e=_.GraphicalChild,et=_.defaultTooltipEventType,tt=et===void 0?"axis":et,rt=_.validateTooltipEventTypes,nt=rt===void 0?["axis"]:rt,st=_.axisComponents,it=_.legendContent,at=_.formatAxisMap,ot=_.defaultProps,ct=function(ft,ht){var yt=ht.graphicalItems,vt=ht.stackGroups,gt=ht.offset,bt=ht.updateId,mt=ht.dataStartIndex,Et=ht.dataEndIndex,Rt=ft.barSize,Tt=ft.layout,jt=ft.barGap,xt=ft.barCategoryGap,Ct=ft.maxBarSize,kt=getAxisNameByLayout(Tt),Nt=kt.numericAxisName,St=kt.cateAxisName,Ot=hasGraphicalBarItem(yt),Pt=[];return yt.forEach(function(wt,Dt){var Vt=getDisplayedData(ft.data,{graphicalItems:[wt],dataStartIndex:mt,dataEndIndex:Et}),It=wt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},wt.type.defaultProps),wt.props):wt.props,At=It.dataKey,$t=It.maxBarSize,Mt=It["".concat(Nt,"Id")],Ht=It["".concat(St,"Id")],Bt={},Ut=st.reduce(function(lr,Ft){var Gt=ht["".concat(Ft.axisType,"Map")],Jt=It["".concat(Ft.axisType,"Id")];Gt&&Gt[Jt]||Ft.axisType==="zAxis"||invariant();var Yt=Gt[Jt];return _objectSpread(_objectSpread({},lr),{},_defineProperty(_defineProperty({},Ft.axisType,Yt),"".concat(Ft.axisType,"Ticks"),getTicksOfAxis(Yt)))},Bt),zt=Ut[St],Qt=Ut["".concat(St,"Ticks")],sr=vt&&vt[Mt]&&vt[Mt].hasStack&&getStackedDataOfItem(wt,vt[Mt].stackGroups),Kt=getDisplayName(wt.type).indexOf("Bar")>=0,fr=getBandSizeOfAxis(zt,Qt),dr=[],xr=Ot&&getBarSizeList({barSize:Rt,stackGroups:vt,totalSize:getCartesianAxisSize(Ut,St)});if(Kt){var ar,rr,Lt=isNil$1($t)?Ct:$t,Zt=(ar=(rr=getBandSizeOfAxis(zt,Qt,!0))!==null&&rr!==void 0?rr:Lt)!==null&&ar!==void 0?ar:0;dr=getBarPosition({barGap:jt,barCategoryGap:xt,bandSize:Zt!==fr?Zt:fr,sizeList:xr[Ht],maxBarSize:Lt}),Zt!==fr&&(dr=dr.map(function(lr){return _objectSpread(_objectSpread({},lr),{},{position:_objectSpread(_objectSpread({},lr.position),{},{offset:lr.position.offset-Zt/2})})}))}var or=wt&&wt.type&&wt.type.getComposedData;or&&Pt.push({props:_objectSpread(_objectSpread({},or(_objectSpread(_objectSpread({},Ut),{},{displayedData:Vt,props:ft,dataKey:At,item:wt,bandSize:fr,barPosition:dr,offset:gt,stackedData:sr,layout:Tt,dataStartIndex:mt,dataEndIndex:Et}))),{},_defineProperty(_defineProperty(_defineProperty({key:wt.key||"item-".concat(Dt)},Nt,Ut[Nt]),St,Ut[St]),"animationId",bt)),childIndex:parseChildIndex(wt,ft.children),item:wt})}),Pt},dt=function(ft,ht){var yt=ft.props,vt=ft.dataStartIndex,gt=ft.dataEndIndex,bt=ft.updateId;if(!validateWidthHeight({props:yt}))return null;var mt=yt.children,Et=yt.layout,Rt=yt.stackOffset,Tt=yt.data,jt=yt.reverseStackOrder,xt=getAxisNameByLayout(Et),Ct=xt.numericAxisName,kt=xt.cateAxisName,Nt=findAllByType(mt,_e),St=getStackGroupsByAxisId(Tt,Nt,"".concat(Ct,"Id"),"".concat(kt,"Id"),Rt,jt),Ot=st.reduce(function(It,At){var $t="".concat(At.axisType,"Map");return _objectSpread(_objectSpread({},It),{},_defineProperty({},$t,getAxisMap(yt,_objectSpread(_objectSpread({},At),{},{graphicalItems:Nt,stackGroups:At.axisType===Ct&&St,dataStartIndex:vt,dataEndIndex:gt}))))},{}),Pt=calculateOffset(_objectSpread(_objectSpread({},Ot),{},{props:yt,graphicalItems:Nt}),ht==null?void 0:ht.legendBBox);Object.keys(Ot).forEach(function(It){Ot[It]=at(yt,Ot[It],Pt,It.replace("Map",""),$)});var wt=Ot["".concat(kt,"Map")],Dt=tooltipTicksGenerator(wt),Vt=ct(yt,_objectSpread(_objectSpread({},Ot),{},{dataStartIndex:vt,dataEndIndex:gt,updateId:bt,graphicalItems:Nt,stackGroups:St,offset:Pt}));return _objectSpread(_objectSpread({formattedGraphicalItems:Vt,graphicalItems:Nt,offset:Pt,stackGroups:St},Dt),Ot)},pt=function(lt){function ft(ht){var yt,vt,gt;return _classCallCheck(this,ft),gt=_callSuper(this,ft,[ht]),_defineProperty(gt,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(gt,"accessibilityManager",new AccessibilityManager),_defineProperty(gt,"handleLegendBBoxUpdate",function(bt){if(bt){var mt=gt.state,Et=mt.dataStartIndex,Rt=mt.dataEndIndex,Tt=mt.updateId;gt.setState(_objectSpread({legendBBox:bt},dt({props:gt.props,dataStartIndex:Et,dataEndIndex:Rt,updateId:Tt},_objectSpread(_objectSpread({},gt.state),{},{legendBBox:bt}))))}}),_defineProperty(gt,"handleReceiveSyncEvent",function(bt,mt,Et){if(gt.props.syncId===bt){if(Et===gt.eventEmitterSymbol&&typeof gt.props.syncMethod!="function")return;gt.applySyncEvent(mt)}}),_defineProperty(gt,"handleBrushChange",function(bt){var mt=bt.startIndex,Et=bt.endIndex;if(mt!==gt.state.dataStartIndex||Et!==gt.state.dataEndIndex){var Rt=gt.state.updateId;gt.setState(function(){return _objectSpread({dataStartIndex:mt,dataEndIndex:Et},dt({props:gt.props,dataStartIndex:mt,dataEndIndex:Et,updateId:Rt},gt.state))}),gt.triggerSyncEvent({dataStartIndex:mt,dataEndIndex:Et})}}),_defineProperty(gt,"handleMouseEnter",function(bt){var mt=gt.getMouseInfo(bt);if(mt){var Et=_objectSpread(_objectSpread({},mt),{},{isTooltipActive:!0});gt.setState(Et),gt.triggerSyncEvent(Et);var Rt=gt.props.onMouseEnter;isFunction$3(Rt)&&Rt(Et,bt)}}),_defineProperty(gt,"triggeredAfterMouseMove",function(bt){var mt=gt.getMouseInfo(bt),Et=mt?_objectSpread(_objectSpread({},mt),{},{isTooltipActive:!0}):{isTooltipActive:!1};gt.setState(Et),gt.triggerSyncEvent(Et);var Rt=gt.props.onMouseMove;isFunction$3(Rt)&&Rt(Et,bt)}),_defineProperty(gt,"handleItemMouseEnter",function(bt){gt.setState(function(){return{isTooltipActive:!0,activeItem:bt,activePayload:bt.tooltipPayload,activeCoordinate:bt.tooltipPosition||{x:bt.cx,y:bt.cy}}})}),_defineProperty(gt,"handleItemMouseLeave",function(){gt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(gt,"handleMouseMove",function(bt){bt.persist(),gt.throttleTriggeredAfterMouseMove(bt)}),_defineProperty(gt,"handleMouseLeave",function(bt){gt.throttleTriggeredAfterMouseMove.cancel();var mt={isTooltipActive:!1};gt.setState(mt),gt.triggerSyncEvent(mt);var Et=gt.props.onMouseLeave;isFunction$3(Et)&&Et(mt,bt)}),_defineProperty(gt,"handleOuterEvent",function(bt){var mt=getReactEventByType(bt),Et=get$2(gt.props,"".concat(mt));if(mt&&isFunction$3(Et)){var Rt,Tt;/.*touch.*/i.test(mt)?Tt=gt.getMouseInfo(bt.changedTouches[0]):Tt=gt.getMouseInfo(bt),Et((Rt=Tt)!==null&&Rt!==void 0?Rt:{},bt)}}),_defineProperty(gt,"handleClick",function(bt){var mt=gt.getMouseInfo(bt);if(mt){var Et=_objectSpread(_objectSpread({},mt),{},{isTooltipActive:!0});gt.setState(Et),gt.triggerSyncEvent(Et);var Rt=gt.props.onClick;isFunction$3(Rt)&&Rt(Et,bt)}}),_defineProperty(gt,"handleMouseDown",function(bt){var mt=gt.props.onMouseDown;if(isFunction$3(mt)){var Et=gt.getMouseInfo(bt);mt(Et,bt)}}),_defineProperty(gt,"handleMouseUp",function(bt){var mt=gt.props.onMouseUp;if(isFunction$3(mt)){var Et=gt.getMouseInfo(bt);mt(Et,bt)}}),_defineProperty(gt,"handleTouchMove",function(bt){bt.changedTouches!=null&&bt.changedTouches.length>0&&gt.throttleTriggeredAfterMouseMove(bt.changedTouches[0])}),_defineProperty(gt,"handleTouchStart",function(bt){bt.changedTouches!=null&&bt.changedTouches.length>0&&gt.handleMouseDown(bt.changedTouches[0])}),_defineProperty(gt,"handleTouchEnd",function(bt){bt.changedTouches!=null&&bt.changedTouches.length>0&&gt.handleMouseUp(bt.changedTouches[0])}),_defineProperty(gt,"handleDoubleClick",function(bt){var mt=gt.props.onDoubleClick;if(isFunction$3(mt)){var Et=gt.getMouseInfo(bt);mt(Et,bt)}}),_defineProperty(gt,"handleContextMenu",function(bt){var mt=gt.props.onContextMenu;if(isFunction$3(mt)){var Et=gt.getMouseInfo(bt);mt(Et,bt)}}),_defineProperty(gt,"triggerSyncEvent",function(bt){gt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,gt.props.syncId,bt,gt.eventEmitterSymbol)}),_defineProperty(gt,"applySyncEvent",function(bt){var mt=gt.props,Et=mt.layout,Rt=mt.syncMethod,Tt=gt.state.updateId,jt=bt.dataStartIndex,xt=bt.dataEndIndex;if(bt.dataStartIndex!==void 0||bt.dataEndIndex!==void 0)gt.setState(_objectSpread({dataStartIndex:jt,dataEndIndex:xt},dt({props:gt.props,dataStartIndex:jt,dataEndIndex:xt,updateId:Tt},gt.state)));else if(bt.activeTooltipIndex!==void 0){var Ct=bt.chartX,kt=bt.chartY,Nt=bt.activeTooltipIndex,St=gt.state,Ot=St.offset,Pt=St.tooltipTicks;if(!Ot)return;if(typeof Rt=="function")Nt=Rt(Pt,bt);else if(Rt==="value"){Nt=-1;for(var wt=0;wt<Pt.length;wt++)if(Pt[wt].value===bt.activeLabel){Nt=wt;break}}var Dt=_objectSpread(_objectSpread({},Ot),{},{x:Ot.left,y:Ot.top}),Vt=Math.min(Ct,Dt.x+Dt.width),It=Math.min(kt,Dt.y+Dt.height),At=Pt[Nt]&&Pt[Nt].value,$t=getTooltipContent(gt.state,gt.props.data,Nt),Mt=Pt[Nt]?{x:Et==="horizontal"?Pt[Nt].coordinate:Vt,y:Et==="horizontal"?It:Pt[Nt].coordinate}:originCoordinate;gt.setState(_objectSpread(_objectSpread({},bt),{},{activeLabel:At,activeCoordinate:Mt,activePayload:$t,activeTooltipIndex:Nt}))}else gt.setState(bt)}),_defineProperty(gt,"renderCursor",function(bt){var mt,Et=gt.state,Rt=Et.isTooltipActive,Tt=Et.activeCoordinate,jt=Et.activePayload,xt=Et.offset,Ct=Et.activeTooltipIndex,kt=Et.tooltipAxisBandSize,Nt=gt.getTooltipEventType(),St=(mt=bt.props.active)!==null&&mt!==void 0?mt:Rt,Ot=gt.props.layout,Pt=bt.key||"_recharts-cursor";return React.createElement(Cursor,{key:Pt,activeCoordinate:Tt,activePayload:jt,activeTooltipIndex:Ct,chartName:$,element:bt,isActive:St,layout:Ot,offset:xt,tooltipAxisBandSize:kt,tooltipEventType:Nt})}),_defineProperty(gt,"renderPolarAxis",function(bt,mt,Et){var Rt=get$2(bt,"type.axisType"),Tt=get$2(gt.state,"".concat(Rt,"Map")),jt=bt.type.defaultProps,xt=jt!==void 0?_objectSpread(_objectSpread({},jt),bt.props):bt.props,Ct=Tt&&Tt[xt["".concat(Rt,"Id")]];return reactExports.cloneElement(bt,_objectSpread(_objectSpread({},Ct),{},{className:clsx(Rt,Ct.className),key:bt.key||"".concat(mt,"-").concat(Et),ticks:getTicksOfAxis(Ct,!0)}))}),_defineProperty(gt,"renderPolarGrid",function(bt){var mt=bt.props,Et=mt.radialLines,Rt=mt.polarAngles,Tt=mt.polarRadius,jt=gt.state,xt=jt.radiusAxisMap,Ct=jt.angleAxisMap,kt=getAnyElementOfObject(xt),Nt=getAnyElementOfObject(Ct),St=Nt.cx,Ot=Nt.cy,Pt=Nt.innerRadius,wt=Nt.outerRadius;return reactExports.cloneElement(bt,{polarAngles:Array.isArray(Rt)?Rt:getTicksOfAxis(Nt,!0).map(function(Dt){return Dt.coordinate}),polarRadius:Array.isArray(Tt)?Tt:getTicksOfAxis(kt,!0).map(function(Dt){return Dt.coordinate}),cx:St,cy:Ot,innerRadius:Pt,outerRadius:wt,key:bt.key||"polar-grid",radialLines:Et})}),_defineProperty(gt,"renderLegend",function(){var bt=gt.state.formattedGraphicalItems,mt=gt.props,Et=mt.children,Rt=mt.width,Tt=mt.height,jt=gt.props.margin||{},xt=Rt-(jt.left||0)-(jt.right||0),Ct=getLegendProps({children:Et,formattedGraphicalItems:bt,legendWidth:xt,legendContent:it});if(!Ct)return null;var kt=Ct.item,Nt=_objectWithoutProperties(Ct,_excluded);return reactExports.cloneElement(kt,_objectSpread(_objectSpread({},Nt),{},{chartWidth:Rt,chartHeight:Tt,margin:jt,onBBoxUpdate:gt.handleLegendBBoxUpdate}))}),_defineProperty(gt,"renderTooltip",function(){var bt,mt=gt.props,Et=mt.children,Rt=mt.accessibilityLayer,Tt=findChildByType(Et,Tooltip);if(!Tt)return null;var jt=gt.state,xt=jt.isTooltipActive,Ct=jt.activeCoordinate,kt=jt.activePayload,Nt=jt.activeLabel,St=jt.offset,Ot=(bt=Tt.props.active)!==null&&bt!==void 0?bt:xt;return reactExports.cloneElement(Tt,{viewBox:_objectSpread(_objectSpread({},St),{},{x:St.left,y:St.top}),active:Ot,label:Nt,payload:Ot?kt:[],coordinate:Ct,accessibilityLayer:Rt})}),_defineProperty(gt,"renderBrush",function(bt){var mt=gt.props,Et=mt.margin,Rt=mt.data,Tt=gt.state,jt=Tt.offset,xt=Tt.dataStartIndex,Ct=Tt.dataEndIndex,kt=Tt.updateId;return reactExports.cloneElement(bt,{key:bt.key||"_recharts-brush",onChange:combineEventHandlers(gt.handleBrushChange,bt.props.onChange),data:Rt,x:isNumber(bt.props.x)?bt.props.x:jt.left,y:isNumber(bt.props.y)?bt.props.y:jt.top+jt.height+jt.brushBottom-(Et.bottom||0),width:isNumber(bt.props.width)?bt.props.width:jt.width,startIndex:xt,endIndex:Ct,updateId:"brush-".concat(kt)})}),_defineProperty(gt,"renderReferenceElement",function(bt,mt,Et){if(!bt)return null;var Rt=gt,Tt=Rt.clipPathId,jt=gt.state,xt=jt.xAxisMap,Ct=jt.yAxisMap,kt=jt.offset,Nt=bt.type.defaultProps||{},St=bt.props,Ot=St.xAxisId,Pt=Ot===void 0?Nt.xAxisId:Ot,wt=St.yAxisId,Dt=wt===void 0?Nt.yAxisId:wt;return reactExports.cloneElement(bt,{key:bt.key||"".concat(mt,"-").concat(Et),xAxis:xt[Pt],yAxis:Ct[Dt],viewBox:{x:kt.left,y:kt.top,width:kt.width,height:kt.height},clipPathId:Tt})}),_defineProperty(gt,"renderActivePoints",function(bt){var mt=bt.item,Et=bt.activePoint,Rt=bt.basePoint,Tt=bt.childIndex,jt=bt.isRange,xt=[],Ct=mt.props.key,kt=mt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},mt.item.type.defaultProps),mt.item.props):mt.item.props,Nt=kt.activeDot,St=kt.dataKey,Ot=_objectSpread(_objectSpread({index:Tt,dataKey:St,cx:Et.x,cy:Et.y,r:4,fill:getMainColorOfGraphicItem(mt.item),strokeWidth:2,stroke:"#fff",payload:Et.payload,value:Et.value},filterProps(Nt,!1)),adaptEventHandlers(Nt));return xt.push(ft.renderActiveDot(Nt,Ot,"".concat(Ct,"-activePoint-").concat(Tt))),Rt?xt.push(ft.renderActiveDot(Nt,_objectSpread(_objectSpread({},Ot),{},{cx:Rt.x,cy:Rt.y}),"".concat(Ct,"-basePoint-").concat(Tt))):jt&&xt.push(null),xt}),_defineProperty(gt,"renderGraphicChild",function(bt,mt,Et){var Rt=gt.filterFormatItem(bt,mt,Et);if(!Rt)return null;var Tt=gt.getTooltipEventType(),jt=gt.state,xt=jt.isTooltipActive,Ct=jt.tooltipAxis,kt=jt.activeTooltipIndex,Nt=jt.activeLabel,St=gt.props.children,Ot=findChildByType(St,Tooltip),Pt=Rt.props,wt=Pt.points,Dt=Pt.isRange,Vt=Pt.baseLine,It=Rt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Rt.item.type.defaultProps),Rt.item.props):Rt.item.props,At=It.activeDot,$t=It.hide,Mt=It.activeBar,Ht=It.activeShape,Bt=!!(!$t&&xt&&Ot&&(At||Mt||Ht)),Ut={};Tt!=="axis"&&Ot&&Ot.props.trigger==="click"?Ut={onClick:combineEventHandlers(gt.handleItemMouseEnter,bt.props.onClick)}:Tt!=="axis"&&(Ut={onMouseLeave:combineEventHandlers(gt.handleItemMouseLeave,bt.props.onMouseLeave),onMouseEnter:combineEventHandlers(gt.handleItemMouseEnter,bt.props.onMouseEnter)});var zt=reactExports.cloneElement(bt,_objectSpread(_objectSpread({},Rt.props),Ut));function Qt(Ft){return typeof Ct.dataKey=="function"?Ct.dataKey(Ft.payload):null}if(Bt)if(kt>=0){var sr,Kt;if(Ct.dataKey&&!Ct.allowDuplicatedCategory){var fr=typeof Ct.dataKey=="function"?Qt:"payload.".concat(Ct.dataKey.toString());sr=findEntryInArray(wt,fr,Nt),Kt=Dt&&Vt&&findEntryInArray(Vt,fr,Nt)}else sr=wt==null?void 0:wt[kt],Kt=Dt&&Vt&&Vt[kt];if(Ht||Mt){var dr=bt.props.activeIndex!==void 0?bt.props.activeIndex:kt;return[reactExports.cloneElement(bt,_objectSpread(_objectSpread(_objectSpread({},Rt.props),Ut),{},{activeIndex:dr})),null,null]}if(!isNil$1(sr))return[zt].concat(_toConsumableArray(gt.renderActivePoints({item:Rt,activePoint:sr,basePoint:Kt,childIndex:kt,isRange:Dt})))}else{var xr,ar=(xr=gt.getItemByXY(gt.state.activeCoordinate))!==null&&xr!==void 0?xr:{graphicalItem:zt},rr=ar.graphicalItem,Lt=rr.item,Zt=Lt===void 0?bt:Lt,or=rr.childIndex,lr=_objectSpread(_objectSpread(_objectSpread({},Rt.props),Ut),{},{activeIndex:or});return[reactExports.cloneElement(Zt,lr),null,null]}return Dt?[zt,null,null]:[zt,null]}),_defineProperty(gt,"renderCustomized",function(bt,mt,Et){return reactExports.cloneElement(bt,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Et)},gt.props),gt.state))}),_defineProperty(gt,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:gt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:gt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:gt.renderBrush,once:!0},Bar:{handler:gt.renderGraphicChild},Line:{handler:gt.renderGraphicChild},Area:{handler:gt.renderGraphicChild},Radar:{handler:gt.renderGraphicChild},RadialBar:{handler:gt.renderGraphicChild},Scatter:{handler:gt.renderGraphicChild},Pie:{handler:gt.renderGraphicChild},Funnel:{handler:gt.renderGraphicChild},Tooltip:{handler:gt.renderCursor,once:!0},PolarGrid:{handler:gt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:gt.renderPolarAxis},PolarRadiusAxis:{handler:gt.renderPolarAxis},Customized:{handler:gt.renderCustomized}}),gt.clipPathId="".concat((yt=ht.id)!==null&&yt!==void 0?yt:uniqueId("recharts"),"-clip"),gt.throttleTriggeredAfterMouseMove=throttle$1(gt.triggeredAfterMouseMove,(vt=ht.throttleDelay)!==null&&vt!==void 0?vt:1e3/60),gt.state={},gt}return _inherits(ft,lt),_createClass(ft,[{key:"componentDidMount",value:function(){var yt,vt;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(yt=this.props.margin.left)!==null&&yt!==void 0?yt:0,top:(vt=this.props.margin.top)!==null&&vt!==void 0?vt:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var yt=this.props,vt=yt.children,gt=yt.data,bt=yt.height,mt=yt.layout,Et=findChildByType(vt,Tooltip);if(Et){var Rt=Et.props.defaultIndex;if(!(typeof Rt!="number"||Rt<0||Rt>this.state.tooltipTicks.length-1)){var Tt=this.state.tooltipTicks[Rt]&&this.state.tooltipTicks[Rt].value,jt=getTooltipContent(this.state,gt,Rt,Tt),xt=this.state.tooltipTicks[Rt].coordinate,Ct=(this.state.offset.top+bt)/2,kt=mt==="horizontal",Nt=kt?{x:xt,y:Ct}:{y:xt,x:Ct},St=this.state.formattedGraphicalItems.find(function(Pt){var wt=Pt.item;return wt.type.name==="Scatter"});St&&(Nt=_objectSpread(_objectSpread({},Nt),St.props.points[Rt].tooltipPosition),jt=St.props.points[Rt].tooltipPayload);var Ot={activeTooltipIndex:Rt,isTooltipActive:!0,activeLabel:Tt,activePayload:jt,activeCoordinate:Nt};this.setState(Ot),this.renderCursor(Et),this.accessibilityManager.setIndex(Rt)}}}},{key:"getSnapshotBeforeUpdate",value:function(yt,vt){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==vt.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==yt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==yt.margin){var gt,bt;this.accessibilityManager.setDetails({offset:{left:(gt=this.props.margin.left)!==null&&gt!==void 0?gt:0,top:(bt=this.props.margin.top)!==null&&bt!==void 0?bt:0}})}return null}},{key:"componentDidUpdate",value:function(yt){isChildrenEqual([findChildByType(yt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var yt=findChildByType(this.props.children,Tooltip);if(yt&&typeof yt.props.shared=="boolean"){var vt=yt.props.shared?"axis":"item";return nt.indexOf(vt)>=0?vt:tt}return tt}},{key:"getMouseInfo",value:function(yt){if(!this.container)return null;var vt=this.container,gt=vt.getBoundingClientRect(),bt=getOffset(gt),mt={chartX:Math.round(yt.pageX-bt.left),chartY:Math.round(yt.pageY-bt.top)},Et=gt.width/vt.offsetWidth||1,Rt=this.inRange(mt.chartX,mt.chartY,Et);if(!Rt)return null;var Tt=this.state,jt=Tt.xAxisMap,xt=Tt.yAxisMap,Ct=this.getTooltipEventType(),kt=getTooltipData(this.state,this.props.data,this.props.layout,Rt);if(Ct!=="axis"&&jt&&xt){var Nt=getAnyElementOfObject(jt).scale,St=getAnyElementOfObject(xt).scale,Ot=Nt&&Nt.invert?Nt.invert(mt.chartX):null,Pt=St&&St.invert?St.invert(mt.chartY):null;return _objectSpread(_objectSpread({},mt),{},{xValue:Ot,yValue:Pt},kt)}return kt?_objectSpread(_objectSpread({},mt),kt):null}},{key:"inRange",value:function(yt,vt){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,bt=this.props.layout,mt=yt/gt,Et=vt/gt;if(bt==="horizontal"||bt==="vertical"){var Rt=this.state.offset,Tt=mt>=Rt.left&&mt<=Rt.left+Rt.width&&Et>=Rt.top&&Et<=Rt.top+Rt.height;return Tt?{x:mt,y:Et}:null}var jt=this.state,xt=jt.angleAxisMap,Ct=jt.radiusAxisMap;if(xt&&Ct){var kt=getAnyElementOfObject(xt);return inRangeOfSector({x:mt,y:Et},kt)}return null}},{key:"parseEventsOfWrapper",value:function(){var yt=this.props.children,vt=this.getTooltipEventType(),gt=findChildByType(yt,Tooltip),bt={};gt&&vt==="axis"&&(gt.props.trigger==="click"?bt={onClick:this.handleClick}:bt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var mt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},mt),bt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(yt,vt,gt){for(var bt=this.state.formattedGraphicalItems,mt=0,Et=bt.length;mt<Et;mt++){var Rt=bt[mt];if(Rt.item===yt||Rt.props.key===yt.key||vt===getDisplayName(Rt.item.type)&&gt===Rt.childIndex)return Rt}return null}},{key:"renderClipPath",value:function(){var yt=this.clipPathId,vt=this.state.offset,gt=vt.left,bt=vt.top,mt=vt.height,Et=vt.width;return React.createElement("defs",null,React.createElement("clipPath",{id:yt},React.createElement("rect",{x:gt,y:bt,height:mt,width:Et})))}},{key:"getXScales",value:function(){var yt=this.state.xAxisMap;return yt?Object.entries(yt).reduce(function(vt,gt){var bt=_slicedToArray(gt,2),mt=bt[0],Et=bt[1];return _objectSpread(_objectSpread({},vt),{},_defineProperty({},mt,Et.scale))},{}):null}},{key:"getYScales",value:function(){var yt=this.state.yAxisMap;return yt?Object.entries(yt).reduce(function(vt,gt){var bt=_slicedToArray(gt,2),mt=bt[0],Et=bt[1];return _objectSpread(_objectSpread({},vt),{},_defineProperty({},mt,Et.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(yt){var vt;return(vt=this.state.xAxisMap)===null||vt===void 0||(vt=vt[yt])===null||vt===void 0?void 0:vt.scale}},{key:"getYScaleByAxisId",value:function(yt){var vt;return(vt=this.state.yAxisMap)===null||vt===void 0||(vt=vt[yt])===null||vt===void 0?void 0:vt.scale}},{key:"getItemByXY",value:function(yt){var vt=this.state,gt=vt.formattedGraphicalItems,bt=vt.activeItem;if(gt&&gt.length)for(var mt=0,Et=gt.length;mt<Et;mt++){var Rt=gt[mt],Tt=Rt.props,jt=Rt.item,xt=jt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},jt.type.defaultProps),jt.props):jt.props,Ct=getDisplayName(jt.type);if(Ct==="Bar"){var kt=(Tt.data||[]).find(function(Pt){return isInRectangle(yt,Pt)});if(kt)return{graphicalItem:Rt,payload:kt}}else if(Ct==="RadialBar"){var Nt=(Tt.data||[]).find(function(Pt){return inRangeOfSector(yt,Pt)});if(Nt)return{graphicalItem:Rt,payload:Nt}}else if(isFunnel(Rt,bt)||isPie(Rt,bt)||isScatter(Rt,bt)){var St=getActiveShapeIndexForTooltip({graphicalItem:Rt,activeTooltipItem:bt,itemData:xt.data}),Ot=xt.activeIndex===void 0?St:xt.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Rt),{},{childIndex:Ot}),payload:isScatter(Rt,bt)?xt.data[St]:Rt.props.data[St]}}}return null}},{key:"render",value:function(){var yt=this;if(!validateWidthHeight(this))return null;var vt=this.props,gt=vt.children,bt=vt.className,mt=vt.width,Et=vt.height,Rt=vt.style,Tt=vt.compact,jt=vt.title,xt=vt.desc,Ct=_objectWithoutProperties(vt,_excluded2),kt=filterProps(Ct,!1);if(Tt)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},kt,{width:mt,height:Et,title:jt,desc:xt}),this.renderClipPath(),renderByOrder(gt,this.renderMap)));if(this.props.accessibilityLayer){var Nt,St;kt.tabIndex=(Nt=this.props.tabIndex)!==null&&Nt!==void 0?Nt:0,kt.role=(St=this.props.role)!==null&&St!==void 0?St:"application",kt.onKeyDown=function(Pt){yt.accessibilityManager.keyboardEvent(Pt)},kt.onFocus=function(){yt.accessibilityManager.focus()}}var Ot=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",bt),style:_objectSpread({position:"relative",cursor:"default",width:mt,height:Et},Rt)},Ot,{ref:function(wt){yt.container=wt}}),React.createElement(Surface,_extends({},kt,{width:mt,height:Et,title:jt,desc:xt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(gt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(pt,"displayName",$),_defineProperty(pt,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},ot)),_defineProperty(pt,"getDerivedStateFromProps",function(lt,ft){var ht=lt.dataKey,yt=lt.data,vt=lt.children,gt=lt.width,bt=lt.height,mt=lt.layout,Et=lt.stackOffset,Rt=lt.margin,Tt=ft.dataStartIndex,jt=ft.dataEndIndex;if(ft.updateId===void 0){var xt=createDefaultState(lt);return _objectSpread(_objectSpread(_objectSpread({},xt),{},{updateId:0},dt(_objectSpread(_objectSpread({props:lt},xt),{},{updateId:0}),ft)),{},{prevDataKey:ht,prevData:yt,prevWidth:gt,prevHeight:bt,prevLayout:mt,prevStackOffset:Et,prevMargin:Rt,prevChildren:vt})}if(ht!==ft.prevDataKey||yt!==ft.prevData||gt!==ft.prevWidth||bt!==ft.prevHeight||mt!==ft.prevLayout||Et!==ft.prevStackOffset||!shallowEqual(Rt,ft.prevMargin)){var Ct=createDefaultState(lt),kt={chartX:ft.chartX,chartY:ft.chartY,isTooltipActive:ft.isTooltipActive},Nt=_objectSpread(_objectSpread({},getTooltipData(ft,yt,mt)),{},{updateId:ft.updateId+1}),St=_objectSpread(_objectSpread(_objectSpread({},Ct),kt),Nt);return _objectSpread(_objectSpread(_objectSpread({},St),dt(_objectSpread({props:lt},St),ft)),{},{prevDataKey:ht,prevData:yt,prevWidth:gt,prevHeight:bt,prevLayout:mt,prevStackOffset:Et,prevMargin:Rt,prevChildren:vt})}if(!isChildrenEqual(vt,ft.prevChildren)){var Ot,Pt,wt,Dt,Vt=findChildByType(vt,Brush),It=Vt&&(Ot=(Pt=Vt.props)===null||Pt===void 0?void 0:Pt.startIndex)!==null&&Ot!==void 0?Ot:Tt,At=Vt&&(wt=(Dt=Vt.props)===null||Dt===void 0?void 0:Dt.endIndex)!==null&&wt!==void 0?wt:jt,$t=It!==Tt||At!==jt,Mt=!isNil$1(yt),Ht=Mt&&!$t?ft.updateId:ft.updateId+1;return _objectSpread(_objectSpread({updateId:Ht},dt(_objectSpread(_objectSpread({props:lt},ft),{},{updateId:Ht,dataStartIndex:It,dataEndIndex:At}),ft)),{},{prevChildren:vt,dataStartIndex:It,dataEndIndex:At})}return null}),_defineProperty(pt,"renderActiveDot",function(lt,ft,ht){var yt;return reactExports.isValidElement(lt)?yt=reactExports.cloneElement(lt,ft):isFunction$3(lt)?yt=lt(ft):yt=React.createElement(Dot,ft),React.createElement(Layer,{className:"recharts-active-dot",key:ht},yt)});var ut=reactExports.forwardRef(function(ft,ht){return React.createElement(pt,_extends({},ft,{ref:ht}))});return ut.displayName=pt.displayName,ut},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ReportsPage(){const[j,_]=reactExports.useState({from:new Date(new Date().getFullYear(),0,1),to:new Date}),[$,_e]=reactExports.useState("portfolio");useQuery({queryKey:["/api/reports",$,j],enabled:!!j.from&&!!j.to});const et=[{month:"Jan",collections:125e3,delinquency:2.5},{month:"Feb",collections:132e3,delinquency:2.3},{month:"Mar",collections:128e3,delinquency:2.8},{month:"Apr",collections:141e3,delinquency:2.1},{month:"May",collections:138e3,delinquency:2.4},{month:"Jun",collections:145e3,delinquency:2}],tt=[{name:"Current",value:850,color:CHART_COLORS.success},{name:"30+ Days",value:45,color:CHART_COLORS.warning},{name:"60+ Days",value:25,color:CHART_COLORS.danger},{name:"90+ Days",value:15,color:CHART_COLORS.danger}],rt=nt=>{console.log(`Downloading ${$} report in ${nt} format`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Reports & Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Generate comprehensive reports and analyze portfolio performance"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>rt("pdf"),variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Export PDF"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>rt("excel"),children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Export Excel"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Report Parameters"})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Select,{value:$,onValueChange:_e,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select report type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"portfolio",children:"Portfolio Summary"}),jsxRuntimeExports.jsx(SelectItem,{value:"delinquency",children:"Delinquency Report"}),jsxRuntimeExports.jsx(SelectItem,{value:"collections",children:"Collections Report"}),jsxRuntimeExports.jsx(SelectItem,{value:"escrow",children:"Escrow Analysis"}),jsxRuntimeExports.jsx(SelectItem,{value:"compliance",children:"Compliance Report"}),jsxRuntimeExports.jsx(SelectItem,{value:"investor",children:"Investor Report"})]})]}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-[280px] justify-start text-left font-normal"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),j.from?j.to?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[format$1(j.from,"LLL dd, y")," - ",format$1(j.to,"LLL dd, y")]}):format$1(j.from,"LLL dd, y"):jsxRuntimeExports.jsx("span",{children:"Pick a date range"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"range",selected:{from:j.from,to:j.to},onSelect:nt=>_(nt||{from:void 0,to:void 0}),numberOfMonths:2})})]}),jsxRuntimeExports.jsx(Button$1,{children:"Generate Report"})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"performance",children:"Performance"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"distribution",children:"Distribution"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"trends",children:"Trends"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Loans"}),jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"935"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"+12 from last month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Portfolio Value"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"$285.4M"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.5% from last month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Delinquency Rate"}),jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"2.1%"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"-0.3% from last month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Collections YTD"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"$18.2M"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"98.5% of target"})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"performance",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Collections & Delinquency Trends"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(LineChart,{data:et,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"left"}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"right",orientation:"right"}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{yAxisId:"left",type:"monotone",dataKey:"collections",stroke:CHART_COLORS.primary,name:"Collections ($)"}),jsxRuntimeExports.jsx(Line,{yAxisId:"right",type:"monotone",dataKey:"delinquency",stroke:CHART_COLORS.danger,name:"Delinquency Rate (%)"})]})})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"distribution",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Portfolio Distribution"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:tt,cx:"50%",cy:"50%",labelLine:!1,label:nt=>`${nt.name}: ${nt.value}`,outerRadius:150,fill:"#8884d8",dataKey:"value",children:tt.map((nt,st)=>jsxRuntimeExports.jsx(Cell,{fill:nt.color},`cell-${st}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"trends",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Monthly Collection Trends"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:et,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"collections",fill:CHART_COLORS.primary,name:"Collections ($)"})]})})})]})})]})]})})]})}function CompliancePage(){const[j,_]=reactExports.useState("current"),[$,_e]=reactExports.useState("all");useQuery({queryKey:["/api/compliance",j,$]});const et=[{id:"1",type:"Documentation",description:"Missing insurance verification for Loan #4523",priority:"high",status:"pending",dueDate:new Date(Date.now()+864e5*3),assignedTo:"John Smith"},{id:"2",type:"Regulatory",description:"RESPA disclosure required for Loan #7891",priority:"urgent",status:"in_progress",dueDate:new Date(Date.now()+864e5),assignedTo:"Jane Doe"},{id:"3",type:"Audit",description:"Annual escrow analysis pending for 15 accounts",priority:"normal",status:"pending",dueDate:new Date(Date.now()+864e5*7),assignedTo:"Mike Johnson"}],tt=[{id:"1",timestamp:new Date(Date.now()-36e5),user:"admin@loanserve.com",action:"Viewed loan details",entityType:"loan",entityId:"4523",ipAddress:"192.168.1.100"},{id:"2",timestamp:new Date(Date.now()-72e5),user:"escrow@loanserve.com",action:"Updated escrow payment",entityType:"escrow_payment",entityId:"8912",ipAddress:"192.168.1.101"},{id:"3",timestamp:new Date(Date.now()-108e5),user:"legal@loanserve.com",action:"Downloaded document",entityType:"document",entityId:"1234",ipAddress:"192.168.1.102"}],rt=st=>{const it=PRIORITY_LEVELS.find(at=>at.value===st);return(it==null?void 0:it.color)||"text-gray-600"},nt=st=>({pending:"default",in_progress:"secondary",completed:"outline",overdue:"destructive"})[st]||"default";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Compliance Management"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Monitor regulatory compliance and audit trails"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),"Generate Report"]}),jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Shield,{className:"mr-2 h-4 w-4"}),"Run Compliance Check"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Compliance Score"}),jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"94.5%"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.1% from last month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Open Issues"}),jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"12"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"3 urgent, 4 high priority"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Resolved This Month"}),jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"47"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Average resolution: 2.3 days"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Next Audit"}),jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"15 days"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Quarterly review scheduled"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"issues",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"issues",children:"Compliance Issues"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"audit",children:"Audit Trail"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"regulations",children:"Regulations"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"documents",children:"Documents"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"issues",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx(CardTitle,{children:"Active Compliance Issues"}),jsxRuntimeExports.jsxs(Select,{value:$,onValueChange:_e,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter issues"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Issues"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent Only"}),jsxRuntimeExports.jsx(SelectItem,{value:"regulatory",children:"Regulatory"}),jsxRuntimeExports.jsx(SelectItem,{value:"documentation",children:"Documentation"}),jsxRuntimeExports.jsx(SelectItem,{value:"audit",children:"Audit"})]})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Description"}),jsxRuntimeExports.jsx(TableHead,{children:"Priority"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Due Date"}),jsxRuntimeExports.jsx(TableHead,{children:"Assigned To"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:et.map(st=>{var it;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:st.type}),jsxRuntimeExports.jsx(TableCell,{children:st.description}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("span",{className:rt(st.priority),children:(it=PRIORITY_LEVELS.find(at=>at.value===st.priority))==null?void 0:it.label})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:nt(st.status),children:st.status.replace("_"," ")})}),jsxRuntimeExports.jsx(TableCell,{children:format$1(st.dueDate,"MMM dd, yyyy")}),jsxRuntimeExports.jsx(TableCell,{children:st.assignedTo}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})})]},st.id)})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"audit",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Audit Trail"}),jsxRuntimeExports.jsx(CardDescription,{children:"Recent system activity and changes"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-[500px]",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Timestamp"}),jsxRuntimeExports.jsx(TableHead,{children:"User"}),jsxRuntimeExports.jsx(TableHead,{children:"Action"}),jsxRuntimeExports.jsx(TableHead,{children:"Entity Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Entity ID"}),jsxRuntimeExports.jsx(TableHead,{children:"IP Address"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.map(st=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:format$1(st.timestamp,"MMM dd, HH:mm:ss")}),jsxRuntimeExports.jsx(TableCell,{children:st.user}),jsxRuntimeExports.jsx(TableCell,{children:st.action}),jsxRuntimeExports.jsx(TableCell,{children:st.entityType}),jsxRuntimeExports.jsx(TableCell,{children:st.entityId}),jsxRuntimeExports.jsx(TableCell,{children:st.ipAddress})]},st.id))})]})})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"regulations",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Regulatory Requirements"}),jsxRuntimeExports.jsx(CardDescription,{children:"Active regulations and compliance requirements"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"RESPA (Real Estate Settlement Procedures Act)"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Requires disclosure of settlement costs and prohibits kickbacks. All loans must comply with RESPA requirements."})]}),jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"TILA (Truth in Lending Act)"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Mandates clear disclosure of loan terms and costs. APR calculations must be accurate to within 1/8 of 1%."})]}),jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"FCRA (Fair Credit Reporting Act)"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Governs the collection and use of credit information. Adverse action notices required when credit impacts decisions."})]}),jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"HMDA (Home Mortgage Disclosure Act)"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Requires reporting of mortgage data for monitoring discrimination. Annual LAR submission deadline: March 1st."})]})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"documents",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Compliance Documents"}),jsxRuntimeExports.jsx(CardDescription,{children:"Templates and regulatory documentation"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"RESPA Compliance Checklist"})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",children:"Download"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"TILA Disclosure Template"})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",children:"Download"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Annual Escrow Analysis Form"})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",children:"Download"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Compliance Audit Report Template"})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",children:"Download"})]})]})})]})})]})]})})]})}const WESTSTAR_DEFAULT_FEES=[{type:"setup",name:"Setup Fee without Impounds",amount:"150.00",frequency:"one-time",chargeDate:"origination"},{type:"setup",name:"Setup Fee with Impounds",amount:"225.00",frequency:"one-time",chargeDate:"origination"},{type:"setup",name:"Setup Fee if Transferred From Another Servicer",amount:"10.00",frequency:"one-time",chargeDate:"origination"},{type:"servicing",name:"Transaction/Servicing Fee - Monthly",amount:"13.00",frequency:"monthly",chargeDate:"payment"},{type:"servicing",name:"Transaction/Servicing Fee - Quarterly",amount:"39.00",frequency:"quarterly",chargeDate:"payment"},{type:"servicing",name:"Transaction/Servicing Fee - Semi-Annual",amount:"78.00",frequency:"semi-annual",chargeDate:"payment"},{type:"servicing",name:"Transaction/Servicing Fee - Annual",amount:"156.00",frequency:"annual",chargeDate:"payment"},{type:"servicing",name:"Additional Disbursement by check",amount:"5.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"servicing",name:"Receipt by Paper",amount:"5.00",frequency:"monthly",chargeDate:"payment"},{type:"servicing",name:"Collection for Taxes and/or Insurance",amount:"6.00",frequency:"monthly",chargeDate:"payment"},{type:"servicing",name:"Disbursement from Impound Account",amount:"8.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"document",name:"Assignment or Assumption Fee",amount:"100.00",frequency:"one-time",chargeDate:"transaction"},{type:"document",name:"Successor in Interest",amount:"50.00",frequency:"one-time",chargeDate:"transaction"},{type:"document",name:"Partial Release",amount:"100.00",frequency:"one-time",chargeDate:"transaction"},{type:"document",name:"Verifications",amount:"25.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"document",name:"Holding Documents/Dormant accounts",amount:"156.00",frequency:"annual",chargeDate:"annual"},{type:"closing",name:"Close Out (Withdrawal & Affidavits)",amount:"150.00",frequency:"one-time",chargeDate:"closing"},{type:"closing",name:"Close Out on Payoff",amount:"125.00",frequency:"one-time",chargeDate:"payoff"},{type:"statement",name:"Bring-Current Statement",amount:"40.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"statement",name:"Payoff Statement",amount:"100.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"statement",name:"Payoff Statement Update",amount:"40.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"administrative",name:"Recording Fee",amount:"0.00",frequency:"per-transaction",chargeDate:"transaction",note:"Actual Charge"},{type:"administrative",name:"Modification and Addendums",amount:"100.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"collection",name:"Late Reminder/Delinquency Notice",amount:"20.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"collection",name:"Insufficient Funds/Returned Items",amount:"25.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"administrative",name:"Void and Reissues/Stop pay",amount:"29.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"closing",name:"Reconveyance Fee",amount:"125.00",frequency:"one-time",chargeDate:"payoff"},{type:"collection",name:"Demand Monitor Fee",amount:"145.00",frequency:"per-transaction",chargeDate:"transaction",note:"includes 1 demand stmt, 1 fax, 1 update, foreclosure monitoring"},{type:"administrative",name:"Fed Ex Fee",amount:"25.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"special",name:"Bankruptcy Management/Adj Rate Payments",amount:"25.00",frequency:"monthly",chargeDate:"payment",note:"additional"},{type:"special",name:"Research/Special Handling/Manual Calculation",amount:"50.00",frequency:"hourly",chargeDate:"transaction",note:"min. per hour"},{type:"trust",name:"Document Signing Fee (For Trust Services)",amount:"125.00",frequency:"per-transaction",chargeDate:"transaction"},{type:"administrative",name:"Storage Retrieval",amount:"35.00",frequency:"per-transaction",chargeDate:"transaction"}];function FeeManagement(){const{toast:j}=useToast(),[_,$]=reactExports.useState(!1),[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(null),[nt,st]=reactExports.useState({templateName:"",description:"",isDefault:!1,fees:[]}),[it,at]=reactExports.useState({type:"servicing",name:"",amount:"",frequency:"monthly",chargeDate:"payment"}),{data:ot,isLoading:ct}=useQuery({queryKey:["/api/fees/templates"]}),dt=useMutation({mutationFn:vt=>apiRequest("/api/fees/templates",{method:"POST",body:JSON.stringify(vt)}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/fees/templates"]}),j({title:"Success",description:"Fee template created successfully"}),$(!1),st({templateName:"",description:"",isDefault:!1,fees:[]})},onError:()=>{j({title:"Error",description:"Failed to create fee template",variant:"destructive"})}}),pt=useMutation({mutationFn:({id:vt,...gt})=>apiRequest(`/api/fees/templates/${vt}`,{method:"PUT",body:JSON.stringify(gt)}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/fees/templates"]}),j({title:"Success",description:"Fee template updated successfully"}),et(null)},onError:()=>{j({title:"Error",description:"Failed to update fee template",variant:"destructive"})}}),ut=useMutation({mutationFn:vt=>apiRequest(`/api/fees/templates/${vt}`,{method:"DELETE"}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/fees/templates"]}),j({title:"Success",description:"Fee template deleted successfully"})},onError:()=>{j({title:"Error",description:"Failed to delete fee template",variant:"destructive"})}}),lt=()=>{if(!it.name||!it.amount){j({title:"Error",description:"Please fill in fee name and amount",variant:"destructive"});return}st(vt=>({...vt,fees:[...vt.fees,{...it}]})),at({type:"servicing",name:"",amount:"",frequency:"monthly",chargeDate:"payment"})},ft=vt=>{st(gt=>({...gt,fees:gt.fees.filter((bt,mt)=>mt!==vt)}))},ht=()=>{st(vt=>({...vt,templateName:vt.templateName||"WestStar Default Fee Schedule",description:vt.description||"Default fee schedule based on WestStar Pacific Mortgage servicing agreement",fees:WESTSTAR_DEFAULT_FEES})),j({title:"Success",description:"WestStar default fees loaded"})},yt=vt=>{st({templateName:`${vt.templateName} (Copy)`,description:vt.description,isDefault:!1,fees:vt.fees}),$(!0)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Fee Management"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage fee templates and schedules for loans"})]}),jsxRuntimeExports.jsxs(Dialog,{open:_,onOpenChange:$,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"}),"Create Template"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create Fee Template"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Create a new fee template that can be applied to loans"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"templateName",children:"Template Name"}),jsxRuntimeExports.jsx(Input,{id:"templateName",value:nt.templateName,onChange:vt=>st(gt=>({...gt,templateName:vt.target.value})),placeholder:"e.g., Standard Servicing Fees"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[jsxRuntimeExports.jsx(Switch,{id:"isDefault",checked:nt.isDefault,onCheckedChange:vt=>st(gt=>({...gt,isDefault:vt}))}),jsxRuntimeExports.jsx(Label$2,{htmlFor:"isDefault",children:"Set as default template"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"description",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"description",value:nt.description,onChange:vt=>st(gt=>({...gt,description:vt.target.value})),placeholder:"Describe this fee template...",rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Fees"}),jsxRuntimeExports.jsxs(Button$1,{type:"button",variant:"outline",size:"sm",onClick:ht,children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),"Load WestStar Defaults"]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[jsxRuntimeExports.jsxs(Select,{value:it.type,onValueChange:vt=>at(gt=>({...gt,type:vt})),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"col-span-2",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"setup",children:"Setup"}),jsxRuntimeExports.jsx(SelectItem,{value:"servicing",children:"Servicing"}),jsxRuntimeExports.jsx(SelectItem,{value:"document",children:"Document"}),jsxRuntimeExports.jsx(SelectItem,{value:"closing",children:"Closing"}),jsxRuntimeExports.jsx(SelectItem,{value:"statement",children:"Statement"}),jsxRuntimeExports.jsx(SelectItem,{value:"administrative",children:"Administrative"}),jsxRuntimeExports.jsx(SelectItem,{value:"collection",children:"Collection"}),jsxRuntimeExports.jsx(SelectItem,{value:"special",children:"Special"}),jsxRuntimeExports.jsx(SelectItem,{value:"trust",children:"Trust"})]})]}),jsxRuntimeExports.jsx(Input,{className:"col-span-4",placeholder:"Fee name",value:it.name,onChange:vt=>at(gt=>({...gt,name:vt.target.value}))}),jsxRuntimeExports.jsx(Input,{className:"col-span-2",placeholder:"Amount",type:"number",step:"0.01",value:it.amount,onChange:vt=>at(gt=>({...gt,amount:vt.target.value}))}),jsxRuntimeExports.jsxs(Select,{value:it.frequency,onValueChange:vt=>at(gt=>({...gt,frequency:vt})),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"col-span-3",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"one-time",children:"One-time"}),jsxRuntimeExports.jsx(SelectItem,{value:"monthly",children:"Monthly"}),jsxRuntimeExports.jsx(SelectItem,{value:"quarterly",children:"Quarterly"}),jsxRuntimeExports.jsx(SelectItem,{value:"semi-annual",children:"Semi-Annual"}),jsxRuntimeExports.jsx(SelectItem,{value:"annual",children:"Annual"}),jsxRuntimeExports.jsx(SelectItem,{value:"per-transaction",children:"Per Transaction"}),jsxRuntimeExports.jsx(SelectItem,{value:"hourly",children:"Hourly"})]})]}),jsxRuntimeExports.jsx(Button$1,{type:"button",size:"icon",onClick:lt,className:"col-span-1",children:jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"})})]})})}),nt.fees.length>0&&jsxRuntimeExports.jsx(ScrollArea,{className:"h-[250px] border rounded-md p-2",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Frequency"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:nt.fees.map((vt,gt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:vt.type})}),jsxRuntimeExports.jsx(TableCell,{children:vt.name}),jsxRuntimeExports.jsxs(TableCell,{children:["$",vt.amount]}),jsxRuntimeExports.jsx(TableCell,{children:vt.frequency}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>ft(gt),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})})]},gt))})]})})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>dt.mutate(nt),disabled:!nt.templateName||nt.fees.length===0,children:"Create Template"})]})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"templates",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"templates",children:"Fee Templates"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"schedule",children:"Fee Schedule"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"templates",children:ct?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading templates..."})})}):ot&&ot.length>0?jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:ot.map(vt=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[vt.templateName,vt.isDefault&&jsxRuntimeExports.jsxs(Badge,{variant:"default",children:[jsxRuntimeExports.jsx(Star,{className:"mr-1 h-3 w-3"}),"Default"]})]}),vt.description&&jsxRuntimeExports.jsx(CardDescription,{children:vt.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>rt(vt),children:jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>yt(vt),children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>et(vt),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>ut.mutate(vt.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[vt.fees.length," fees configured"]})})]},vt.id))}):jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No fee templates created yet"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{ht(),$(!0)},children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),"Create WestStar Default Template"]})]})})})}),jsxRuntimeExports.jsx(TabsContent,{value:"schedule",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"WestStar Fee Schedule Reference"}),jsxRuntimeExports.jsx(CardDescription,{children:"Standard fee schedule from WestStar Pacific Mortgage servicing agreement"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-[600px]",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Category"}),jsxRuntimeExports.jsx(TableHead,{children:"Fee Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Frequency"}),jsxRuntimeExports.jsx(TableHead,{children:"Notes"})]})}),jsxRuntimeExports.jsx(TableBody,{children:WESTSTAR_DEFAULT_FEES.map((vt,gt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:vt.type})}),jsxRuntimeExports.jsx(TableCell,{children:vt.name}),jsxRuntimeExports.jsx(TableCell,{children:vt.amount==="0.00"&&vt.note==="Actual Charge"?"Actual Charge":`$${vt.amount}`}),jsxRuntimeExports.jsx(TableCell,{children:vt.frequency}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm text-muted-foreground",children:vt.note})]},gt))})]})})})]})})]}),_e&&jsxRuntimeExports.jsx(Dialog,{open:!!_e,onOpenChange:()=>et(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Fee Template"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Modify the fee template details and fees"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"editTemplateName",children:"Template Name"}),jsxRuntimeExports.jsx(Input,{id:"editTemplateName",value:_e.templateName,onChange:vt=>et({..._e,templateName:vt.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[jsxRuntimeExports.jsx(Switch,{id:"editIsDefault",checked:_e.isDefault,onCheckedChange:vt=>et({..._e,isDefault:vt})}),jsxRuntimeExports.jsx(Label$2,{htmlFor:"editIsDefault",children:"Set as default template"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"editDescription",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"editDescription",value:_e.description||"",onChange:vt=>et({..._e,description:vt.target.value}),rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{children:["Fees (",_e.fees.length,")"]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[300px] border rounded-md p-4",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Frequency"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:_e.fees.map((vt,gt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:vt.type})}),jsxRuntimeExports.jsx(TableCell,{children:vt.name}),jsxRuntimeExports.jsxs(TableCell,{children:["$",vt.amount]}),jsxRuntimeExports.jsx(TableCell,{children:vt.frequency}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>{const bt=_e.fees.filter((mt,Et)=>Et!==gt);et({..._e,fees:bt})},children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})})]},gt))})]})})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>et(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>pt.mutate(_e),disabled:!_e.templateName||_e.fees.length===0,children:"Save Changes"})]})]})}),tt&&jsxRuntimeExports.jsx(Dialog,{open:!!tt,onOpenChange:()=>rt(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:tt.templateName}),tt.description&&jsxRuntimeExports.jsx(DialogDescription,{children:tt.description})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[500px]",children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Frequency"}),jsxRuntimeExports.jsx(TableHead,{children:"Charge Date"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.fees.map((vt,gt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:vt.type})}),jsxRuntimeExports.jsx(TableCell,{children:vt.name}),jsxRuntimeExports.jsxs(TableCell,{children:["$",vt.amount]}),jsxRuntimeExports.jsx(TableCell,{children:vt.frequency}),jsxRuntimeExports.jsx(TableCell,{children:vt.chargeDate})]},gt))})]})})]})})]})})]})}function EventsLog({runId:j,searchFilter:_}){const{data:$,isLoading:_e}=useQuery({queryKey:["/api/servicing-cycle/export/"+j],enabled:!!j});if(_e)return jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading events..."});if(!$||!$.events)return jsxRuntimeExports.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No events found for this run."});const et=$.events.filter(nt=>{var at,ot;if(!_)return!0;const st=_.toLowerCase();let it={};try{nt.details&&typeof nt.details=="string"?it=JSON.parse(nt.details):nt.details&&typeof nt.details=="object"&&(it=nt.details)}catch{}return((at=nt.eventType)==null?void 0:at.toLowerCase().includes(st))||((ot=nt.loanId)==null?void 0:ot.toString().includes(_))||JSON.stringify(it).toLowerCase().includes(st)}),tt=et.filter(nt=>{var st;return(st=nt.eventType)==null?void 0:st.startsWith("LOG_")}),rt=et.filter(nt=>{var st;return!((st=nt.eventType)!=null&&st.startsWith("LOG_"))});return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Events"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:$.events.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed Logs"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:tt.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Business Events"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:rt.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Loans Processed"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:new Set($.events.map(nt=>nt.loanId)).size})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-lg mb-3",children:"Detailed Decision Logs"}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[600px]",children:tt.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No detailed logs found. The servicing cycle ran without detailed logging."}):tt.map((nt,st)=>{let it={};try{it=typeof nt.details=="string"?JSON.parse(nt.details):nt.details||{}}catch{it={raw:nt.details}}const at=nt.eventType.replace("LOG_","").replace(/_/g," ");return jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 mb-3 hover:bg-gray-50 dark:hover:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:at}),nt.loanId&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Loan #",nt.loanId]})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:nt.timestamp?format$1(new Date(nt.timestamp),"HH:mm:ss.SSS"):""})]}),it.message&&jsxRuntimeExports.jsx("div",{className:"font-medium mb-2",children:it.message}),it.decision&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsxs(Badge,{className:it.decision.includes("ERROR")?"bg-red-500":it.decision.includes("SKIP")||it.decision.includes("NO_")?"bg-gray-500":it.decision.includes("PROCEED")||it.decision.includes("SUCCESS")?"bg-green-500":"bg-blue-500",children:["Decision: ",it.decision]})}),it.reason&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[jsxRuntimeExports.jsx("strong",{children:"Reason:"})," ",it.reason]}),jsxRuntimeExports.jsx("div",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-2 rounded mt-2",children:jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(Object.fromEntries(Object.entries(it).filter(([ot])=>!["message","decision","reason"].includes(ot))),null,2)})})]},st)})})]})]})}function ServicingCycle(){const{toast:j}=useToast(),[_,$]=reactExports.useState(new Date),[_e,et]=reactExports.useState(""),[tt,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState("overview"),[it,at]=reactExports.useState(""),[ot,ct]=reactExports.useState("all"),[dt,pt]=reactExports.useState(null),{data:ut,isLoading:lt}=useQuery({queryKey:["/api/servicing-cycle/current"],refetchInterval:xt=>{var Ct;return((Ct=xt==null?void 0:xt.state.data)==null?void 0:Ct.status)==="running"?2e3:!1}}),{data:ft=[],isLoading:ht}=useQuery({queryKey:["/api/servicing-cycle/runs"]}),{data:yt=[],isLoading:vt}=useQuery({queryKey:["/api/servicing-cycle/exceptions"]}),{data:gt}=useQuery({queryKey:["/api/servicing-cycle/summary",format$1(new Date,"yyyy-MM-dd")]}),bt=useMutation({mutationFn:async xt=>{const Ct=await fetch("/api/servicing-cycle/start",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(xt)});if(!Ct.ok)throw new Error("Failed to start servicing cycle");return Ct.json()},onSuccess:xt=>{j({title:"Servicing Cycle Started",description:`Run ID: ${xt.runId}. Processing ${xt.totalLoans} loans.`}),queryClient.invalidateQueries({queryKey:["/api/servicing-cycle/current"]}),queryClient.invalidateQueries({queryKey:["/api/servicing-cycle/runs"]}),queryClient.invalidateQueries({queryKey:["/api/servicing-cycle/summary"]}),queryClient.invalidateQueries({queryKey:["/api/servicing-cycle/exceptions"]})},onError:xt=>{j({title:"Failed to Start Cycle",description:xt.message,variant:"destructive"})}}),mt=useMutation({mutationFn:async xt=>{const Ct=await fetch(`/api/servicing-cycle/cancel/${xt}`,{method:"POST",credentials:"include"});if(!Ct.ok)throw new Error("Failed to cancel servicing cycle");return Ct.json()},onSuccess:()=>{j({title:"Servicing Cycle Cancelled",description:"The current run has been cancelled."}),queryClient.invalidateQueries({queryKey:["/api/servicing-cycle"]})}}),Et=async(xt,Ct)=>{try{const kt=await fetch(`/api/servicing-cycle/export/${xt}?format=${Ct}`,{credentials:"include"});if(!kt.ok)throw new Error("Failed to export report");const Nt=await kt.blob(),St=window.URL.createObjectURL(Nt),Ot=document.createElement("a");Ot.href=St,Ot.download=`servicing-run-${xt}.${Ct}`,document.body.appendChild(Ot),Ot.click(),document.body.removeChild(Ot),window.URL.revokeObjectURL(St),j({title:"Report Exported",description:`Report downloaded as ${Ct.toUpperCase()}`})}catch{j({title:"Export Failed",description:"Failed to export report",variant:"destructive"})}},Rt=()=>{const xt=_e?_e.split(",").map(Ct=>Ct.trim()).filter(Boolean):void 0;bt.mutate({valuationDate:format$1(_,"yyyy-MM-dd"),loanIds:xt,dryRun:tt})},Tt=xt=>{switch(xt){case"completed":return jsxRuntimeExports.jsx(CircleCheck,{className:"h-4 w-4 text-green-500"});case"running":return jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 text-blue-500 animate-spin"});case"failed":return jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4 text-red-500"});case"cancelled":return jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-gray-500"});default:return jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-400"})}},jt=xt=>{switch(xt){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Daily Servicing Cycle"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Process loans, payments, and distributions"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:(ut==null?void 0:ut.status)==="running"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-5 w-5 text-blue-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Cycle in Progress"}),jsxRuntimeExports.jsx(Progress,{value:ut.loansProcessed/ut.totalLoans*100,className:"w-32 h-2"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-600",children:[ut.loansProcessed,"/",ut.totalLoans]})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Cycle Control Panel"}),jsxRuntimeExports.jsx(CardDescription,{children:"Configure and execute the daily servicing cycle"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{children:"Valuation Date"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal",!_&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),_?format$1(_,"PPP"):"Select date"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:_,onSelect:xt=>xt&&$(xt),initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{children:"Loan IDs (Optional)"}),jsxRuntimeExports.jsx(Input,{placeholder:"e.g., 17,18,19",value:_e,onChange:xt=>et(xt.target.value),disabled:(ut==null?void 0:ut.status)==="running"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{children:"Mode"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[jsxRuntimeExports.jsx(Switch,{id:"dry-run",checked:tt,onCheckedChange:rt,disabled:(ut==null?void 0:ut.status)==="running"}),jsxRuntimeExports.jsx(Label$2,{htmlFor:"dry-run",className:"cursor-pointer",children:tt?"Dry Run (Test Mode)":"Live Run"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{children:" "}),(ut==null?void 0:ut.status)==="running"?jsxRuntimeExports.jsxs(Button$1,{variant:"destructive",className:"w-full",onClick:()=>mt.mutate(ut.runId),disabled:mt.isPending,children:[jsxRuntimeExports.jsx(Pause,{className:"mr-2 h-4 w-4"}),"Cancel Cycle"]}):jsxRuntimeExports.jsxs(Button$1,{className:"w-full",onClick:Rt,disabled:bt.isPending,children:[jsxRuntimeExports.jsx(Play,{className:"mr-2 h-4 w-4"}),"Start Cycle"]})]})]}),!tt&&jsxRuntimeExports.jsxs(Alert,{className:"mt-4",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"Live Mode Active"}),jsxRuntimeExports.jsx(AlertDescription,{children:"This will process actual transactions and update loan balances. Ensure all preconditions are met."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Today's Processed"}),jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(gt==null?void 0:gt.loansProcessed)||0}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",(gt==null?void 0:gt.totalLoans)||0," total loans"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Payments Posted"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["$",(gt==null?void 0:gt.paymentsPosted)||"0.00"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[(gt==null?void 0:gt.paymentCount)||0," transactions"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Investor Distributions"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["$",(gt==null?void 0:gt.investorDistributions)||"0.00"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["to ",(gt==null?void 0:gt.investorCount)||0," investors"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Active Exceptions"}),jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:yt.filter(xt=>xt.status==="open").length}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[yt.filter(xt=>xt.severity==="critical").length," critical"]})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:nt,onValueChange:st,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"history",children:"Run History"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"exceptions",children:"Exceptions"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"events",children:"Events Log"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"space-y-4",children:ut?jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{children:["Current Run: ",ut.runId]}),jsxRuntimeExports.jsx(Badge,{variant:ut.dryRun?"secondary":"default",children:ut.dryRun?"Dry Run":"Live"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Status"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[Tt(ut.status),jsxRuntimeExports.jsx("span",{className:"text-sm capitalize",children:ut.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Progress"}),jsxRuntimeExports.jsxs("span",{children:[ut.loansProcessed," / ",ut.totalLoans]})]}),jsxRuntimeExports.jsx(Progress,{value:ut.loansProcessed/ut.totalLoans*100})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Created"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold",children:ut.eventsCreated})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Exceptions"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold",children:ut.exceptionsCreated})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Beneficiary Disbursed"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:["$",ut.totalDisbursedBeneficiary]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Investor Disbursed"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:["$",ut.totalDisbursedInvestors]})]})]}),ut.status==="completed"&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 pt-4",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>Et(ut.runId,"json"),children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Export JSON"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>Et(ut.runId,"csv"),children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]})})]}):jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx(Zap,{className:"h-12 w-12 text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Cycle"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:'Configure your parameters above and click "Start Cycle" to begin processing loans for the selected valuation date.'})]})})}),jsxRuntimeExports.jsx(TabsContent,{value:"history",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Run History"}),jsxRuntimeExports.jsx(CardDescription,{children:"Previous servicing cycle executions"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:ft.map(xt=>jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",(dt==null?void 0:dt.runId)===xt.runId&&"bg-blue-50 dark:bg-blue-900/20 border-blue-500"),onClick:()=>{pt(xt),st("events")},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[Tt(xt.status),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:xt.runId}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[format$1(new Date(xt.valuationDate),"PPP")," · ",xt.loansProcessed," loans"]}),xt.startTime&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Run at ",format$1(new Date(xt.startTime),"h:mm:ss a")]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[xt.dryRun&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Dry Run"}),jsxRuntimeExports.jsx(Badge,{className:cn(xt.reconciliationStatus==="balanced"?"bg-green-100 text-green-800":xt.reconciliationStatus==="imbalanced"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:xt.reconciliationStatus}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:Ct=>{Ct.stopPropagation(),Et(xt.runId,"json")},children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})]})]},xt.id))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"exceptions",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Exceptions"}),jsxRuntimeExports.jsx(CardDescription,{children:"Issues requiring attention"})]}),jsxRuntimeExports.jsxs(Select,{value:ot,onValueChange:ct,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All"}),jsxRuntimeExports.jsx(SelectItem,{value:"open",children:"Open"}),jsxRuntimeExports.jsx(SelectItem,{value:"resolved",children:"Resolved"}),jsxRuntimeExports.jsx(SelectItem,{value:"escalated",children:"Escalated"})]})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:yt.filter(xt=>ot==="all"||xt.status===ot).map(xt=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{className:jt(xt.severity),children:xt.severity}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:xt.type}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Loan ",xt.loanNumber]})]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:format$1(new Date(xt.createdAt),"PPp")})]}),jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:xt.message}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Suggested Action: ",xt.suggestedAction]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Due: ",format$1(new Date(xt.dueDate),"PP")]}),jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4 mr-1"}),"View Details"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Exception Details"}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Run ID: ",xt.runId," | Loan: ",xt.loanNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Severity"}),jsxRuntimeExports.jsx(Badge,{className:`${jt(xt.severity)} mt-1`,children:xt.severity})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:xt.type})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"mt-1",children:xt.status})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:format$1(new Date(xt.dueDate),"PPP")})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Issue Description"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:xt.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Suggested Action"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:xt.suggestedAction})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Created At"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:format$1(new Date(xt.createdAt),"PPpp")})]})]})]})]})]})]},xt.id))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"events",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Events Log"}),jsxRuntimeExports.jsx(CardDescription,{children:"Detailed cycle event history"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search events...",value:it,onChange:xt=>at(xt.target.value),className:"pl-8 w-64"})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:dt?jsxRuntimeExports.jsx(EventsLog,{runId:dt.runId,searchFilter:it}):jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground text-center py-8",children:"Select a run from the history to view its event logs."})})]})})]})]})]})]})}const AdminLayout=({children:j})=>{var nt;const[_]=useLocation(),[$,_e]=React.useState(!1),[et,tt]=React.useState("admin"),rt=[{title:"Documents",href:"/admin/documents",icon:FileText},{title:"Escrow Management",href:"/admin/escrow",icon:Wallet},{title:"Users",href:"/users",icon:Users},{title:"Settings",href:"/settings",icon:Settings}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[jsxRuntimeExports.jsxs("aside",{className:cn("bg-white border-r border-slate-200 transition-all duration-300 flex flex-col sticky top-0 h-screen",$?"w-16":"w-64"),children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:cn("bg-primary-600 rounded-lg flex items-center justify-center",$?"w-8 h-8":"w-10 h-10"),children:jsxRuntimeExports.jsx(Building2,{className:cn("text-white",$?"w-5 h-5":"w-6 h-6")})}),!$&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"LoanServe Pro"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Enterprise Edition"})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>_e(!$),className:cn("transition-all",$&&"ml-auto"),children:$?jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})})]})}),!$&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Active Role"}),jsxRuntimeExports.jsxs(Select,{value:et,onValueChange:tt,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"admin",children:"Admin Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"lender",children:"Lender Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"borrower",children:"Borrower Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"investor",children:"Investor Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"escrow_officer",children:"Escrow Officer Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"legal",children:"Legal Portal"}),jsxRuntimeExports.jsx(SelectItem,{value:"servicer",children:"Servicer Portal"})]})]})]}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsx(Link,{href:"/",className:cn("p-2 rounded-lg transition-colors","text-slate-600 hover:bg-slate-100 hover:text-slate-900"),title:"Return to Main Dashboard",children:jsxRuntimeExports.jsx(Undo2,{className:"h-5 w-5"})})}),rt.map(st=>{const it=st.icon,at=_===st.href||st.href==="/admin/documents"&&_==="/documents"||st.href==="/admin/escrow"&&_==="/escrow";return jsxRuntimeExports.jsxs(Link,{href:st.href,className:cn("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",at?"bg-primary-50 text-primary-700":"text-slate-700 hover:bg-slate-100 hover:text-slate-900",$&&"justify-center"),title:$?st.title:void 0,children:[jsxRuntimeExports.jsx(it,{className:"h-5 w-5 flex-shrink-0"}),!$&&jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:st.title})]},st.href)})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-3",$&&"justify-center"),children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:"A"}),!$&&jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Admin User"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"Administrator"})]})]})})]}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4 sticky top-0 z-10",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:((nt=rt.find(st=>_===st.href||st.href==="/admin/documents"&&_==="/documents"||st.href==="/admin/escrow"&&_==="/escrow"))==null?void 0:nt.title)||"Admin"})})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:j})]})]})};function AdminDocuments(){const[j,_]=React.useState(""),[$,_e]=React.useState("all"),[et,tt]=React.useState("all"),{data:rt=[],isLoading:nt}=useQuery({queryKey:["/api/documents"]}),{data:st=[]}=useQuery({queryKey:["/api/loans"]}),it=async pt=>{if(confirm("Are you sure you want to delete this document?"))try{await apiRequest(`/api/documents/${pt}`,{method:"DELETE"}),queryClient.invalidateQueries({queryKey:["/api/documents"]}),toast({title:"Success",description:"Document deleted successfully"})}catch{toast({title:"Error",description:"Failed to delete document",variant:"destructive"})}},at=async(pt,ut)=>{try{const ft=await(await fetch(`/api/documents/${pt}/download`)).blob(),ht=window.URL.createObjectURL(ft),yt=document.createElement("a");yt.href=ht,yt.download=ut,document.body.appendChild(yt),yt.click(),window.URL.revokeObjectURL(ht),document.body.removeChild(yt)}catch{toast({title:"Error",description:"Failed to download document",variant:"destructive"})}},ot=rt.filter(pt=>{var ht,yt,vt;const ut=((ht=pt.fileName)==null?void 0:ht.toLowerCase().includes(j.toLowerCase()))||((yt=pt.description)==null?void 0:yt.toLowerCase().includes(j.toLowerCase())),lt=$==="all"||pt.category===$,ft=et==="all"||((vt=pt.loanId)==null?void 0:vt.toString())===et;return ut&&lt&&ft}),ct=["all","loan_application","loan_agreement","promissory_note","deed_of_trust","mortgage","insurance_policy","tax_document","escrow_statement","title_report","appraisal","financial_statement","correspondence","other"],dt=pt=>({loan_application:"bg-blue-100 text-blue-800",loan_agreement:"bg-green-100 text-green-800",promissory_note:"bg-purple-100 text-purple-800",deed_of_trust:"bg-yellow-100 text-yellow-800",mortgage:"bg-pink-100 text-pink-800",insurance_policy:"bg-indigo-100 text-indigo-800",tax_document:"bg-red-100 text-red-800",other:"bg-gray-100 text-gray-800"})[pt]||"bg-gray-100 text-gray-800";return jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Total Documents"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:rt.length})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Loans with Docs"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:new Set(rt.map(pt=>pt.loanId)).size})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"This Month"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:rt.filter(pt=>{if(!pt.uploadedAt)return!1;const ut=new Date(pt.uploadedAt);if(isNaN(ut.getTime()))return!1;const lt=new Date;return ut.getMonth()===lt.getMonth()&&ut.getFullYear()===lt.getFullYear()}).length})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Storage Used"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl",children:[(rt.reduce((pt,ut)=>pt+(ut.fileSize||0),0)/1024/1024).toFixed(1)," MB"]})]})})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"browse",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"browse",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 mr-2"}),"Browse Documents"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"upload",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Upload Documents"]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"browse",className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Filter Documents"})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Input,{placeholder:"Search documents...",value:j,onChange:pt=>_(pt.target.value),className:"w-full"})}),jsxRuntimeExports.jsxs(Select,{value:$,onValueChange:_e,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Category"})}),jsxRuntimeExports.jsx(SelectContent,{children:ct.map(pt=>jsxRuntimeExports.jsx(SelectItem,{value:pt,children:pt==="all"?"All Categories":pt.replace(/_/g," ").replace(/\b\w/g,ut=>ut.toUpperCase())},pt))})]}),jsxRuntimeExports.jsxs(Select,{value:et,onValueChange:tt,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Loan"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Loans"}),st.map(pt=>jsxRuntimeExports.jsx(SelectItem,{value:pt.id.toString(),children:pt.loanNumber},pt.id))]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Documents (",ot.length,")"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"No documents found"}):ot.map(pt=>{var lt;const ut=st.find(ft=>ft.id===pt.loanId);return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 text-gray-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:pt.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(Badge,{className:dt(pt.category),children:(lt=pt.category)==null?void 0:lt.replace(/_/g," ")}),ut&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Loan: ",ut.loanNumber]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:pt.uploadedAt?format$1(new Date(pt.uploadedAt),"MMM dd, yyyy"):"No date"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>at(pt.id,pt.fileName),children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>it(pt.id),className:"text-red-500 hover:text-red-600",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},pt.id)})})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"upload",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Upload New Documents"}),jsxRuntimeExports.jsx(CardDescription,{children:"Upload documents and assign them to specific loans"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(DocumentUploader,{})})]})})]})]})})}function AdminEscrow(){const[j,_]=React.useState("all"),[$,_e]=React.useState(!1),[et,tt]=React.useState({loanId:"",escrowAccountId:"",disbursementType:"property_tax",amount:"",scheduledDate:"",payee:"",description:""}),{data:rt=[]}=useQuery({queryKey:["/api/escrow-accounts"]}),{data:nt=[]}=useQuery({queryKey:["/api/escrow-payments"]}),{data:st=[]}=useQuery({queryKey:["/api/loans"]}),{data:it}=useQuery({queryKey:["/api/escrow/metrics"]}),at=useMutation({mutationFn:async lt=>apiRequest("/api/escrow-disbursements",{method:"POST",body:JSON.stringify(lt)}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/escrow-payments"]}),queryClient.invalidateQueries({queryKey:["/api/escrow/metrics"]}),toast({title:"Success",description:"Disbursement scheduled successfully"}),_e(!1),tt({loanId:"",escrowAccountId:"",disbursementType:"property_tax",amount:"",scheduledDate:"",payee:"",description:""})},onError:()=>{toast({title:"Error",description:"Failed to create disbursement",variant:"destructive"})}}),ot=useMutation({mutationFn:async lt=>apiRequest(`/api/escrow-disbursements/${lt}/process`,{method:"POST"}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/escrow-payments"]}),queryClient.invalidateQueries({queryKey:["/api/escrow/metrics"]}),toast({title:"Success",description:"Disbursement processed successfully"})},onError:()=>{toast({title:"Error",description:"Failed to process disbursement",variant:"destructive"})}}),ct=j==="all"?rt:rt.filter(lt=>{var ft;return((ft=lt.loanId)==null?void 0:ft.toString())===j}),dt=j==="all"?nt:nt.filter(lt=>{var ft;return((ft=lt.loanId)==null?void 0:ft.toString())===j}),pt=lt=>{const ft={scheduled:{color:"bg-blue-100 text-blue-800",icon:Clock},pending:{color:"bg-yellow-100 text-yellow-800",icon:CircleAlert},completed:{color:"bg-green-100 text-green-800",icon:CircleCheckBig},failed:{color:"bg-red-100 text-red-800",icon:CircleAlert}},ht=ft[lt]||ft.pending,yt=ht.icon;return jsxRuntimeExports.jsxs(Badge,{className:`${ht.color} flex items-center gap-1`,children:[jsxRuntimeExports.jsx(yt,{className:"h-3 w-3"}),lt]})},ut=lt=>{lt.preventDefault(),at.mutate({...et,amount:parseFloat(et.amount),loanId:parseInt(et.loanId),escrowAccountId:parseInt(et.escrowAccountId)})};return jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Total Escrow Balance"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5"}),"$",(it==null?void 0:it.totalBalance)||"0.00"]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Pending Disbursements"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-yellow-500"}),(it==null?void 0:it.pendingDisbursements)||0]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"This Month's Disbursements"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-500"}),"$",(it==null?void 0:it.monthlyDisbursements)||"0.00"]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{className:"pb-2",children:[jsxRuntimeExports.jsx(CardDescription,{children:"Active Accounts"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl flex items-center gap-2",children:[jsxRuntimeExports.jsx(Wallet,{className:"h-5 w-5 text-blue-500"}),rt.filter(lt=>lt.status==="active").length]})]})})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{children:"Escrow Management"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Select,{value:j,onValueChange:_,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter by Loan"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Loans"}),st.map(lt=>jsxRuntimeExports.jsxs(SelectItem,{value:lt.id.toString(),children:[lt.loanNumber," - ",lt.borrowerName]},lt.id))]})]}),jsxRuntimeExports.jsxs(Dialog,{open:$,onOpenChange:_e,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Schedule Disbursement"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Schedule New Disbursement"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Create a new escrow disbursement for property taxes, insurance, or other payments."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"loan",children:"Loan"}),jsxRuntimeExports.jsxs(Select,{value:et.loanId,onValueChange:lt=>{tt({...et,loanId:lt});const ft=rt.find(ht=>{var yt;return((yt=ht.loanId)==null?void 0:yt.toString())===lt});ft&&tt(ht=>({...ht,escrowAccountId:ft.id.toString()}))},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select loan"})}),jsxRuntimeExports.jsx(SelectContent,{children:st.map(lt=>jsxRuntimeExports.jsxs(SelectItem,{value:lt.id.toString(),children:[lt.loanNumber," - ",lt.borrowerName]},lt.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"type",children:"Disbursement Type"}),jsxRuntimeExports.jsxs(Select,{value:et.disbursementType,onValueChange:lt=>tt({...et,disbursementType:lt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"property_tax",children:"Property Tax"}),jsxRuntimeExports.jsx(SelectItem,{value:"insurance",children:"Insurance"}),jsxRuntimeExports.jsx(SelectItem,{value:"hoa",children:"HOA Fees"}),jsxRuntimeExports.jsx(SelectItem,{value:"other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"amount",children:"Amount"}),jsxRuntimeExports.jsx(Input,{id:"amount",type:"number",step:"0.01",value:et.amount,onChange:lt=>tt({...et,amount:lt.target.value}),placeholder:"0.00",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"payee",children:"Payee"}),jsxRuntimeExports.jsx(Input,{id:"payee",value:et.payee,onChange:lt=>tt({...et,payee:lt.target.value}),placeholder:"County Tax Assessor",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"scheduledDate",children:"Scheduled Date"}),jsxRuntimeExports.jsx(Input,{id:"scheduledDate",type:"date",value:et.scheduledDate,onChange:lt=>tt({...et,scheduledDate:lt.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"description",children:"Description"}),jsxRuntimeExports.jsx(Input,{id:"description",value:et.description,onChange:lt=>tt({...et,description:lt.target.value}),placeholder:"Q1 2025 property tax payment"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>_e(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{type:"submit",children:"Schedule Disbursement"})]})]})]})]})]})]})})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"accounts",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"accounts",children:[jsxRuntimeExports.jsx(Wallet,{className:"h-4 w-4 mr-2"}),"Escrow Accounts"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"disbursements",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 mr-2"}),"Disbursements"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"schedule",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-4 w-4 mr-2"}),"Payment Schedule"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"accounts",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Escrow Accounts (",ct.length,")"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Loan Number"}),jsxRuntimeExports.jsx(TableHead,{children:"Borrower"}),jsxRuntimeExports.jsx(TableHead,{children:"Current Balance"}),jsxRuntimeExports.jsx(TableHead,{children:"Monthly Payment"}),jsxRuntimeExports.jsx(TableHead,{children:"Last Activity"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"})]})}),jsxRuntimeExports.jsx(TableBody,{children:ct.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No escrow accounts found"})}):ct.map(lt=>{const ft=st.find(ht=>ht.id===lt.loanId);return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:ft==null?void 0:ft.loanNumber}),jsxRuntimeExports.jsx(TableCell,{children:ft==null?void 0:ft.borrowerName}),jsxRuntimeExports.jsxs(TableCell,{className:"font-semibold",children:["$",lt.currentBalance||"0.00"]}),jsxRuntimeExports.jsxs(TableCell,{children:["$",lt.monthlyPayment||"0.00"]}),jsxRuntimeExports.jsx(TableCell,{children:lt.lastActivityDate&&!isNaN(new Date(lt.lastActivityDate).getTime())?format$1(new Date(lt.lastActivityDate),"MMM dd, yyyy"):"No activity"}),jsxRuntimeExports.jsx(TableCell,{children:pt(lt.status||"active")})]},lt.id)})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"disbursements",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Recent Disbursements"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Date"}),jsxRuntimeExports.jsx(TableHead,{children:"Loan"}),jsxRuntimeExports.jsx(TableHead,{children:"Type"}),jsxRuntimeExports.jsx(TableHead,{children:"Payee"}),jsxRuntimeExports.jsx(TableHead,{children:"Amount"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dt.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:7,className:"text-center text-gray-500 py-8",children:"No disbursements found"})}):dt.map(lt=>{var ht;const ft=st.find(yt=>yt.id===lt.loanId);return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:(lt.paymentDate||lt.scheduledDate)&&!isNaN(new Date(lt.paymentDate||lt.scheduledDate).getTime())?format$1(new Date(lt.paymentDate||lt.scheduledDate),"MMM dd, yyyy"):"No date"}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:ft==null?void 0:ft.loanNumber}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:(ht=lt.disbursementType)==null?void 0:ht.replace(/_/g," ").toUpperCase()})}),jsxRuntimeExports.jsx(TableCell,{children:lt.payee||"N/A"}),jsxRuntimeExports.jsxs(TableCell,{className:"font-semibold",children:["$",lt.amount]}),jsxRuntimeExports.jsx(TableCell,{children:pt(lt.status)}),jsxRuntimeExports.jsx(TableCell,{children:lt.status==="scheduled"&&jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>ot.mutate(lt.id),children:"Process"})})]},lt.id)})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"schedule",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Upcoming Payment Schedule"}),jsxRuntimeExports.jsx(CardDescription,{children:"Scheduled escrow disbursements for the next 90 days"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[nt.filter(lt=>{const ft=new Date(lt.scheduledDate),ht=new Date,yt=new Date(ht.getTime()+90*24*60*60*1e3);return lt.status==="scheduled"&&ft>=ht&&ft<=yt}).sort((lt,ft)=>new Date(lt.scheduledDate).getTime()-new Date(ft.scheduledDate).getTime()).map(lt=>{var ht;const ft=st.find(yt=>yt.id===lt.loanId);return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center bg-blue-50 rounded-lg p-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:format$1(new Date(lt.scheduledDate),"MMM")}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold",children:format$1(new Date(lt.scheduledDate),"dd")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:lt.payee}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[ft==null?void 0:ft.loanNumber," - ",(ht=lt.disbursementType)==null?void 0:ht.replace(/_/g," ")]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["$",lt.amount]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:lt.status})]})]},lt.id)}),nt.filter(lt=>{const ft=new Date(lt.scheduledDate),ht=new Date,yt=new Date(ht.getTime()+90*24*60*60*1e3);return lt.status==="scheduled"&&ft>=ht&&ft<=yt}).length===0&&jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 py-8",children:"No scheduled disbursements in the next 90 days"})]})})]})})]})]})})}function MigrateDatabase(){const[j,_]=reactExports.useState("idle"),[$,_e]=reactExports.useState(""),[et,tt]=reactExports.useState([]),rt=async()=>{_("running"),_e("Running database migration..."),tt([]);try{const nt=await apiRequest("/api/migrate-database",{method:"POST"});nt.success?(_("success"),_e("Migration completed successfully!"),tt(nt.details||[])):(_("error"),_e(nt.error||"Migration failed"),tt(nt.details||[]))}catch(nt){_("error"),_e(nt.message||"Failed to run migration"),tt([])}};return jsxRuntimeExports.jsx("div",{className:"container mx-auto p-6 max-w-2xl",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"h-5 w-5"}),"Database Migration Tool"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Update your production database schema to match the latest application requirements"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:"This tool will add missing columns to your production database. It's safe to run multiple times - existing columns won't be affected."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"This migration will add:"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"Servicing settings fields (fee type, late charge type, fee payer, etc.)"}),jsxRuntimeExports.jsx("li",{children:"Payment settings fields (property tax, home insurance, PMI, etc.)"}),jsxRuntimeExports.jsx("li",{children:"APN field for properties"}),jsxRuntimeExports.jsx("li",{children:"Escrow number field"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:rt,disabled:j==="running",className:"w-full",children:j==="running"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Migration..."]}):"Run Database Migration"}),j!=="idle"&&jsxRuntimeExports.jsxs(Alert,{className:j==="success"?"border-green-500":j==="error"?"border-red-500":"",children:[j==="success"&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}),j==="error"&&jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),j==="running"&&jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx(AlertDescription,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:$}),et.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-1",children:et.map((nt,st)=>jsxRuntimeExports.jsx("p",{className:"text-xs",children:nt},st))})]})})]})]})]})})}function NotFound(){return jsxRuntimeExports.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsx(Card,{className:"w-full max-w-md mx-4",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex mb-4 gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-red-500"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Router(){return jsxRuntimeExports.jsxs(Switch$2,{children:[jsxRuntimeExports.jsx(ProtectedRoute,{path:"/",component:Dashboard}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/dashboard",component:Dashboard}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/loans",component:Loans}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/payments",component:Payments}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/documents",component:Documents}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/admin/documents",component:AdminDocuments}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/escrow",component:Escrow}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/admin/escrow",component:AdminEscrow}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/reports",component:ReportsPage}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/compliance",component:CompliancePage}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/fees",component:FeeManagement}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/servicing-cycle",component:ServicingCycle}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/migrate-database",component:MigrateDatabase}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/investors",component:Dashboard}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/users",component:Dashboard}),jsxRuntimeExports.jsx(ProtectedRoute,{path:"/settings",component:Dashboard}),jsxRuntimeExports.jsx(Route,{path:"/auth",component:AuthPage}),jsxRuntimeExports.jsx(Route,{component:NotFound})]})}function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(Router,{})]})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
