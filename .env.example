# Database Configuration
DATABASE_URL=postgresql://user:password@host:port/database

# Session Configuration (REQUIRED in production)
SESSION_SECRET=your-secure-random-session-secret-here
NODE_ENV=development

# RabbitMQ Configuration (REQUIRED)
CLOUDAMQP_URL=amqps://username:password@host/vhost

# Column Banking API Configuration (REQUIRED for payments)
COLUMN_API_BASE=https://api.column.com
COLUMN_API_KEY=placeholder
COLUMN_WEBHOOK_SECRET=placeholder

# Storage Configuration
ARTIFACT_STORE_BUCKET=s3://loanserve-artifacts

# Feature Flags
PAYMENTS_FEATURE_FLAG=true
PAYMENT_RECONCILE_ENABLED=true
PAYMENT_WEBHOOK_ENABLED=true

# Scheduled Jobs
PAYMENTS_RECONCILE_CRON=0 */15 * * * *

# Optional: Cookie domain for production
# COOKIE_DOMAIN=.yourdomain.com

# Port Configuration
PORT=5000

# API Keys
SENDGRID_API_KEY=your-sendgrid-api-key
OPENAI_API_KEY=your-openai-api-key
XAI_API_KEY=your-xai-api-key
GROQ_API_KEY=your-groq-api-key

# Object Storage (if configured)
DEFAULT_OBJECT_STORAGE_BUCKET_ID=
PUBLIC_OBJECT_SEARCH_PATHS=
PRIVATE_OBJECT_DIR=

# Payment System Configuration
PAYMENT_DEFAULT_CHANNEL=LOCKBOX                # ACH|CARD|LOCKBOX|MANUAL
PAYMENT_MIN_TO_POST=25.00                      # otherwise go to suspense (unless ≥ total due)
PAYMENT_SUSPENSE_ACCOUNT=2200                  # GL Suspense liability

# ACH webhooks (bank/NACHA aggregator)
ACH_WEBHOOK_SECRET=                            # HMAC secret for verification
ACH_TIMEOUT_MS=15000

# Lockbox CSV format
LOCKBOX_CSV_HEADER=PaymentDate,LoanNumber,Amount,Reference,Channel
LOCKBOX_DATE_FORMAT=YYYY-MM-DD

# Receipts (PDF)
RCPT_PDF_HEADER=LoanServe • Payment Receipt
RCPT_PDF_WATERMARK=LoanServe
RCPT_S3_PREFIX=receipts

# NSF / chargeback
NSF_FEE=35.00
NSF_FEE_CODE=NSF
NSF_GRACE_DAYS_REAPPLY=3

# GL accounts
GL_CASH_ACCT=1000
GL_LOAN_PRINCIPAL_ACCT=1100
GL_INTEREST_INCOME_ACCT=4000
GL_ESCROW_LIABILITY_ACCT=2100
GL_FEE_INCOME_ACCT=4100
GL_SUSPENSE_ACCT=2200

# Reconciliation
RECON_S3_PREFIX=recon